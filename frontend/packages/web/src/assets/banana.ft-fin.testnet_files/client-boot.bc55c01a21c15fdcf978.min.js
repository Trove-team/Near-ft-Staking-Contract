(()=>{var Rl=Object.defineProperty;var c=(Q,C)=>Rl(Q,"name",{value:C,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{983107878:(Q,C,e)=>{Q.exports=e.p+"ava_0002-192-0ddd598.png"},2256285620:(Q,C,e)=>{Q.exports=e.p+"ava_0002-24-f65dddc.png"},6906793909:(Q,C,e)=>{Q.exports=e.p+"ava_0002-32-798f043.png"},1060768686:(Q,C,e)=>{Q.exports=e.p+"ava_0002-48-d3ba4ec.png"},2979422297:(Q,C,e)=>{Q.exports=e.p+"ava_0002-72-c702398.png"},3224273568:(Q,C,e)=>{Q.exports=e.p+"ava_0022-192-0cc433a.png"},2316786074:(Q,C,e)=>{Q.exports=e.p+"ava_0022-24-21468d4.png"},3708998647:(Q,C,e)=>{Q.exports=e.p+"ava_0022-32-7779579.png"},5098468056:(Q,C,e)=>{Q.exports=e.p+"ava_0022-48-93db11d.png"},4923972147:(Q,C,e)=>{Q.exports=e.p+"ava_0022-72-5a52d67.png"},8783045612:(Q,C,e)=>{Q.exports=e.p+"contextual-help-keyboard-e004fd5.png"},7752974446:(Q,C,e)=>{Q.exports=e.p+"emoji_missing-39b2f0a.png"},2440739180:(Q,C,e)=>{Q.exports=e.p+"exchange-unlinked-760993c.svg"},4121690455:(Q,C,e)=>{Q.exports=e.p+"exchange-10f9bbd.svg"},5908540923:(Q,C,e)=>{Q.exports=e.p+"No_Background-ad3fcdb.png"},4553218033:(Q,C,e)=>{Q.exports=e.p+"beach-preview-33d7acf.jpg"},9679390338:(Q,C,e)=>{Q.exports=e.p+"beach-33258eb.jpg"},7000154057:(Q,C,e)=>{Q.exports=e.p+"gym-preview-cfff9c8.jpg"},553949882:(Q,C,e)=>{Q.exports=e.p+"gym-4d948fc.jpg"},9631995895:(Q,C,e)=>{Q.exports=e.p+"home-preview-8baaf03.jpg"},3342291988:(Q,C,e)=>{Q.exports=e.p+"home-9e29930.jpg"},1779488764:(Q,C,e)=>{Q.exports=e.p+"huddle-in-thread-da71b0e.png"},3607863955:(Q,C,e)=>{Q.exports=e.p+"living_room-preview-1b54428.jpg"},5738074488:(Q,C,e)=>{Q.exports=e.p+"living_room-a4fba85.jpg"},7485089530:(Q,C,e)=>{Q.exports=e.p+"office-preview-de46de4.jpg"},5475210953:(Q,C,e)=>{Q.exports=e.p+"office-98668ce.jpg"},8514307482:(Q,C,e)=>{Q.exports=e.p+"remote_work-preview-5fbbc32.jpg"},4136357865:(Q,C,e)=>{Q.exports=e.p+"remote_work-f8cd791.jpg"},7234375712:(Q,C,e)=>{Q.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},1672115571:(Q,C,e)=>{Q.exports=e.p+"tokyo_sight-285d851.jpg"},2527471159:(Q,C,e)=>{Q.exports=e.p+"slack-salesforce-211570d.png"},7972463975:(Q,C,e)=>{Q.exports=e.p+"slack-salesforce@2x-06b5868.png"},2301861866:(Q,C,e)=>{Q.exports=e.p+"slack_logo-ebd02d1.svg"},5918772940:(Q,C,e)=>{Q.exports=e.p+"slack_logo_mark-01b46d3.svg"},9994038664:(Q,C,e)=>{Q.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},3431559584:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_1024-9020761.png"},2200759559:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},8390767423:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},1957386787:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_24-e726b64.png"},4245237474:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_32-176771b.png"},7523979550:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_36-d921f9d.png"},7272988726:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},77360885:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_48-8220eaf.png"},2261459203:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},451984622:(Q,C,e)=>{Q.exports=e.p+"slackbot_fancy_72-9db8807.png"},7428983508:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},669259003:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},4165874747:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_20-96acbec.png"},1023719767:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_24-2246c7b.png"},3710970638:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_32-8a50a23.png"},4814900690:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},7331486018:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_360-1cb4740.png"},7183565897:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},1001408479:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_512-955a74f.png"},1889110914:(Q,C,e)=>{Q.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},9948433110:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_1024-b58a548.png"},4948097913:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},350135845:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_20-00a116e.png"},474239361:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_24-9a05991.png"},1302153452:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9825918216:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},5908867676:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_360-7309dbd.png"},3333214639:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_48-9906623.png"},2295488157:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_512-dcb310c.png"},5156772208:(Q,C,e)=>{Q.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},4063699741:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},9241168512:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},3963460214:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},9267813754:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},2981982679:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},9833689275:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},4840951141:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},9777215928:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},7129884748:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},9602720019:(Q,C,e)=>{Q.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},7626894131:(Q,C,e)=>{Q.exports=e.p+"de-DE-7cb5203.vtt"},29804293:(Q,C,e)=>{Q.exports=e.p+"en-GB-fe540d9.vtt"},7749140866:(Q,C,e)=>{Q.exports=e.p+"en-US-638cf9c.vtt"},5913806097:(Q,C,e)=>{Q.exports=e.p+"es-ES-2c09d56.vtt"},6636363964:(Q,C,e)=>{Q.exports=e.p+"es-LA-ea2cf27.vtt"},9916635837:(Q,C,e)=>{Q.exports=e.p+"fr-FR-aca8347.vtt"},5760619139:(Q,C,e)=>{Q.exports=e.p+"it-IT-5979abe.vtt"},668694090:(Q,C,e)=>{Q.exports=e.p+"ja-JP-8bffdf3.vtt"},555040584:(Q,C,e)=>{Q.exports=e.p+"ko-KR-368325f.vtt"},6820844347:(Q,C,e)=>{Q.exports=e.p+"paid-feature-education-bcf658e.mp4"},1347747715:(Q,C,e)=>{Q.exports=e.p+"paid-feature-education-4fcc827.png"},8187362417:(Q,C,e)=>{Q.exports=e.p+"pt-BR-4dd5817.vtt"},2005200212:(Q,C,e)=>{Q.exports=e.p+"zh-CN-7893376.vtt"},2563333228:(Q,C,e)=>{Q.exports=e.p+"zh-TW-bf2d05a.vtt"},6754250580:(Q,C,e)=>{Q.exports=e.p+"de-DE-e5da613.vtt"},1714394002:(Q,C,e)=>{Q.exports=e.p+"en-GB-b949ba6.vtt"},6435768457:(Q,C,e)=>{Q.exports=e.p+"en-US-823d419.vtt"},7417918922:(Q,C,e)=>{Q.exports=e.p+"es-ES-fb9bba0.vtt"},6869712815:(Q,C,e)=>{Q.exports=e.p+"es-LA-1d17cb9.vtt"},8089589194:(Q,C,e)=>{Q.exports=e.p+"fr-FR-0161472.vtt"},5748605292:(Q,C,e)=>{Q.exports=e.p+"it-IT-f18ddbd.vtt"},4071181961:(Q,C,e)=>{Q.exports=e.p+"ja-JP-8d6863a.vtt"},8071475775:(Q,C,e)=>{Q.exports=e.p+"ko-KR-b3589ec.vtt"},9733499682:(Q,C,e)=>{Q.exports=e.p+"pt-BR-50fe7dc.vtt"},6050136004:(Q,C,e)=>{Q.exports=e.p+"thumbnail-71d0c1e.png"},5006029593:(Q,C,e)=>{Q.exports=e.p+"video-9e16c67.mp4"},9753292423:(Q,C,e)=>{Q.exports=e.p+"zh-CN-f0c9d6c.vtt"},3289703835:(Q,C,e)=>{Q.exports=e.p+"zh-TW-438dba1.vtt"},2217643974:Q=>{Q.exports={record_breadcrumbs:"record_breadcrumbs__ErsaA",record_breadcrumb:"record_breadcrumb__cEZEJ",record_breadcrumb_label:"record_breadcrumb_label__LDBB9"}},5672691263:Q=>{Q.exports={container:"container__oDwNj",primaryIcon:"primaryIcon__aDIDO",secondaryIcon:"secondaryIcon__KuIYv"}},7573583373:Q=>{Q.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},3416652175:Q=>{Q.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},397939223:Q=>{Q.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},9598582073:Q=>{Q.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},6696573656:Q=>{Q.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},3346098136:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p,T:()=>v});var t=e(3134334389),n=e(9391594207),s=e(2322735331),r=e(735940183),d=e(6839188756),o=e(3677514771),a=e(8847766420),i=e(581167618),m=e(5536692738),l=e(6117529990);const _=new r.Ay("enterprise_calls");var v;(function(E){E.GLOBAL="GLOBAL",E.US="US"})(v||(v={}));const u=[{label:_.t("Global",{fallbackHash:"5f1184f7df96c5928092ad9c6b550699bf887826",fallbackHashNs:"enterprise_dashboard"}),value:v.GLOBAL},{label:_.t("US",{fallbackHash:"aa3093554472fd113135bed5b63e12f84c2e9fe8",fallbackHashNs:"enterprise_dashboard"}),value:v.US}];let h=c(class extends t.Component{render(){const{appsState:g,featureCallsLocationLock:A,isLockedByOrgAdmin:y,selectedCallLocation:T,isFreeTeam:M}=this.props,O=g&&g.video&&Object.keys(g.video).find(G=>G==="A00");if(!A||!O||M)return null;const I=u.find(G=>G.value===T),D=A?_.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",P=A?_.t("Call location options"):"Call location options",L=A?_.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",k=A?_.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},A?_.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},D),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(m.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:y,options:u,selectedOption:I,onOptionSelected:this.handleOptionSelected,ariaLabel:P}),y&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},k))),T===v.US&&t.createElement(i.Ay,{type:i.QE.boxed,level:i.A_.warning,icon:"warning",align:i.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,L)))}handleOptionSelected(g){this.props.setSelectedCallLocation(g.value)}constructor(g){super(g),(0,s.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");h.displayName="CallsRegionLockOptions";const f=c(E=>{const g=(0,a.jV)(E);return{isFreeTeam:!(0,d.qR)((0,o.H7)(E))&&!g,featureCallsLocationLock:(0,l.XY)(E)}},"mapStateToProps"),p=(0,n.N)(f)(h)},1223723593:(Q,C,e)=>{"use strict";e.d(C,{wl:()=>q,JG:()=>N,uy:()=>he,bM:()=>te,Ox:()=>le,A9:()=>H,fD:()=>ne});var t=e(3134334389),n=e(9391594207),s=e(3783303734),r=e(9113979368),d=e(3867135795),o=e(45851552),a=e(1649982175),i=e(6244014364),m=e(5795074931),l=e(8462077367),_=e(7138682671),v=e(3165300465),u=e(581167618),h=e(1610251172),f=e(3989454579),p=e(1743656885),E=e(5597672932),g=e(6117529990);const A=c(x=>!(0,g.BD)(x),"isOrgCallsAppsSettingsEnabled");var y=e(766806),T=e(56548687);const M=c(x=>{let{callsApps:S,allowCalls:U,clogger:F,action:Z,stepVariant:z}=x;const $={allow_calls:U};S&&S.video&&S.video.length>0&&($.video_call_app_ids=S.video.map(ee=>ee.id)),S&&S.audio&&S.audio.length>0&&($.audio_call_app_ids=S.audio.map(ee=>ee.id)),S&&S.profile_field_options&&S.profile_field_options.length>0&&($.profile_field_option_ids=S.profile_field_options.map(ee=>ee.id)),F.track(i.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...$,contexts:{ui_context:{step:i.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:Z,entry_point:"calls-workspace-admin",step_variant:z}}})},"clogCallsApps"),O=c(x=>{let{clogger:S}=x;S.track(i.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:i.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:i.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:i.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var I=e(1031947056);const D=(0,I.Ay)("Clog a standardized click event when a workspace setting is saved",(x,S,U)=>{let{eventId:F,uiStep:Z,stepVariant:z}=U;(0,T.e)({getState:S}).track(F,{contexts:{ui_context:{ui_step:Z,step_variant:z,ui_properties:{element_type:i.ElementType.BUTTON,element_name:"submit_button"},action:i.UiAction.CLICK,is_primary_cta:!0}}})});D.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const P=D;var L=e(3677514771),k=e(6839188756),G=e(6323355797),b=e(980293773),W=e(735940183),B=e(3346098136),R=e(462591818);const j=new W.Ay("calls_admin"),w="only_available_for_paid_teams";var N;(function(x){x.Video="video",x.Audio="audio",x.ProfileFieldOptions="profile_field_options"})(N||(N={}));const K=c(x=>{let{type:S,app:U,isChecked:F,onChangeCallApp:Z,isLocked:z}=x;const $=(0,t.useCallback)(()=>Z(S,U.id),[Z,S,U]),ee=`${S}_${U.id}`;return t.createElement(_.A,{text:U.name,type:"inline",cursor:"pointer"},t.createElement(f.A,{id:ee,name:U.name,checked:F,onChange:$,disabled:z,"data-qa":ee}))},"AppCheckbox");K.displayName="AppCheckbox";const J=c(x=>{let{appsState:S,isLocked:U,type:F}=x;return!U||!S?!1:F===N.Video&&(0,s.A)(S.video)>0&&(0,s.A)(S.audio)===0||(F===N.Audio&&(0,s.A)(S.audio)>0&&(0,s.A)(S.video))===0},"disableTypeCheckbox"),Y=c(x=>{let{appsState:S,isLocked:U,appId:F,type:Z}=x;if(!U||!S)return!1;const z=S.video?Object.keys(S.video):[],$=S.audio?Object.keys(S.audio):[],ee=z.length+$.length;if(F&&ee===1){let de,ie;return z.length===1?(de=z[0],ie=N.Video):$.length===1&&(de=$[0],ie=N.Audio),F===de&&Z===ie}return!1},"disableAppCheckbox"),q=c(x=>{let{type:S,sectionTitle:U,appsState:F,installedCallApps:Z,onChangeCallType:z,onChangeCallApp:$,isLocked:ee,dataQa:de}=x;if(!Z||!F||!Z[S])return null;const ie=`enable_${S}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${S}_container`,"data-qa":de},t.createElement(_.A,{text:U,type:"inline",cursor:"pointer"},t.createElement(f.A,{checked:!(0,r.A)(F[S]),id:ie,name:ie,onChange:z,disabled:J({appsState:F,isLocked:ee,type:S})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},j.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...Z[S]].map(ue=>t.createElement(K,{app:ue,isChecked:(0,d.A)(F[S],ue.id),key:`${S}_${ue.id}`,onChangeCallApp:$,type:S,isLocked:Y({appsState:F,isLocked:ee,appId:ue.id,type:S})}))))},"CallSection");q.displayName="CallSection";const H=c(x=>{let{installedCallApps:S,appsState:U,appId:F,type:Z,setAppsState:z}=x;if(!S||!U)return;const $={...U[Z]};if((0,d.A)($,F))delete $[F],z({...U,[Z]:$});else{const ee=(0,o.A)(S[Z],de=>de.id===F);ee>-1&&($[F]=ee,z({...U,[Z]:$}))}},"toggleCallApp"),ne=c(x=>{let{installedCallApps:S,appsState:U,type:F,setAppsState:Z}=x;if(!(!U||!S))if(!(0,r.A)(U[F]))Z({...U,[F]:{}});else{var z;const $={};(z=S[F])===null||z===void 0||z.forEach((ee,de)=>{$[ee.id]=de}),Z({...U,[F]:$})}},"toggleCallType"),te=c((x,S)=>{const U={video:{},audio:{},profile_field_options:{}};return!S||!x||[N.Video,N.Audio,N.ProfileFieldOptions].forEach(F=>{S[F]&&[...S[F]].forEach(z=>{const $=(0,o.A)(x[F],ee=>ee.id===z.id);$>-1&&(U[F][z.id]=$)})}),U},"reduceTeamPrefApps"),le=c(function(){let{installedCallApps:x,appsState:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const U={video:[],audio:[]};return!x||!S||[N.Video,N.Audio].forEach(F=>{if(x[F]){const Z=[...x[F]],z=S[F];Z.forEach($=>{if((0,d.A)(z,$.id)){var ee;(ee=U[F])===null||ee===void 0||ee.push((0,a.A)($,"preselected"))}})}}),U},"setCallsAppsPayloadToSave"),he=c(x=>{if(!x||!x.video)return;const S=x.video.findIndex(U=>U.id===R.rq);S>=0&&x.video.splice(S,1)},"filterNativeCallsApp"),Ie=c(x=>{let{isOpen:S,closeModal:U,errorMessage:F,buttonLabel:Z}=x;return t.createElement(b.dW,{centered:!0,isOpen:S,closeModal:U},t.createElement(b.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(b.qf,null,t.createElement("p",null,F))),t.createElement(b.jl,null,t.createElement(b.ox,null,t.createElement(b.s_,{type:"outline",onClick:U},Z))))},"ErrorModal");Ie.displayName="ErrorModal";const Ee=c(x=>{let{installedCallApps:S,teamPrefCallsApps:U,setMultipleTeamPrefsByApi:F,clogWorkspaceSettingSubmit:Z,isLocked:z,isCallsSelectorDisabled:$,clogger:ee,isOrgCallsAppsSettingsEnabled:de,team:ie,isCallsLocationLockedByOrgAdmin:ue,callsLocationLocked:fe}=x;const[re,_e]=(0,t.useState)(!1),[Ue,ye]=(0,t.useState)(""),Te=j.t("Save"),ge=j.t("Saved"),Ae=j.t("Sorry! Something went wrong. Please try again."),Re=j.t("Allow third-party calls in Slack"),Be=j.t("Allow phone number calls in Slack (only in direct messages)"),ke=j.t("Ok"),se=j.t("Sorry, call selection is currently managed by your organization admin."),ve=j.rt("First install a <a>calling app from the Slack Marketplace</a> then come back here to enable it as a default calling app.",{fallbackHash:"bafa98560255a22c3a110fefa9689c8eb16c6c93"},Ot=>{let{text:bt}=Ot;return t.createElement(p.A,{articleId:208492868},bt)}),Me=(0,t.useCallback)(()=>{O({clogger:ee}),(0,k.gC)(ie,(0,G.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[ee,ie]),be=j.rt("Sorry, this feature is only available to <a>paid teams</a>.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087"},Ot=>{let{text:bt}=Ot;return t.createElement("a",{href:"#",onClick:Me,"data-qa":"paid_plan_page_link"},bt)}),xe=U?te(S,U):{video:{},audio:{},profile_field_options:{}},[Le,Ke]=(0,t.useState)(xe),[He,Ye]=(0,t.useState)(!1),[Xe,et]=(0,t.useState)(!1),st=fe&&fe.length>0?B.T.US:B.T.GLOBAL,[ot,ct]=(0,t.useState)(st);(0,t.useEffect)(()=>{const Ot=te(S,U);Ke(Ot)},[Ke,S,U]);const at=(0,t.useCallback)(Ot=>{et(!1),ne({installedCallApps:S,appsState:Le,type:Ot,setAppsState:Ke})},[S,Le,Ke]),At=(0,t.useCallback)(()=>at(N.Video),[at]),Ct=(0,t.useCallback)(()=>at(N.Audio),[at]),Tt=(0,t.useCallback)(()=>_e(!1),[_e]),Rt=(0,t.useCallback)((Ot,bt)=>{et(!1),H({installedCallApps:S,appsState:Le,appId:bt,type:Ot,setAppsState:Ke})},[S,Le,Ke]),It=(0,t.useCallback)(Ot=>{ct(Ot),et(!1)},[ct]),Mt=c(()=>{Ye(!0),Z({eventId:i.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const Ot=!(0,r.A)(Le.video)||!(0,r.A)(Le.audio),bt=le({installedCallApps:S,appsState:Le}),Jt={calls_apps:bt};(0,k.r7)(ie)||(Jt.allow_calls=Ot),ue||(Jt.calls_locations=ot===B.T.US?[ot]:[]),F({prefs:Jt}).then(()=>{et(!0),M({callsApps:bt,allowCalls:Ot,clogger:ee,action:i.UiAction.SAVE})}).catch(en=>{var sn;_e(!0),(en==null||(sn=en.data)===null||sn===void 0?void 0:sn.error)===w?(ye(be),M({callsApps:bt,allowCalls:Ot,clogger:ee,action:i.UiAction.ERROR,stepVariant:w})):(ye(Ae),M({callsApps:bt,allowCalls:Ot,clogger:ee,action:i.UiAction.ERROR}))}).finally(()=>Ye(!1))},"onSubmit"),nn=S&&(S.video&&S.video.length>0||S.audio&&S.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},$&&de?t.createElement(u.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,se)):t.createElement(t.Fragment,null,!nn&&t.createElement(u.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,ve)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},S&&S.video&&S.video.length>0&&t.createElement(q,{type:N.Video,sectionTitle:Re,appsState:Le,installedCallApps:S,onChangeCallType:At,onChangeCallApp:Rt,isLocked:z}),S&&S.audio&&S.audio.length>0&&t.createElement(q,{type:N.Audio,sectionTitle:Be,appsState:Le,installedCallApps:S,onChangeCallType:Ct,onChangeCallApp:Rt,isLocked:z})),t.createElement(B.A,{appsState:Le,isLockedByOrgAdmin:ue,selectedCallLocation:ot,setSelectedCallLocation:It}),t.createElement(Ie,{closeModal:Tt,isOpen:re,errorMessage:Ue,buttonLabel:ke}),nn&&t.createElement(v.A,{onClick:Mt,loading:He,"data-qa":"call_save_button"},Xe&&t.createElement(h.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),Xe?ge:Te)))},"CallsWorkspaceSettings");Ee.displayName="CallsWorkspaceSettings";const me=c(x=>{const S=(0,m.tV)(x,"calls_apps");he(S);const U=(0,E.x)(x,"calls_apps"),F=(0,y.SI)(x,"calls_locations");return{installedCallApps:S,teamPrefCallsApps:U,clogger:(0,T.e)({state:x}),isOrgCallsAppsSettingsEnabled:A(x),team:(0,L.H7)(x),isCallsLocationLockedByOrgAdmin:!!F&&F.length>0,callsLocationLocked:(0,E.x)(x,"calls_locations")}},"mapStateToProps"),ce={setMultipleTeamPrefsByApi:l.hz,clogWorkspaceSettingSubmit:P},X={toggleCallApp:H,toggleCallType:ne,AppCheckbox:K,reduceTeamPrefApps:te,setCallsAppsPayloadToSave:le,disableTypeCheckbox:J,disableAppCheckbox:Y},V=(0,n.N)(me,ce)(Ee)},6909784049:(Q,C,e)=>{"use strict";e.d(C,{o:()=>be});var t=e(3134334389),n=e(9391594207),s=e(166097325),r=e(3300324857),d=e(462591818),o=e(8869734951),a=e(1641606663);function i(){return i=Object.assign||function(xe){for(var Le=1;Le<arguments.length;Le++){var Ke=arguments[Le];for(var He in Ke)Object.prototype.hasOwnProperty.call(Ke,He)&&(xe[He]=Ke[He])}return xe},i.apply(this,arguments)}c(i,"_extends");let m=c(class extends t.PureComponent{componentDidMount(){var Le;(Le=this.context.windowRef.deref())===null||Le===void 0||Le.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var Le;this.isDragging&&this.onMouseUp(),(Le=this.context.windowRef.deref())===null||Le===void 0||Le.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(Le){var Ke;Le.button===0&&(this.isDragging=!0,(Ke=this.context.windowRef.deref())===null||Ke===void 0||Ke.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(Le))}onMouseMove(Le){Le.button===0&&this.isDragging&&this.props.onDragMove(Le)}onMouseUp(Le){if(Le&&Le.button!==0)return;const Ke=this.isDragging;if(this.isDragging=!1,Ke){var He;(He=this.context.windowRef.deref())===null||He===void 0||He.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(Le)}}render(){const{children:Le,refToForward:Ke,onDragStart:He,onDragMove:Ye,onDragEnd:Xe,...et}=this.props,st=t.Children.only(this.props.children);return t.cloneElement(st,{...et,onMouseDown:ct=>this.onMouseDown(ct),ref:(0,o.N)(Ke,st)})}constructor(Le){super(Le),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");m.displayName="BaseDragTarget",m.contextType=a.Mn;const l=t.forwardRef((xe,Le)=>t.createElement(m,i({},xe,{refToForward:Le})));var _=e(387328355),v=e(1031947056),u=e(2825968873);const h=(0,u.tZ)("USER-ACTIONS"),f=(0,v.Ay)("Logs user interaction with call window",(xe,Le,Ke)=>{h.info(Ke)});f.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var p=e(1975685771),E=e(8405076696);function g(xe){y=w(le(xe))}c(g,"startCurve");function A(xe){const Le=le(xe),Ke=N(y,Le);return Ke.update_status==G.SUCCESS?Ke:N(y,Le)}c(A,"addToCurve");let y;const T=2,M=9,O=9,I=50,D=80,P=1,L=!0,k=!0,G={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},b=c(()=>({segments:[],vdmap:[]}),"initCurve"),W=c((xe,Le)=>({c0:{x:xe,y:Le},c1:{x:xe,y:Le},c2:{x:xe,y:Le},c3:{x:xe,y:Le}}),"initCurveSegment"),B=c(xe=>xe.segments[xe.segments.length-1],"getLastSegment"),R=c(xe=>xe.c3,"getLastPoint"),j=c(function(xe){return{c0:{x:xe.c0.x,y:xe.c0.y},c1:{x:xe.c1.x,y:xe.c1.y},c2:{x:xe.c2.x,y:xe.c2.y},c3:{x:xe.c3.x,y:xe.c3.y},constrain_to:xe.constrain_to==null?void 0:{x:xe.constrain_to.x,y:xe.constrain_to.y},error:xe.error||0,update_status:xe.update_status}},"copySegment"),w=c(function(xe){let{x:Le,y:Ke}=xe;const He=b();return He.segments.push(W(Le,Ke)),He},"createCurve"),N=c(function(xe,Le){const Ke=B(xe),He=R(Ke);if(S(Le,R(Ke))<P)return Ke;if(G.SUCCESS!=Ke.update_status&&Ke.update_status!==void 0){let Ye;G.FAIL_CORNER==Ke.update_status?Ye=W(He.x,He.y):G.FAIL_MAXED==Ke.update_status&&(Ye=W(He.x,He.y),Ye.constrain_to=z(Y(Ke))),xe.vdmap=[],xe.segments.push(Ye)}return K(xe,Le)},"addToCurveImpl"),K=c(function(xe,Le){const Ke=B(xe),{x:He,y:Ye}=Le;let Xe=R(Ke);const et=j(Ke);if(q(Ke,Le))return Ke.update_status=G.FAIL_CORNER,Ke;Ke.c3={x:He,y:Ye},Ke.c2={x:Ke.c2.x+He-Xe.x,y:Ke.c2.y+Ye-Xe.y};const st=Z(Xe,Le),ot=ne(st),ct=Ee(Xe,ot),at=Ee(Le,ot),At=te(ce(ot,2)),Ct=F(At),Tt=X(At,Ct),Rt=me(at,ct),It=F(Rt),Mt=X(Rt,It);let nn=ct;for(let en=0;en<It;en++){let sn=nn,zt=ot;for(let Yt=0;Yt<Ct;Yt++){const{x:hn,y:Qe}=le(sn);xe.vdmap[hn]||(xe.vdmap[hn]=[]),xe.vdmap[hn][Qe]==null?xe.vdmap[hn][Qe]=le(zt):xe.vdmap[hn][Qe]=he(xe.vdmap[hn][Qe])<he(le(zt))?xe.vdmap[hn][Qe]:le(zt),zt=Ee(zt,Tt),sn=Ee(sn,Tt)}nn=Ee(nn,Mt)}const Ot=me(Le,{x:M,y:M}),bt=Ee(Le,{x:M,y:M});for(let en=Ot.x;en<bt.x;en++)for(let sn=Ot.y;sn<bt.y;sn++){xe.vdmap[en]||(xe.vdmap[en]=[]);const zt=me({x:en,y:sn},Le);xe.vdmap[en][sn]==null?xe.vdmap[en][sn]=zt:xe.vdmap[en][sn]=he(xe.vdmap[en][sn])<he(zt)?xe.vdmap[en][sn]:zt}let Jt=0;for(;;){let en={x:0,y:0},sn={x:0,y:0};for(let hn=0;hn<O;hn++){const Qe=hn/O,Wt=le($(Ke,Qe)),gn=J(xe,Wt),rn=Ie(gn),ut=gn.x,Pt=gn.y;let Bt=1;k&&(Qe<.1||Qe>.9)&&(Bt=10),en.x+=Qe*Math.pow(1-Qe,2)*rn*ut*Bt,en.y+=Qe*Math.pow(1-Qe,2)*rn*Pt*Bt,sn.x+=Math.pow(Qe,2)*(1-Qe)*rn*ut*Bt,sn.y+=Math.pow(Qe,2)*(1-Qe)*rn*Pt*Bt}if(k){const hn=me(H(Ke),Ke.c2),Qe=me(H(Ke),Ke.c1);en=me(en,ce(Qe,.03)),sn=me(sn,ce(hn,.03))}Ke.constrain_to&&(en=ce(Ke.constrain_to,x(Ke.constrain_to,en)));const zt=1;Ke.c1.x-=zt*en.x*6/O,Ke.c1.y-=zt*en.y*6/O,Ke.c2.x-=zt*sn.x*6/O,Ke.c2.y-=zt*sn.y*6/O;let Yt=0;for(let hn=0;hn<O;hn++){const Qe=hn/O,Wt=$(Ke,Qe),gn=J(xe,le(Wt));Yt+=Math.pow(gn.x,2)+Math.pow(gn.y,2)}if(Yt=Yt/O,Jt++,Ke.error=Yt,Ke.steps=Jt,Yt<T||Jt>I)break}return Jt>I?(Ke.c0=et.c0,Ke.c1=et.c1,Ke.c2=et.c2,Ke.c3=et.c3,Ke.error=et.error,Ke.constrain_to=et.constrain_to,Ke.update_status=G.FAIL_MAXED,Ke):(Ke.update_status=G.SUCCESS,Ke)},"updateDistanceField"),J=c(function(xe,Le){let{x:Ke,y:He}=Le;if(xe.vdmap[Ke]){const Ye=xe.vdmap[Ke][He],Xe=xe.vdmap[Ke][He+1];let et=Ye!=null?{x:Ye.x,y:Ye.y}:{x:M,y:M};return Xe&&Xe.x!=null&&Math.abs(et.x)>Math.abs(Xe.x)&&(et.x=Xe.x),Xe&&Xe.y!=null&&Math.abs(et.y)>Math.abs(Xe.y)&&(et.y=Xe.y),et}else return{x:M,y:M}},"getDistanceFromPolyline"),Y=c(function(xe){const Le=xe.c3,Ke=xe.c2;return{x:3*(Ke.x-Le.x),y:3*(Ke.y-Le.y)}},"getCurveEndTangent"),q=c(function(xe,Le){if(V(xe.c0,xe.c3))return!1;let Ke;L?Ke=z(me($(xe,.95),xe.c3)):Ke=z(Y(xe));const He=z({x:Le.x-xe.c3.x,y:Le.y-xe.c3.y}),Ye=x(Ke,He);if(U(Math.acos(Ye))<D)return!0},"checkCorner"),H=c(xe=>Ee(X(me(xe.c3,xe.c0),2),xe.c0),"getSegmentMidpoint"),ne=c(xe=>({x:xe.x*M,y:xe.y*M}),"getScaledVectorDifference"),te=c(xe=>({x:-xe.x,y:-xe.y}),"negateVec"),le=c(xe=>({x:Math.round(xe.x),y:Math.round(xe.y)}),"roundVec"),he=c(xe=>Math.pow(xe.x,2)+Math.pow(xe.y,2),"sumOfSquaresVec"),Ie=c(xe=>Math.sqrt(he(xe)),"magnitudeVec"),Ee=c((xe,Le)=>({x:xe.x+Le.x,y:xe.y+Le.y}),"addVec"),me=c((xe,Le)=>Ee(xe,te(Le)),"subVec"),ce=c((xe,Le)=>({x:xe.x*Le,y:xe.y*Le}),"multVec"),X=c((xe,Le)=>ce(xe,1/Le),"divVec"),V=c((xe,Le)=>xe.x==Le.x&&xe.y==Le.y,"equalVec"),x=c((xe,Le)=>xe.x*Le.x+xe.y*Le.y,"dotProduct"),S=c(function(xe){let{x:Le,y:Ke}=xe,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(Le-He.x,2)+Math.pow(Ke-He.y,2))},"getMagnitude"),U=c(xe=>xe*180/Math.PI,"radiansToDegrees"),F=c(xe=>Math.max(Math.abs(xe.x),Math.abs(xe.y)),"getDDASteps"),Z=c((xe,Le)=>{const Ke=Le.x-xe.x,Ye=Le.y-xe.y,Xe=-Ke;return z({x:Ye,y:Xe})},"getPerpindicularUnitVector"),z=c(function(xe){let{x:Le,y:Ke}=xe;const He=S({x:Le,y:Ke});return{x:Le/He,y:Ke/He}},"getUnitVector"),$=c(function(xe,Le){const Ke=ee(Le,xe.c0.x,xe.c1.x,xe.c2.x,xe.c3.x),He=ee(Le,xe.c0.y,xe.c1.y,xe.c2.y,xe.c3.y);return{x:Ke,y:He}},"getPointAlongCurve"),ee=c(function(xe,Le,Ke,He,Ye){return Le*Math.pow(1-xe,3)+Ke*3*xe*Math.pow(1-xe,2)+He*3*Math.pow(xe,2)*(1-xe)+Ye*Math.pow(xe,3)},"singleComponentBezier");function de(xe,Le){return{a:xe,b:Le}}c(de,"makeLineSegment");function ie(xe,Le){let[Ke,He]=xe,[Ye,Xe]=Le;return Math.sqrt((Ke-Ye)**2+(He-Xe)**2)}c(ie,"magnitude");class ue{add(Le){return this.current?ie(this.current.a,Le)>.05?(this.current=de(this.current.b,Le),{type:DrawMessageType.New,segment:this.current}):(this.current=de(this.current.a,Le),{type:DrawMessageType.Edit,segment:this.current}):(this.current=de(Le,Le),{type:DrawMessageType.New,segment:this.current})}}c(ue,"ProgressiveEqualLengthMultilineTransformer");class fe{setTargetRect(Le){this.targetRect=Le}add(Le){if(!(0,p.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:Ke,left:He,width:Ye,height:Xe}=this.targetRect,[et,st]=[Le[0]-He,Le[1]-Ke];if(!this.current){g({x:et,y:st});const Tt=[et/Ye,st/Xe];return this.current={a:Tt,b:Tt,c:Tt,d:Tt},{type:d.Sl.New,segment:this.current}}const ot=this.current,{c0:ct,c1:at,c2:At,c3:Ct}=A({x:et,y:st});return this.current={a:[ct.x/Ye,ct.y/Xe],b:[at.x/Ye,at.y/Xe],c:[At.x/Ye,At.y/Xe],d:[Ct.x/Ye,Ct.y/Xe]},this.current.a[0]!==ot.a[0]||this.current.a[1]!==ot.a[1]?{type:d.Sl.New,segment:this.current}:{type:d.Sl.Edit,segment:this.current}}}c(fe,"ProgressiveCurveTransformer");var re=e(5950652755),_e=e(3107743571);const Ue=2e3,ye=50,Te=c(xe=>{const{onDragStart:Le,onDragMove:Ke,onDragEnd:He,onCursorMoveStart:Ye,onCursorMove:Xe,onCursorMoveEnd:et,children:st}=xe,[ot,ct]=(0,t.useState)(!1),[at,At]=(0,t.useState)(!1),[Ct,Tt]=(0,t.useState)(0),[Rt,It]=(0,t.useState)(0),Mt=(0,t.useCallback)(zt=>{zt.button===0&&(ct(!0),Le(zt))},[Le]),nn=(0,t.useCallback)(()=>{At(!1),et()},[At,et]);(0,_e.Z)(()=>{nn()},Ue,[Ct,Rt]);const Ot=(0,t.useCallback)(zt=>{if(zt.button===0){if(ot){Ke(zt);return}at||(Ye(zt),At(!0)),Xe(zt),Tt(zt.movementX),It(zt.movementY)}},[at,ot,Xe,Ye,Ke]),bt=(0,re.A)(Ot,ye,{leading:!0}),Jt=(0,t.useCallback)(zt=>{bt(zt)},[bt]),en=(0,t.useCallback)(zt=>{if(zt&&zt.button!==0)return;const Yt=ot;ct(!1),Yt&&He(zt)},[ot,He]),sn=(0,t.useCallback)(zt=>{const Yt=ot;ct(!1),Yt?He(zt):at&&et()},[ot,He,at,et]);return t.createElement("div",{onMouseDown:Mt,onMouseMove:Jt,onMouseUp:en,onMouseLeave:sn,"aria-hidden":"true"},st)},"HuddlesCursorTarget");Te.displayName="HuddlesCursorTarget";const ge=t.memo(Te);var Ae=e(8558782493),Re=e(6244014364);function Be(){return Be=Object.assign||function(xe){for(var Le=1;Le<arguments.length;Le++){var Ke=arguments[Le];for(var He in Ke)Object.prototype.hasOwnProperty.call(Ke,He)&&(xe[He]=Ke[He])}return xe},Be.apply(this,arguments)}c(Be,"target_extends");let ke=c(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(Le,Ke){return!(0,s.A)(this.props,Le)||!(0,s.A)(this.state,Ke)}componentDidUpdate(Le){(0,s.A)(Le.targetRect,this.props.targetRect)||this.onResize()}onResize(){var Le;if(!(!((Le=this.props.refToForward)===null||Le===void 0)&&Le.current))return;const Ke=(0,E.n)(this.props.targetRect);this.props.refToForward.current.style.height=Ke.height,this.props.refToForward.current.style.width=Ke.width,this.props.refToForward.current.style.top=Ke.top,this.props.refToForward.current.style.left=Ke.left,this.props.refToForward.current.style.position=Ke.position}getCursorCoordinates(Le){return this.props.useHuddlesDragTarget?[Le.nativeEvent.offsetX,Le.nativeEvent.offsetY]:[Le.pageX,Le.pageY]}onDragStart(Le){this.multilineTransformer=new fe,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),r.A.publish({id:"self",type:d.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Le)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(Le){(0,p.Z)(this.multilineTransformer,"Need transformer to draw")&&r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Le)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(Le){r.A.publish({id:"self",type:d.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,Ae.k)(Re.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Re.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){r.A.publish({id:"self",type:d.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(Le){const Ke=this.getCursorCoordinates(Le),He=Ke[0]/this.props.targetRect.width,Ye=Ke[1]/this.props.targetRect.height;r.A.publish({id:"self",type:d.Sl.Position,x:He,y:Ye,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){r.A.publish({id:"self",type:d.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(ge,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,E.n)(this.props.targetRect)}})):t.createElement(l,{onDragStart:Le=>this.onDragStart(Le),onDragMove:Le=>this.onDragMove(Le),onDragEnd:Le=>this.onDragEnd(Le)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,E.n)(this.props.targetRect)}}))}constructor(Le){super(Le),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");ke.displayName="BaseDrawTarget";const se=c((xe,Le)=>({hue:(0,_.Ng)(xe).drawHue}),"mapStateToProps"),ve=c(xe=>({logDrawingAction:Le=>xe(f(Le))}),"mapDispatchToProps"),Me=(0,n.N)(se,ve)(ke),be=t.forwardRef((xe,Le)=>t.createElement(Me,Be({refToForward:Le},xe)))},5956851410:(Q,C,e)=>{"use strict";e.d(C,{u:()=>V});var t=e(3134334389),n=e(166097325),s=e(1649982175),r=e(8571983633),d=e(8840779375),o=e(3300324857),a=e(462591818),i=e(1641606663),m=e(9391594207),l=e(5795074931),_=e(4775127335),v=e(387328355),u=e(735940183);const h=new u.Ay("calls"),f=c(x=>{let{displayName:S,id:U,userId:F,color:Z}=x;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:Z?{background:Z}:{}},t.createElement(_.Ay,{className:"p-huddles_draw__name_tag_avatar",key:U,size:24,userId:F,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},S))},"NameTag"),p=c((x,S)=>{let{id:U}=S;return{displayName:U==="self"?h.t("You"):(0,v.iU)(x,U),userId:U==="self"?(0,l.WR)(x):(0,v.C1)(x,U).userId}},"mapStateToProps"),E=(0,m.N)(p)(f),g=-21,A=-15,y=c(x=>{let{peerId:S,width:U,height:F,leftOffset:Z,topOffset:z,color:$,renderNameTag:ee=!0,isWindowDrawMode:de=!1,xWindowPosition:ie=0,yWindowPosition:ue=0}=x;const fe=(0,t.useRef)(null);let re,_e;const Ue=Z*U,ye=z*F;re=Math.round(Ue+A),_e=Math.round(ye+g),de&&(re+=ie,_e+=ue);const Te=(0,t.useMemo)(()=>[re,_e],[re,_e]),ge=c(Ae=>{const Re=fe.current;Re&&(Re.style.setProperty("transform",`translate(${Ae[0]}px, ${Ae[1]}px)`),Re.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{ge(Te)},[Te]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${S}`,className:"p-huddles_cursor_tracking__cursor",ref:fe},ee&&t.createElement(E,{key:`name-tag-${S}`,id:S,color:$})))},"HuddlesCursor");y.displayName="HuddlesCursor";const T=t.memo(y,n.A);var M=e(2825968873),O=e(8405076696),I=e(8193414630);function D(x,S,U,F){return`hsla(${x}, ${S}%, ${U}%, ${F})`}c(D,"makeColorString");const P=c((x,S)=>D(x,100,75,S),"makeBaseColorString"),L=c(x=>D(x,80,50,1),"makeShadowColorString"),k=3;class G{static renderBaseStyle(S){S.lineJoin="round",S.lineCap="round",S.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=G.initialWidth,this.opacity=1,this.color=P(this.hue,this.opacity))}setHue(S){this.hue=S,this.color=P(this.hue,this.opacity),this.shadowColor=L(this.hue),this.observer.requestRenderOnNextFrame()}render(S){this.fade(),S.lineWidth=this.width,S.strokeStyle=this.color,S.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const S=Math.min(1,(performance.now()-this.startedFadingTimestamp)/G.fadeDuration);this.width=G.initialWidth-S*k,this.opacity=1-S/1,this.color=P(this.hue,this.opacity),S<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(S){this.observer=S,this.width=G.initialWidth,this.opacity=1,this.hue=0,this.color=P(this.hue,this.opacity),this.shadowColor=L(this.hue)}}c(G,"LineStyle"),G.displayName="LineStyle",G.initialWidth=7,G.fadeDuration=3e3;let b=c(class{getSegments(){return this.segments}addNewSegment(S){this.segments.push(S)}editLastSegment(S){this.segments.pop(),this.segments.push(S)}constructor(){this.segments=[]}},"ProgressivePlotter");class W extends null{draw(S){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const Z=this.getSegments();S.beginPath();for(let z=0;z<Z.length;z++){const $=Z[z];S.moveTo($.a[0]*U,$.a[1]*F),S.lineTo($.b[0]*U,$.b[1]*F)}S.stroke()}}c(W,"ProgressiveLineSegmentPlotter");class B extends b{draw(S){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const Z=this.getSegments();S.beginPath();for(let z=0;z<Z.length;z++){const $=Z[z];S.moveTo($.a[0]*U,$.a[1]*F),S.bezierCurveTo($.b[0]*U,$.b[1]*F,$.c[0]*U,$.c[1]*F,$.d[0]*U,$.d[1]*F)}S.stroke()}}c(B,"ProgressiveBezierCurvePlotter");const R=700,j=5e3;class w{onFadeCompleted(){this.plotter=new B,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,j)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,R)}update(S){if(this.resetVestigialLineTimeout(),S.type===a.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(S.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(S.type===a.Sl.Edit)this.plotter.editLastSegment(S.segment);else if(S.type===a.Sl.End)this.resetInactivityTimeout();else if(S.type===a.Sl.ChangeHue)this.style.setHue(S.hue);else{if(S.type===a.Sl.Position)return;(0,I.Kh)(S.type)}this.observer.requestRenderOnNextFrame()}render(S,U,F){this.style.render(S),this.plotter.draw(S,U,F)}setLineVisibility(S){Object.assign(this.visibilityState,S)}getColor(){return this.style.getColor()}constructor(S){this.observer=S,this.plotter=new B,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new G({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}c(w,"DrawLine"),w.displayName="DrawLine";const N=c(x=>{let{refToForward:S,isHidden:U,numVisibleLines:F,top:Z,left:z,width:$,height:ee,doNotApplyTargetRect:de}=x;if(de){const ue={display:U||F===0?"none":"block"};return t.createElement("canvas",{ref:S,style:ue,"data-qa":"huddles-drawing-canvas"})}const ie={display:U||F===0?"none":"block",...(0,O.n)({left:z,top:Z,width:$,height:ee})};return t.createElement("canvas",{ref:S,style:ie,"data-qa":"huddles-drawing-canvas"})},"Canvas");N.displayName="Canvas";const K=t.memo(N,n.A),J=new u.Ay("calls"),Y=10,q=10,H=c(x=>{let{displayName:S,coord:[U,F]}=x;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${U+Y}px`,top:`${F+q}px`}},S)},"name_tag_NameTag"),ne=c((x,S)=>{let{id:U}=S;return{displayName:U==="self"?J.t("You"):(0,v.iU)(x,U)}},"name_tag_mapStateToProps"),te=(0,m.N)(ne)(H),le=-33,he=-9,Ie=c(x=>{let{top:S,left:U,width:F,height:Z,leftOffset:z,topOffset:$,id:ee}=x;const de=U+z*F,ie=S+$*Z,ue={left:`${de+he}px`,top:`${ie+le}px`},fe=(0,t.useMemo)(()=>[de,ie],[de,ie]);return t.createElement(t.Fragment,null,ee!=="self"&&t.createElement("div",{key:`cursor-${ee}`,className:"p-calls_draw__pencil_cursor",style:ue}),t.createElement(te,{key:`name-tag-${ee}`,id:ee,coord:fe}))},"Cursor");Ie.displayName="Cursor";const Ee=t.memo(Ie,n.A);function me(){return me=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var U=arguments[S];for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&(x[F]=U[F])}return x},me.apply(this,arguments)}c(me,"_extends");var ce;class X extends(ce=t.Component){shouldComponentUpdate(S,U){return!(0,n.A)(this.props,S)||!(0,n.A)(this.state,U)}getOrCreatePeerLine(S){return this.peerLines[S]=this.peerLines[S]||new w({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:U=>this.setState(F=>({numVisibleLines:F.numVisibleLines+(U?1:-1)}))}),this.peerLines[S]}onIncomingPeerLine(S){if(this.props.itemId&&S.itemId&&S.itemId!==this.props.itemId)return;const U=this.getOrCreatePeerLine(S.id);switch(U.update(S),S.type){case a.Sl.New:{this.setState(F=>{let{tagCoords:Z,userColors:z}=F;return{tagCoords:{...Z,[S.id]:S.segment.d},userColors:{...z,[S.id]:U.getColor()}}});break}case a.Sl.Edit:{this.setState(F=>{let{tagCoords:Z}=F;return{tagCoords:{...Z,[S.id]:S.segment.d}}});break}case a.Sl.ChangeHue:{this.setState(F=>{let{userColors:Z}=F;return{userColors:{...Z,[S.id]:U.getColor()}}});break}case a.Sl.End:{this.setState(F=>{let{tagCoords:Z}=F;return{tagCoords:(0,s.A)(Z,S.id)}});break}case a.Sl.Position:{const F=[S.x,S.y];this.setState(Z=>{let{tagCoords:z}=Z;return{tagCoords:{...z,[S.id]:F}}});break}default:break}}componentDidMount(){o.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(S,U){S.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,M.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&U.numVisibleLines>0||this.state.numVisibleLines>0&&U.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,r.A)(this.rafId)){var S;(S=this.context.windowRef.deref())===null||S===void 0||S.cancelAnimationFrame(this.rafId)}o.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,G.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const S=this.props.targetRect.width,U=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,S,U);const F=Object.values(this.peerLines);for(let Z=0;Z<F.length;Z++)F[Z].render(this.ctx,S,U)}renderCursor(S,U,F){const{targetRect:Z,useHuddlesCursor:z,itemId:$,isHostDrawWindow:ee,isWindowDrawing:de}=this.props;if(z){const ie=this.state.userColors[S],ue=$!=="self",fe=ee&&de;return t.createElement(T,{key:S,peerId:S,topOffset:U,leftOffset:F,width:Z.width,height:Z.height,color:ie,renderNameTag:ue,isWindowDrawMode:fe,xWindowPosition:Z.left,yWindowPosition:Z.top})}return t.createElement(Ee,me({key:S,id:S,topOffset:U,leftOffset:F},Z))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:S}=this.props,U={...(0,O.n)({left:S.left,top:S.top,width:S.width,height:S.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:U},t.createElement(K,me({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,d.A)(this.state.tagCoords,(F,Z)=>{let[z,$]=F;return this.renderCursor(Z,$,z)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(K,me({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,d.A)(this.state.tagCoords,(S,U)=>{let[F,Z]=S;return this.renderCursor(U,Z,F)}))}constructor(S){super(S),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}c(X,"BaseDrawRenderer"),X.displayName="BaseDrawRenderer",X.contextType=i.Mn;const V=t.forwardRef((x,S)=>t.createElement(X,me({refToForward:S},x)))},1429018002:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(3134334389),n=e(9391594207),s=e(387328355),r=e(5255740490),d=e(4096483543),o=e(8869734951),a=e(6533394955),i=e(6839101721),m=e(3395259576),l=e(2615100822),_=e(4761125736);function v(){return v=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(M[D]=I[D])}return M},v.apply(this,arguments)}c(v,"_extends");let u=c(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var O;const I=this.videoRef.current,{shouldAttachStream:D,tileId:P,peerId:L}=this.props;!P||!I||(this.props.unbindVideo({tileId:P,videoRef:this.videoRef,shouldDetachStream:!!D,peerId:L}),I.removeEventListener("resize",this.onResize),(O=this.interactionObserver)===null||O===void 0||O.disconnect())}setUpMedia(){const O=this.videoRef.current,{shouldAttachStream:I,tileId:D,peerId:P}=this.props;!D||!O||(this.props.bindVideo({tileId:D,videoRef:this.videoRef,shouldAttachStream:!!I,peerId:P}),O.addEventListener("resize",this.onResize))}setupInteractionObserver(){var O;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((O=this.interactionObserver)===null||O===void 0||O.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var I;(I=this.interactionObserver)===null||I===void 0||I.observe(this.videoRef.current)}}interactionObserverCallback(O){const I=O[0];if(!I)return;const D=this.videoRef.current,{shouldAttachStream:P,tileId:L,peerId:k}=this.props;!L||!D||(I.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:L,videoRef:this.videoRef,shouldAttachStream:!!P,peerId:k}):this.props.unbindVideo({tileId:L,videoRef:this.videoRef,shouldDetachStream:!!P,peerId:k}))}onResize(){const O=this.videoRef.current;O&&(this.props.isSharingScreen?O.style.objectFit="contain":O.style.objectFit=O.videoWidth>O.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:O,peerId:I,tileId:D,isActivePeerSharingScreen:P,isShroudVisible:L}=this.props;!O||!D||(I!=="self"&&P&&!L?this.props.pauseVideo({tileId:D}):this.props.unpauseVideo({tileId:D}))}render(){const{refToForward:O,shouldFlip:I,peerId:D,className:P,width:L,height:k,onLoadedData:G}=this.props;return t.createElement("video",v({className:(0,r.A)("p-calls_video",P,{flipped:I}),ref:(0,o.P)(this.videoRef,O),key:D,"data-qa":"free-willy-video-element",style:{width:L,height:k}},G?{onLoadedData:G}:{}))}constructor(O){super(O),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=O.onResize?O.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");u.displayName="VideoElement";const h=c((M,O)=>{var I;const D=(0,_._Z)(M,"calls_pause_video_on_screenshare")==="treatment",P=(0,s.vz)(M),L=O.peer?(0,s.Bf)(O.peer):!1;let k;if(P)k=O.tileId;else{var G,b,W,B,R,j;k=L?(G=O.peer)===null||G===void 0||(b=G.tileIds)===null||b===void 0||(W=b.screenshare)===null||W===void 0?void 0:W.tileId:(B=O.peer)===null||B===void 0||(R=B.tileIds)===null||R===void 0||(j=R.camera)===null||j===void 0?void 0:j.tileId}return{tileId:k,peerId:(I=O.peer)===null||I===void 0?void 0:I.id,isSharingScreen:L,isShroudVisible:D&&(0,l.A)()?(0,m.pI)(M):!1,isActivePeerSharingScreen:(0,s.$Q)(M),experimentCallsPauseVideoOnScreenshareGroupTreatment:D}},"mapStateToProps"),f=c(M=>({bindVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,i.d2)(O)):M((0,i.d2)(O)),unbindVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,i.gJ)(O)):M((0,i.gJ)(O)),pauseVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,i.WY)(O)):M((0,i.WY)(O)),unpauseVideo:O=>(0,d.A)()?(0,a.dispatchForClientStore)((0,i.D8)(O)):M((0,i.D8)(O))}),"mapDispatchToProps"),p=(0,n.N)(h,f)(u),E=t.forwardRef((M,O)=>t.createElement(p,v({refToForward:O},M)));function g(){return g=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(M[D]=I[D])}return M},g.apply(this,arguments)}c(g,"peer_video_element_extends");const A=c((M,O)=>{const I=(0,s.vz)(M),D=(0,s.JZ)(M,O.id);let P;const L=O.tileId;if(!I)P=(0,s.fy)(D)&&!D.isScreenshareEnabled;else{var k,G;const b=((k=D.tileIds)===null||k===void 0||(G=k.screenshare)===null||G===void 0?void 0:G.tileId)===L;P=(0,s.fy)(D)&&!b}return{peer:D,tileId:L,shouldFlip:P}},"peer_video_element_mapStateToProps"),y=(0,n.N)(A)(E),T=t.forwardRef((M,O)=>t.createElement(y,g({},M,{refToForward:O})))},1337358413:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>v,Ft:()=>m});var t=e(3134334389),n=e(5255740490),s=e(9391594207),r=e(3328068409),d=e(9009528296),o=e(9853754481);function a(){return a=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u},a.apply(this,arguments)}c(a,"_extends");const i=15;function m(u){return Math.min(1,Math.max(0,o.Ep*u))}c(m,"getClampedAudioLevel");let l=c(class extends t.PureComponent{componentDidMount(){d.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){d.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(h){const f=Math.floor(this.numBubbles*m(h));this.setState(()=>({numActiveBubbles:f,numInactiveBubbles:this.numBubbles-f}))}renderBubbles(){const{numActiveBubbles:h,numInactiveBubbles:f}=this.state,{bubbleClassname:p}=this.props,E=(0,n.A)("p-audio_levels__bubble","p-audio_levels__bubble--active",p,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),g=(0,n.A)("p-audio_levels__bubble","p-audio_levels__bubble--inactive",p,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),A=Array.from({length:h},(T,M)=>t.createElement("span",{key:`active${M}`,className:E})),y=Array.from({length:f},(T,M)=>t.createElement("span",{key:M,className:g}));return A.concat(y)}render(){const h=this.props.ariaLabelledBy||this.props.ariaLabel?{role:"meter","aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-valuenow":Math.floor(this.state.numActiveBubbles/this.numBubbles*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0}:{};return t.createElement("div",a({className:(0,n.A)("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},h),this.renderBubbles())}constructor(h){super(h);var f;this.numBubbles=(f=this.props.initNumBubbles)!==null&&f!==void 0?f:i;var p;this.state={numInactiveBubbles:(p=h.initNumBubbles)!==null&&p!==void 0?p:i,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");l.displayName="AudioMeter";const _=c(u=>({clientTheme:(0,r.to)(u)}),"mapStateToProps"),v=(0,s.N)(_)(l)},610288365:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>i});var t=e(9706240641),n=e.n(t),s=e(6696292586),r=e(3398586081);class d{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var v,u;(v=this.battery)===null||v===void 0||v.addEventListener("chargingchange",this.handleBatteryUpdate),(u=this.battery)===null||u===void 0||u.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var v,u;(v=this.battery)===null||v===void 0||v.removeEventListener("chargingchange",this.handleBatteryUpdate),(u=this.battery)===null||u===void 0||u.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)};var l=this;this.initialize=(0,t.coroutine)(function*(){yield l.setUp(),l.updateBatteryState()});var _=this;this.setUp=(0,t.coroutine)(function*(){if(!_.isInitialized)try{if(navigator.getBattery){const v=yield navigator.getBattery();_.battery=v,_.battery&&(_.isSupported=!0,_.updateBatteryState(),_.registerListeners())}else _.isSupported=!1}catch{_.isSupported=!1}finally{_.isInitialized=!0}}),this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,s.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}c(d,"HuddleBatteryManager");const o=(0,r.A)(()=>new d),a={getHuddleBatteryManager:o,HuddleBatteryManager:d},i=o},6664301844:(Q,C,e)=>{"use strict";e.d(C,{$H:()=>_e,$b:()=>p,$s:()=>re,E9:()=>g,Es:()=>i,I8:()=>u,KK:()=>U,Ll:()=>J,Ls:()=>se,QJ:()=>j,Q_:()=>Te,RM:()=>ue,VW:()=>ve,XL:()=>f,Xw:()=>a,ZT:()=>z,_R:()=>de,b9:()=>E,dQ:()=>m,gi:()=>M,i3:()=>S,j3:()=>ke,jp:()=>B,jq:()=>Ae,kM:()=>Re,mn:()=>h,of:()=>ye,px:()=>Be,uL:()=>v,vB:()=>V,w2:()=>ge,wV:()=>Ie,xY:()=>l,xc:()=>R,z2:()=>_,zF:()=>q,zg:()=>ie});var t=e(9706240641),n=e.n(t),s=e(7164668892),r=e.n(s),d=e(3305135794),o=e.n(d);let a=s.CheckAudioConnectivityFeedback,i=s.CheckAudioInputFeedback,m=s.CheckAudioOutputFeedback,l=s.CheckCameraResolutionFeedback,_=s.CheckContentShareConnectivityFeedback,v=s.CheckNetworkTCPConnectivityFeedback,u=s.CheckNetworkUDPConnectivityFeedback,h=s.CheckVideoConnectivityFeedback,f=s.CheckVideoInputFeedback,p=s.LogLevel,E=s.MeetingSessionStatusCode,g=s.TranscriptItemType,A=null;const y=null;let T=null;const M=s.AllHighestVideoBandwidthPolicy;let O,I=null,D=null;const P=s.DefaultDeviceController;let L;const k=s.DefaultMeetingReadinessChecker;let G;const b=s.DefaultMeetingSession;let W,B=s.DefaultModality,R=s.DefaultVideoTile,j=s.MeetingSessionConfiguration,w=null,N=null,K=null,J=s.PermissionDeniedError,Y=null,q=s.Versioning,H=null,ne=null,te=null,le=null,he=null,Ie=s.VoiceFocusDeviceTransformer,Ee=null,me=s.DefaultVideoTransformDevice,ce=s.BackgroundBlurVideoFrameProcessor,X=null,V=s.CSPMonitor;const x=null;let S=s.VideoFxProcessor,U=s.VideoCodecCapability,F=!1,Z=!1;function z(Me){return $.apply(this,arguments)}c(z,"setUseExpSDK");function $(){return $=(0,t.coroutine)(function*(Me){if(F=Me,!F||Z)return;const be=yield Promise.resolve().then(e.t.bind(e,3305135794,23));a=be.CheckAudioConnectivityFeedback,i=be.CheckAudioInputFeedback,m=be.CheckAudioOutputFeedback,l=be.CheckCameraResolutionFeedback,_=be.CheckContentShareConnectivityFeedback,v=be.CheckNetworkTCPConnectivityFeedback,u=be.CheckNetworkUDPConnectivityFeedback,h=be.CheckVideoConnectivityFeedback,f=be.CheckVideoInputFeedback,T=be.ClientVideoStreamReceivingReport,I=be.ConnectionHealthData,D=be.DataMessage,L=be.DefaultDeviceController,G=be.DefaultMeetingReadinessChecker,W=be.DefaultMeetingSession,B=be.DefaultModality,R=be.DefaultVideoTile,p=be.LogLevel,j=be.MeetingSessionConfiguration,w=be.MeetingSessionStatus,E=be.MeetingSessionStatusCode,N=be.MeetingSessionVideoAvailability,K=be.MutableVideoPreferences,J=be.PermissionDeniedError,Y=be.TargetDisplaySize,g=be.TranscriptItemType,A=be.TranscriptionStatusType,q=be.Versioning,H=be.VideoPreference,ne=be.VideoPreferences,te=be.VideoPriorityBasedPolicy,le=be.VideoPriorityBasedPolicyConfig,he=be.VideoTileState,O=be.AudioProfile,Ie=be.VoiceFocusDeviceTransformer,Ee=be.DefaultBrowserBehavior,me=be.DefaultVideoTransformDevice,ce=be.BackgroundBlurVideoFrameProcessor,X=be.BackgroundReplacementVideoFrameProcessor,V=be.CSPMonitor,S=be.VideoFxProcessor,U=be.VideoCodecCapability,Z=!0}),$.apply(this,arguments)}c($,"_setUseExpSDK");function ee(){return F}c(ee,"isUsingExpSDK");function de(){return L||P}c(de,"getDefaultDeviceController");function ie(){return P}c(ie,"getDefaultDeviceControllerDefault");function ue(){return L}c(ue,"getDefaultDeviceControllerExp");function fe(){return G||k}c(fe,"getDefaultMeetingReadinessChecker");function re(){return k}c(re,"getDefaultMeetingReadinessCheckerDefault");function _e(){return G}c(_e,"getDefaultMeetingReadinessCheckerExp");function Ue(){return W||b}c(Ue,"getDefaultMeetingSession");function ye(){return b}c(ye,"getDefaultMeetingSessionDefault");function Te(){return W}c(Te,"getDefaultMeetingSessionExp");function ge(){return Ie}c(ge,"getVoiceFocusDeviceTransformer");function Ae(){return me}c(Ae,"getDefaultVideoTransformDevice");function Re(){return ce}c(Re,"getBackgroundBlurVideoFrameProcessor");function Be(){return d.BackgroundReplacementVideoFrameProcessor}c(Be,"getBackgroundReplacementVideoFrameProcessor");function ke(){return s.AudioProfile}c(ke,"getAudioProfileDefault");function se(){return O}c(se,"getAudioProfileExp");function ve(Me){return!!Me.type}c(ve,"isTranscriptEventTranscriptionStatus")},252549317:(Q,C,e)=>{"use strict";e.d(C,{LD:()=>o,MS:()=>a,Vd:()=>m,k0:()=>i});var t=e(8571983633),n=e(571104883),s=e(9042410435);const r="4.30.79",d=[s.R.DesktopScreen,s.R.DesktopWindow];function o(){return!!(0,n.dY)(r)}c(o,"isWindowDrawingSupported");function a(l){return(0,t.A)(l)?s.f.None:l.startsWith("screen:")?s.f.Screen:l.startsWith("window:")?s.f.Window:s.f.Other}c(a,"determineContentShareTypeFromSourceId");function i(l){if(!(0,n.y3)())return s.R.BrowserContent;const _=a(l);if((0,n.y3)())switch(_){case s.f.Screen:return s.R.DesktopScreen;case s.f.Window:return s.R.DesktopWindow;default:return s.R.DesktopUnknown}return s.R.Unknown}c(i,"determineFullContentShareSourceType");function m(l){return d.includes(l)}c(m,"doesContentShareTypeSupportDrawing")},9042410435:(Q,C,e)=>{"use strict";e.d(C,{R:()=>n,f:()=>t});var t;(function(s){s.Screen="screen",s.Window="window",s.Other="other",s.None="none"})(t||(t={}));var n;(function(s){s.DesktopScreen="desktop:screen",s.DesktopWindow="desktop:window",s.DesktopUnknown="desktop:unknown",s.BrowserContent="browser:content",s.MobileScreen="mobile:screen",s.Unknown="unknown"})(n||(n={}))},416787925:(Q,C,e)=>{"use strict";e.d(C,{Bm:()=>m,LL:()=>a,On:()=>h,Zy:()=>o,dx:()=>d,my:()=>i,tk:()=>_});var t=e(2208015175),n=e(7174777686),s=e(8736071954),r=e(336376314);const d="default",o="communications",a=[s.lW.Microphone,s.lW.Camera,s.Q4];function i(f,p){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;(0,t.A)(p,(g,A)=>{if(!(0,n.A)(E,A))return;if(!g.length){f.warn(`No ${A} devices available`);return}const y=new r.M(["id","label"]);g.forEach(T=>{y.add([T.id,T.label].map(String))}),f.info(`${A} devices:
${y.report()}`)})}c(i,"logDevices");function m(){return{camera:[],microphone:[],output:[]}}c(m,"createEmptyDevices");const l={audioinput:s.lW.Microphone,videoinput:s.lW.Camera,audiooutput:s.Q4};function _(f){const p=l[f.kind],E={id:f.deviceId,label:f.label||void 0,groupId:f.groupId||void 0};return v(p)?{...E,type:p}:{...E,type:p}}c(_,"makeDevice");function v(f){return f!==s.Q4}c(v,"isInputDeviceType");function u(f){return v(f.type)}c(u,"isInputDevice");function h(f){return f.replace(/ *?\([^)]*?\) *?/g,"")}c(h,"removeDeviceIdFromDeviceLabel")},1473609332:(Q,C,e)=>{"use strict";e.d(C,{t3:()=>a,Bh:()=>v,i4:()=>f});var t=e(9706240641),n=e(4103274853);function s(){return"0.1"}c(s,"getDevicePrefsVersion");var r=e(416787925),d=e(2825968873);const o="devicePrefs";function a(g){return(0,n.A)(g,A=>A[0])}c(a,"getPreferredDevices");function i(){return{camera:[],microphone:[r.dx,r.Zy],output:[r.dx,r.Zy]}}c(i,"createDefaultDevicePriority");function m(){return{camera:[],microphone:[],output:[]}}c(m,"createDefaultDeviceExtendedPriority");function l(){return{enableAGC:!0,enableNoiseSuppression:!0}}c(l,"createDefaultAudioPrefs");function _(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}c(_,"createDefaultVideoPrefs");function v(){const g=localStorage.getItem(o),A={version:s(),deviceIdPriorities:i(),deviceIdPrioritiesExtended:m(),video:_(),audio:l()};if(!g)return A;try{const y=JSON.parse(g);return y.version!==s()?A:{...A,...y}}catch(y){return(0,d.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",y.message),A}}c(v,"readDevicePrefs");function u(g){return h.apply(this,arguments)}c(u,"updateDeviceIdPrioritiesExtended");function h(){return h=(0,t.coroutine)(function*(g){const A={},y=yield navigator.mediaDevices.enumerateDevices();for(const T of Object.keys(g)){const M=[],O=T;for(let I=0;I<g[O].length;I++){const D=g[O][I],P=y.find(L=>L.deviceId===D);P&&M.push({id:P.deviceId,groupId:P.groupId,label:P.label,labelWithoutId:(0,r.On)(P.label)})}A[T]=M}return A}),h.apply(this,arguments)}c(h,"_updateDeviceIdPrioritiesExtended");function f(g){return p.apply(this,arguments)}c(f,"writeDevicePrefs");function p(){return p=(0,t.coroutine)(function*(g){try{const A=yield u(g.deviceIdPriorities),y={...g,deviceIdPrioritiesExtended:A};localStorage.setItem(o,JSON.stringify(y))}catch(A){(0,d.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",A.message)}}),p.apply(this,arguments)}c(p,"_writeDevicePrefs");function E(g,A){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const T=zipObject(A,range(A.length)),M=zipObject(y.map(O=>O.labelWithoutId),range(y.length));return sortBy(g,O=>{const I=removeDeviceIdFromDeviceLabel(O.label);return isUndefined(T[O.deviceId])?isUndefined(M[I])?1/0:M[I]:T[O.deviceId]})}c(E,"sortDevicesByPriorityWithFallback")},9195837907:(Q,C,e)=>{"use strict";e.d(C,{t:()=>t});var t;(function(n){n.Blur="blur",n.Background="bg"})(t||(t={}))},7149946954:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>D});var t=e(9706240641),n=e(8736071954),s=e(4518410378),r=e(5387083734),d=e(462591818),o=e(571104883),a=e(796111729),i;(function(P){P.Granted="granted",P.Denied="denied",P.Prompt="prompt",P.NotDetermined="not-determined",P.Restricted="restricted",P.Unknown="unknown"})(i||(i={}));var m;(function(P){P.CAMERA="camera",P.MICROPHONE="microphone",P.SCREEN="display-capture"})(m||(m={}));const l={[d.mT.MICROPHONE]:m.MICROPHONE,[d.mT.CAMERA]:m.CAMERA,[d.mT.SCREEN]:m.SCREEN},_={[d.mT.MICROPHONE]:null,[d.mT.CAMERA]:null,[d.mT.SCREEN]:null},v=c(()=>({..._}),"getInitialPermissionsState");var u=e(6998663753),h=e(6422693406);let f=c(class{constructor(L){this.config=L,this.canAccessMediaResource=W=>{const B=this.wasPermissionGranted(W);return this.logger.info(`${W} permissions granted: ${B}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[W]}};var k=this;this.requestMediaAccess=function(){var W=(0,t.coroutine)(function*(B){return k.updatePermissionsState(B,k.getDefaultAccessResult().status),k.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),h.S.resolve({isAvailable:k.config.isElectronApiAvailable,isGranted:!0})});return function(B){return W.apply(this,arguments)}}();var G=this;this.refreshAllPermissions=(0,t.coroutine)(function*(){try{yield G.refreshDevicePermissionStatus(d.mT.MICROPHONE),yield G.refreshDevicePermissionStatus(d.mT.CAMERA),yield G.refreshDevicePermissionStatus(d.mT.SCREEN)}catch(W){G.logger.warn("An error occurred while refreshing device permissions",W)}});var b=this;this.refreshDevicePermissionStatus=function(){var W=(0,t.coroutine)(function*(B){b.updatePermissionsState(B,b.getDefaultAccessResult().status)});return function(B){return W.apply(this,arguments)}}(),this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:n.eJ.Granted}),this.updatePermissionsState=(W,B)=>{this.permissions[W]!==B&&(this.logger.info(`permission state for ${W} changed to ${B}`),this.permissions[W]=B,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=W=>{let B=!1;return this.permissions[W]&&(B=this.permissions[W]===n.eJ.Granted),B},this.hasNoKnownPermissions=W=>this.permissions[W]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var p=e(3245843483);let E=c(class extends f{constructor(L){super(L);var k=this;this.refreshDevicePermissionStatus=function(){var b=(0,t.coroutine)(function*(W){const{status:B}=yield(0,p.XBC)(W);k.logger.info(`Received ${W} access status for desktop app: ${B}`),k.updatePermissionsState(W,B)});return function(W){return b.apply(this,arguments)}}();var G=this;this.requestMediaAccess=function(){var b=(0,t.coroutine)(function*(W){const{isAvailable:B,isGranted:R}=yield(0,p.Nin)(W);return G.updatePermissionsState(W,R?n.eJ.Granted:n.eJ.Denied),{isAvailable:B,isGranted:!!R}});return function(W){return b.apply(this,arguments)}}()}},"DesktopDevicePermissions"),g=c(class extends f{constructor(L){super(L);var k=this;this.refreshDevicePermissionStatus=function(){var G=(0,t.coroutine)(function*(b){if(b===d.mT.SCREEN)return;const W=b===d.mT.MICROPHONE?"audioinput":"videoinput";try{const R=(yield navigator.mediaDevices.enumerateDevices()).filter(w=>w.kind===W),j=R.length>0&&R.some(w=>w.label.trim()!=="");k.updatePermissionsState(b,j?n.eJ.Granted:n.eJ.NotDetermined)}catch{k.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),k.updatePermissionsState(b,n.eJ.NotDetermined)}});return function(b){return G.apply(this,arguments)}}()}},"FirefoxDevicePermissions"),A=c(class extends f{constructor(...L){super(...L),this.changeHandlers=v();var k=this;this.refreshDevicePermissionStatus=function(){var G=(0,t.coroutine)(function*(b){const W=yield navigator.permissions.query({name:l[b]});k.updatePermissionsState(b,W.state),k.logger.info(`Received ${b} access status for browser: ${k.permissions[b]}`),k.maybeRegisterPermissionChangeListener(b,W)});return function(b){return G.apply(this,arguments)}}(),this.maybeRegisterPermissionChangeListener=(G,b)=>{if(!this.changeHandlers[G]){const W=c(()=>this.onPermissionChangeEvent(G,b==null?void 0:b.state),"handler");b.addEventListener("change",W),this.changeHandlers[G]=W}},this.onPermissionChangeEvent=(G,b)=>{this.updatePermissionsState(G,b)}}},"BrowserDevicePermissions");var y=e(6673728906);const T="device-permissions-state",M=7*24*60*60*1e3,O=5*1e3;class I{isPersistedStateTrustworthy(L){return!(!L||Date.now()-L>M)}savePermissionsToLocalStorage(L){try{const k={permissions:L,timestamp:Date.now()},G=JSON.stringify(k);localStorage.setItem(T,G),this.logger.info(`Permissions saved to local storage: ${G}`)}catch(k){this.logger.error("Error saving permissions to local storage",k)}}readPermissionsFromLocalStorage(){try{const L=localStorage.getItem(T);if(L){this.logger.info(`Permissions loaded from local storage ${L}`);const k=JSON.parse(L);return this.isPersistedStateTrustworthy(k==null?void 0:k.timestamp)?k.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(L){this.logger.error("Error reading permissions from local storage",L)}return null}constructor(){this.isSSB=(0,o.y3)(),this.logger=(0,a.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1;var L=this;this.init=(0,u.A)((0,t.coroutine)(function*(){L.logger.info("Initializing media device permissions manager"),L.initialized=!0,L.permissionsStrategy=L.getStrategy(),setTimeout(L.refreshAllPermissions,O),L.logger.info("Scheduled permissions refresh")})),this.canAccessMediaResource=W=>{var B,R;return!((B=this.permissionsStrategy)===null||B===void 0)&&B.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(W):{isAvailable:!!(!((R=this.config)===null||R===void 0)&&R.isElectronApiAvailable),status:n.eJ.Granted}};var k=this;this.requestMediaAccess=function(){var W=(0,t.coroutine)(function*(B){var R;return!((R=k.config)===null||R===void 0)&&R.isElectronApiAvailable?k.permissionsStrategy.requestMediaAccess(B):(k.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})});return function(B){return W.apply(this,arguments)}}(),this.getStrategy=()=>{const W={initialState:this.readPermissionsFromLocalStorage()||v(),isElectronApiAvailable:this.isSSB,onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=W,(0,o.y3)()?(this.logger.info("Using desktop device permissions strategy"),new E(W)):(0,o.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new g(W)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new A(W)):(this.logger.info("Using default device permissions strategy"),new f(W))},this.onPermissionsChange=W=>{this.logger.info("Permissions changed",W),(0,y.pq)(),this.savePermissionsToLocalStorage(W)};var G=this;this.refreshAllPermissions=(0,t.coroutine)(function*(){G.logger.info("Refreshing all permissions");try{yield navigator.mediaDevices.enumerateDevices(),yield G.refreshPermissions(d.mT.MICROPHONE),yield G.refreshPermissions(d.mT.CAMERA),yield G.refreshPermissions(d.mT.SCREEN)}catch(W){G.logger.warn("An error occurred while refreshing device permissions",W)}});var b=this;this.refreshPermissions=function(){var W=(0,t.coroutine)(function*(B){return b.logger.debug(`Refreshing ${B} permissions`),(0,r.IE)("media-access-update",(0,t.coroutine)(function*(){return b.permissionsStrategy.refreshDevicePermissionStatus(B)})).catch(R=>{b.logger.warn(`An error occurred while trying to check ${B} permissions`,R)})});return function(B){return W.apply(this,arguments)}}(),this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,o.gm)()&&"permissions"in s.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(v())}}}c(I,"DevicePermissionsManager");const D=new I},6673728906:(Q,C,e)=>{"use strict";e.d(C,{_o:()=>_e,Nj:()=>fe,T5:()=>de,Zy:()=>z,G0:()=>Ue,pq:()=>ie,cT:()=>ee,i_:()=>$,es:()=>re});var t=e(9706240641),n=e(8736071954),s;(function(ye){ye.Microphone="audioinput",ye.Camera="videoinput",ye.Speakers="audiooutput"})(s||(s={}));const r=c(ye=>({[n.lW.Microphone]:s.Microphone,[n.lW.Camera]:s.Camera,[n.Q4]:s.Speakers})[ye],"adapter_mapDeviceTypeToDeviceKind"),d=c(ye=>({[s.Microphone]:n.lW.Microphone,[s.Camera]:n.lW.Camera,[s.Speakers]:n.Q4})[ye],"mapDeviceKindToDeviceType"),o=c(ye=>{const Te=d(ye.kind);return Te===n.Q4?{id:ye.deviceId,label:ye.label,groupId:ye.groupId,type:n.Q4}:{id:ye.deviceId,label:ye.label,groupId:ye.groupId,type:Te,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var a=e(4423055085),i=e(4518410378),m=e(9113979368),l=e(9268023148),_=e(2208015175),v=e(235108050),u=e(8289365785),h=e(4103274853),f=e(796111729);const E=(0,f.Wo)({label:"DEVICE-PREFS"});var g=e(571104883),A=e(3078252698);const y=["ZoomAudioDevice (Virtual)"],O=["default","communications"],I=c(ye=>O.includes(ye),"isOSDefaultDeviceId"),D=c((ye,Te)=>{if(I(ye.deviceId))return!1;const ge=Te.find(Ae=>I(Ae.deviceId)&&Ae.kind===ye.kind);return(ge==null?void 0:ge.groupId)===ye.groupId&&(ge==null?void 0:ge.label.includes(ye.label))},"isOSDefaultDeviceForType"),P=c(ye=>{const Te=/iphone/,ge=ye.label;if(!(0,A.A)(ge))return!1;const Ae=(0,g.cX)()&&ge&&Te.test(ge.toLowerCase()),Re=(ge==null?void 0:ge.toLowerCase().includes("display audio"))||ge.toLowerCase().includes("displayport");return Ae||Re},"shouldDeprioritizeDevice"),L=c(ye=>!ye.label||y.includes(ye.label),"shouldRemoveDevice"),k=c(ye=>ye&&ye.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),G=c(ye=>ye.filter(Te=>Te.label).map(Te=>({deviceId:Te.deviceId,kind:Te.kind,label:k(Te.label)||"",groupId:Te.groupId})),"scrubAvailableDevices"),b=c((ye,Te)=>`${ye}-${Te}`,"generateDeviceKey");var W=e(6696292586),B=e(6313685253),R=e(8086952004);const j="version",w=4,N={1:ye=>ye,2:ye=>(0,h.A)(ye,Te=>{if((0,W.A)(Te))return Te;const ge={...Te},Ae=k(Te.deviceLabel);return Ae&&Ae!==Te.deviceLabel&&(ge.deviceLabel=Ae),ge}),3:ye=>(0,B.A)(ye,(Te,ge,Ae)=>{if(!I(Ae)&&Ae!==j){const Re=(0,R.A)(ye,(Be,ke)=>I(ke)&&Be.deviceInfo.kind===ge.deviceInfo.kind&&Be.deviceInfo.groupId===ge.deviceInfo.groupId&&Be.deviceInfo.label.includes(ge.deviceInfo.label));Re&&((!ge.used&&Re.used||ge.used&&Re.used&&ge.used<Re.used)&&(ge.used=Re.used),(!ge.selected&&Re.selected||ge.selected&&Re.selected&&ge.selected<Re.selected)&&(ge.selected=Re.selected)),Te[Ae]=ge}return Te},{}),4:ye=>(0,B.A)(ye,(Te,ge,Ae)=>{if((0,W.A)(ge))Te[Ae]=ge;else{const{deviceId:Re,kind:Be}=ge.deviceInfo,ke=b(Re,Be);Te[ke]=ge}return Te},{})},K=c(ye=>ye[j]!==w,"isMigrationNeeded"),J=c(ye=>{if(!N[w])throw new Error(`No migration found for version ${w}`);const Te=ye[j]||0;if(Te===w)return ye;let ge={...ye};for(let Ae=Te;Ae<w;Ae++){const Re=Ae+1,Be=N[Re];ge=Be(ge),ge[j]=Re}return ge},"maybeMigrateDeviceHistory");var Y=e(1649982175);const q="device-selection-records",H=E,ne=c(()=>{let ye;try{const Te=localStorage.getItem(q);Te?(ye=JSON.parse(Te),K(ye)?(H.debug(`Migration needed for device selection history from ${ye[j]} to ${w}`),ye=J(ye)):H.debug("No migration needed for device selection history")):ye=void 0}catch(Te){H.error("Failed to read device selection history from local storage",Te),ye=void 0}return H.debug("Reading device selection history from local storage",ye),ye?(0,Y.A)(ye,j):void 0},"readSelectionHistoryFromLocalStorage"),te=c(ye=>{if(ye){H.debug("Writing device selection history to local storage",ye);try{const Te={...ye,[j]:w};localStorage.setItem(q,JSON.stringify(Te))}catch(Te){H.error("Failed to write device selection history to local storage",Te)}}},"saveDeviceSelectionRecordsToLocalStorage");var le=e(700984029),he=e(4250409994),Ie=e(6533394955),Ee=e(3783723764),me=e(6217320234);class ce{hasRecordForDevice(Te){return!!this.getRecord(Te)}getFormattedLabelForRecord(Te){const ge=this.getRecord(Te);return ge==null?void 0:ge.deviceLabel}wasDeviceSelected(Te){const ge=this.getRecord(Te);return!!(ge!=null&&ge.selected)}wasDeviceUsed(Te){const ge=this.getRecord(Te);return!!(ge!=null&&ge.used)}createRecord(Te){const ge=this.createEmptyDeviceSelectionRecord(Te);if(ge.deviceLabel){const Ae=this.findExistingRecordByLabel(Te,ge.deviceLabel);if(Ae){E.info(`Matching device record found for label: ${Ae.deviceLabel} ${Ae.deviceInfo.deviceId}`),this.removeRecord(Ae.deviceInfo),this.setRecord(Te,{...Ae,deviceInfo:Te});return}}this.setRecord(Te,ge)}updateDeviceUsed(Te){const ge=this.getRecord(Te);ge&&(E.info(`Removing device selection record for used device ${Te.deviceId}`),this.setRecord(Te,{...ge,used:Date.now()}))}updateDeviceSelected(Te){const ge=this.getRecord(Te);ge&&(E.info(`Updating device selection record for selected device ${Te.deviceId}`),this.setRecord(Te,{...ge,selected:Date.now()}))}updateDeviceLabel(Te){this.getRecord(Te)&&E.info(`Updating device selection record for label ${Te.label} ${Te.deviceId}`)}updateDeviceInfo(Te){const ge=this.getRecord(Te);ge&&(E.debug(`Updating device selection record for device info ${Te.label} ${Te.deviceId}`),this.setRecord(Te,{...ge,deviceLabel:Te.label,deviceInfo:Te}))}persistToLocalStorage(){E.info("Persisting device selection records to local storage"),te(this.records)}initFromLocalStorage(){this.records=ne()||{},E.info("Initializing device preferences manager from local storage")}setRecord(Te,ge){const{deviceId:Ae,kind:Re}=Te,Be=b(Ae,Re);E.debug(`Setting device selection record for ${Be}`,ge),this.records[Be]=ge}getRecord(Te){let{deviceId:ge,kind:Ae}=Te;const Re=b(ge,Ae);return this.records[Re]}removeRecord(Te){const{deviceId:ge,kind:Ae}=Te,Re=b(ge,Ae);E.info(`Removing device selection record for ${Re}`),delete this.records[Re]}findExistingRecordByLabel(Te,ge){return Object.values(this.records).find(Re=>Re.deviceLabel===ge&&Re.deviceInfo.kind===Te.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=Te=>{const ge=this.getRecord(Te);if(ge)return{...ge.deviceInfo}},this.sortDevicesByLastSelection=Te=>(0,Ee.A)(Te,ge=>{var Ae;return(Ae=this.records[b(ge.deviceId,ge.kind)])===null||Ae===void 0?void 0:Ae.selected},"desc"),this.sortDevicesByLastUsed=Te=>(0,Ee.A)(Te,ge=>{var Ae;return(Ae=this.records[b(ge.deviceId,ge.kind)])===null||Ae===void 0?void 0:Ae.used},"desc"),this.sortDevicesByLabel=Te=>(0,me.A)(Te,ge=>ge.label),this.printRecords=()=>{E.info("Device selection records:",this.records)},this.createEmptyDeviceSelectionRecord=Te=>({deviceInfo:Te,deviceLabel:Te.label,selected:null,used:null})}}c(ce,"DeviceSelectionRecordsStore");let X;const V=c(()=>(X||(X=new ce),X),"getDeviceSelectionRecordStore");class x{constructor(){this.logger=E,this.deviceSelectionRecords=V(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[s.Microphone]:!1,[s.Camera]:!1,[s.Speakers]:!1},this.osDefaultDevices={[s.Microphone]:null,[s.Camera]:null,[s.Speakers]:null},this.prioritizedDeviceLists={[s.Microphone]:[],[s.Camera]:[],[s.Speakers]:[]};var Te=this;this.init=function(){var ke=(0,t.coroutine)(function*(se){let{teamId:ve,useDevicesExp:Me}=se;if(Te.deviceSelectionRecords.init(),ve!==Te.currentTeamId){Te.useDevicesExp=Me,Te.useDevicesExp&&Te.logger.info("Initializing device preferences manager with experimental features"),Te.currentTeamId=ve,Te.dispatch=(0,Ie.getStoreInstanceByTeamId)(ve).dispatch;try{yield Te.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",Te.handleDeviceListChange)}catch(be){Te.logger.error("Error initializing device preferences manager",be)}}});return function(se){return ke.apply(this,arguments)}}();var ge=this;this.refreshAvailableDevices=(0,t.coroutine)(function*(){yield ge.updateAvailableDevices()}),this.getPreferredDeviceOfType=ke=>this.getPrioritizedDeviceListOfType(ke)[0],this.getPrioritizedDeviceListOfType=ke=>this.prioritizedDeviceLists[ke],this.recordDeviceSelected=(ke,se)=>{try{const{deviceId:ve,deviceLabel:Me}=this.lookupDeviceDetailsById(ke,se);if(!ve){this.logger.warn("Device record not found for selected device id",ke);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:ve,kind:se})){this.logger.warn("No device selection record found for device id",ve);return}this.logger.info(`Reporting ${se} device selected, label: ${Me}, id: ${ve}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:ve,kind:se}),this.propagateUpdateToExternalStores()}catch(ve){this.logger.error("Error reporting device selected",ve)}},this.recordDeviceUsed=(ke,se)=>{try{const{deviceId:ve,deviceLabel:Me}=this.lookupDeviceDetailsById(ke,se);if(!ve){this.logger.warn("Device record not found for used device id",ke);return}this.logger.info(`Reporting ${se} device used, label: ${Me}, id: ${ve}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:ve,kind:se}),this.propagateUpdateToExternalStores()}catch(ve){this.logger.error("Error reporting device used",ve)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{te({})},this.lookupDeviceDetailsById=(ke,se)=>{(0,m.A)(this.prioritizedDeviceLists[se])&&this.updateAvailableDevices();const ve={deviceId:null,deviceLabel:null},Me=I(ke)?this.osDefaultDevices[se]:ke;if(Me&&I(Me)&&this.logger.warn(`OS default device id (${ke}) used for details. This should not happen`),!Me)return this.logger.warn("Device record not found for device id",Me),ve;ve.deviceId=Me;const be=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:Me,kind:se}),xe=k(be);return xe?(ve.deviceLabel=xe,ve):(this.logger.warn("Device record not found for device id",Me),ve)};var Ae=this;this.updateAvailableDevices=(0,t.coroutine)(function*(){if(Ae.updatingAvailableDevicesPromise)return Ae.logger.info("Available devices update already in progress. Returning existing promise."),Ae.updatingAvailableDevicesPromise;const ke=function(){var se=(0,t.coroutine)(function*(ve){try{Ae.logger.info("Updating available devices");const Me=yield i.J.navigator.mediaDevices.enumerateDevices();Ae.logger.info(`Available devices ${JSON.stringify(Me,null,2)}`),Ae.availableDevices=G(Me),Ae.updateDeviceRecords(Ae.availableDevices),Ae.logger.info("Updated device records after device list update. Propagating update"),Ae.propagateUpdateToExternalStores(),ve()}catch(Me){Ae.logger.error("Error updating available devices",Me),ve()}finally{Ae.updatingAvailableDevicesPromise=null}});return c(function(Me){return se.apply(this,arguments)},"updateFn")}();return Ae.updatingAvailableDevicesPromise=new Promise(ke),Ae.updatingAvailableDevicesPromise});var Re=this;this.waitForDeviceListUpdate=(0,t.coroutine)(function*(){yield Re.updateAvailableDevices()}),this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(s.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[s.Microphone]),this.updatePrioritizedDeviceListOfType(s.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[s.Camera]),this.updatePrioritizedDeviceListOfType(s.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[s.Speakers])};var Be=this;this.handleDeviceListChange=(0,l.A)((0,t.coroutine)(function*(){try{Be.logger.info(`Device list change event received at ${Date.now()}`),yield Be.updateAvailableDevices()}catch(ke){Be.logger.error("Error handling device list change event",ke)}}),1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateDeviceRecords=ke=>{(0,_.A)(ke,se=>{if(!se.deviceId||I(se.deviceId))return;const ve=this.deviceSelectionRecords.hasRecordForDevice(se),Me=this.deviceSelectionRecords.getFormattedLabelForRecord(se),be=this.deviceSelectionRecords.getDeviceInfoForRecord(se);if(ve&&be&&be.kind!==se.kind){this.logger.warn(`device id collision between ${be.kind} device (${be.label}) and ${se.kind} device (${se.label})`);return}if(ve&&se.label&&Me!==se.label&&(this.deviceSelectionRecords.updateDeviceInfo(se),this.logger.info(`Device label updated from ${Me} to ${se.label}`)),ve?(this.logger.debug(`Device history record found for ${se.label} ${se.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(se)):(this.logger.info(`Creating new device history record for ${se.label} ${se.deviceId}`),this.deviceSelectionRecords.createRecord(se)),D(se,ke)&&this.osDefaultDevices[se.kind]!==se.deviceId){var Le;const He=((Le=this.getPreferredDeviceOfType(se.kind))===null||Le===void 0?void 0:Le.deviceId)===this.osDefaultDevices[se.kind];this.osDefaultDevices[se.kind]=se.deviceId,this.logger.info(`OS default device updated for ${se.kind}: ${se.label} ${se.deviceId}`),He&&(this.logger.info(`Preferred ${se.kind} OS default has changed to: ${se.label} ${se.deviceId}. Recording as selected.`),this.recordDeviceSelected(se.deviceId,se.kind))}})},this.updatePrioritizedDeviceListOfType=ke=>{var se,ve;let Me=null;const be=[],xe=[],Le=[],Ke=[];this.availableDevices.forEach(st=>{const ot=st.deviceId===this.osDefaultDevices[st.kind];if(st.kind!==ke||I(st.deviceId))return;const ct=this.deviceSelectionRecords.getDeviceInfoForRecord(st);if(!ct){this.logger.error("No selection record found for device",st);return}if(!L(ct)){if(this.deviceSelectionRecords.wasDeviceSelected(ct)){be.push(ct);return}if(this.deviceSelectionRecords.wasDeviceUsed(ct)){xe.push(ct);return}if(P(ct)){Le.push(ct);return}if(ot){Me=ct;return}Ke.push(ct)}});const He=[];He.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(be)),He.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(xe)),He.push(Me),He.push(...this.deviceSelectionRecords.sortDevicesByLabel(Ke)),He.push(...Le);const Ye=(0,v.A)(He).filter(Boolean),Xe=(se=(0,u.A)(Ye))===null||se===void 0?void 0:se.deviceId;return Xe&&Xe!==((ve=this.prioritizedDeviceLists[ke][0])===null||ve===void 0?void 0:ve.deviceId)&&(this.enqueuedPreferenceUpdates[ke]=!0),Ye&&(this.prioritizedDeviceLists[ke]=Ye),Ye},this.updateDevicesInHuddle=()=>{const ke=c(se=>{var ve;const Me=(ve=this.getPreferredDeviceOfType(se))===null||ve===void 0?void 0:ve.deviceId;!Me||!this.enqueuedPreferenceUpdates[se]||(this.enqueuedPreferenceUpdates[se]=!1,(0,Ie.dispatchForClientStore)((0,he.HC)({id:Me,type:d(se)})),this.logger.info(`Setting preferred ${se} device in huddle`,Me))},"maybeApplyPreference");ke(s.Microphone),ke(s.Speakers),ke(s.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,le.Fb)(void 0)),this.updateDevicesInHuddle()}}}c(x,"DevicePreferencesManager");const S=new x,U={printDeviceSelectionRecords:()=>{const ye=V().getAllRecordsForTesting(),Te=(0,h.A)(ye,ge=>{var Ae;return{deviceId:ge.deviceInfo.deviceId,label:ge.deviceLabel,type:ge.deviceInfo.kind,"is preferred":((Ae=S.getPreferredDeviceOfType(ge.deviceInfo.kind))===null||Ae===void 0?void 0:Ae.deviceId)===ge.deviceInfo.deviceId,"last selected":ge.selected?ge.selected.toString():"Never selected","last used":ge.used?ge.used.toString():"Never used","is available":!!S.getPrioritizedDeviceListOfType(ge.deviceInfo.kind).find(Re=>Re.deviceId===ge.deviceInfo.deviceId),"is OS default":ge.deviceInfo.deviceId===S.getOSDefaults()[ge.deviceInfo.kind],groupId:ge.deviceInfo.groupId}});console.log("Device selection records"),console.table(Te)},printPreferredMicrophone:()=>{const ye=S.getPreferredDeviceOfType(s.Microphone);console.log("Preferred microphone",ye)},printPreferredCamera:()=>{const ye=S.getPreferredDeviceOfType(s.Camera);console.log("Preferred camera",ye)},printPreferredSpeakers:()=>{const ye=S.getPreferredDeviceOfType(s.Speakers);console.log("Preferred speakers",ye)},printPrioritizedDeviceLists:()=>{const ye=(0,h.A)(S.getOSDefaults(),(Te,ge)=>S.getPrioritizedDeviceListOfType(ge));(0,_.A)(ye,(Te,ge)=>{const Ae=Te.map(Re=>({deviceId:Re.deviceId,label:Re.label,groupId:Re.groupId}));console.log(`Prioritized list for ${ge}`),console.table(Ae)})},printRawDeviceList:(0,t.coroutine)(function*(){const ye=yield i.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),ye.forEach(Te=>{console.log(Te)})}),printDebugInfo:()=>{U.printDeviceSelectionRecords(),U.printPrioritizedDeviceLists(),U.printPreferredMicrophone(),U.printPreferredCamera(),U.printPreferredSpeakers(),U.printRawDeviceList()},clearDeviceSelectionRecords:()=>{S.clearDeviceSelectionRecords(),i.J.location.reload()}};(0,a.ul)("devices",U);const F=S;let Z=null;const z=function(){var ye=(0,t.coroutine)(function*(Te){let{teamId:ge,useDevicesExp:Ae}=Te;!ge||Z===ge||(Z=ge,yield F.init({teamId:ge,useDevicesExp:Ae}))});return c(function(ge){return ye.apply(this,arguments)},"initializeDevicePreferences")}(),$=c((ye,Te)=>{if(!Z)return;const ge=r(Te);F.recordDeviceUsed(ye,ge)},"reportDeviceUsed"),ee=c((ye,Te)=>{if(!Z)return;const ge=r(Te);F.recordDeviceSelected(ye,ge)},"reportDeviceSelected"),de=c(()=>{if(!Z)return;const ye=F.getPrioritizedDeviceListOfType(s.Microphone)||[],Te=F.getPrioritizedDeviceListOfType(s.Camera)||[],ge=F.getPrioritizedDeviceListOfType(s.Speakers)||[];return{[n.lW.Microphone]:ye.map(o),[n.lW.Camera]:Te.map(o),[n.Q4]:ge.map(o)}},"getPrioritizedDeviceLists"),ie=function(){var ye=(0,t.coroutine)(function*(){Z&&(yield F.refreshAvailableDevices())});return c(function(){return ye.apply(this,arguments)},"refreshDeviceListsOnDevicePermissionsUpdate")}(),ue=c(ye=>{if(!Z)return;const Te=mapDeviceTypeToDeviceKind(ye);return devicePreferencesManager.getPrioritizedDeviceListOfType(Te).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),fe=c(ye=>{if(!Z)return;const Te=r(ye),ge=F.getPreferredDeviceOfType(Te);if(ge)return o(ge)},"getPreferredDeviceOfType"),re=function(){var ye=(0,t.coroutine)(function*(){Z&&(yield F.waitForDeviceListUpdate())});return c(function(){return ye.apply(this,arguments)},"waitForDeviceListUpdate")}(),_e=c(()=>{var ye;return((ye=fe(n.Q4))===null||ye===void 0?void 0:ye.id)||"default"},"getPreferredAudioSinkId"),Ue=c(()=>!!Z,"isDevicePreferencesManagerInitialized")},63202349:(Q,C,e)=>{"use strict";e.d(C,{k:()=>o});var t=e(6664301844),n=e(2825968873),s=e(6926388022),r=e(4423055085);const d={debug:0,info:1,warn:2,error:3,action:0};class o{debug(i){if(!(this.level>t.$b.DEBUG||!o.debugLogsEnabled))if(typeof i=="string"){const m=i;this.consoleLogger.debug(m)}else{const m=i();this.consoleLogger.debug(m)}}info(i){this.level>t.$b.INFO||this.consoleLogger.info(i)}warn(i){this.level>t.$b.WARN||this.consoleLogger.warn(i)}error(i){this.level>t.$b.ERROR||this.callLogger.error(i)}setLogLevel(i){this.level=i}getLogLevel(){return this.level}getName(){return this.name}constructor(i,m){this.name=i,this.level=m||d[(0,s.XM)()],this.consoleLogger=(0,n.Cc)(i),this.callLogger=(0,n.Jt)(i)}}c(o,"FreeWillyLogger"),o.debugLogsEnabled=!1,(0,r.ul)("toggleChimeDebugLogs",()=>{o.debugLogsEnabled=!o.debugLogsEnabled})},1930424451:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>Et});var t=e(9706240641),n=e(1649982175),s=e(3750057149),r=e(6664301844),d=e(5741354339),o=e(8445020572),a=e(2825968873),i=e(8736071954),m=e(7561130599),l=e(4708000837),_=e(462591818),v=e(9268023148),u=e(3078252698),h=e(2003990933),f=e(571104883),p=e(8872167513),E=e(2709531527),g=e(6246464105),A=e(9853754481);let y=c(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,A.n2)(this.data)/A.Ep}constructor(oe){this.analyserNode=oe,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var T=e(9009528296);const M=300;class O{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser(oe){this.previewAudioAnalyser=oe}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&T.A.subscriberCount>0&&T.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,M)},this.monitorAudioLevel()}}c(O,"AudioLevelMonitor");function I(je,oe){let{skipIntermediatePendingRuns:pe=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=!1,Ne=[];const lt=function(){var dt=(0,t.coroutine)(function*(){for(var it=arguments.length,kt=new Array(it),$t=0;$t<it;$t++)kt[$t]=arguments[$t];if(Se){pe&&(Ne=[]);const In=(0,d.u)();return Ne.push({args:kt,deferred:In}),In}Se=!0;const ln=yield oe.call(je,...kt);Se=!1;const An=Ne.shift();return An&&lt(...An.args).then(An.deferred.resolve).catch(An.deferred.reject),ln});return c(function(){return dt.apply(this,arguments)},"run")}();return lt}c(I,"serialGuard");var D=e(3496486794),P=e(6673728906);class L{initialize(oe){let{preferredDeviceId:pe}=oe;var Se,Ne,lt,dt,it,kt,$t,ln,An,In,Nn,kn,Zn,_s;if(!(!((Se=this.defaultDeviceController)===null||Se===void 0||(Ne=Se.activeDevices)===null||Ne===void 0||(lt=Ne.audio)===null||lt===void 0||(dt=lt.stream)===null||dt===void 0)&&dt.getAudioTracks))return;const Ts=this.defaultDeviceController;if(!(!((it=this.defaultDeviceController)===null||it===void 0||(kt=it.activeDevices)===null||kt===void 0||($t=kt.audio)===null||$t===void 0||(ln=$t.stream)===null||ln===void 0)&&ln.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const Ms=Ts.activeDevices.audio.stream.getAudioTracks();if(Ms.length===1)this.audioInputTrack=Ms[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(An=this.audioInputTrack)===null||An===void 0||An.addEventListener("mute",this.onMute),(In=this.audioInputTrack)===null||In===void 0||In.addEventListener("unmute",this.onUnmute),(Nn=this.audioInputTrack)===null||Nn===void 0||Nn.addEventListener("ended",this.onEnded),!((kn=this.audioInputTrack)===null||kn===void 0)&&kn.muted?this.onMute():this.onUnmute();const ls=(_s=(Zn=this.audioInputTrack)===null||Zn===void 0?void 0:Zn.getSettings())===null||_s===void 0?void 0:_s.deviceId;if(!ls){this.logger.warn("No deviceId found for audio input track");return}ls!==pe?this.logger.warn(`Used audio input track device id (${ls}) does not match the preferred device id (${pe}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${pe})`),(0,P.cT)(ls,i.lW.Microphone)}tearDown(){var oe,pe,Se;(oe=this.audioInputTrack)===null||oe===void 0||oe.removeEventListener("mute",this.onMute),(pe=this.audioInputTrack)===null||pe===void 0||pe.removeEventListener("unmute",this.onUnmute),(Se=this.audioInputTrack)===null||Se===void 0||Se.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(oe,pe,Se){this.defaultDeviceController=oe,this.observer=pe,this.logger=Se,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}c(L,"AudioInputTrackHandler");var k;(function(je){je.Blur="BLUR",je.Image="IMAGE",je.None="NONE"})(k||(k={}));class G{constructor({backgroundEffect:oe}){this.filterCPUUtilizationHigh=pe=>{const{cpuUtilization:Se,filterMillis:Ne,periodMillis:lt}=pe;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${Se} - spent ${Ne}ms of last ${lt}ms processing video background`)},this.filterFrameDurationHigh=pe=>{const{framesDropped:Se,avgFilterDurationMillis:Ne,framerate:lt,periodMillis:dt}=pe;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${lt}, frames dropped: ${Se}, spent ${Ne}ms of last ${dt}ms processing video background`)},this.callLogger=(0,a.Jt)(`VIDEO-BACKGROUND-${oe}`)}}c(G,"VideoBackgroundObserver");const b=G;var W=e(5071086688),B=e(5470425448),R=e(1473609332),j=e(9195837907),w=e(416787925),N=e(7149946954);class K{load(){var oe=this;return(0,t.coroutine)(function*(){if(oe.url.origin===window.location.origin)return new Worker(oe.url,oe.options);const Se=yield(yield fetch(oe.url)).text(),Ne=new Blob([Se],{type:"application/javascript"}),lt=URL.createObjectURL(Ne);return new Worker(lt,oe.options)})()}constructor(oe,pe){this.url=oe,this.options=pe}}c(K,"CORSWorker");class J{intrinsicDevice(){var oe=this;return(0,t.coroutine)(function*(){return oe.device})()}stop(){var oe=this;return(0,t.coroutine)(function*(){var pe;oe.generatorVideoTrack.stop(),(pe=oe.inputMediaStream)===null||pe===void 0||pe.getTracks().forEach(Se=>Se.stop()),(yield oe.worker).terminate()})()}onOutputStreamDisconnect(){if(this.generatorVideoTrack.stop(),!(this.device instanceof MediaStream)){var oe;(oe=this.inputMediaStream)===null||oe===void 0||oe.getTracks().forEach(pe=>pe.stop())}}transformStream(oe){var pe=this;return(0,t.coroutine)(function*(){if(pe.inputMediaStream=oe,oe){const Se=new MediaStreamTrackProcessor({track:oe.getVideoTracks()[0]});(yield pe.worker).postMessage({type:"init",input:Se.readable,output:pe.generatorVideoTrack.writable,width:oe.getVideoTracks()[0].getSettings().width,height:oe.getVideoTracks()[0].getSettings().height,bgImg:pe.bgImg},[Se.readable,pe.generatorVideoTrack.writable,...pe.bgImg?[pe.bgImg]:[]])}return pe.outputMediaStream})()}constructor(oe,pe){this.device=oe,this.bgImg=pe,this.worker=new K(new URL(e.p+e.u("js_modern_app_free-willy_free-willy-sdk_filter-worker_background-worker_ts"),e.b)).load(),this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack])}}c(J,"BackgroundWorkerVideoTransformDevice");var Y=e(5221945366),q;(function(je){je.START_PREVIEW="start-preview",je.STOP_PREVIEW="stop-preview",je.ENABLE="enable",je.DISABLE="disable"})(q||(q={}));const H=1e4,ne=30,te="medium",le=!0,he=50;let Ie=c(class{shutdown(){var oe=this;return(0,t.coroutine)(function*(){var pe,Se,Ne;if(oe.isShuttingDown=!0,oe.voiceFocusDevice){var lt;yield oe.voiceFocusDevice.stop(),yield(lt=oe.voiceFocusManager)===null||lt===void 0?void 0:lt.tearDown(),oe.voiceFocusDevice=void 0}oe.audioVideoFacade.removeDeviceChangeObserver(oe),oe.audioVideoFacade.stopLocalVideoTile(),yield oe.audioVideoFacade.stopVideoInput(),yield oe.audioVideoFacade.stopAudioInput(),oe.audioVideoFacade.unbindAudioElement(),oe.removeAudioElementErrorHandler(),yield oe.clearVideoTransformDeviceRefs(),oe.audioInputDeviceRefreshTimer&&(clearTimeout(oe.audioInputDeviceRefreshTimer),oe.audioInputDeviceRefreshTimer=null),oe.videoInputDeviceRefreshTimer&&(clearTimeout(oe.videoInputDeviceRefreshTimer),oe.videoInputDeviceRefreshTimer=null),oe.cameraMetricsTimeout&&(clearTimeout(oe.cameraMetricsTimeout),oe.cameraMetricsTimeout=null),yield(Se=(pe=(0,r._R)())===null||pe===void 0?void 0:pe.getAudioContext())===null||Se===void 0?void 0:Se.suspend(),oe.callLogger.info("Audio context suspended"),(Ne=oe.audioLevelMonitor)===null||Ne===void 0||Ne.stop(),delete oe.audioLevelMonitor,oe.callLogger.info("Device manager shutdown complete")})()}init(){var oe=this;return(0,t.coroutine)(function*(){yield oe.refreshMediaDeviceInfo(),yield oe.determineInitialMicrophonePermissionState(),oe.enumerateDevices(),oe.logDevices(),yield oe.updateMicrophone(),yield oe.updateSpeaker(),oe.isCameraEnabled&&(yield oe.updateCamera())})()}determineInitialMicrophonePermissionState(){var oe=this;return(0,t.coroutine)(function*(){if((0,f.y3)()){yield oe.determineInitialMicrophonePermissionStateForDesktop();return}yield oe.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var oe=this;return(0,t.coroutine)(function*(){const{status:pe}=N.Ay.canAccessMediaResource(_.mT.MICROPHONE);let Se;(pe===i.eJ.Prompt||pe===i.eJ.NotDetermined||pe===i.eJ.Unknown)&&(yield oe.audioVideoFacade.listAudioInputDevices(!0),Se=N.Ay.canAccessMediaResource(_.mT.MICROPHONE).status),(pe===i.eJ.Denied||Se===i.eJ.Denied)&&(oe.observer.onBrowserMediaDeviceAccessDenied(_.mT.MICROPHONE),oe.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),oe.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var oe=this;return(0,t.coroutine)(function*(){const pe=yield oe.maybeCheckSystemMediaAccess(_.mT.MICROPHONE);(0,f.j9)()||(0,f.uF)()&&!oe.options.useGetMediaAccessCheckForWindows||pe&&(pe==null?void 0:pe.status)!==i.eJ.Granted&&(oe.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),oe.isStartMutedBarrierActive=!0)})()}setAGC(oe){var pe=this;return(0,t.coroutine)(function*(){pe.prefs.audio&&pe.prefs.audio.enableAGC!==oe&&(pe.callLogger.info(`AGC setting changed: ${oe}`),pe.prefs.audio.enableAGC=oe,(0,R.i4)(pe.prefs),yield pe.updateMicrophone())})()}setPreferredDevice(oe,pe){var Se=this;return(0,t.coroutine)(function*(){switch(pe){case i.lW.Microphone:yield Se.updateMicrophone();break;case i.Q4:yield Se.updateSpeaker();break;case i.lW.Camera:Se.isCameraEnabled&&(yield Se.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(oe){var pe=this;return(0,t.coroutine)(function*(){pe.enumerateDevices(),yield pe.updateCamera()})()}setVideoBackgroundEffect(oe){let{effect:pe,effectBgKey:Se}=oe;var Ne=this;return(0,t.coroutine)(function*(){Ne.prefs.video&&(Ne.callLogger.info(`Video background effect changed: ${pe}`),Ne.prefs.video.effect=pe,Ne.prefs.video.effectBgKey=Se,(0,R.i4)(Ne.prefs),Ne.isCameraEnabled&&(yield Ne.updateCamera()))})()}setNoiseSuppression(oe){var pe=this;return(0,t.coroutine)(function*(){pe.prefs.audio&&pe.prefs.audio.enableNoiseSuppression!==oe&&(pe.callLogger.info(`Noise suppression setting changed: ${oe}`),pe.prefs.audio.enableNoiseSuppression=oe,(0,R.i4)(pe.prefs),yield pe.updateMicrophone())})()}setStartMutedBarrier(oe){var pe=this;return(0,t.coroutine)(function*(){pe.isStartMutedBarrierActive=oe})()}setMicrophone(oe){var pe=this;return(0,t.coroutine)(function*(){var Se;if(pe.voiceFocusManager&&(yield pe.voiceFocusManager.setMute(oe)),!oe){var Ne;pe.audioVideoFacade.realtimeMuteLocalAudio(),(Ne=pe.huddleEventsTrace)===null||Ne===void 0||Ne.update({name:E.p.MICROPHONE,type:E.G.STOP});return}pe.isStartMutedBarrierActive&&(pe.callLogger.info("Releasing start muted barrier"),pe.isStartMutedBarrierActive=!1),pe.audioVideoFacade.realtimeUnmuteLocalAudio(),(Se=pe.huddleEventsTrace)===null||Se===void 0||Se.update({name:E.p.MICROPHONE,type:E.G.START})})()}requestPreviewStreamForDeviceId(oe,pe,Se){pe===i.lW.Camera&&this.handleCameraChanges({type:q.START_PREVIEW,deviceId:oe,videoElement:Se})}stopVideoPreviewForVideoInput(oe){this.handleCameraChanges({type:q.STOP_PREVIEW,videoElement:oe||this.cameraPreviewVideoElement})}setCamera(oe){oe!==this.isCameraEnabled&&(this.isCameraEnabled=oe,this.isCameraEnabled?(this.handleCameraChanges({type:q.ENABLE}),this.maybeCheckSystemMediaAccess(_.mT.CAMERA)):this.handleCameraChanges({type:q.DISABLE}))}setCameraQuality(oe,pe,Se,Ne){this.callLogger.info(`Camera quality settings changed: ${oe}x${pe}@${Se}fps ${Ne}kbps`),this.audioVideoFacade.chooseVideoInputQuality(oe,pe,Se),this.audioVideoFacade.setVideoMaxBandwidthKbps(Ne)}audioVideoDidStart(){return(0,t.coroutine)(function*(){})()}localVideoTileDidUpdate(oe){(!oe.boundVideoStream||!oe.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${oe.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!oe.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var oe=this;return(0,t.coroutine)(function*(){if(!oe.isAudioOutputElementBound&&oe.audioOutputElement){try{yield oe.audioVideoFacade.bindAudioElement(oe.audioOutputElement)}catch(pe){oe.callLogger.info(`bindAudioElement failed: error: ${pe.name}, message: ${pe.message}`);return}oe.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(oe){var pe=this;return(0,t.coroutine)(function*(){if(!(0,f.y3)()){const{status:Se}=N.Ay.canAccessMediaResource(oe);if(Se===i.eJ.Granted)return{isAvailable:!1,status:i.eJ.Granted}}if((0,f.cX)()||pe.options.useGetMediaAccessCheckForWindows&&(0,f.uF)())try{const Se=N.Ay.canAccessMediaResource(oe);if(pe.callLogger.info(`DeviceManager::getMediaAccessStatus ${oe} electron API available: ${Se.isAvailable} and status: ${Se.status}`),!Se.isAvailable)return{isAvailable:!1,status:i.eJ.NotDetermined};if(Se.status===i.eJ.Granted)return pe.observer.onDeviceAccessApproved(oe),Se;let Ne;return Se.status===i.eJ.NotDetermined&&(Ne=oe==="screen"?null:yield N.Ay.requestMediaAccess(oe),pe.callLogger.info(`DeviceManager::askForMediaAccess ${oe} electron API available: ${!!(Ne!=null&&Ne.isAvailable)} and isConsentGranted: ${Ne==null?void 0:Ne.isGranted}`),oe!=="screen"&&(Ne!=null&&Ne.isGranted))?(pe.observer.onDeviceAccessApproved(oe),{status:i.eJ.Granted,isAvailable:!0}):((Se.status===i.eJ.Denied||Ne&&!Ne.isGranted)&&(pe.micPermissionDenied=!0,pe.observer.onCheckSystemMediaAccess(oe)),Se)}catch(Se){pe.callLogger.info(`DeviceManager::Error retrieving system access for ${oe}: ${Se}`)}return{isAvailable:!1,status:i.eJ.NotDetermined}})()}audioInputMuteStateChanged(oe,pe){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${oe}, ${pe?"muted":"unmuted"}`)}audioInputStreamEnded(oe){var pe;oe&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((pe=(0,P.Nj)(i.lW.Microphone))===null||pe===void 0?void 0:pe.id)===oe&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(_.mT.MICROPHONE)))}videoInputStreamEnded(oe){var pe=this;return(0,t.coroutine)(function*(){oe&&(pe.callLogger.info("DeviceManager::videoInputStreamEnded"),pe.observer.onSetNoMediaInput(_.mT.CAMERA))})()}logDevices(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.LL;const pe=(0,P.T5)();if(!pe){this.callLogger.error("No devices found");return}(0,w.my)(this.callLogger,pe,oe)}getPreferredDevice(oe){return(0,P.Nj)(oe)}enumerateDevices(){const oe=(0,P.T5)();if(!oe){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated(oe)}handleCameraChanges(oe){var pe=this;return(0,t.coroutine)(function*(){switch(oe.type){case q.START_PREVIEW:yield pe.runCameraActivityStartPreview(oe);break;case q.STOP_PREVIEW:yield pe.runCameraActivityStopPreview(oe);break;case q.ENABLE:yield pe.runCameraActivityEnable();break;case q.DISABLE:yield pe.runCameraActivityDisable();break;default:break}})()}updateMicrophone(){var oe=this;return(0,t.coroutine)(function*(){const pe=oe.getPreferredDevice(i.lW.Microphone);if(!pe){oe.callLogger.info("No audio input device found");return}const{id:Se,label:Ne}=pe;if(oe.micPermissionDenied&&(oe.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),oe.hasRetriedAudioInit))return;oe.callLogger.info(`Selected audio input device: ${pe.label||pe.id}, deviceId: ${Se}, deviceLabel: ${Ne}`);const dt={autoGainControl:oe.prefs.audio?oe.prefs.audio.enableAGC:!0,deviceId:Se};let it=!0;if(oe.voiceFocusManager&&oe.voiceFocusManager.isAvailable()&&(oe.prefs.audio&&oe.prefs.audio.enableNoiseSuppression)){if(oe.voiceFocusDevice||(oe.voiceFocusDevice=yield oe.voiceFocusManager.getTransformDevice()),oe.voiceFocusDevice){const kt=yield oe.voiceFocusDevice.chooseNewInnerDevice(dt);oe.voiceFocusDevice=kt}oe.voiceFocusDevice||(it=!1)}else it=!1;oe.voiceFocusDevice&&(0,g.Y)({name:g.R1.VoiceFocusDevice,ref:oe.voiceFocusDevice}),oe.callLogger.info("Noise suppression:",it?"enabled":"disabled");try{if(oe.isStartMutedBarrierActive&&(oe.callLogger.info("Start muted barrier active"),oe.audioVideoFacade.realtimeMuteLocalAudio()),it)if(oe.voiceFocusDevice)yield oe.initAudioInput(oe.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(dt.noiseSuppression=!0),yield oe.initAudioInput(dt)}catch(kt){oe.callLogger.error(`chooseAudioInputDevice failed: error: ${kt.name}, message: ${kt.message}`),yield oe.handleAudioInitError(kt);return}oe.hasRetriedAudioInit&&(oe.callLogger.info("Microphone initialized successfully after retry"),oe.hasRetriedAudioInit=!1),oe.initAudioAnalyserForPreview(),oe.setupAudioInputTrackHandler({preferredDeviceId:Se}),!(yield oe.isMediaPermissionDeniedOnWindows(_.mT.MICROPHONE))&&(oe.observer.onSelfPermissionUpdated(oe.micPermissionDenied,i.lW.Microphone),oe.attemptToInitMicrophoneNative(pe.label))})()}updateSpeaker(){var oe=this;return(0,t.coroutine)(function*(){const pe=oe.getPreferredDevice(i.Q4);if(!pe){oe.callLogger.info("No audio output device found");return}const{id:Se,label:Ne}=pe;oe.callLogger.info(`Selected audio output device id: ${pe.label||pe.id}, deviceId: ${Se}, deviceLabel: ${Ne}`),yield oe.audioVideoFacade.chooseAudioOutput(Se),oe.observer.onOutputDeviceChanged({id:pe.id,type:i.Q4}),(0,P.i_)(Se,i.Q4)})()}updateCamera(){var oe=this;return(0,t.coroutine)(function*(){const pe=oe.getPreferredDevice(i.lW.Camera);if(!pe){oe.callLogger.info("No video input device found");return}oe.callLogger.info(`Selected video input device id: ${pe.label||pe.id}`);try{yield oe.setCameraVideoInputDevice(pe)}catch(Se){oe.callLogger.info(`chooseVideoInputDevice failed: error: ${Se.name}, message: ${Se.message}`),Se instanceof r.Ll?oe.observer.onSelfPermissionUpdated(!0,i.lW.Camera):oe.observer.onSelfPermissionUpdated(!1,i.lW.Camera);return}(yield oe.isMediaPermissionDeniedOnWindows(_.mT.CAMERA))||oe.observer.onSelfPermissionUpdated(!1,i.lW.Camera)})()}setCameraVideoInputDevice(oe){var pe=this;return(0,t.coroutine)(function*(){if(yield pe.clearVideoTransformDeviceRefs(),pe.options.backgroundVideoFilteringSetting===i.uT.NONE){yield pe.initVideoInput(oe.id);return}switch(pe.prefs.video.effect){case j.t.Blur:{yield pe.setCameraVideoInputDeviceWithBackgroundBlurFilter(oe);break}case j.t.Background:{pe.options.backgroundVideoFilteringSetting!==i.uT.Both?yield pe.initVideoInput(oe.id):yield pe.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:oe,selectedBackgroundImageKey:pe.prefs.video.effectBgKey});break}default:{yield pe.initVideoInput(oe.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(oe){let{videoDevice:pe,selectedBackgroundImageKey:Se}=oe;var Ne=this;return(0,t.coroutine)(function*(){const lt=pe.label||pe.id;if(Se===void 0){Ne.callLogger.info(`No background image key provided id: ${lt}`),yield Ne.initVideoInput(pe.id);return}const it=D.g.find(Zn=>Zn.key===Se);if(it===void 0)return Ne.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",pe);Ne.callLogger.info(`Enabling video input device with background image filter id: ${lt}`);const $t=yield(yield fetch(it.url)).blob();if(Ne.options.useHuddlesFilterWorker){const Zn=yield createImageBitmap($t),_s=new J(pe.id,Zn);Ne.setVideoTransformDeviceRefs({transformDevice:_s,processors:[]}),yield Ne.initVideoInput(_s),yield Ne.cleanupTransformDevicesAndCameraIfShuttingdown();return}const ln=(0,r.jq)(),An=(0,r.px)(),In=[];if(!(yield r.i3.isSupported(Ne.chimeLogger))&&le)return Ne.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",pe);if(!(yield An.isSupported())&&!le)return Ne.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",pe);if(Ne.isShuttingDown)return;const Nn={...Ne.defaultVideoProcessorOptions,imageBlob:$t};if(le){if(Ne.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:te},backgroundReplacement:{isEnabled:!0,backgroundImageURL:it.url,defaultColor:void 0}},Ne.videoFxProcessor=yield r.i3.create(Ne.chimeLogger,Ne.videoFxConfig,he),!Ne.videoFxProcessor)return Ne.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",pe);Ne.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${lt}`),In.push(Ne.videoFxProcessor)}else{const Zn=yield An.create(void 0,Nn);if(Zn)Ne.setupVideoBackgroundFrameProcessor({processor:Zn,backgroundEffect:k.Image}),In.push(Zn);else return Ne.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",pe)}Ne.callLogger.info(`Enabling video input device with background image replacement id: ${lt}`);const kn=new ln(Ne.chimeLogger,pe.id,In);Ne.setVideoTransformDeviceRefs({transformDevice:kn,processors:In}),yield Ne.initVideoInput(kn),yield Ne.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(oe,pe){var Se=this;return(0,t.coroutine)(function*(){const Ne=pe.label||pe.id;Se.callLogger.info(`${oe}: ${Ne}`),yield Se.initVideoInput(pe.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(oe){var pe=this;return(0,t.coroutine)(function*(){const Se=(0,r.jq)(),Ne=(0,r.kM)(),lt=oe.label||oe.id;if(pe.callLogger.info(`Enabling video input device with background blur filter id: ${lt}`),pe.options.useHuddlesFilterWorker){const kt=new J(oe.id);pe.setVideoTransformDeviceRefs({transformDevice:kt,processors:[]}),yield pe.initVideoInput(kt),yield pe.cleanupTransformDevicesAndCameraIfShuttingdown();return}const dt=[];if(le){if(!(yield r.i3.isSupported(pe.chimeLogger)))return pe.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",oe);if(pe.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:te},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},pe.videoFxProcessor=yield r.i3.create(pe.chimeLogger,pe.videoFxConfig,he),!pe.videoFxProcessor)return pe.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",oe);pe.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${lt}`),dt.push(pe.videoFxProcessor)}else{if(!(yield Ne.isSupported()))return pe.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",oe);const kt={...pe.defaultVideoProcessorOptions,blurStrength:15},$t=yield Ne.create(void 0,kt);if(!$t)return pe.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",oe);pe.setupVideoBackgroundFrameProcessor({processor:$t,backgroundEffect:k.Blur}),dt.push($t)}pe.callLogger.info(`Enabling video input device with background blur filter id: ${lt}`);const it=new Se(pe.chimeLogger,oe.id,dt);pe.setVideoTransformDeviceRefs({transformDevice:it,processors:dt}),yield pe.initVideoInput(it),yield pe.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var oe=this;return(0,t.coroutine)(function*(){oe.isShuttingDown&&(oe.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield oe.audioVideoFacade.stopVideoInput(),yield oe.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var oe=this;return(0,t.coroutine)(function*(){const Se=(yield oe.audioVideoFacade.listVideoInputDevices()).length>0;return Se||oe.observer.onSelfPermissionUpdated(!0,i.lW.Camera),oe.prefs=(0,R.Bh)(),oe.enumerateDevices(),Se})()}runCameraActivityStartPreview(oe){var pe=this;return(0,t.coroutine)(function*(){const Se=oe.deviceId,Ne=oe.videoElement;!Se||!Ne||(pe.cameraPreviewVideoElement=Ne,yield pe.setPreferredCameraDeviceForPreview(Se),yield pe.startCameraPreview())})()}runCameraActivityStopPreview(oe){var pe=this;return(0,t.coroutine)(function*(){const Se=oe.videoElement;Se&&(Se!==pe.cameraPreviewVideoElement&&pe.callLogger.warn("Mismatch in preview video element"),pe.audioVideoFacade.hasStartedLocalVideoTile()?pe.detachStreamFromCameraPreview():pe.stopCameraPreview(),delete pe.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var oe=this;return(0,t.coroutine)(function*(){var pe;!oe.audioVideoFacade.hasStartedLocalVideoTile()&&oe.cameraPreviewVideoElement&&oe.stopCameraPreview(),yield oe.updateCamera(),oe.audioVideoFacade.hasStartedLocalVideoTile()||(oe.waitForCameraReady=(0,d.u)(),oe.audioVideoFacade.startLocalVideoTile(),yield oe.waitForCameraReady.catch(()=>{oe.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),oe.runCameraActivityDisable()})),oe.attachStreamToCameraPreview(),(pe=oe.huddleEventsTrace)===null||pe===void 0||pe.update({name:E.p.VIDEO,type:E.G.START})})()}runCameraActivityDisable(){var oe=this;return(0,t.coroutine)(function*(){var pe;oe.detachStreamFromCameraPreview(),yield oe.audioVideoFacade.stopVideoInput(),oe.audioVideoFacade.stopLocalVideoTile(),(pe=oe.huddleEventsTrace)===null||pe===void 0||pe.update({name:E.p.VIDEO,type:E.G.STOP}),oe.cameraPreviewVideoElement&&(yield oe.updateCamera(),yield oe.startCameraPreview())})()}startCameraPreview(){var oe=this;return(0,t.coroutine)(function*(){oe.cameraPreviewVideoElement&&(oe.waitForCameraReady=(0,d.u)(),oe.audioVideoFacade.startVideoPreviewForVideoInput(oe.cameraPreviewVideoElement),oe.cameraPreviewVideoElement.addEventListener("canplay",pe=>{oe.waitForCameraReady.resolve()}),yield oe.waitForCameraReady)})()}stopCameraPreview(){var oe=this;return(0,t.coroutine)(function*(){oe.cameraPreviewVideoElement&&(oe.audioVideoFacade.stopVideoPreviewForVideoInput(oe.cameraPreviewVideoElement),yield oe.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var oe;if(!this.cameraPreviewVideoElement)return;const pe=(oe=this.audioVideoFacade.getLocalVideoTile())===null||oe===void 0?void 0:oe.state();pe&&pe.boundVideoStream&&r.xc.connectVideoStreamToVideoElement(pe.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&r.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(oe){var pe,Se,Ne,lt;const dt=((pe=oe.target)===null||pe===void 0||(Se=pe.error)===null||Se===void 0?void 0:Se.code)||"unavailable",it=((Ne=oe.target)===null||Ne===void 0||(lt=Ne.error)===null||lt===void 0?void 0:lt.message)||oe.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${dt}, message: ${it}`),this.observer.onSetNoAudioOutput(_.NS.AUDIO_ELEMENT_ERROR)}isMediaPermissionDeniedOnWindows(oe){var pe=this;return(0,t.coroutine)(function*(){if(pe.options.useGetMediaAccessCheckForWindows&&(0,f.uF)()&&(0,f.dY)("4.9.0")){const Se=yield pe.maybeCheckSystemMediaAccess(oe);if(Se&&Se.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const oe=(0,r._R)().getAudioContext();if(!oe){this.callLogger.warn("Unable to get AudioContext");return}oe.resume();const pe=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(pe){var Se;const Ne=new y(pe);(Se=this.audioLevelMonitor)===null||Se===void 0||Se.setPreviewAudioAnalyser(Ne)}}setupAudioInputTrackHandler(oe){let{preferredDeviceId:pe}=oe;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new L(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:pe})}constructor(oe,pe,Se,Ne,lt=!1,dt,it,kt){this.audioVideoFacade=oe,this.audioOutputElement=pe,this.observer=Se,this.options=Ne,this.isStartMutedBarrierActive=lt,this.chimeLogger=dt,this.defaultDeviceController=it,this.voiceFocusManager=kt,this.callLogger=(0,a.Jt)("DEVICES"),this.waitForCameraReady=(0,d.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:te},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1,this.hasRetriedAudioInit=!1;var $t=this;this.audioInputsChanged=(0,t.coroutine)(function*(){$t.callLogger.info("DeviceManager::audioInputsChanged"),yield(0,P.es)(),$t.logDevices([i.lW.Microphone]),$t.observer.onClearNoMediaInput(_.mT.MICROPHONE)});var ln=this;this.audioOutputsChanged=(0,t.coroutine)(function*(){ln.callLogger.info("DeviceManager::audioOutputsChanged"),yield(0,P.es)(),ln.logDevices([i.Q4]),ln.observer.onClearNoAudioOutput(_.NS.AUDIO_ELEMENT_ERROR)});var An=this;this.videoInputsChanged=(0,t.coroutine)(function*(){An.callLogger.info("DeviceManager::videoInputsChanged"),yield(0,P.es)(),An.logDevices([i.lW.Camera])});var In=this;this.attemptToInitMicrophoneNative=(0,v.A)(function(){var ls=(0,t.coroutine)(function*(Qn){try{if(!Qn||!In.options.useDevicesExp)return;const ae=yield(0,Y.Lh)(Qn),{error:De,canInit:$e}=ae;(0,u.A)(De)?De.includes("Method not available")||De.includes("only supported on Windows")?In.callLogger.info("Microphone init test not supported on this client"):$e||In.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${Qn}: ${De}`):In.callLogger.info(`Successfully initialized microphone with device: ${Qn}`)}catch(ae){In.callLogger.error("Error attempting to init audio device",ae)}});return function(Qn){return ls.apply(this,arguments)}}(),1e3);var Nn=this;this.refreshMediaDeviceInfo=(0,t.coroutine)(function*(){Nn.enumerateDevices()});var kn=this;this.handleAudioInitError=function(){var ls=(0,t.coroutine)(function*(Qn){let ae=!kn.hasRetriedAudioInit;switch(Qn.name){case"NotReadableError":kn.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":kn.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":kn.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":kn.callLogger.error("User denied permission to access microphone.");break;case"TypeError":kn.callLogger.error("An unexpected TypeError occured during audio input initialization",Qn),ae=!1;break;case"GetUserMediaError":kn.callLogger.error("An unexpected GetUserMediaError occured during audio input initialization",Qn),ae=!1;break;default:kn.callLogger.error("Unknown error during audio input initialization"),ae=!1}const De=Qn instanceof r.Ll;De||kn.observer.onSelfPermissionUpdated(!1,i.lW.Microphone),ae?(kn.hasRetriedAudioInit=!0,kn.callLogger.info("Retrying audio input initialization"),yield kn.updateMicrophone(),yield kn.updateSpeaker()):(De&&kn.observer.onSelfPermissionUpdated(!0,i.lW.Microphone),kn.callLogger.error("Audio input initialization failed. Not retrying"))});return function(Qn){return ls.apply(this,arguments)}}(),this.setVideoTransformDeviceRefs=ls=>{let{transformDevice:Qn,processors:ae}=ls;this.currentVideoTransformDevice=Qn,this.currentVideoFrameProcessors=ae,(0,g.Y)({name:g.R1.VideoTransformDevice,ref:Qn})},this.setupVideoBackgroundFrameProcessor=ls=>{let{processor:Qn,backgroundEffect:ae}=ls;var De;this.clearVideoBackgroundFrameProcessor(),!le&&(this.currentVideoFrameProcessor=Qn,this.currentVideoFrameProcessorObserver=new b({backgroundEffect:ae}),(De=this.currentVideoFrameProcessor)===null||De===void 0||De.addObserver(this.currentVideoFrameProcessorObserver),(0,g.Y)({name:g.R1.VideoFrameProcessor,ref:Qn}))},this.clearVideoBackgroundFrameProcessor=()=>{le||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var Zn=this;this.clearVideoTransformDeviceRefs=(0,t.coroutine)(function*(){Zn.clearVideoBackgroundFrameProcessor(),Zn.currentVideoFrameProcessors&&(Zn.currentVideoFrameProcessors.forEach(ls=>{ls.destroy()}),Zn.currentVideoFrameProcessors.length=0,Zn.currentVideoFrameProcessors=void 0),Zn.currentVideoTransformDevice&&(yield Zn.currentVideoTransformDevice.stop(),Zn.currentVideoTransformDevice=void 0)});var _s=this;this.initAudioInput=function(){var ls=(0,t.coroutine)(function*(Qn){Qn&&(yield _s.audioVideoFacade.startAudioInput(Qn))});return function(Qn){return ls.apply(this,arguments)}}();var Ts=this;this.initVideoInput=function(){var ls=(0,t.coroutine)(function*(Qn){if(!Qn)return;yield Ts.audioVideoFacade.startVideoInput(Qn),Ts.recordCameraResolution();const ae=(0,h.A)(Qn,"device",Qn);typeof ae=="string"&&(0,P.i_)(ae,i.lW.Camera)});return function(Qn){return ls.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var ls,Qn,ae,De,$e;if(this.isShuttingDown||!((ls=this.audioVideoFacade)===null||ls===void 0?void 0:ls.hasStartedLocalVideoTile()))return;const Mn=this.audioVideoFacade.getLocalVideoTile(),Pn=(Qn=Mn==null?void 0:Mn.state())===null||Qn===void 0?void 0:Qn.boundVideoStream,wn=Pn==null?void 0:Pn.getVideoTracks()[0];if(wn instanceof CanvasCaptureMediaStreamTrack){W.A.publish({type:B.lx.CameraResolution,update:{isCanvasStream:!0}});return}const cn=wn==null?void 0:wn.getSettings(),qn=wn==null?void 0:wn.getCapabilities(),ms=cn==null?void 0:cn.width,As=cn==null?void 0:cn.height,xs=cn==null?void 0:cn.frameRate,Rs=qn==null||(ae=qn.width)===null||ae===void 0?void 0:ae.max,gs=qn==null||(De=qn.height)===null||De===void 0?void 0:De.max,Ls=qn==null||($e=qn.frameRate)===null||$e===void 0?void 0:$e.max;Rs&&gs&&W.A.publish({type:B.lx.CameraResolution,update:{cameraWidth:ms,cameraHeight:As,cameraFrameRate:xs,cameraMaxWidth:Rs,cameraMaxHeight:gs,cameraMaxFrameRate:Ls,isCanvasStream:!1}})}catch{}},5e3)},this.callLogger.info("Using device manager v2"),this.updateMicrophone=I(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=I(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=I(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=I(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,R.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new O,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:ne,reportingPeriodMillis:H,logger:this.chimeLogger};const{huddleEventsTrace:Ms}=(0,p.A)().getAllTraceHandlers();this.huddleEventsTrace=Ms}},"DeviceManager");var Ee=e(63202349),me=e(3390261877),ce=e(3320454392);let X=c(class{constructor(oe,pe,Se){this.sequenceNumber=oe,this.message=pe,this.timestampMs=Se}},"MeetingEvent"),V=c(class Jo{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(oe){var pe=this;this.intervalScheduler.start((0,t.coroutine)(function*(){if(pe.getEventCaptureSize()===0)return;const Se=pe.eventCapture.slice(0,oe);try{pe.postEvents(Se),pe.eventCapture=pe.eventCapture.slice(Se.length)}catch(Ne){pe.log.error(Ne.message)}}))}stop(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,oe,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(oe,pe){const{meetingHistory:Se,...Ne}=pe;try{const lt=JSON.stringify({name:oe,attributes:Ne});this.eventCapture.push(new X(this.sequenceNumber,lt,Date.now())),this.sequenceNumber+=1}catch(lt){this.log.error(lt.message)}}postEvents(oe){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Ne;oe.length===0&&!pe&&!Se||(Ne=this.observer)===null||Ne===void 0||Ne.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,oe,pe,Se)}constructor(oe,pe,Se,Ne,lt,dt=Jo.DEFAULT_BATCH_SIZE,it=Jo.DEFAULT_INTERVAL_MS){this.observer=oe,this.meetingId=pe,this.mediaRegion=Se,this.attendeeId=Ne,this.callId=lt,this.batchSize=dt,this.intervalMs=it,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,a.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new me.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize);var kt=this;(0,ce.A)((0,t.coroutine)(function*(){kt.stop(!0)}))}},"MeetingEventLogger");V.DEFAULT_BATCH_SIZE=100,V.DEFAULT_INTERVAL_MS=65*60*1e3;var x=e(3245843483),S=e(1033764764),U=e(9372409576),F=e(7299481592);const Z=1e4,z=3e4;class ${observe(oe){this.connections.push(oe),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(oe){remove(this.connections,oe),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){var oe=this;this.connections.forEach(function(){var pe=_bluebirdCoroutine(function*(Se){const Ne=Se.getPeerConnection();if(!Ne)return;const lt=ee(yield Ne.getStats());ie(Se,lt);const dt={..._e(lt),send:lt.sendTracks.map(it=>Ue(it,lt)),recv:lt.recvTracks.map(it=>({...ye(it,lt),peerId:Se.getPeerIdFromRemoteStreamId(lt.trackIdToStreamId[it.id])}))};oe.observer.onStats(dt)});return function(Se){return pe.apply(this,arguments)}}())}constructor(oe,pe=Z){this.observer=oe,this.collectionIntervalMs=pe,this.connections=[]}}c($,"StatsManager");function ee(je){const oe=Array.from(je.entries()),pe=reduce(oe,(Se,Ne)=>{let[lt,dt]=Ne;return Be(dt)?dt.remoteSource===!0?Se.recvTracks.push(dt):Se.sendTracks.push(dt):Re(dt)||Ae(dt)?dt.trackId&&(Se.rtpStats[dt.trackId]=dt):ke(dt)?Se.transports[dt.id]=dt:se(dt)?Se.candidates[dt.id]=dt:ve(dt)?Se.candidatePairs[dt.id]=dt:Me(dt)?Se.codecs[dt.id]=dt:be(dt)?dt.trackIds&&dt.trackIds.forEach(it=>{Se.trackIdToStreamId[it]=dt.streamIdentifier}):xe(dt)&&dt.trackIdentifier&&(Se.mediaSources[dt.trackIdentifier]=dt),Se},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return pe.recvTracks=pe.recvTracks.filter(Se=>pe.trackIdToStreamId[Se.id]!==void 0),pe}c(ee,"groupStatsByType");function de(je){const oe=filter(je.candidatePairs,it=>!!it.nominated),pe=maxBy(oe,it=>it.priority);if(!pe)return;const Se=find(je.candidates,(it,kt)=>kt===pe.localCandidateId);if(!Se)return;let Ne=Se.candidateType==="relay"?Se.relayProtocol:Se.protocol;Se.candidateType==="prflx"&&(Ne+=" (unreliable)");const lt="unknown";return{candidateType:Se.candidateType||lt,networkType:Se.networkType||lt,transportType:Ne||lt}}c(de,"getConnectionNetworkInfo");function ie(je,oe){const pe=de(oe);pe&&je.maybeLogNetworkInfo(pe)}c(ie,"reportConnectionNetworkInfo");const ue={nominal:1,fair:2,serious:3,critical:4};function fe(){return re.apply(this,arguments)}c(fe,"makeAppMetricsStats");function re(){return re=(0,t.coroutine)(function*(){var je;if(!(0,f.y3)())return;let oe,pe,Se;if(x.vkf.isAvailable()){var Ne;const $t=yield(0,x.vkf)();if(!$t)return;oe=$t.processMetrics,pe=ue[$t.thermalState],Se=(Ne=$t.speedLimit)===null||Ne===void 0?void 0:Ne.limit}else oe=yield(0,x.rc_)();if(!oe)return;let lt=null;const dt=oe.reduce(($t,ln)=>{var An,In,Nn;return ln.type==="GPU"&&(lt=ln),{cpu:$t.cpu+((ln==null||(An=ln.cpu)===null||An===void 0?void 0:An.percentCPUUsage)||0),memory:{workingSetSize:$t.memory.workingSetSize+(0,S.UK)((ln==null||(In=ln.memory)===null||In===void 0?void 0:In.workingSetSize)||0),peakWorkingSetSize:$t.memory.peakWorkingSetSize+(0,S.UK)((ln==null||(Nn=ln.memory)===null||Nn===void 0?void 0:Nn.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),it=lt==null||(je=lt.cpu)===null||je===void 0?void 0:je.percentCPUUsage,kt=it?dt.cpu-lt.cpu.percentCPUUsage:dt.cpu;return{...dt,cpuWithoutGpu:kt,gpu:it,thermalState:pe,speedLimit:Se}}),re.apply(this,arguments)}c(re,"_makeAppMetricsStats");function _e(je){const[oe,...pe]=Object.values(je.transports);debugCheck(!pe.length,"Can there be more than one transport stat in a report?");const Se=oe&&oe.selectedCandidatePairId,Ne=je.candidatePairs[Se];if(!Se||!Ne)return;const lt=je.candidates[Ne.remoteCandidateId]||{};return{availableOutgoingBitrate:Ne.availableOutgoingBitrate||0,availableIncomingBitrate:Ne.availableIncomingBitrate||0,totalBytesSent:Ne.bytesSent,totalBytesReceived:Ne.bytesReceived,currentRoundTripTime:Ne.currentRoundTripTime,totalRoundTripTime:Ne.totalRoundTripTime,protocol:lt.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:lt.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}c(_e,"makeConnectionStats");function Ue(je,oe){const pe=oe.rtpStats[je.id]||{},Se={codec:Te(pe,oe),bytesSent:pe.bytesSent,packetsSent:pe.packetsSent};if(je.kind==="audio"){const Ne=je.trackIdentifier?oe.mediaSources[je.trackIdentifier]:null;return Ne?{...Se,audioStats:{audioLevel:Ne.audioLevel,totalAudioEnergy:Ne.totalAudioEnergy,totalSamplesDuration:Ne.totalSamplesDuration,echoReturnLoss:Ne.echoReturnLoss,echoReturnLossEnhancement:Ne.echoReturnLossEnhancement}}:{...Se,audioStats:{audioLevel:je.audioLevel,echoReturnLoss:je.echoReturnLoss,echoReturnLossEnhancement:je.echoReturnLossEnhancement}}}return{...Se,videoStats:{frameHeight:je.frameHeight,frameWidth:je.frameWidth,framesSent:je.framesSent,hugeFramesSent:je.hugeFramesSent,framesPerSecond:pe.framesPerSecond,framesEncoded:pe.framesEncoded}}}c(Ue,"makeOutboundMediaStats");function ye(je,oe){const pe=oe.rtpStats[je.id]||{},Se={codec:Te(pe,oe),bytesReceived:pe.bytesReceived,packetsReceived:pe.packetsReceived,packetsLost:pe.packetsLost,fractionLost:pe.fractionLost,jitter:pe.jitter};return je.kind==="audio"?{...Se,audioStats:{audioLevel:je.audioLevel,jitterBufferDelay:je.jitterBufferDelay,concealedSamples:je.concealedSamples,concealmentEvents:je.concealmentEvents}}:{...Se,videoStats:{firCount:pe.firCount,nackCount:pe.nackCount,pliCount:pe.pliCount,sliCount:pe.sliCount,frameHeight:je.frameHeight,frameWidth:je.frameWidth,framesPerSecond:je.framesPerSecond,framesCorrupted:je.framesCorrupted,framesDecoded:je.framesDecoded,framesDropped:je.framesDropped,framesReceived:je.framesReceived}}}c(ye,"makeInboundMediaStats");function Te(je,oe){const pe=je.codecId,Se=get(oe.codecs,pe),Ne=get(Se,"mimeType");return ge(Ne)}c(Te,"getCodecForRtpStat");function ge(je){switch(je){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}c(ge,"parseCodec");function Ae(je){return je.type==="inbound-rtp"}c(Ae,"isRecvRtpStat");function Re(je){return je.type==="outbound-rtp"}c(Re,"isSendRtpStat");function Be(je){return je.type==="track"}c(Be,"isTrackStat");function ke(je){return je.type==="transport"}c(ke,"isTransportStat");function se(je){return je.type==="local-candidate"||je.type==="remote-candidate"}c(se,"isIceCandidateStat");function ve(je){return je.type==="candidate-pair"}c(ve,"isIceCandidatePairStat");function Me(je){return je.type==="codec"}c(Me,"isCodecStat");function be(je){return je.type==="stream"}c(be,"isStreamStat");function xe(je){return je.type==="media-source"}c(xe,"isMediaSourceStat");const Le=5e3;let Ke=c(class{constructor(oe,pe){this.audioVideoFacade=oe,this.observer=pe,this.callLogger=(0,a.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1;var Se=this;this.onMetricsDidReceive=function(){var dt=(0,t.coroutine)(function*(it){if(!it)return;const kt=yield Se.collectScreenshareStats();Se.reportAppMetrics({clientMetricReport:it,screenshareRtcStats:kt})});return function(it){return dt.apply(this,arguments)}}(),this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const dt=setInterval(()=>{if(!this.isDisconnected){clearInterval(dt);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},Le)},this.cleanup=()=>{};var Ne=this;this.collectScreenshareStats=(0,t.coroutine)(function*(){let dt;try{var it;const kt=(it=Ne.audioVideoFacade.contentShareController.contentAudioVideo)===null||it===void 0?void 0:it.rtcPeerConnection;return kt?(dt=yield kt.getStats(),dt):void 0}catch(kt){Ne.callLogger.error("Failed to collect screenshare stats",kt)}});var lt=this;this.reportAppMetrics=(0,t.coroutine)(function*(){let{clientMetricReport:dt,screenshareRtcStats:it}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!dt&&!lt.isDisconnected)return;lt.isDisconnected&&dt&&(lt.isDisconnected=!1);const kt=yield lt.collectAppMetrics();lt.observer.onAppMetrics({appMetrics:kt,clientMetricReport:dt,screenshareRtcStats:it})}),this.collectAppMetrics=(0,t.coroutine)(function*(){const dt=yield fe();if(!dt)return;let it=dt;return dt&&(it=(0,n.A)({...dt,cpu:dt.cpuWithoutGpu},"cpuWithoutGpu")),it})}},"HuddlesStatsManager"),He=c(class{start(){var oe;this.isSignallingOnly=!1,(oe=this.videoDownlinkManager)===null||oe===void 0||oe.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}stop(){var oe=this;return(0,t.coroutine)(function*(){oe.isSignallingOnly?(oe.waitForStart.resolve(),oe.waitForStop.resolve(!0)):yield oe.waitForStart,oe.isStopRequested=!0,oe.audioVideoFacade.stop()})()}audioVideoDidStartConnecting(oe){if(!oe)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var pe,Se,Ne;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(pe=this.statsManager)===null||pe===void 0||(Se=pe.reportDisconnect)===null||Se===void 0||Se.call(pe),(Ne=this.huddleReconnectTracer)===null||Ne===void 0||Ne.traceReconnectAttempt(),this.isReconnecting=!0}}audioVideoDidStart(){if(this.callLogger.info("Chime audio video session started"),this.isReconnecting){var oe;this.callLogger.info("Successfully re-connected to Huddle"),(oe=this.huddleReconnectTracer)===null||oe===void 0||oe.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(pe=>pe.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(oe){var pe,Se,Ne,lt;const dt=r.b9[oe.statusCode()],it=`Chime session stopped. StatusCode: ${dt}`;if(this.callLogger.info(it),this.isReconnecting&&oe.isFailure()){var kt;this.callLogger.info("Failed to re-connect to Huddle"),(kt=this.huddleReconnectTracer)===null||kt===void 0||kt.traceReconnectAttemptOutcome({isSuccess:!1})}this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(pe=this.videoDownlinkManager)===null||pe===void 0||pe.removeObserver(this),(Se=this.meetingEventLogger)===null||Se===void 0||Se.stop(),delete this.meetingEventLogger,(lt=(Ne=this.statsManager).cleanup)===null||lt===void 0||lt.call(Ne),delete this.statsManager,this.dataChannelSubscribers.forEach($t=>$t.onDisconnectDataChannel()),!this.isStopRequested&&oe.isTerminal()&&(this.observer.onClogError(it),this.observer.onError(_.uZ.CallEnded,dt)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(oe){if(!oe.boundVideoStream||!oe.boundAttendeeId){oe.tileId&&this.observer.onVideoTileRemoved(oe.tileId);return}const pe=new r.jp(oe.boundAttendeeId).base();this.selfAttendeeId===pe?(this.deviceManager.localVideoTileDidUpdate(oe),this.observer.onSelfVideoTileUpdate(oe)):this.observer.onPeerVideoTileUpdate(pe,oe)}videoTileWasRemoved(oe){this.consoleLog.info(`Video tile removed: tileId=${oe}`),this.observer.onVideoTileRemoved(oe)}videoAvailabilityDidChange(oe){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${oe.remoteVideoAvailable}, CanStartLocalVideo=${oe.canStartLocalVideo}`)}metricsDidReceive(oe){var pe=this;return(0,t.coroutine)(function*(){var Se;(Se=pe.statsManager)===null||Se===void 0||Se.onMetricsDidReceive(oe)})()}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){var oe;this.callLogger.warn("SDK suggested stop video, maybe poor connection"),(oe=this.videoUplinkManager)===null||oe===void 0||oe.shouldRestrictVideoQuality(!0)}connectionDidBecomeGood(){var oe;this.callLogger.info("SDK detected good connection"),(oe=this.videoUplinkManager)===null||oe===void 0||oe.shouldRestrictVideoQuality(!1)}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(oe){var pe,Se;(pe=this.videoDownlinkManager)===null||pe===void 0||pe.remoteVideoSourcesDidChange(oe),(Se=this.videoUplinkManager)===null||Se===void 0||Se.remoteVideoSourcesDidChange(oe)}tileWillBePausedByDownlinkPolicy(oe){this.observer.onVideoTileWillPause(oe)}tileWillBeUnpausedByDownlinkPolicy(oe){this.observer.onVideoTileWillUnpause(oe)}constructor(oe,pe,Se,Ne,lt,dt,it,kt,$t,ln,An=[],In){this.selfAttendeeId=oe,this.meetingId=pe,this.mediaRegion=Se,this.callId=Ne,this.audioVideoFacade=lt,this.observer=dt,this.deviceManager=it,this.videoDownlinkManager=kt,this.dataChannelSubscribers=An,this.videoUplinkManager=In,this.callLogger=(0,a.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,a.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,d.u)(),this.waitForStop=(0,d.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,$t&&(this.waitForStart=$t),ln&&(this.waitForStop=ln),this.statsManager=new Ke(lt,dt),this.meetingEventLogger=new V(dt,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,p.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Ye=e(8571983633),Xe=e(489015593),et=e(2671711178),st=e(5954792826),ot=e(9240258658),ct=e(8193414630),at=e(1990810649);function At(){switch((0,x.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}c(At,"getScaleFactorForCurrentZoomLevel");function Ct(je,oe){const[pe,Se]=je;return[pe*oe,Se*oe]}c(Ct,"getScaledCoordinates");function Tt(je,oe){var pe;const Ne=(0,f.y3)()&&!(0,f.dY)("4.18.0")?1/At():1,lt=((pe=je.itemId)===null||pe===void 0?void 0:pe.toString())||null,dt=je.itemId==="self"?oe:lt;switch(je.type){case _.Sl.New:case _.Sl.Edit:{const[it,kt]=Ct(je.segment.a,Ne),[$t,ln]=Ct(je.segment.b,Ne),[An,In]=Ct(je.segment.c,Ne),[Nn,kn]=Ct(je.segment.d,Ne);return{itemId:dt,type:je.type===_.Sl.New?ot.Y.Draw.Type.NEW:ot.Y.Draw.Type.EDIT,segment:{a:{x:it,y:kt},b:{x:$t,y:ln},c:{x:An,y:In},d:{x:Nn,y:kn}}}}case _.Sl.End:return{itemId:dt,type:ot.Y.Draw.Type.END};case _.Sl.ChangeHue:return{itemId:dt,type:ot.Y.Draw.Type.CHANGE_HUE,hue:je.hue};case _.Sl.Position:return{itemId:dt,type:ot.Y.Draw.Type.POSITION,x:je.x,y:je.y};default:return(0,ct.Kh)(je)}}c(Tt,"convertDrawMessageToPeerMessage");function Rt(je,oe){const pe=je.itemId===oe?"self":je.itemId;switch(je.type){case ot.Y.Draw.Type.NEW:case ot.Y.Draw.Type.EDIT:{const Ne=(0,f.y3)()&&!(0,f.dY)("4.18.0")?At():1;return{itemId:pe,type:je.type===ot.Y.Draw.Type.NEW?_.Sl.New:_.Sl.Edit,segment:{a:[(je.segment.a.x||0)*Ne,(je.segment.a.y||0)*Ne],b:[(je.segment.b.x||0)*Ne,(je.segment.b.y||0)*Ne],c:[(je.segment.c.x||0)*Ne,(je.segment.c.y||0)*Ne],d:[(je.segment.d.x||0)*Ne,(je.segment.d.y||0)*Ne]}}}case ot.Y.Draw.Type.END:return{itemId:pe,type:_.Sl.End};case ot.Y.Draw.Type.CHANGE_HUE:return{itemId:pe,type:_.Sl.ChangeHue,hue:je.hue};case ot.Y.Draw.Type.POSITION:return{itemId:pe,type:_.Sl.Position,x:je.x,y:je.y};default:(0,F.M)("Unhandled draw message case");return}}c(Rt,"convertPeerMessageToDrawMessage");function It(je){let oe=at.o.Standard;return je.type&&je.type===ot.Y.Reacji.Type.Effect&&(oe=at.o.Effect),je.type&&je.type===ot.Y.Reacji.Type.Gif&&(oe=at.o.Gif),oe}c(It,"convertFromPeerReactionType");function Mt(je){let oe=ot.Y.Reacji.Type.Standard;return je===at.o.Effect&&(oe=ot.Y.Reacji.Type.Effect),je===at.o.Gif&&(oe=ot.Y.Reacji.Type.Gif),oe}c(Mt,"convertToPeerReactionType");var nn=e(1975685771);let Ot=c(class Jr{updatePresence(oe,pe){pe?this.attendeesStates.set(oe,this.initializeState()):this.attendeesStates.delete(oe)}calculateScore(oe,pe,Se){const Ne=this.attendeesStates.get(oe);if(!Ne||(Se!==null&&(Ne.muted=Se),Ne.muted))return 0;const lt=Date.now();if(pe){Ne.noiseFloor=this.updateNoiseFloor(Ne,pe);const dt={timestamp:lt,volume:pe};Ne.volumeSamples.push(dt)}return this.pruneVolumeSamples(Ne),this.getScore(Ne,lt)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(oe,pe){let Se=oe.noiseFloor;return pe>Se?Se=(1-this.params.slowAttackFactor)*Se+this.params.slowAttackFactor*pe:Se=(1-this.params.fastDecayFactor)*Se+this.params.fastDecayFactor*pe,Math.min(Se,this.params.noiseFloorMax)}pruneVolumeSamples(oe){const pe=Date.now()-this.params.analysisWindowMs,Se=oe.volumeSamples;for(;Se.length&&Se[0].timestamp<pe;)Se.shift()}getScore(oe,pe){return oe.volumeSamples.reduce((Se,Ne)=>{const lt=Math.max(1,Math.ceil((pe-Ne.timestamp)/1e3));return Se+Math.max(0,Ne.volume-oe.noiseFloor)/lt},0)}constructor(){this.attendeesStates=new Map,this.params=Jr.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Ot.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Ot.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let bt=c(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(oe){new r.jp(oe).hasModality(r.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has(oe)||(this.disconnectedAttendees.set(oe,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(oe){this.disconnectedAttendees.delete(oe),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(oe){return this.disconnectedAttendees.has(oe)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const oe=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);oe&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(oe-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const oe=[],pe=Date.now();this.disconnectedAttendees.forEach((Se,Ne)=>{pe>Se&&(this.observer.onStalePeer(Ne),oe.push(Ne))}),oe.forEach(Se=>{this.disconnectedAttendees.delete(Se)}),this.maybeStartTimer()}constructor(oe,pe){this.timeoutMs=oe,this.observer=pe,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var Jt=e(4075246222),en=e(2208015175),sn=e(8403493408),zt=e(2604971659),Yt=e(2462761869);let hn=c(class{addSelf(oe){this.selfId=oe,this.addPeer(oe)}removeSelf(oe){(0,F.M)(oe===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(oe)}addPeer(oe){this.ids=(0,Jt.A)(this.ids,[oe]),(0,en.A)(this.cachedPeerStates[oe],(Se,Ne)=>{this.peerStateForwarder[Ne]&&!(0,Ye.A)(Se)&&this.peerStateForwarder[Ne](oe,Se)}),delete this.cachedPeerStates[oe];const pe=[];(0,en.A)(this.cachedCallState,(Se,Ne)=>{this.callStateForwarder[Ne]&&!(0,Ye.A)(Se)&&this.callStateForwarder[Ne].getPeerIdFn(Se)===oe&&(this.callStateForwarder[Ne].forwardFn(Se),this.callStateForwarder[Ne].isCached||pe.push(Ne))}),this.cachedCallState=(0,n.A)(this.cachedCallState,pe)}removePeer(oe){(0,sn.A)(this.ids,oe),(0,en.A)((0,zt.A)(this.cachedCallState),pe=>{if(this.callStateForwarder[pe]){const Se=this.callStateForwarder[pe].removeFn(this.cachedCallState[pe],oe);if(!Se){delete this.cachedCallState[pe];return}this.cachedCallState[pe]=Se}})}getPeers(){return this.ids}hasPeer(oe){return this.ids.includes(oe)}hasAttendee(oe){return this.hasPeer(oe)||oe===this.selfId}updateCallState(oe){const pe=oe;(0,en.A)(oe,(Se,Ne)=>{this.callStateForwarder[Ne]&&(pe[Ne]=this.callStateForwarder[Ne].updateFn(this.cachedCallState[Ne],Se))}),(0,en.A)(this.callStateForwarder,(Se,Ne)=>{this.forwardOrCacheCallState([pe],Ne,Se)})}updatePeerStates(oe){(0,en.A)(this.peerStateForwarder,(pe,Se)=>{this.forwardOrCachePeerState(oe,Se,pe)})}setIncludeSelfAndNoneActiveSpeaker(oe,pe){oe===this.includeSelf&&pe===this.includeNone||(this.includeSelf=oe,this.includeNone=pe,(0,en.A)(this.cachedCallState,(Se,Ne)=>{this.callStateForwarder[Ne]&&!(0,Ye.A)(Se)&&this.callStateForwarder[Ne].forwardFn(Se)}))}forwardOrCachePeerState(oe,pe,Se){oe.filter(lt=>!(0,Ye.A)(lt.state[pe])).map(lt=>({id:lt.peerId,value:lt.state[pe]})).forEach(lt=>{let{id:dt,value:it}=lt;this.ids.includes(dt)?Se(dt,it):this.cachedPeerStates[dt]={...this.cachedPeerStates[dt],[pe]:it}})}forwardOrCacheCallState(oe,pe,Se){oe.filter(lt=>!(0,Ye.A)(lt[pe])).map(lt=>({value:lt[pe]})).forEach(lt=>{let{value:dt}=lt;const it=Se.getPeerIdFn(dt);let kt=!1;it&&(this.ids.includes(it)||it===this.NO_ACTIVE_SPEAKER)?Se.forwardFn(dt):kt=!0,(kt||Se.isCached)&&(this.cachedCallState={...this.cachedCallState,[pe]:dt})})}getAttendeeId(oe){return new r.jp(oe).base()}constructor(oe){this.observer=oe,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(pe,Se)=>{const Ne=pe||[],lt=Se&&Se.length?Se[0]:this.NO_ACTIVE_SPEAKER;return(0,Yt.A)(Ne,[lt,this.NO_ACTIVE_SPEAKER]),Ne.unshift(lt),Ne},removeFn:(pe,Se)=>{if(pe)return(0,sn.A)(pe,Se),pe},getPeerIdFn:pe=>{const Se=pe.filter(Ne=>Ne===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(Ne));if(Se.length)return Se[0]},forwardFn:pe=>{const Se=pe.filter(Ne=>Ne===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(Ne));!Se.length||Se[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===Se[0]?"self":Se[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(pe,Se)=>{this.observer.onPeerDrawEnabled(pe,Se)}}}},"PeerCache");var Qe=e(252549317);let Wt=c(class{destroy(){var oe,pe,Se;(oe=this.peerCache)===null||oe===void 0||oe.getPeers().forEach(Ne=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Ne)),delete this.peerCache,(pe=this.staleAttendeeChecker)===null||pe===void 0||pe.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(Se=this.audioVideoFacade.transcriptionController)===null||Se===void 0||Se.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(oe){this.sendPeerMessageOverDataChannel(new ot.Y({capabilities:{isDrawEnabled:oe},fromPeerIdString:this.selfAttendeeId}))}sendReacji(oe,pe){let Se;pe?Se={emoji:oe,type:Mt(pe)}:Se={emoji:oe},this.sendPeerMessageOverDataChannel(new ot.Y({reacji:Se,fromPeerIdString:this.selfAttendeeId}))}sendBackground(oe){this.sendPeerMessageOverDataChannel(new ot.Y({background:{url:oe},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(oe){this.sendPeerMessageOverDataChannel(new ot.Y({muteRequest:{peerId:oe},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(oe){this.sendPeerMessageOverDataChannel(new ot.Y({jukeboxRequest:{songKey:oe},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new ot.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(oe){this.sendPeerMessageOverDataChannel(new ot.Y({draw:Tt(oe,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(oe){this.sendPeerMessageOverDataChannel(new ot.Y({contentShareDetails:{sourceType:oe,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new ot.Y({recordingStartNotification:{type:ot.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(oe){this.callLogger.info(`Removing stale peer: ${oe}`),this.attendeeLeft(oe),this.observer.onPeerDisconnected(oe),this.observer.onPeerLeft(oe)}setIncludeSelfAndNoneActiveSpeaker(oe,pe){var Se;(Se=this.peerCache)===null||Se===void 0||Se.setIncludeSelfAndNoneActiveSpeaker(oe,pe)}attendeeJoined(oe){if(oe===this.selfAttendeeId){var pe;(pe=this.peerCache)===null||pe===void 0||pe.addSelf(oe)}else{var Se;(Se=this.peerCache)===null||Se===void 0||Se.addPeer(oe)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(oe,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${oe} volume indicator`)}attendeeLeft(oe){if(oe===this.selfAttendeeId){var pe;(pe=this.peerCache)===null||pe===void 0||pe.removeSelf(oe)}else{var Se;(Se=this.peerCache)===null||Se===void 0||Se.removePeer(oe)}this.audioVideoFacade.removeVideoTilesByAttendeeId(oe),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(oe),this.consoleLog.info(`Unsubscribed from attendee=${oe} volume indicator`)}sendPeerMessageOverDataChannel(oe){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,ot.Y.encode(oe).finish()):this.logFailureToSendPeerMessage(oe)}isAttendeeOfTypeContent(oe){return new r.jp(oe).hasModality(r.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(oe,pe,Se,Ne){var lt;if(this.consoleLog.info(`Attendee presence: attendeeId=${oe}, isSelf=${this.selfAttendeeId===new r.jp(oe).base()}, present=${pe}, externalUserId=${Se}, dropped=${Ne}`),(lt=this.windowedActiveSpeakerPolicy)===null||lt===void 0||lt.updatePresence(oe,pe),this.isAttendeeOfTypeContent(oe)){pe||this.audioVideoFacade.removeVideoTilesByAttendeeId(oe);return}if(!Se){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${oe}`),this.observer.onClogError("MissingExternalUserId");return}let dt=null;if(pe){var it;Ne===!1&&!(!((it=this.peerCache)===null||it===void 0)&&it.hasAttendee(oe))?dt="joined":dt="reconnected"}else Ne===!0?dt="disconnected":dt="left";if(dt===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===oe)switch(dt){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${dt}`);return}else{const An=(0,st.l)(Se);if(!An){this.callLogger.error(`No externalUserId for ${oe}`);return}switch(dt){case"joined":{var kt;(kt=this.staleAttendeeChecker)===null||kt===void 0||kt.deleteDisconnectedAttendee(oe),this.observer.onPeerJoined(oe,An),this.observer.onPeerConnected(oe),this.updatePeerVideoTile(oe);break}case"left":this.observer.onPeerDisconnected(oe),this.observer.onPeerLeft(oe);break;case"disconnected":var $t;($t=this.staleAttendeeChecker)===null||$t===void 0||$t.addDisconnectedAttendee(oe),this.observer.onPeerDisconnected(oe);break;case"reconnected":{var ln;(ln=this.staleAttendeeChecker)===null||ln===void 0||ln.deleteDisconnectedAttendee(oe),this.observer.onPeerConnected(oe),this.updatePeerVideoTile(oe);break}default:this.callLogger.error(`unknown peer event ${dt}`);return}}dt==="joined"&&this.attendeeJoined(oe),dt==="left"&&this.attendeeLeft(oe)}realtimeFatalErrorCallback(oe){this.callLogger.error(`Chime session fatal error: name=${oe.name}, message=${oe.message}`),this.observer.onClogError(`FatalError: ${oe.name} - ${oe.message}`)}realtimeLocalSignalStrengthChangeCallback(oe){this.consoleLog.debug(`Local attendee signalStrength=${oe}`)}realtimeMuteAndUnmuteLocalAudioCallback(oe){this.callLogger.debug(`Local attendee mute=${oe}`),this.observer.onPeerMuted("self",oe)}realtimeSetCanUnmuteLocalAudioCallback(oe){this.consoleLog.debug(`Local attendee can unmute = ${oe}`)}realtimeVolumeIndicatorCallback(oe,pe,Se,Ne,lt){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${oe}, volume=${pe}, muted=${Se}, signalStrength=${Ne}, externalUserId=${lt}`),this.selfAttendeeId!==oe&&(Se?this.observer.onPeerMuted(oe,!0):Se!==null&&Se===!1&&this.observer.onPeerMuted(oe,!1)),Ne!==null&&(this.selfAttendeeId===oe?this.observer.onSelfConnectionQualityChanged("uplink",(0,_.MK)(Ne)):this.observer.onPeerConnectionQualityChanged(oe,"uplink",(0,_.MK)(Ne)))}activeSpeakerDetectorCallback(oe){var pe,Se;(pe=this.peerCache)===null||pe===void 0||pe.updateCallState({activeSpeakerList:oe}),(Se=this.videoUplinkManager)===null||Se===void 0||Se.reportActiveSpeakerChange(this.selfAttendeeId===oe[0])}realtimeReceiveDataMessageCallback(oe){if(this.selfAttendeeId===oe.senderAttendeeId){if(!oe.throttled)return;this.callLogger.info(`Data message throttled: size=${oe.data.length} bytes`);return}let pe;try{pe=ot.Y.decode(oe.data)}catch(Se){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${Se}
				| Data Sender Attendee ID: ${oe.senderAttendeeId}
				| Data Sender External Attendee ID: ${oe.senderExternalUserId}
				| Topic: ${oe.topic}`);return}this.handlePeerMessageFromDataMessage(pe,oe.senderAttendeeId)}handlePeerMessageFromDataMessage(oe,pe){const Se=pe;if(oe.jukeboxRequest){var Ne;if(!(0,nn.Z)(Se,"senderAttendeeId is not populated")||!(0,nn.Z)(oe.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((Ne=this.peerCache)===null||Ne===void 0)&&Ne.hasPeer(Se))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${Se}`);return}oe.jukeboxRequest.songKey&&!oe.jukeboxRequest.stop&&this.observer.onJukeboxRequest(oe.jukeboxRequest.songKey),oe.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(oe.reacji){var lt;if(!(0,nn.Z)(Se,"senderAttendeeId is not populated")||!(0,nn.Z)(oe.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((lt=this.peerCache)===null||lt===void 0)&&lt.hasPeer(Se)){const ln=It(oe.reacji);this.observer.onPeerReacji(Se,oe.reacji.emoji,!0,ln)}else this.callLogger.info(`Dropping reacji from unknown peer: ${Se}`)}else if(oe.draw){var dt;const ln=Rt(oe.draw,this.selfAttendeeId);if(!(0,nn.Z)(Se,"senderAttendeeId is not populated")||!(0,nn.Z)(ln,"Draw message must be correctly formed"))return;!((dt=this.peerCache)===null||dt===void 0)&&dt.hasPeer(Se)?this.observer.onPeerDrawMessage(Se,ln):this.callLogger.info(`Dropping draw message from unknown peer: ${Se}`)}else if(oe.capabilities){if(!(0,nn.Z)(Se,"senderAttendeeId is not populated"))return;if(!(0,Ye.A)(oe.capabilities.isDrawEnabled)){var it;(it=this.peerCache)===null||it===void 0||it.updatePeerStates([{peerId:Se,state:{isDrawEnabled:oe.capabilities.isDrawEnabled}}])}}else if(oe.muteRequest){var kt;if(!(0,nn.Z)(Se,"senderAttendeeId is not populated")||!(0,nn.Z)(oe.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((kt=this.peerCache)===null||kt===void 0)&&kt.hasPeer(Se)){if(oe.muteRequest.peerId===this.selfAttendeeId){var $t;const ln=this.attendeeMuteRequests[pe],An=ln==null?void 0:ln.lastRequestTime,In=Date.now();if(ln?(ln.lastRequestTime=In,ln.count+=1):this.attendeeMuteRequests[pe]={lastRequestTime:In,count:1},An&&In-An<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${pe} peer: ${Se}`);return}if((($t=this.attendeeMuteRequests[pe])===null||$t===void 0?void 0:$t.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${pe} peer: ${Se}`);return}}this.observer.onPeerMuteRequest(Se,oe.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${Se}`)}else if(oe.contentShareDetails){if(!(0,nn.Z)(Se,"senderAttendeeId is not populated")||!(0,nn.Z)(oe.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,nn.Z)(oe.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${oe.contentShareDetails.itemId}, type: ${oe.contentShareDetails.sourceType}`);const ln=(0,Qe.Vd)(oe.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(Se,ln,oe.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(oe){this.observer.onTranscriptionEvent(oe)}updatePeerVideoTile(oe){this.audioVideoFacade.getAllVideoTiles().filter(Ne=>{const lt=Ne.state();return!lt||!lt.boundAttendeeId?!1:new r.jp(lt.boundAttendeeId).base()===new r.jp(oe).base()}).forEach(Ne=>{const lt=(Ne==null?void 0:Ne.state())||null;lt&&this.observer.onPeerVideoTileUpdate(oe,lt)})}constructor(oe,pe,Se,Ne){var lt;this.selfAttendeeId=oe,this.audioVideoFacade=pe,this.observer=Se,this.videoUplinkManager=Ne,this.callLogger=(0,a.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,a.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var dt,it,kt;return(dt=this.audioVideoFacade.audioVideoController)===null||dt===void 0||(it=dt.meetingSessionContext)===null||it===void 0||(kt=it.signalingClient)===null||kt===void 0?void 0:kt.ready()},this.logFailureToSendPeerMessage=dt=>{const it=dt.draw?"draw":"reacji",kt=c(()=>this.callLogger.error(`Failed to send ${it} peer message. Data channel is not ready to use.`),"logError");return(0,et.A)(it,kt)},(0,Xe.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Ot,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(lt=this.audioVideoFacade.transcriptionController)===null||lt===void 0||lt.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new hn(this.observer),this.staleAttendeeChecker=new bt(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var gn=e(3867135795),rn=e(6696292586);const ut=15,Pt=2560,Bt=1e3,Ft="text";let un=c(class{stopMusic(oe){let{cleanObserver:pe}=oe;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),pe&&this.audioVideoFacade.removeContentShareObserver(this))}stop(){var oe=this;return(0,t.coroutine)(function*(){oe.isScreenshareEnabled&&(oe.isStopRequested=yield oe.stopContentShare()),oe.huddlesJukeboxEnabled&&oe.stopMusic({cleanObserver:!0}),oe.isStopRequested||(oe.observer.onScreenShareStopped(),oe.audioVideoFacade.removeContentShareObserver(oe))})()}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}setSongStream(oe){var pe=this;return(0,t.coroutine)(function*(){pe.huddlesJukeboxEnabled&&(pe.waitForStart=(0,d.u)(),yield pe.audioVideoFacade.startContentShare(oe),pe.isMusicEnabled=!0)})()}setScreenshare(oe,pe,Se){var Ne=this;return(0,t.coroutine)(function*(){if(oe===Ne.isScreenshareEnabled)return;const{huddleEventsTrace:lt}=(0,p.A)().getAllTraceHandlers();if(oe){let dt=pe;if(pe){const kt=pe.split(":");kt.length===3&&kt[2]!=="0"&&(kt[2]="0",dt=kt.join(":"),Ne.log.warn(`Munging screen share media source id, before: ${pe}, after: ${dt}`))}let it;try{Ne.waitForStart=(0,d.u)();const kt=c($t=>{throw Ne.log.error(`getUserMedia error during huddle screenshare attempt: ${$t.name} ${$t.message}`),$t},"logGetUserMediaError");if((0,x.g9M)()&&Ne.log.info(`Starting screen share with zoomLevel = ${(0,x.IXB)()}`),(0,x.g9M)()&&Se){const{screenHeight:$t,screenWidth:ln,selectedDisplayId:An}=Se;if(it={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:dt,maxFrameRate:ut}}},ln&&$t){const kn=it.video.mandatory,Zn=ln/$t,_s=Pt;kn.maxWidth=ln<_s?ln:_s,kn.maxHeight=$t<_s?$t:_s;const Ts=navigator.mediaDevices.getSupportedConstraints();(0,gn.A)(Ts,"aspectRatio")&&!!Ts.aspectRatio&&(0,rn.A)(Zn)&&(kn.minAspectRatio=Zn,kn.maxAspectRatio=Zn),Ne.log.info(`Starting screen share with resolution constraints: ${kn.maxWidth} x ${kn.maxHeight} | resolution provided: ${ln} x ${$t}`)}else Ne.log.info("Starting application window share without proposed resolution");const Nn=yield navigator.mediaDevices.getUserMedia(it).catch(kt);(Nn==null?void 0:Nn.getVideoTracks().length)>0?(Ne.log.debug(`Applying content hint to content share stream. Content Hint ${Ft}`),Nn.getVideoTracks()[0].contentHint=Ft):Ne.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const kn=Nn.getVideoTracks()[0].getSettings(),Zn=(0,Qe.MS)(kn==null?void 0:kn.deviceId);W.A.publish({type:B.lx.ScreenshareContentType,update:{screenshareContentType:Zn}}),Ne.log.info(`Created video track with resolution: ${kn.width} x ${kn.height} framerate: ${kn.frameRate} aspect ratio: ${kn.aspectRatio}`),An&&Ne.log.info(`Sharing from selected display: ${An}`)},500),yield Ne.audioVideoFacade.startContentShare(Nn),setTimeout(()=>Ne.applyContentShareConstraints(Nn),Bt),lt==null||lt.update({name:E.p.SCREENSHARE,type:E.G.START})}else{Ne.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const $t=yield Ne.audioVideoFacade.startContentShareFromScreenCapture(dt).catch(kt);if(lt==null||lt.update({name:E.p.SCREENSHARE,type:E.G.START}),setTimeout(()=>Ne.applyContentShareConstraints($t),Bt),($t==null?void 0:$t.getVideoTracks().length)>0){Ne.log.debug(`Applying content hint to content share stream. Content Hint ${Ft}`),$t.getVideoTracks()[0].contentHint=Ft;const ln=$t.getVideoTracks()[0].getSettings(),An=(0,Qe.MS)(ln==null?void 0:ln.deviceId);W.A.publish({type:B.lx.ScreenshareContentType,update:{screenshareContentType:An}})}else Ne.log.warn("No video tracks where available when starting unconstrained content share")}}catch(kt){const $t=c(()=>{delete Ne.waitForStart,Ne.isScreenshareEnabled=!1,Ne.observer.onScreenShareStopped()},"exitScreenshare");if(kt.name==="NotAllowedError"){$t(),kt.message==="Permission denied by system"&&Ne.observer.onCheckSystemMediaAccess(_.mT.SCREEN);return}if(kt.name==="OverconstrainedError"){$t(),it&&Ne.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(it)}`);return}if(["TypeError","AbortError","Error"].includes(kt.name)){$t(),Ne.observer.onScreenShareError(_.lD.ERROR);return}if(kt.name==="NotReadableError"){$t(),Ne.observer.onScreenShareError(_.lD.NOT_READABLE_ERROR);return}throw kt.name==="NotFoundError"&&($t(),Ne.observer.onScreenShareError(_.lD.NOT_FOUND_ERROR)),Ne.log.error(`Encountered an uncaught error attempting to start screen share: ${kt.name} ${kt.message}`),Ne.waitForStart.resolve(!1),$t(),kt}Ne.lastEnableTimeMs=Date.now(),Ne.isScreenshareEnabled=oe}else Ne.isScreenshareEnabled&&(yield Ne.stopContentShare())})()}applyContentShareConstraints(oe){var pe=this;return(0,t.coroutine)(function*(){if(!pe.isExperimentalSDK)return;const Se=oe.getVideoTracks()[0];if(!Se){pe.log.info("Constraints not re-applied no video track available");return}Se.getSettings()||pe.log.info("Constraints not re-applied no video track settings available");const lt={width:{ideal:Pt},height:{ideal:Pt},frameRate:{ideal:ut}};yield Se.applyConstraints(lt),pe.log.info("Constraints re-applied to content share (resolution overwrite applied)")})()}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}stopContentShare(){var oe=this;return(0,t.coroutine)(function*(){let pe=!1;if(oe.waitForStart.isPending()?Date.now()-oe.lastEnableTimeMs>1e4?(pe=!0,oe.log.info(`Stop screen share, force: ${Date.now()-oe.lastEnableTimeMs} ms since start`)):(oe.log.info("Stop screen share, waiting for content share start to resolve"),pe=yield oe.waitForStart,oe.log.info(`Stop screen share, wait for content share start resolve finished: ${pe}`)):(pe=oe.waitForStart.value(),oe.log.info(`Stop screen share, promise resolved: ${pe}`)),pe){oe.audioVideoFacade.stopContentShare(),oe.isScreenshareEnabled=!1;const{huddleEventsTrace:Se}=(0,p.A)().getAllTraceHandlers();Se==null||Se.update({name:E.p.SCREENSHARE,type:E.G.STOP}),W.A.publish({type:B.lx.ScreenshareContentType,update:null})}else oe.log.warn("Screen share disable ignored as screen share was not started successfully");return pe})()}constructor(oe,pe,Se,Ne){this.audioVideoFacade=oe,this.observer=pe,this.huddlesJukeboxEnabled=Se,this.isExperimentalSDK=Ne,this.log=(0,a.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=I(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),Sn=c(class{addObserver(oe){var pe,Se;(pe=this.videoDownlinkPolicy)===null||pe===void 0||(Se=pe.addObserver)===null||Se===void 0||Se.call(pe,oe)}removeObserver(oe){var pe,Se;(pe=this.videoDownlinkPolicy)===null||pe===void 0||(Se=pe.removeObserver)===null||Se===void 0||Se.call(pe,oe)}remoteVideoSourcesDidChange(oe){this.videoSources=oe,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const oe=[];this.videoSources.forEach(pe=>{var Se;const Ne=(Se=pe.attendee)===null||Se===void 0?void 0:Se.attendeeId;Ne===this.selfAttendeeId||!Ne||(Ne.includes("#content")||!this.isAudioOnlyMode)&&oe.push(pe)}),this.sendChimeVideoPreferences(oe)}constructor({selfAttendeeId:oe,videoDownlinkPolicy:pe}){this.logger=new Ee.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=Se=>{this.isAudioOnlyMode=Se,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=Se=>{var Ne;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(Se)}`)}catch{}(Ne=this.videoDownlinkPolicy)===null||Ne===void 0||Ne.chooseRemoteVideoSources(Se)},this.videoDownlinkPolicy=pe,this.selfAttendeeId=oe}},"VideoDownlinkManager");const Un=null;var Cn=e(796111729),Ln=e(2240330919);const yn=30,Xt=720;class nt{get videoParticipantCount(){const oe=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+oe}constructor(oe,pe){var Se=this;this.observer=oe,this.audioVideoFacade=pe,this.logger=(0,Cn.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.minimumBitrate=100,this.useMinimumBitrate=!1,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.bitrateUpdateDelayMs=5e3,this.remoteVideoSourcesDidChange=Ne=>{this.logger.info("remote video sources changed",Ne),this.remoteVideoParticipantCount=Ne.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=Ne=>{this.logger.debug(`user is active speaker: ${Ne}`);const lt=this.isActiveSpeaker;this.isActiveSpeaker=Ne,lt===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const Ne=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const lt=this.currentBitrate;if(this.useMinimumBitrate?this.currentBitrate=this.minimumBitrate:this.isActiveSpeaker?this.currentBitrate=Ne:this.remoteVideoParticipantCount<=2?this.currentBitrate=Ne:this.remoteVideoParticipantCount<=4?this.currentBitrate=Ne*2/3:this.currentBitrate=Ne*2/this.remoteVideoParticipantCount,this.currentBitrate=(0,Ln.A)([this.currentBitrate,this.minimumBitrate])||lt,lt===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}const dt=lt>this.currentBitrate;this.applyNextVideoSettings(dt)},this.shouldRestrictVideoQuality=Ne=>{this.logger.info(`should restrict video quality due to connection quality: ${Ne}`),this.useMinimumBitrate=Ne,this.updateVideoQualitySettings()},this.applyBitrate=()=>{var Ne;!this.currentBitrate||!(!((Ne=this.audioVideoFacade)===null||Ne===void 0)&&Ne.setVideoMaxBandwidthKbps)||(this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate)))},this.applyBitrateDelayed=(0,v.A)(this.applyBitrate,this.bitrateUpdateDelayMs,{leading:!1}),this.applyNextVideoSettings=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?Se.applyBitrateDelayed():Se.applyBitrate()},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(Xt,Xt,yn),this.observer.onMaxTileSizeUpdated(Xt),this.applyNextVideoSettings()}}c(nt,"VideoUplinkManager");var pt=e(3146858537),Dt=e(3398586081),Qt=e(1829947126);let tn=c(class{initialize(oe,pe){this.gainNode=pe,this.audioContext=oe}onAudioLevelUpdated(oe){isNaN(oe.value)||oe.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const oe=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(oe,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var oe;this.gainNode&&this.audioContext&&((oe=this.gainNode)===null||oe===void 0||oe.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(oe){this.defaultVolume=oe,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),Qt.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const an="HUDDLE-JUKEBOX";let ht=c(class{startLocalJukebox(oe){let{song:pe,volume:Se}=oe;var Ne=this;return(0,t.coroutine)(function*(){var lt;const dt=Ne.getSongUrl({song:pe});if(dt===Ne.localAudioUrl)return;Ne.callLogger.info(`Starting local jukebox song key: ${pe.key}.`),Ne.audioContext||(Ne.audioContext=new AudioContext),Ne.cleanup(),Ne.localAudioUrl=dt;const kt=yield(yield window.fetch(dt)).arrayBuffer(),$t=yield Ne.audioContext.decodeAudioData(kt);Ne.audioBufferSourceNode=Ne.audioContext.createBufferSource(),Ne.audioBufferSourceNode.buffer=$t,Ne.localAudio=new Audio,Ne.localAudio.volume=Se,yield Ne.localAudio.setSinkId((0,P._o)()),Ne.localMediaStreamAudioDestinationNode=Ne.audioContext.createMediaStreamDestination(),Ne.gainNode=Ne.audioContext.createGain(),(lt=Ne.jukeboxDucker)===null||lt===void 0||lt.initialize(Ne.audioContext,Ne.gainNode),Ne.gainNode.gain.value=Ne.defaultVolume,Ne.audioBufferSourceNode.connect(Ne.gainNode),Ne.gainNode.connect(Ne.localMediaStreamAudioDestinationNode),Ne.localAudio.srcObject=Ne.localMediaStreamAudioDestinationNode.stream,Ne.audioBufferSourceNode.loop=!0,Ne.audioBufferSourceNode.start(),Ne.localAudio.play()})()}startContentShareJukebox(oe){let{song:pe}=oe;var Se=this;return(0,t.coroutine)(function*(){var Ne,lt;Se.audioContext||(Se.audioContext=new AudioContext),Se.audioDestination||(Se.audioDestination=Se.audioContext.createMediaStreamDestination()),Se.callLogger.info(`Starting jukebox song key: ${pe.key}`),Se.cleanup();const dt=Se.getSongUrl({song:pe}),kt=yield(yield window.fetch(dt)).arrayBuffer(),$t=yield Se.audioContext.decodeAudioData(kt);return Se.audioBufferSourceNode=Se.audioContext.createBufferSource(),Se.audioBufferSourceNode.buffer=$t,Se.localAudio=new Audio,yield Se.localAudio.setSinkId((0,P._o)()),Se.localMediaStreamAudioDestinationNode=Se.audioContext.createMediaStreamDestination(),Se.gainNode=Se.audioContext.createGain(),(Ne=Se.jukeboxDucker)===null||Ne===void 0||Ne.initialize(Se.audioContext,Se.gainNode),Se.gainNode.gain.value=Se.defaultVolume,Se.audioBufferSourceNode.connect(Se.gainNode),Se.gainNode.connect(Se.audioDestination),Se.gainNode.connect(Se.localMediaStreamAudioDestinationNode),Se.localAudio.srcObject=Se.localMediaStreamAudioDestinationNode.stream,Se.audioBufferSourceNode.loop=!0,Se.audioBufferSourceNode.start(),Se.localAudio.play(),(lt=Se.audioDestination)===null||lt===void 0?void 0:lt.stream})()}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var oe,pe,Se,Ne;(oe=this.audioBufferSourceNode)===null||oe===void 0||oe.stop(),this.audioBufferSourceNode=void 0,(pe=this.localAudio)===null||pe===void 0||pe.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(Se=this.gainNode)===null||Se===void 0||Se.disconnect(),this.gainNode=void 0,(Ne=this.audioDestination)===null||Ne===void 0||Ne.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var oe;return(oe=this.localAudio)===null||oe===void 0?void 0:oe.volume}getSongUrl(oe){let{song:pe}=oe;return pe.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,a.Jt)(an),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new tn(this.defaultVolume)}},"JukeboxManager");const Ut=(0,Dt.A)(()=>new ht),Gt={connectionWaitTimeMs:5*1e3,connectionUnhealthyThreshold:10,sendingAudioFailureSamplesToConsider:2,sendingAudioFailureInitialWaitTimeMs:3*1e3},mn={connectionWaitTimeMs:10*1e3,connectionUnhealthyThreshold:25,sendingAudioFailureSamplesToConsider:5,sendingAudioFailureInitialWaitTimeMs:10*1e3},we=c(class{constructor({enableExperimentalConfig:oe}){this.enableExperimentalConfig=!1,this.getConfiguration=()=>this.enableExperimentalConfig?mn:Gt,this.enableExperimentalConfig=!!oe}},"ConnectionHealthPolicyManager");var Fe=e(610288365),qe=e(1921074781),ze;(function(je){je.Control="control",je.Vp8="vp8",je.Vp8Svc="vp8_svc",je.Vp9="vp9",je.Vp9Svc="vp9_svc",je.Av1="av1",je.Av1Svc="av1_svc"})(ze||(ze={}));const Ge=(0,Cn.Wo)({label:"HUDDLE-VIDEO-CODECS"}),Ze=function(){var je=(0,t.coroutine)(function*(oe){let{audioVideoFacade:pe,h264BaselineProfileEnabled:Se,disableVp9:Ne}=oe;var lt,dt;const it=[];!(0,f.gm)()&&!Ne&&it.push(r.KK.vp9()),Se&&it.push(r.KK.h264BaselineProfile()),it.push(r.KK.h264()),Ge.info(`Setting preferred camera video codec to ${(lt=it[0])===null||lt===void 0?void 0:lt.codecName}`),Ge.debug("Setting camera video codec preferences",it),(dt=pe.setVideoCodecSendPreferences)===null||dt===void 0||dt.call(pe,it)});return c(function(pe){return je.apply(this,arguments)},"setCameraVideoCodec")}(),_t=function(){var je=(0,t.coroutine)(function*(oe){let{useAv1:pe,audioVideoFacade:Se,h264BaselineProfileEnabled:Ne}=oe;var lt,dt;const it=[];pe&&it.push(r.KK.av1()),Ne&&it.push(r.KK.h264BaselineProfile()),it.push(r.KK.h264()),Ge.info(`Setting preferred content share video codec to ${(lt=it[0])===null||lt===void 0?void 0:lt.codecName}`),Ge.debug("Setting content share video codec preferences",it),(dt=Se.setContentShareVideoCodecPreferences)===null||dt===void 0||dt.call(Se,it)});return c(function(pe){return je.apply(this,arguments)},"setScreenshareVideoCodec")}();class Et{initialize(oe,pe,Se,Ne,lt,dt){var it=this;return(0,t.coroutine)(function*(){var kt,$t,ln,An,In,Nn,kn,Zn;lt&&(it.waitForStop=lt),dt&&(it.dataChannelSubscribers=dt),it.observer.onInit(),it.options=oe;const{serverConfig:_s,useChimeSdkExp:Ts,useSimulcast:Ms,useGetMediaAccessCheckForWindows:ls,useHuddlesFilterWorker:Qn}=it.options;yield(0,r.ZT)(Ts),it.chimeLogger=new Ee.k(it.loggerName),it.callLogger=(0,a.Jt)(it.loggerName),(kt=it.callLogger)===null||kt===void 0||kt.info(`user agent: ${navigator.userAgent}`);const ae=(0,o.HF)();($t=it.callLogger)===null||$t===void 0||$t.info(`Version TS: ${ae}`);const De=(document==null||(ln=document.documentElement)===null||ln===void 0||(An=ln.dataset)===null||An===void 0?void 0:An.versionHash)||"unknown";(In=it.callLogger)===null||In===void 0||In.info(`Version Hash: ${De}`),(Nn=it.callLogger)===null||Nn===void 0||Nn.info(`Chime SDK Version: ${r.zF.sdkVersion}${Ts?" (Experimental)":""}`),it.meeting=_s.meeting,it.attendee=_s.attendee,it.selfAttendeeId=it.attendee.AttendeeId;const $e=(0,l.Y)(_s.attendee.ExternalUserId);try{var St;const Vt=JSON.stringify((0,n.A)(oe,"serverConfig"),null,2);(St=it.callLogger)===null||St===void 0||St.debug(`Huddle SDK [${$e}] initialized with options: ${Vt}`)}catch(Vt){var Mn;(Mn=it.callLogger)===null||Mn===void 0||Mn.error("Error stringifying options",Vt)}if(it.transportProtocols=_s.transportProtocols,it.isPrejoin=it.options.isPrejoin,it.meetingSessionConfiguration=new r.QJ(it.meeting,it.attendee),Ms&&it.meetingSessionConfiguration){var Pn;(Pn=it.callLogger)===null||Pn===void 0||Pn.info("Simulcast enabled"),it.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(it.options.usePriorityDownlinkPolicy&&(it.videoDownlinkPolicy=new r.gi(it.selfAttendeeId),it.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=it.videoDownlinkPolicy,it.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,it.videoDownlinkManager=new Sn({selfAttendeeId:it.selfAttendeeId,videoDownlinkPolicy:it.videoDownlinkPolicy})),it.meetingSessionConfiguration.urls&&(it.meetingSessionConfiguration.urls.urlRewriter=it.urlRewriter.bind(it)),it.meetingSessionConfiguration&&it.meetingSessionConfiguration.connectionHealthPolicyConfiguration&&(0,s.A)(it.options.enableExperimentalConnectionHealthPolicyConfig)){const Vt=new we({enableExperimentalConfig:it.options.enableExperimentalConnectionHealthPolicyConfig});Object.assign(it.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Vt.getConfiguration())}it.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,yield it.initVoiceFocus();const wn={audio:pe.includes(_.mT.MICROPHONE),video:pe.includes(_.mT.CAMERA)};r.vB.disable();let cn;const qn=!!(!((kn=it.voiceFocusManager)===null||kn===void 0)&&kn.isAvailable()),ms=it.options.disableAudioRedundancy||!1;if(Ts){const Vt=(0,r.Q_)(),vt=(0,r.RM)();if(it.defaultDeviceController=new vt(it.chimeLogger,{enableWebAudio:qn}),it.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(wn)),it.sessionExp=new Vt(it.meetingSessionConfiguration,it.chimeLogger,it.defaultDeviceController),cn=it.sessionExp.audioVideo,ms){const xt=(0,r.Ls)();cn.setAudioProfile(new xt(null,!1)),cn.setContentAudioProfile(new xt(null,!1))}}else{const Vt=(0,r.of)(),vt=(0,r.zg)();if(it.defaultDeviceController=new vt(it.chimeLogger,{enableWebAudio:qn}),it.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(wn)),it.session=new Vt(it.meetingSessionConfiguration,it.chimeLogger,it.defaultDeviceController),cn=it.session.audioVideo,ms){const xt=(0,r.j3)();cn.setAudioProfile(new xt(null,!1)),cn.setContentAudioProfile(new xt(null,!1))}}if(it.options.useVideoUplinkPolicy){var As;(As=it.callLogger)===null||As===void 0||As.info("Video uplink policy enabled"),it.videoUplinkManager=new nt(it.observer,cn)}yield it.populateDeviceInfoCache();const xs=it.options.useH264Baseline||!1;Ze({audioVideoFacade:cn,h264BaselineProfileEnabled:xs,disableVp9:!!it.options.disableVp9});const Rs=it.options.useH264BaselineScreenshare||!1,gs=it.options.useAv1Screenshare;_t({useAv1:gs,audioVideoFacade:cn,h264BaselineProfileEnabled:Rs});const Ls={useGetMediaAccessCheckForWindows:ls,useHuddlesFilterWorker:Qn,backgroundVideoFilteringSetting:i.uT.Both,useDevicesExp:it.options.useDevicesExp,useVideoUplinkPolicy:it.options.useVideoUplinkPolicy},dn=Ie;it.deviceManager=new dn(cn,it.audioOutputElement,it.observer,Ls,Se,it.chimeLogger,it.defaultDeviceController,it.voiceFocusManager),(Zn=it.dataChannelSubscribers)===null||Zn===void 0||Zn.forEach(Vt=>Vt.onInitializeDataChannelSubscriber()),it.audioVideoObserver=new He(it.selfAttendeeId,it.meeting.MeetingId,it.meeting.MediaRegion,$e,cn,it.observer,it.deviceManager,it.videoDownlinkManager,Ne,it.waitForStop,it.dataChannelSubscribers,it.videoUplinkManager);const tt=it.options.huddlesJukeboxEnabled;if(tt){var Je;(Je=it.callLogger)===null||Je===void 0||Je.info("Huddles Jukebox experiment enabled (prototype)")}it.contentShareManager=new un(cn,it.observer,!!tt,Ts),it.audioVideoFacadeSubscriber=new Wt(it.selfAttendeeId,cn,it.observer,it.videoUplinkManager),(0,Fe.Ay)().initialize(),it.connect(),it.screenManager=new m.A,it.observer.onMeetingSessionInitialized(),it.waitForInit.resolve()})()}shutdown(oe){var pe=this;return(0,t.coroutine)(function*(){var Se,Ne,lt,dt,it,kt;if((Se=pe.callLogger)===null||Se===void 0||Se.info("Huddles SDK shutdown initiated"),yield pe.waitForInit,pe.cleanupDataChannelSubscribers(),(Ne=pe.contentShareManager)===null||Ne===void 0||Ne.stop(),(lt=pe.audioVideoObserver)===null||lt===void 0||lt.stop(),yield(dt=pe.deviceManager)===null||dt===void 0?void 0:dt.shutdown(),qe.F.doesInstanceExist()){var $t;($t=qe.F.getInstance())===null||$t===void 0||$t.release()}(it=pe.audioVideoFacadeSubscriber)===null||it===void 0||it.destroy(),yield pe.waitForStop,delete pe.session,delete pe.sessionExp,delete pe.meetingSessionConfiguration,yield pe.cleanupDefaultDeviceControllerRefs(),(kt=pe.callLogger)===null||kt===void 0||kt.info("Huddles SDK shutdown completed"),delete pe.chimeLogger,delete pe.callLogger,delete pe.deviceManager,delete pe.audioVideoFacadeSubscriber,delete pe.audioVideoObserver,delete pe.contentShareManager,delete pe.screenManager,delete pe.voiceFocusManager,delete pe.videoDownlinkManager,delete pe.videoDownlinkPolicy,delete pe.videoUplinkManager,oe&&oe()})()}selfMicrophoneEnabled(oe){var pe;(pe=this.deviceManager)===null||pe===void 0||pe.setMicrophone(oe)}selfVideoEnabled(oe,pe,Se,Ne){var lt,dt;(lt=this.deviceManager)===null||lt===void 0||lt.setCamera(oe),(dt=this.contentShareManager)===null||dt===void 0||dt.setScreenshare(pe,Se,Ne)}startContentShareJukebox(oe){let{song:pe}=oe;var Se=this;return(0,t.coroutine)(function*(){var Ne;const lt=yield Ut().startContentShareJukebox({song:pe});lt&&((Ne=Se.contentShareManager)===null||Ne===void 0||Ne.setSongStream(lt))})()}selfStopJukebox(){var oe=this;return(0,t.coroutine)(function*(){var pe;Ut().stopJukebox(),(pe=oe.contentShareManager)===null||pe===void 0||pe.stopMusic({cleanObserver:!1})})()}setCameraQuality(oe,pe,Se,Ne){var lt;if(!(!((lt=this.options)===null||lt===void 0)&&lt.useVideoUplinkPolicy)){var dt;(dt=this.deviceManager)===null||dt===void 0||dt.setCameraQuality(oe,pe,Se,Ne)}}setAGC(oe){var pe;(pe=this.deviceManager)===null||pe===void 0||pe.setAGC(oe)}setNewPreferredDevice(oe,pe){var Se;(Se=this.deviceManager)===null||Se===void 0||Se.setPreferredDevice(oe,pe)}setNoiseSuppression(oe){var pe;(pe=this.deviceManager)===null||pe===void 0||pe.setNoiseSuppression(oe)}setVideoBackgroundEffect(oe){var pe;(pe=this.deviceManager)===null||pe===void 0||pe.setVideoBackgroundEffect(oe)}requestPreviewStreamForDeviceId(oe,pe,Se){var Ne;(Ne=this.deviceManager)===null||Ne===void 0||Ne.requestPreviewStreamForDeviceId(oe,pe,Se)}stopVideoPreviewForVideoInput(oe){var pe;(pe=this.deviceManager)===null||pe===void 0||pe.stopVideoPreviewForVideoInput(oe)}getScreenThumbnails(oe){var pe=this;return(0,t.coroutine)(function*(){var Se;return yield(Se=pe.screenManager)===null||Se===void 0?void 0:Se.getScreenThumbnails(oe==null?void 0:oe.thumbnailDimensions,oe==null?void 0:oe.isRefetch)})()}selfDrawEnabled(oe){var pe;(pe=this.audioVideoFacadeSubscriber)===null||pe===void 0||pe.selfDrawEnabled(oe)}sendReacji(oe,pe){var Se;(Se=this.audioVideoFacadeSubscriber)===null||Se===void 0||Se.sendReacji(oe,pe)}sendBackground(oe){var pe;(pe=this.audioVideoFacadeSubscriber)===null||pe===void 0||pe.sendBackground(oe)}sendMuteRequest(oe){var pe;(pe=this.audioVideoFacadeSubscriber)===null||pe===void 0||pe.sendMuteRequest(oe)}sendJukeboxRequest(oe){var pe;(pe=this.audioVideoFacadeSubscriber)===null||pe===void 0||pe.sendJukeboxRequest(oe)}sendJukeboxStopRequest(){var oe;(oe=this.audioVideoFacadeSubscriber)===null||oe===void 0||oe.sendJukeboxStopRequest()}sendDrawMessage(oe){var pe;(pe=this.audioVideoFacadeSubscriber)===null||pe===void 0||pe.sendDrawMessage(oe)}sendContentShareDetails(oe){var pe;(pe=this.audioVideoFacadeSubscriber)===null||pe===void 0||pe.sendContentShareDetails(oe)}sendRecordingStartNotification(){var oe;(oe=this.audioVideoFacadeSubscriber)===null||oe===void 0||oe.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var oe;(oe=this.deviceManager)===null||oe===void 0||oe.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(oe){var pe;return(pe=this.deviceManager)===null||pe===void 0?void 0:pe.maybeCheckSystemMediaAccess(oe)}setIncludeSelfAndNoneActiveSpeaker(oe,pe){var Se;(Se=this.audioVideoFacadeSubscriber)===null||Se===void 0||Se.setIncludeSelfAndNoneActiveSpeaker(oe,pe)}bindVideo(oe,pe,Se){var Ne;const lt=this.session||this.sessionExp;if(!lt)return;const dt=(Ne=lt.audioVideo.getVideoTile(oe))===null||Ne===void 0?void 0:Ne.state();Se?dt!=null&&dt.boundVideoStream&&r.xc.connectVideoStreamToVideoElement(dt.boundVideoStream,pe,!1):(this.videoDownlinkPolicy&&(dt!=null&&dt.paused)&&lt.audioVideo.unpauseVideoTile(oe),lt.audioVideo.bindVideoElement(oe,pe))}unbindVideo(oe,pe,Se){const Ne=this.session||this.sessionExp;Ne&&(Se?r.xc.disconnectVideoStreamFromVideoElement(pe,!0):Ne.audioVideo.getVideoTile(oe)&&Ne.audioVideo.unbindVideoElement(oe))}pauseVideo(oe){const pe=this.session||this.sessionExp;if(!pe)return;const Se=pe.audioVideo.getVideoTile(oe),Ne=Se==null?void 0:Se.state();!(Ne!=null&&Ne.isContent)&&(Ne!=null&&Ne.active)&&(Se==null||Se.pause())}unpauseVideo(oe){const pe=this.session||this.sessionExp;if(!pe)return;const Se=pe.audioVideo.getVideoTile(oe),Ne=Se==null?void 0:Se.state();Ne!=null&&Ne.paused&&(Se==null||Se.unpause())}videoTileHasStream(oe){const pe=this.session||this.sessionExp;if(!pe)return!1;const Se=pe.audioVideo.getVideoTile(oe);if(!Se)return!1;const Ne=Se.state();return Ne?!!Ne.boundVideoStream:!1}getMeetingMediaRegion(){var oe;return(oe=this.meeting)===null||oe===void 0?void 0:oe.MediaRegion}completePrejoin(oe){var pe=this;return(0,t.coroutine)(function*(){const{isStartMuted:Se}=oe;if(pe.isPrejoin){var Ne,lt;return Se&&((Ne=pe.deviceManager)===null||Ne===void 0||Ne.setStartMutedBarrier(Se)),(lt=pe.audioVideoObserver)===null||lt===void 0||lt.start(),pe.maybeBindAudioOutputElement(),pe.setIncludeSelfAndNoneActiveSpeaker(!0,!0),pe.isPrejoin=!1,!0}return!1})()}urlRewriter(oe){if(!oe)return oe;if(this.transportProtocols){const lt=this.transportProtocols;if(oe.includes("?transport=udp")&&!lt.includes("udp")){var pe;return(pe=this.callLogger)===null||pe===void 0||pe.info("Dropping UDP transport"),""}if(oe.includes("?transport=tcp")){if(oe.includes("turns:")){if(!lt.includes("tls")){var Se;return(Se=this.callLogger)===null||Se===void 0||Se.info("Dropping TLS transport"),""}}else if(!lt.includes("tcp")){var Ne;return(Ne=this.callLogger)===null||Ne===void 0||Ne.info("Dropping TCP transport"),""}}}return oe.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var oe,pe=this;const Se=function(){var Ne=(0,t.coroutine)(function*(){try{var lt;pe.videoDevicePermissionStatus="IN_PROGRESS";const it=yield navigator.mediaDevices.getUserMedia({video:!0});return(lt=pe.callLogger)===null||lt===void 0||lt.info("Video device permissions granted"),pe.videoDevicePermissionStatus="GRANTED",it}catch(it){var dt;throw pe.videoDevicePermissionStatus="DENIED",pe.observer.onSetNoMediaInput(_.mT.CAMERA),(dt=pe.callLogger)===null||dt===void 0||dt.info("Video device permissions denied"),it}});return c(function(){return Ne.apply(this,arguments)},"callback")}();(oe=this.defaultDeviceController)===null||oe===void 0||oe.setDeviceLabelTrigger(Se)}maybeEnableSelfCamera(){let{isScreenshareEnabled:oe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var pe=this;return(0,t.coroutine)(function*(){if((yield pe.initVideoPermission())&&(pe.videoDevicePermissionStatus==="INITIAL"||pe.videoDevicePermissionStatus==="GRANTED")){var Ne;pe.selfVideoEnabled(!0,!!oe),pe.observer.onPeerCameraActive("self",!0),(Ne=pe.callLogger)===null||Ne===void 0||Ne.info("maybeEnableSelfCamera:: enabling camera function executed")}})()}initVideoPermission(){var oe=this;return(0,t.coroutine)(function*(){var pe;return oe.setupVideoDeviceLabelTrigger(),yield(pe=oe.deviceManager)===null||pe===void 0?void 0:pe.initVideoInputDevices()})()}getSelfAttendeeId(){return this.selfAttendeeId}constructor(oe,pe,Se="FREE-WILLY-SDK"){this.observer=oe,this.audioOutputElement=pe,this.loggerName=Se,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,d.u)(),this.waitForStop=(0,d.u)();var Ne=this;this.initVoiceFocus=(0,t.coroutine)(function*(){let kt=0;const $t=Date.now();Ne.voiceFocusManager=new pt.A(Ne.chimeLogger),yield Ne.voiceFocusManager.init({configOnly:!1}),kt=Date.now()-$t,Ne.observer.onMaybeVoiceFocusInitialized(kt)});var lt=this;this.populateDeviceInfoCache=(0,t.coroutine)(function*(){var kt,$t,ln,An;const In=Date.now(),Nn=yield(kt=lt.defaultDeviceController)===null||kt===void 0?void 0:kt.listAudioInputDevices(),kn=yield($t=lt.defaultDeviceController)===null||$t===void 0?void 0:$t.listAudioOutputDevices(),Zn=yield(ln=lt.defaultDeviceController)===null||ln===void 0?void 0:ln.listVideoInputDevices(),_s=Date.now()-In;(An=lt.callLogger)===null||An===void 0||An.info(`Populated device info cache in ${_s}ms with ${Nn==null?void 0:Nn.length} microphones, ${kn==null?void 0:kn.length} speakers, and ${Zn==null?void 0:Zn.length} cameras`)}),this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(kt=>kt.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)};var dt=this;this.cleanupDefaultDeviceControllerRefs=(0,t.coroutine)(function*(){var kt;if(!dt.defaultDeviceController)return;yield dt.defaultDeviceController.destroy();const $t=(kt=dt.defaultDeviceController)===null||kt===void 0?void 0:kt.eventController;if($t){var ln;const An=(ln=$t.configuration)===null||ln===void 0?void 0:ln.urls;An&&(An.urlRewriter=void 0)}dt.defaultDeviceController.deviceLabelTrigger=void 0,delete dt.defaultDeviceController}),this.handleClientOffline=()=>{var kt;(kt=this.audioVideoObserver)===null||kt===void 0||kt.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=kt=>{var $t;($t=this.videoDownlinkManager)===null||$t===void 0||$t.toggleAllIncomingVideo(kt)};var it=this;this.connect=(0,t.coroutine)(function*(){var kt,$t;if((kt=it.audioVideoObserver)===null||kt===void 0||kt.startWithSignalingOnly(),yield($t=it.deviceManager)===null||$t===void 0?void 0:$t.init(),!it.isPrejoin){var ln;if(!N.Ay.canAccessMediaResource(_.mT.MICROPHONE)){var An;(An=it.callLogger)===null||An===void 0||An.error("Missing microphone permissions. Not connecting to huddle");return}(ln=it.audioVideoObserver)===null||ln===void 0||ln.start()}}),this.videoDevicePermissionStatus="INITIAL"}}c(Et,"FreeWillySdk")},5016574668:(Q,C,e)=>{"use strict";e.d(C,{An:()=>r,Kp:()=>i,Nb:()=>s,RN:()=>m,Sq:()=>a,ZT:()=>t,jt:()=>l,tz:()=>d,w4:()=>o,yz:()=>n});const t=10*1e3,n=1e3,s="2.5",r=450*450,d=25,o=15,a="huddles_perf",i="app_metrics",m="client_metrics",l=5},2205899741:(Q,C,e)=>{"use strict";e.d(C,{$c:()=>M,h7:()=>O,t5:()=>f,e7:()=>_,KG:()=>D,q4:()=>p,_N:()=>h,sI:()=>G,Ap:()=>u,kq:()=>B,ik:()=>y,No:()=>k,fB:()=>W,Ye:()=>E,RI:()=>m,Fq:()=>L,oj:()=>v,qf:()=>P,Tg:()=>g});const t=30,n=300,s=300,r=30,d=10,o=30,a=1,i=c(R=>function(j){for(var w=arguments.length,N=new Array(w>1?w-1:0),K=1;K<w;K++)N[K-1]=arguments[K];if(!(typeof j!="string"&&typeof j!="number"))return R(j,...N)},"makeDeduction"),m=i(R=>R>r?R/5:void 0),l=i(R=>R>400?R/20:void 0),_=i(R=>R>1?R:void 0),v=i(R=>R>s?R/7.5:void 0),u=i(R=>R>1?R*10:void 0),h=i(R=>R>t?R/2:void 0),f=i(R=>R>o?R*1.25:void 0),p=i(R=>R>n?R/10:void 0),E=i(R=>R>o?R*1.5:void 0),g=i(R=>R>d?R*1.5:void 0),A=i(R=>R*2),y=i(R=>R&&R!=="udp"?40:void 0),T=i(R=>R&&R>500?R/100:void 0),M=i(R=>R>150?R/5:void 0),O=i(R=>R>15?R*2:void 0),I=i(R=>R>5?R:void 0),D=i(R=>R>20?R/5:void 0),P=i(R=>R>1?R*2.5:void 0),L=i(R=>!R||R==="none"?void 0:25),k=i(R=>R>0?R*20:void 0),G=i(R=>R>1?R*1.25:void 0),b=i(R=>R>300?R/10:void 0),W=i(R=>R&&R>o?R*1.5:void 0),B=i(R=>R>a?Math.round(R*7.5):void 0)},8634352961:(Q,C,e)=>{"use strict";e.d(C,{Zr:()=>A,gR:()=>p,kB:()=>g,oB:()=>y,ws:()=>f,zT:()=>E});var t=e(7578217447),n=e(3852424459),s=e(796111729),r=e(9101533895),d=e(5795074931),o=e(3078252698);const a=(0,s.Wo)({label:"HUDDLE-RTM-FILTER"}),i=new Set(["file_shared","file_created","file_unshared","file_change"]),m=new Set(["sh_room_join","huddle_invite_cancel","update_thread_state","thread_subscribed","ended_huddle_update"]);let l=c(class{constructor(M){this.skippedCount=0,this.allowedCount=0,this.allowedTypes={},this.updateSubscribedChannels=()=>{const I=this.getState();this.mutedChannels=(0,n.m)(I);const D=(0,r.D5)(I);this.joinedChannelIds=new Set(D.map(P=>P.id)),a.info(`Huddle RTM filter initialized. XWS joined channel count: ${this.joinedChannelIds.size} - Muted channel count: ${this.mutedChannels?Object.keys(this.mutedChannels).length:0}`)},this.getTopAllowedTypes=()=>this.allowedCount?Object.entries(this.allowedTypes).sort((I,D)=>{let[,P]=I,[,L]=D;return L-P}).slice(0,5).map(I=>{let[D]=I;return D}).join(" "):"",this.getPercentSkipped=()=>Math.round(this.skippedCount/(this.skippedCount+this.allowedCount)*100),this.isChannelDm=I=>I.startsWith("D"),this.isChannelMuted=I=>!I||!this.mutedChannels?!1:!!this.mutedChannels[I],this.isChannelJoined=I=>!I||!this.joinedChannelIds?!1:!!this.joinedChannelIds.has(I),this.skipRtm=()=>(this.skippedCount+=1,!0),this.allowRtm=I=>{this.allowedCount+=1;const D=I.type==="message"?`${I.type}/${I.subtype}`:I.type;return this.allowedTypes[I.type]=(this.allowedTypes[D]||0)+1,a.debug(`Allowed RTM type: ${I.type} - subtype: ${I.subtype}`,I),!1},this.shouldSkipRtm=I=>{var D,P;if(m.has(I.type))return this.allowRtm(I);if(((D=I.user)===null||D===void 0?void 0:D.id)===this.currentUserId||I.user===this.currentUserId||I.user_id===this.currentUserId)return this.allowRtm(I);if(I.type==="channel_joined"||I.type==="mpim_joined"||I.type==="im_open"||I.type==="member_joined_channel"||I.type==="message"&&I.subtype==="channel_join"||I.type==="desktop_notification"&&I.is_channel_invite)return a.info("Received IM/MPDM/channel join RTM. Updating channel references",I),this.updateSubscribedChannels(),this.allowRtm(I);const L=I.channel||((P=I.item)===null||P===void 0?void 0:P.channel)||I.channel_id,k=(0,o.A)(L)?L:void 0;return k&&this.isChannelDm(k)?this.allowRtm(I):k&&this.isChannelMuted(k)?this.skipRtm():k&&!this.isChannelJoined(k)?this.skipRtm():t.Sj.has(I.type)&&!i.has(I.type)?this.skipRtm():I.type==="dnd_invalidated"?this.skipRtm():I.type==="bot_added"||I.type==="bot_changed"||I.type==="hermes_trigger_updated"||I.type==="apps_changed"||I.type==="apps_installed"||I.type==="apps_uninstalled"?this.skipRtm():this.allowRtm(I)};const O=M();this.getState=M,this.currentUserId=(0,d.WR)(O),this.updateSubscribedChannels()}},"HuddleRtmFilter"),_,v,u=0;const h=c(()=>{u=0,v=Date.now()},"clearRtmsSinceLastReport"),f=c(T=>{try{a.info("initializing Huddle RTM filter"),_||(_=new l(T),h())}catch(M){a.error("Error in initHuddleRtmFilter",M)}},"initHuddleRtmFilter"),p=c(()=>{a.info("destroying Huddle RTM filter"),_=void 0,h()},"destroyHuddleRtmFilter"),E=c(()=>{if(_)return _.getPercentSkipped()},"getRtmFilterPercentSkipped"),g=c(()=>{if(_)return _.getTopAllowedTypes()},"getRtmFilterTopAllowedTypes"),A=c(T=>{try{return u+=1,v||(v=Date.now()),_?_.shouldSkipRtm(T):!1}catch(M){return a.error("Error in shouldSkipRtmDuringHuddle",M),!1}},"shouldSkipRtmDuringHuddle"),y=c(()=>{try{if(!v||!u)return 0;const T=Date.now()-v,M=Math.round(u/(T/1e3));return h(),M}catch(T){return a.error("Error in getRtmsPerSecond",T),0}},"getRtmsPerSecond")},415910655:(Q,C,e)=>{"use strict";e.d(C,{ZR:()=>r,jm:()=>n,s2:()=>s});let t;const n=c(d=>{t||(t={}),Object.assign(t,d)},"updateJoinTimingMetrics"),s=c(()=>t,"getJoinTimingMetrics"),r=c(()=>{t=void 0},"resetJoinTimingMetrics")},5470425448:(Q,C,e)=>{"use strict";e.d(C,{lx:()=>i,zu:()=>a});var t;(function(m){m.UDP="udp",m.TCP="tcp"})(t||(t={}));var n;(function(m){m.RELAY="relay",m.DIRECT="direct"})(n||(n={}));var s;(function(m){m.UPLINK="uplink",m.DOWNLINK="downlink"})(s||(s={}));var r;(function(m){m.GOOD="good",m.FAIR="fair",m.BAD="bad",m.WORST="worst"})(r||(r={}));var d;(function(m){m.GOOD="good",m.FAIR="fair",m.BAD="bad",m.WORST="worst"})(d||(d={}));var o;(function(m){m[m.UPSTREAM=0]="UPSTREAM",m[m.DOWNSTREAM=1]="DOWNSTREAM"})(o||(o={}));var a;(function(m){m[m.AUDIO=0]="AUDIO",m[m.VIDEO=1]="VIDEO"})(a||(a={}));var i;(function(m){m.RtmMetrics="rtm-metrics",m.RenderTiming="render-timing",m.BluetoothDevices="bluetooth-devices",m.MemoryLeaks="memory-leaks",m.SelectedMediaRegion="selected-media-region",m.PreferredMediaRegion="preferred-media-region",m.VoiceFocusConfig="voice-focus-config",m.NetworkDisconnect="network-disconnect",m.CallId="call-id",m.ScreenshareContentType="screenshare-content-type",m.AppMetrics="app-metrics",m.NoAudio="no-audio",m.CameraResolution="max-camera-resolution",m.SetIsDebugApp="set-is-debug-app",m.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",m.TroubleshootingEntryPoint="troubleshooting-entry-point",m.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(i||(i={}))},5071086688:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6267571562);const n=new t.G},5403856613:(Q,C,e)=>{"use strict";e.d(C,{U:()=>r,p:()=>o});var t=e(7091646278),n=e(2205899741);const s=20,r=80,d=60,o=c(a=>{const{audioDownstreamQualityScore:i,networkQualityScore:m,networkType:l,networkProtocol:_,networkRelayProtocol:v,networkAvailableOutgoingBitrate:u,networkJitterMs:h,audioDownstreamJitterBufferDelay:f,networkCurrentRoundTripTimeMs:p,mediaRegionSelected:E,mediaRegionPreferred:g,cpuUse:A,cpuUseRelative:y,cpuCompetitionScore:T,gpuUse:M,batteryIsUsing:O,selectedMicrophone:I,selectedCamera:D,selectedSpeakers:P,cameraIsBlocked:L,cameraIsAvailable:k,microphoneIsBlocked:G,microphoneIsAvailable:b,isMicrophoneBluetooth:W,isSpeakerBluetooth:B,isMicrophoneAndSpeakerOnSameDevice:R,isHardwareAccelerationEnabled:j,isDisconnected:w,noAudioInput:N,osIsThrottlingCpu:K,networkPacketLossPercent:J}=a;let Y;switch(!0){case m<=0:Y=t.bz.Bad;break;case m<=r:Y=t.bz.Warn;break;default:Y=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:E,mediaRegionPreferred:g,selectedMicrophone:I,selectedCamera:D,selectedSpeakers:P},unstable:{cpuCompetitionScore:T,cpuUse:A,gpuUse:M,cpuUseRelative:y,audioQualityScore:i,jitterMs:h,audioDelayMs:f,roundTripTimeMs:p,packetLossPercent:J,incomingBandwidth:u,networkQualityScore:m}},warnings:{stable:{isVpnEnabled:l==="vpn",isSuboptimalProtocol:!!(0,n.ik)(_)||!!(0,n.ik)(v),isMediaRegionSuboptimal:!!E&&!!g&&E!==g,isUsingBatteryPower:O,isMicrophoneBluetooth:W,isMicrophoneAndSpeakerOnSameDevice:R,isSpeakerBluetooth:B,isCameraProbablyIphone:/iphone/.test(D==null?void 0:D.toLowerCase()),isHardwareAccelerationDisabled:j===!1,isOSThrottlingCpu:!!K},unstable:{isCpuUsePoor:!!(0,n.$c)(A),isCpuUseRelativePoor:!!(0,n.h7)(y),isGpuUsePoor:!!(0,n.KG)(M),isJitterPoor:!!(0,n._N)(h),isRTTPoor:!!(0,n.oj)(p),isAudioDelayPoor:!!(0,n.q4)(f),isPacketLossPoor:!!(0,n.kq)(J)}},alerts:{stable:{isCameraBlocked:L||!k,isMicrophoneBlocked:G||!b,isMicrophoneNotSendingAudio:!!N,isDisconnected:w},unstable:{networkQualityHealth:Y,isNetworkQualityPoor:m<=r,isAudioQualityPoor:i<=s,isCpuCompetitionPoor:T<=d}}}},"getTroubleshootingMetricsFromTags")},6246464105:(Q,C,e)=>{"use strict";e.d(C,{N5:()=>m,R1:()=>d,Y:()=>i});var t=e(6797417739),n=e(2825968873),s=e(5470425448),r=e(5071086688),d;(function(l){l.HuddlesSdk="huddles-sdk",l.ChimeChannelListener="chime-channel-listener",l.ChimeChannelBroadcaster="chime-channel-broadcaster",l.VoiceFocusDevice="voice-focus-device",l.VideoTransformDevice="video-transform-device",l.VideoFrameProcessor="video-frame-processor"})(d||(d={}));const o=new Map([[d.HuddlesSdk,t.Y.create({name:d.HuddlesSdk})],[d.ChimeChannelListener,t.Y.create({name:d.ChimeChannelListener})],[d.ChimeChannelBroadcaster,t.Y.create({name:d.ChimeChannelBroadcaster})],[d.VoiceFocusDevice,t.Y.create({name:d.VoiceFocusDevice})],[d.VideoTransformDevice,t.Y.create({name:d.VideoTransformDevice})],[d.VideoFrameProcessor,t.Y.create({name:d.VideoFrameProcessor})]]),a=(0,n.Jt)("HUDDLE-LEAK-MONITOR"),i=c(l=>{let{name:_,ref:v}=l;const u=o.get(_);if(!u)return;const h=u.getMetrics();if(h){const{numberOfObjects:f,numberOfExpiredObjects:p}=h,E=f-p;p>3&&(a.warn(`Detected ${p} memory leak(s) for ${_}${E?` (with another ${E} instances in memory)`:""}`),r.A.publish({type:s.lx.MemoryLeaks,update:{name:_,leakCount:p}}))}u.watch(v)},"monitorObjectForMemoryLeaks"),m=c(()=>{for(const[,l]of o)l.expectGCAll()},"detectMemoryLeaks")},8872167513:(Q,C,e)=>{"use strict";e.d(C,{A:()=>qe});var t=e(3398586081),n=e(4724591729),s=e(796111729),r=e(3855029223),d=e(4798756512),o=e(9680914051);let a=c(class{initializeHuddleReconnectTracer(){var Ge,Ze,_t;this.reconnectSpan=(Ge=this.trace)===null||Ge===void 0?void 0:Ge.startSpan(o.xN),this.reconnectSuccessSpan=(Ze=this.trace)===null||Ze===void 0?void 0:Ze.startSpan(o.xx),this.reconnectFailureSpan=(_t=this.trace)===null||_t===void 0?void 0:_t.startSpan(o.cJ)}traceReconnectAttemptOutcome(Ge){let{isSuccess:Ze}=Ge;var _t;Ze?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(_t=this.logger)===null||_t===void 0||_t.info(`Registered huddle reconnect attempt outcome - isSuccess: ${Ze}`)}traceReconnectAttempt(){var Ge;this.reconnectCount+=1,(Ge=this.logger)===null||Ge===void 0||Ge.info("Counted huddle reconnect attempt")}report(){var Ge,Ze,_t,Et,je;(Ge=this.reconnectSpan)===null||Ge===void 0||Ge.addTags({metric_value:this.reconnectCount}).close(),(Ze=this.reconnectSuccessSpan)===null||Ze===void 0||Ze.addTags({metric_value:this.reconnectSuccessCount}).close(),(_t=this.reconnectFailureSpan)===null||_t===void 0||_t.addTags({metric_value:this.reconnectFailureCount}).close(),(Et=this.tracer)===null||Et===void 0||Et.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(je=this.logger)===null||je===void 0||je.info("Reported reconnect attempt metric trace")}constructor({tracer:Ge,trace:Ze,logger:_t}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=Ge,this.trace=Ze,this.logger=_t,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),i=c(class{addTTIMetaTags(Ge){let{entryPoint:Ze,preferredMediaRegion:_t,isPrejoin:Et,isCreate:je}=Ge;var oe;(oe=this.trace)===null||oe===void 0||oe.addTags({entry_point:Ze,preferred_media_region:_t,is_prejoin:Et,is_create:je,success:!1})}createFetchCredentialsSpan(){var Ge;this.fetchCredentialsSpan=(Ge=this.trace)===null||Ge===void 0?void 0:Ge.startSpan(o.xl)}setCachedTag(Ge){let{cached:Ze}=Ge;var _t;(_t=this.trace)===null||_t===void 0||_t.addTags({cached:Ze})}closeFetchCredentialsSpan(){var Ge;(Ge=this.fetchCredentialsSpan)===null||Ge===void 0||Ge.close()}createConnectToMediaServiceSpan(){var Ge;this.connectToMediaServiceSpan=(Ge=this.trace)===null||Ge===void 0?void 0:Ge.startSpan(o.xA)}closeConnectToMediaServiceSpan(){var Ge,Ze,_t,Et;(Ge=this.connectToMediaServiceSpan)===null||Ge===void 0||Ge.close(),(Ze=this.trace)===null||Ze===void 0||Ze.addTags({success:!0}),(_t=this.tracer)===null||_t===void 0||_t.reportTrace(this.trace),this.traceReported=!0,(Et=this.logger)===null||Et===void 0||Et.info("Reported TTI metric trace")}getTTITraceId(){var Ge;return(Ge=this.trace)===null||Ge===void 0?void 0:Ge.getTraceId()}getFetchCredentialsSpanId(){var Ge;return(Ge=this.fetchCredentialsSpan)===null||Ge===void 0?void 0:Ge.getId()}setMediaRegionTag(Ge){var Ze,_t;const Et=(Ze=this.trace)===null||Ze===void 0?void 0:Ze.getTags().preferred_media_region;(_t=this.trace)===null||_t===void 0||_t.addTags({media_region:Ge,media_region_matches:Ge===Et})}report(){var Ge,Ze;if(!this.traceReported){var _t,Et;(_t=this.tracer)===null||_t===void 0||_t.reportTrace(this.trace),this.traceReported=!0,(Et=this.logger)===null||Et===void 0||Et.info("Reported TTI metric trace in final clean up")}(Ge=this.tracer)===null||Ge===void 0||Ge.clearTrace(this.trace),(Ze=this.logger)===null||Ze===void 0||Ze.info("Cleaned up TTI metric trace")}constructor({teamId:Ge,logger:Ze}){this.traceReported=!1,this.tracer=(0,r.E)({teamOrEnterpriseId:Ge}),this.trace=this.tracer.createTrace({traceName:o.bQ,samplingOptions:{sampleRate:(0,n.Cu)()?1:.05,sampleType:d.tS.SESSION}}),this.logger=Ze}},"HuddleTTITracer");var m=e(7542104324),l=e(5470425448),_=e(9706240641),v=e(5016574668),u=e(1616072515);let h=c(class{recordAppMetrics(Ge){var Ze=this;return(0,_.coroutine)(function*(){const _t=Date.now();if(_t-Ze.lastRecordedSpanTs<Ze.reportingInterval)return;Ze.logger.debug(`Adding new ${v.Sq}:${v.Kp} span`);const je=Ze.trace.startSpan(v.Kp),oe=(0,u.tT)(Ge),pe=Object.keys(oe).length;je.addTags(oe),je.close(),Ze.logger.debug(`Added new ${v.Sq}:${v.Kp} span with ${pe} tags`),Ze.getSpanCount()>v.jt&&Ze.report(),Ze.lastRecordedSpanTs=_t})()}constructor({teamId:Ge,logger:Ze,callLogger:_t,enableMaxReportingFrequency:Et}){var je=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.getMetricsCollectionInterval=()=>(0,n.Cu)()||this.enableMaxReportingFrequency?v.yz:v.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:v.Sq,tags:{__dataset:v.RN},samplingOptions:{sampleType:d.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var oe;const pe=(oe=this.trace)===null||oe===void 0?void 0:oe.getSpans();return pe?Object.keys(pe).length:0},this.report=function(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(oe&&je.callLogger.debug(`Huddle ${je.callId} is ending. Reporting ${je.getSpanCount()} remaining spans`),!je.traceReported&&je.getSpanCount()>0){var pe,Se;(pe=je.tracer)===null||pe===void 0||pe.reportTrace(je.trace),(Se=je.tracer)===null||Se===void 0||Se.clearTrace(je.trace),je.logger.debug(`Cleared ${v.Sq}:${v.Kp} event trace`),oe?je.traceReported=!0:je.createNewTrace()}else je.logger.debug(`Attempted to report ${v.Sq}:${v.Kp} trace but there was nothing to report`)},this.tracer=(0,r.E)({teamOrEnterpriseId:Ge}),this.enableMaxReportingFrequency=!!Et,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=Ze,this.callLogger=_t}},"HuddlePerfTracer");const f=null;var p=e(4103274853),E=e(166097325),g=e(8478954380),A=e(5403856613);const y=10*1e3,T=30*1e3;class M{constructor(Ge){this.logger=Ge,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=y,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(T,this.updateInterval+1e3))},this.getStableAlerts=(Ze,_t)=>{const Et=c(je=>{const oe=Ze[je];let pe=this.currentAlerts[je];const Se=Date.now();pe.push({timestamp:Se,value:oe}),pe=pe.filter(kt=>{let{timestamp:$t}=kt;return Se-$t<=T}),this.currentAlerts[je]=pe,pe=pe.filter(kt=>{let{timestamp:$t}=kt;return Se-$t<=_t.interval});const Ne=new Map;for(const kt of pe)Ne.has(kt.value)||Ne.set(kt.value,0),Ne.set(kt.value,Ne.get(kt.value)+1);const lt=Array.from(Ne.entries());let[dt,it]=lt[0];for(const[kt,$t]of lt.slice(1))$t>it&&(it=$t,dt=kt);return lt.length?dt:this.currentUnstableAlerts[je]},"nextAlert");return{isAudioQualityPoor:Et("isAudioQualityPoor"),isCpuCompetitionPoor:Et("isCpuCompetitionPoor"),isNetworkQualityPoor:Et("isNetworkQualityPoor"),networkQualityHealth:Et("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=Ze=>{let{alerts:_t}=Ze;const Et=this.getStableAlerts(_t,this.getStabilityConfig()),je=!(0,E.A)(Et,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),je)return this.currentUnstableAlerts=Et,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),Et}}}c(M,"AlertUpdater");const O=null,I="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",D={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${I}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${I}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},k={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...D},G={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class b{constructor({callLogger:Ge,logger:Ze,dispatch:_t}){this.isDev=(0,n.Cu)(),this.isJsPath=(0,n.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=Et=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:je,isUnifiedGrid:oe,visibleSidebarItemCount:pe,networkType:Se,networkProtocol:Ne,networkRelayProtocol:lt,isHardwareAccelerationEnabled:dt,batteryIsUsing:it}=Et;this.callLogger.info(`Initial Huddle Config: Network Type=${Se}; Network Protocol=${Ne}; Network Relay Protocol=${lt}; IA4=${je}; Unified Grid=${oe}; Hardware Acceleration=${dt??"unknown (browser)"}; Using Battery Power=${it}; Sidebar Size=${pe};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(Et,je)=>{Object.entries(Et).forEach(oe=>{let[pe,Se]=oe;if(Se&&this.isRelevantWarning(pe,Et)&&k[pe]){let Ne;if(pe in G){const dt=G[pe];dt&&(je!=null&&je[dt])&&(Ne=je[dt])}this.logger.warn(`\u{1F6A8} WARNING! ${k[pe]}${Ne?` reasons: (${Ne})`:""}`)}})},this.isRelevantWarning=(Et,je)=>Et==="isNetworkQualityPoor"||Et==="isCpuCompetitionPoor"?"isAudioQualityPoor"in je&&!!je.isAudioQualityPoor:!0,this.logTags=Et=>{const je=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${v.Sq}:${v.Kp} event span tags`,Et):je-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${v.Sq}:${v.Kp} event span tags`,Et),this.lastLoggedTagsTs=je)},this.getStatsDiff=Et=>{const je=this.lastProcessedStats;return(0,p.A)(Et,(oe,pe)=>{var Se,Ne;return{stable:je?!(0,E.A)((Se=je[pe])===null||Se===void 0?void 0:Se.stable,oe==null?void 0:oe.stable):null,unstable:je?!(0,E.A)((Ne=je[pe])===null||Ne===void 0?void 0:Ne.unstable,oe==null?void 0:oe.unstable):null}})},this.maybeUpdateTroubleshootingPanel=Et=>{var je,oe,pe,Se,Ne,lt,dt,it,kt;const $t=Date.now(),ln=(0,A.p)(Et),An=this.getStatsDiff(ln);if(this.lastProcessedStats=ln,(!((je=An.alerts)===null||je===void 0)&&je.stable||((oe=An.alerts)===null||oe===void 0?void 0:oe.stable)===null)&&ln.alerts.stable&&(this.dispatch((0,g._6)(ln.alerts.stable)),An.alerts.stable&&this.logWarningAndAlertUpdates(ln.alerts.stable)),(!((pe=An.metrics)===null||pe===void 0)&&pe.stable||((Se=An.metrics)===null||Se===void 0?void 0:Se.stable)===null)&&ln.metrics.stable&&this.dispatch((0,g.qO)(ln.metrics.stable)),(!((Ne=An.warnings)===null||Ne===void 0)&&Ne.stable||((lt=An.warnings)===null||lt===void 0?void 0:lt.stable)===null)&&ln.warnings.stable&&(this.dispatch((0,g.it)(ln.warnings.stable)),this.logWarningAndAlertUpdates(ln.warnings.stable)),!((dt=ln.alerts)===null||dt===void 0)&&dt.unstable){const In=this.alertUpdater.getAlertUpdates({alerts:ln.alerts.unstable});In&&(this.dispatch((0,g.Li)(In)),this.logWarningAndAlertUpdates(In,Et))}ln.metrics.unstable&&ln.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||$t-this.lastUnstableMetricsUpdateTs>1e4&&(!((it=An.warnings)===null||it===void 0)&&it.unstable||!((kt=An.metrics)===null||kt===void 0)&&kt.unstable))&&(this.dispatch((0,g.bW)({metrics:ln.metrics.unstable,warnings:ln.warnings.unstable})),this.lastUnstableMetricsUpdateTs=$t)},this.processTags=Et=>{this.maybeUpdateTroubleshootingPanel(Et),this.logHuddleConfigInfo(Et),this.logTags(Et),this.lastProcessedTagsTs=Date.now()},this.callLogger=Ge,this.logger=Ze,this.dispatch=_t,this.alertUpdater=new M(Ze),this.callLogger.info("huddle perf observer initialized")}}c(b,"HuddlePerfObserver");const W=null,B=b;var R=e(2825968873),j=e(5238395322),w=e(2208015175),N=e(9137897911),K=e(9113979368),J=e(8872403767),Y=e(6313685253),q=e(1687672245),H=e(6696292586);const ne=c(ze=>{if((0,K.A)(ze))return;const Ge=(0,Y.A)(ze,(Ze,_t)=>(0,q.A)(Ze,_t,(Et,je)=>(Et||0)+je),{});return(0,p.A)(Ge,Ze=>Ze/ze.length)},"calculateIncomingVideoStatsAverages"),te=c(ze=>{if(typeof ze=="string"||typeof ze=="boolean")return ze;if(!isNaN(ze)&&!(typeof ze>"u"||ze===null))return Math.round(ze)},"getScrubbedMetricValue"),le=c(ze=>{let{clientMetricReport:Ge,direction:Ze}=ze;const _t=Object.keys(Ge.streamMetricReports);let Et;return _t.forEach(je=>{const oe=Number(je),pe=Ge.streamMetricReports[oe];pe.direction===Ze&&pe.mediaType===l.zu.AUDIO&&(Et=oe)}),Et},"getAudioSsrcId"),he=c((ze,Ge,Ze,_t,Et)=>{const je=ze==null?void 0:ze.getMetricMap(Ge,Ze)[_t];if(je!=null&&je.transform)return je.transform(_t,Et)},"getNonObservedMetric"),Ie=c((ze,Ge)=>{const Ze=Ge?ze.replace(Ge,""):ze;return Ze.charAt(0).toUpperCase()+Ze.slice(1)},"removeSubstringAndCapitalize"),Ee=c(function(ze){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,H.A)(Ge)||!(0,H.A)(ze))return 0;const _t=isNaN(Ze)?0:Ze;if(ze===Ge||ze>Ge)return 0;const je=(Ge-ze)/Ge*100-_t;return Math.round(je)},"calculateNonNetworkPacketLoss");var me=e(5057176955),ce;(function(ze){ze[ze.UPSTREAM=0]="UPSTREAM",ze[ze.DOWNSTREAM=1]="DOWNSTREAM"})(ce||(ce={}));var X;(function(ze){ze[ze.AUDIO=0]="AUDIO",ze[ze.VIDEO=1]="VIDEO"})(X||(X={}));let V,x;const S=c(function(ze,Ge,Ze){let _t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze||!Ge)return;const Et=(Ge.timestamp-ze.timestamp)/1e3,je=Ge[Ze]-ze[Ze];return _t?je/Et:je},"getNextStat"),U=c(ze=>{let{clientMetricReport:Ge,selfAttendeeId:Ze}=ze;const _t=Ge.getObservableVideoMetrics();if(!_t||!Ze)return;let Et=0;const je={},oe=[];return(0,w.A)(_t,(pe,Se)=>{var Ne;const lt=Number((Ne=Object.keys(pe))===null||Ne===void 0?void 0:Ne[0]);if(!lt)return;const dt=pe[lt];if(Se.endsWith("#content")){var it,kt;Et+=1,(0,w.A)(dt,(kn,Zn)=>{je[(0,N.A)(`screenshare_${(0,u._3)(Zn)}${Et>1?`${Et}_`:""}`)]=te(kn)}),Object.assign(je,{screenshareVideoDownstreamDecoderImplementation:(it=Ge.streamMetricReports[lt])===null||it===void 0||(kt=it.currentStringMetrics)===null||kt===void 0?void 0:kt.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:Ge.countPerSecond("framesReceived",lt),screenshareVideoDownstreamFramesDroppedPerSecond:he(Ge,X.VIDEO,ce.DOWNSTREAM,"framesDropped",lt),screenshareVideoDownstreamFreezeCount:he(Ge,X.VIDEO,ce.DOWNSTREAM,"freezeCount",lt),screenshareVideoDownstreamTotalDecodeTime:he(Ge,X.VIDEO,ce.DOWNSTREAM,"totalDecodeTime",lt),screenshareVideoDownstreamTotalFreezesDuration:he(Ge,X.VIDEO,ce.DOWNSTREAM,"totalFreezesDuration",lt)});return}if(Ze===Se){if(dt.videoUpstreamBitrate!==0){var $t,ln;(0,w.A)(dt,(kn,Zn)=>{je[`self${Ie(Zn,"Upstream")}`]=te(kn)}),Object.assign(je,{selfVideoHardwareEncoder:he(Ge,X.VIDEO,ce.UPSTREAM,"encoderImplementation",lt),selfVideoEncoderImplementation:($t=Ge.streamMetricReports[lt])===null||$t===void 0||(ln=$t.currentStringMetrics)===null||ln===void 0?void 0:ln.encoderImplementation,selfVideoTotalEncodeTime:he(Ge,X.VIDEO,ce.UPSTREAM,"totalEncodeTime",lt)})}}else{var An,In;const kn=he(Ge,X.VIDEO,ce.DOWNSTREAM,"totalDecodeTime",lt);if(kn){var Nn;je.videoDownstreamTotalDecodeTime=((Nn=je.videoDownstreamTotalDecodeTime)!==null&&Nn!==void 0?Nn:0)+kn}Object.assign(je,{videoDownstreamDecoderImplementation:(An=Ge.streamMetricReports[lt])===null||An===void 0||(In=An.currentStringMetrics)===null||In===void 0?void 0:In.decoderImplementation}),oe.push({...dt,videoDownstreamFramesReceivedPerSecond:Ge.countPerSecond("framesReceived",lt),videoDownstreamFramesDroppedPerSecond:he(Ge,X.VIDEO,ce.DOWNSTREAM,"framesDropped",lt)})}}),(0,K.A)(oe)||Object.assign(je,ne(oe)),je},"getVideoMetricTags"),F=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],Z=c(ze=>{let{clientMetricReport:Ge}=ze;const{audioDecoderLoss:Ze,audioPacketLossPercent:_t,audioPacketsReceived:Et,audioPacketsReceivedFractionLoss:je,audioPacketsSent:oe,audioSpeakerDelayMs:pe,audioDownstreamJitterMs:Se,videoUpstreamBitrate:Ne,videoPacketSentPerSecond:lt,currentRoundTripTimeMs:dt,availableIncomingBitrate:it,availableOutgoingBitrate:kt,nackCountReceivedPerSecond:$t,audioUpstreamRoundTripTimeMs:ln,audioUpstreamJitterMs:An}=Ge.getObservableMetrics(),In=50,Nn=Ee(Et,In,je),kn=Ee(oe,In,_t),Zn={audioDownstreamDecoderLoss:Ze,audioUpstreamPacketLossPercent:_t,audioDownstreamPacketsReceived:Et,audioDownstreamPacketLossPercent:je,audioDownstreamJitterMs:Se,audioUpstreamPacketsSent:oe,audioDownstreamNonNetworkPacketLossPercent:Nn,audioUpstreamNonNetworkPacketLossPercent:kn,audioDownstreamJitterBufferDelay:pe,selfVideoBitrate:Ne,selfVideoPacketsSentPerSecond:lt,audioUpstreamRoundTripTimeMs:ln,audioUpstreamJitterMs:An,networkCurrentRoundTripTimeMs:dt,networkAvailableIncomingBitrate:it,networkAvailableOutgoingBitrate:kt,networkNackCountReceivedPerSecond:$t},_s=(0,J.A)(Zn,(De,$e)=>F.indexOf($e)>-1?(0,N.A)(`network_${$e}`):$e),Ms={networkSocketPacketsDiscardedOnSend:Ge.globalMetricReport.currentMetrics.packetsDiscardedOnSend},ls=le({clientMetricReport:Ge,direction:ce.DOWNSTREAM});let Qn;if(ls){const De=he(Ge,X.AUDIO,ce.DOWNSTREAM,"concealedSamples",ls);Qn={audioDownstreamTotalSamplesReceived:he(Ge,X.AUDIO,ce.DOWNSTREAM,"totalSamplesReceived",ls),audioDownstreamConcealedSamples:De}}return(0,p.A)({..._s,...Ms,...Qn},De=>te(De))},"getAudioMetricTags"),z=c(ze=>{const Ge={},Ze=[];let _t;if(!ze)return V=void 0,Ge;ze.forEach(je=>{je.type==="local-candidate"&&Ze.push(je),je.type==="media-source"&&je.kind==="audio"&&(Ge.audioUpstreamTotalSamplesDuration=je.totalSamplesDuration,Ge.audioUpstreamAudioLevel=je.audioLevel,Ge.audioUpstreamTotalAudioEnergy=je.totalAudioEnergy),je.type==="candidate-pair"&&je.state==="succeeded"&&je.nominated&&je.localCandidateId&&(_t=je.localCandidateId,Ge.networkBytesSent=je.bytesSent,Ge.networkBytesReceived=je.bytesReceived,Ge.networkBytesDiscardedOnSend=je.bytesDiscardedOnSend),je.type==="inbound-rtp"&&je.kind==="audio"&&(Ge.audioDownstreamLevel=je.audioLevel),je.type==="outbound-rtp"&&je.kind==="video"&&(Ge.selfVideoQualityLimitationDurations=je.qualityLimitationDurations&&(0,me.Zf)(je.qualityLimitationDurations),Ge.selfVideoOutboundFramesPerSecond=je.framesPerSecond,Ge.selfVideoPacketSendDelay=S(V,je,"totalPacketSendDelay"),V=je),je.type==="media-source"&&je.kind==="video"&&(Ge.selfVideoSourceFramesPerSecond=je.framesPerSecond)});const Et=Ze.find(je=>je.id===_t);if(Et){const{networkType:je,protocol:oe,relayProtocol:pe}=Et;Ge.networkType=je,Ge.networkProtocol=oe,Ge.networkRelayProtocol=pe}return Ge},"getRtcStatsTags"),$=c(ze=>{if(!ze){x=void 0;return}const Ge={};return ze.forEach(Ze=>{if(Ze.type==="remote-inbound-rtp"&&Ze.kind==="video"){const{fractionLost:_t,jitter:Et,roundTripTime:je}=Ze;Object.assign(Ge,{screenshareUpstreamJitter:Et*1e3,screenshareUpstreamPacketLossPercent:_t*100,screenshareUpstreamRoundTripTime:je*1e3})}if(Ze.type==="outbound-rtp"&&Ze.kind==="video"){const{frameHeight:_t,frameWidth:Et,framesPerSecond:je,targetBitrate:oe,encoderImplementation:pe,scalabilityMode:Se,powerEfficientEncoder:Ne}=Ze;if(Object.assign(Ge,{screenshareUpstreamTargetBitrate:oe,screenshareUpstreamFrameWidth:Et,screenshareUpstreamFrameHeight:_t,screenshareUpstreamFramesPerSecond:je,screenshareUpstreamEncoderImplementation:pe,screenshareUpstreamPowerEfficientEncoder:Ne,screenshareUpstreamScalabilityMode:Se}),!x){x=Ze;return}const lt=S(x,Ze,"totalEncodeTime",!0),dt=lt&&lt*1e3;Object.assign(Ge,{screenshareUpstreamPacketsSent:S(x,Ze,"packetsSent"),screenshareUpstreamPacketSendDelay:S(x,Ze,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:S(x,Ze,"keyFramesEncoded"),screenshareUpstreamBitrate:S(x,Ze,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:dt}),x=Ze}}),(0,p.A)(Ge,Ze=>te(Ze))},"getScreenshareRtcStatsTags"),ee=c(ze=>{let{clientMetricReport:Ge,selfAttendeeId:Ze}=ze;const _t=U({clientMetricReport:Ge,selfAttendeeId:Ze}),Et=Z({clientMetricReport:Ge});return{..._t,...Et}},"getClientMetricReportTags"),de={getVideoMetricTags:U,getAudioMetricTags:Z,getClientMetricReportTags:ee,getScreenshareRtcStatsTags:$,getRtcStatsTags:z};var ie=e(4404059078),ue=e(6890312250),fe=e(2205899741);const re=0,_e=100;function Ue(ze){return ze.endsWith(",")?ze.slice(0,-1):ze}c(Ue,"trimComma");const ye=c(()=>{let ze=100,Ge="";return{deductFromScoreForReason:(Ze,_t)=>{Ze&&(ze-=Ze,Ge+=`${_t},`)},getScore:()=>(0,ie.A)(ze,re,_e),getReasons:()=>Ue(Ge)}},"trackScoreAndReasons"),Te=c(ze=>{const{deductFromScoreForReason:Ge,getScore:Ze,getReasons:_t}=ye(),{screenshareUpstreamBitrate:Et,screenshareUpstreamPacketLossPercent:je,screenshareUpstreamJitter:oe,screenshareUpstreamRoundTripTime:pe,screenshareUpstreamFramesPerSecond:Se,screenshareUpstreamPacketSendDelay:Ne,screenshareUpstreamQualityLimitationReason:lt}=ze;if(Et)return Ge((0,fe.Tg)(je),"screenshareUpstreamPacketLossPercent"),Ge((0,fe._N)(oe),"screenshareUpstreamJitter"),Ge((0,fe.oj)(pe),"screenshareUpstreamRoundTripTime"),Ge((0,fe.RI)(Ne),"screenshareUpstreamPacketSendDelay"),Ge((0,fe.qf)(v.w4-Se),"screenshareUpstreamFramesPerSecond"),Ge((0,fe.Fq)(lt),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:Ze(),screenshareUpstreamQualityScoreReasons:_t()}},"getScreenshareUpstreamQualityScore"),ge=c(ze=>{const{selfVideoPacketLossPercent:Ge,selfVideoFrameHeight:Ze,selfVideoFrameWidth:_t,selfVideoRoundTripTime:Et,selfVideoJitterMs:je,selfVideoFramesEncodedPerSecond:oe,isSelfVideoEnabled:pe}=ze;if(!pe||!_t)return;const{deductFromScoreForReason:Se,getScore:Ne,getReasons:lt}=ye();Se((0,fe.Tg)(Ge),"selfVideoPacketLossPercent");const dt=Ze*_t;return Se((0,fe.e7)(100-dt/v.An*100),"selfVideoFrameHeight,selfVideoFrameWidth"),Se((0,fe._N)(je),"selfVideoJitterMs"),Se((0,fe.oj)(Et),"selfVideoRoundTripTime"),Se((0,fe.qf)(v.tz-oe),"selfVideoFramesEncodedPerSecond"),{selfVideoQualityScore:Ne(),selfVideoQualityScoreReasons:lt()}},"getSelfVideoQualityScore"),Ae=c(ze=>{const{videoDownstreamPacketLossPercent:Ge,videoDownstreamFramesDecodedPerSecond:Ze,videoDownstreamFrameHeight:_t,videoDownstreamFrameWidth:Et,videoDownstreamJitterMs:je,videoDownstreamDelayMs:oe}=ze;if(!Et)return;const{deductFromScoreForReason:pe,getScore:Se,getReasons:Ne}=ye();pe((0,fe.Tg)(Ge),"videoDownstreamPacketLossPercent");const lt=_t*Et;return pe((0,fe.e7)(v.An/lt),"videoDownstreamFrameHeight,videoDownstreamFrameWidth"),pe((0,fe.q4)(oe),"videoDownstreamDelayMs"),pe((0,fe._N)(je),"videoDownstreamJitterMs"),pe((0,fe.qf)(v.tz-Ze),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:Se(),videoDownstreamQualityScoreReasons:Ne()}},"getVideoDownstreamQualityScore"),Re=c(function(ze){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:Ze,getScore:_t,getReasons:Et}=ye();if(Ge){const{screenshareVideoDownstreamPacketLossPercent2:Ne,screenshareVideoDownstreamJitterMs2:lt,screenshareVideoDownstreamDelayMs2:dt,screenshareVideoDownstreamFrameHeight2:it}=ze;return it?(Ze((0,fe.Tg)(Ne),"screenshareVideoDownstreamPacketLossPercent2"),Ze((0,fe._N)(lt),"screenshareVideoDownstreamJitterMs2"),Ze((0,fe.q4)(dt),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:_t(),screenshareVideoDownstreamQualityScoreReasons2:Et()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:je,screenshareVideoDownstreamJitterMs:oe,screenshareVideoDownstreamDelayMs:pe,screenshareVideoDownstreamFrameHeight:Se}=ze;if(Se)return Ze((0,fe.Tg)(je),"screenshareVideoDownstreamPacketLossPercent"),Ze((0,fe._N)(oe),"screenshareVideoDownstreamJitterMs"),Ze((0,fe.q4)(pe),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:_t(),screenshareVideoDownstreamQualityScoreReasons:Et()}},"getScreenshareDownstreamQualityScore"),Be=c(ze=>{const{audioUpstreamPacketLossPercent:Ge,audioUpstreamRoundTripTimeMs:Ze,audioUpstreamJitterMs:_t,audioUpstreamNonNetworkPacketLossPercent:Et}=ze;if(!Ze)return;const{deductFromScoreForReason:je,getScore:oe,getReasons:pe}=ye();return je((0,fe.Ye)(Ge),"audioUpstreamPacketLossPercent"),je((0,fe.oj)(Ze),"audioUpstreamRoundTripTimeMs"),je((0,fe._N)(_t),"audioUpstreamJitterMs"),je((0,fe.fB)(Et),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:oe(),audioUpstreamQualityScoreReasons:pe()}},"getAudioUpstreamQualityScore"),ke=c(ze=>{const Ge={};return ze.screenshareVideoDownstreamFrameHeight2&&Object.assign(Ge,Re(ze,!0)),{...Re(ze),...Ge}},"getScreenshareDownstreamQualityScores"),se=c(ze=>{const{cpuUse:Ge,gpuUse:Ze,cpuUseRelative:_t,longTasksPercentage:Et}=ze,{deductFromScoreForReason:je,getScore:oe,getReasons:pe}=ye();return je((0,fe.sI)(Et),"longTasksPercentage"),je((0,fe.$c)(Ge),"cpuUse"),je((0,fe.KG)(Ze),"gpuUse"),je((0,fe.h7)(_t),"cpuUseRelative"),{cpuCompetitionScore:oe(),cpuCompetitionScoreReasons:pe()}},"getCpuCompetitionScoreTags"),ve=c(function(){for(var ze=arguments.length,Ge=new Array(ze),Ze=0;Ze<ze;Ze++)Ge[Ze]=arguments[Ze];const _t=Ge.filter(H.A);return _t.length?Math.round((0,ue.A)(_t)):0},"getMetricAverage"),Me=c(ze=>{const{networkCurrentRoundTripTimeMs:Ge,networkNackCountReceivedPerSecond:Ze,networkSocketPacketsDiscardedOnSend:_t,networkProtocol:Et,networkRelayProtocol:je,audioDownstreamJitterMs:oe,audioDownstreamPacketLossPercent:pe,audioUpstreamPacketLossPercent:Se,audioUpstreamJitterMs:Ne,videoDownstreamPacketLossPercent:lt,screenshareDownstreamPacketLossPercent:dt,screenshareUpstreamPacketLossPercent:it,selfVideoPacketLossPercent:kt}=ze,{deductFromScoreForReason:$t,getScore:ln,getReasons:An}=ye();$t((0,fe.ik)(Et),"networkProtocol"),$t((0,fe.ik)(je),"networkRelayProtocol"),$t((0,fe.No)(_t),"networkSocketPacketsDiscardedOnSend"),$t((0,fe.oj)(Ge),"networkCurrentRoundTripTimeMs");const In=ve(oe,Ne);$t((0,fe._N)(In),"networkJitterMs"),$t((0,fe.Ap)(Ze),"networkNackCountReceivedPerSecond");const Nn=ve(pe,lt,dt,Se,kt,it);return $t((0,fe.kq)(Nn),"networkPacketLossPercent"),{networkJitterMs:In,networkPacketLossPercent:Nn,networkQualityScore:ln(),networkQualityScoreReasons:An()}},"getNetworkQualityScoreTags"),be=c(ze=>{const{audioDownstreamDecoderLoss:Ge,audioDownstreamJitterBufferDelay:Ze,audioDownstreamPacketLossPercent:_t}=ze,{deductFromScoreForReason:Et,getScore:je,getReasons:oe}=ye();return Et((0,fe.t5)(Ge),"audioDownstreamDecoderLoss"),Et((0,fe.q4)(Ze),"audioDownstreamJitterBufferDelay"),Et((0,fe.Ye)(_t),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:je(),audioDownstreamQualityScoreReasons:oe()}},"getAudioDownstreamQualityTags"),Le=c(ze=>({...be(ze),...Me(ze),...Be(ze),...ge(ze),...ke(ze),...Te(ze),...se(ze),...Ae(ze),qualityScoringVersion:v.Nb}),"getQualityScoreTags"),Ke=c((ze,Ge)=>{let{type:Ze,update:_t}=ze;switch(Ze){case l.lx.BluetoothDevices:case l.lx.PreferredMediaRegion:case l.lx.CameraResolution:case l.lx.CallId:case l.lx.ScreenshareContentType:Object.assign(Ge.sharedTags,_t);break;case l.lx.MemoryLeaks:{const Et=Ge.sharedTags.memoryLeakCount;Object.assign(Ge.sharedTags,{type:"shared",tags:{[`memoryLeaks-${_t.name}`]:_t.leakCount,memoryLeakCount:Et?Et+_t.leakCount:_t.leakCount}});break}case l.lx.SelectedMediaRegion:{const{mediaRegionPreferred:Et}=Ge.sharedTags,je=Et&&_t.mediaRegionSelected?Et===_t.mediaRegionSelected:!0;Object.assign(Ge.sharedTags,{mediaRegionSelected:_t.mediaRegionSelected,mediaRegionMatchesPreference:je});break}case l.lx.VoiceFocusConfig:Object.assign(Ge.sharedTags,{vfSimdSupported:_t.model.simd,vfModelVariant:_t.model.variant,vfSupported:_t.supported});break;case l.lx.NetworkDisconnect:_t.peerId==="self"&&Object.assign(Ge.transientTags,{selfDisconnectCount:(Ge.transientTags.selfDisconnectCount||0)+1});break;case l.lx.NoAudio:{const Et=_t.direction==="send"?{noAudioInput:_t.noAudio}:{noAudioOutput:_t.noAudio};Object.assign(Ge.sharedTags,Et);break}case l.lx.SetIsDebugApp:Object.assign(Ge.sharedTags,{isDebugApp:!0});break;default:{(0,R.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${Ze}`));break}}},"updateState"),He=null;var Ye=e(6267571562);const Xe=(0,s.Wo)({label:"COMPUTE-PRESSURE"}),et={nominal:1,fair:2,serious:3,critical:4};class st{constructor(){this.defaultSampleRate=.5,this.pubSub=new Ye.G,this.isObserving=!1,this.currentLevel=null;var Ge=this;this.startObserving=(0,_.coroutine)(function*(){if(!Ge.isObserving){try{var _t;Ge.isObserving=!0,yield(_t=Ge.pressureObserver)===null||_t===void 0?void 0:_t.observe("cpu")}catch(Et){Ge.isObserving=!1,Xe.error("An error occurred while attempting to observe compute pressure",Et)}Xe.info("Observing compute pressure")}}),this.getPressureLevelFromRecord=_t=>_t?et[_t.state]:void 0,this.pressureObserverCallback=_t=>{const Et=_t.pop();if(!Et)return;const je=this.getPressureLevelFromRecord(Et);je&&(this.currentLevel=je,je===1?Xe.debug(`Compute pressure updated to ${Et.state} (${je} of 4)`):Xe.warn(`Compute pressure updated to ${Et.state} (${je} of 4)`),this.pubSub.publish(je))};var Ze=this;this.subscribe=function(){var _t=(0,_.coroutine)(function*(Et){Ze.pubSub.subscribe(Et),yield Ze.startObserving()});return function(Et){return _t.apply(this,arguments)}}(),this.unsubscribe=_t=>{if(this.pubSub.unsubscribe(_t),!this.pubSub.subscriberCount)try{var Et;(Et=this.pressureObserver)===null||Et===void 0||Et.disconnect(),Xe.debug("No longer observing compute pressure.")}catch(je){Xe.error("An error occurred attempted to disconnect from the compute pressure observer",je)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let _t;try{var Et;_t=(Et=this.pressureObserver)===null||Et===void 0?void 0:Et.takeRecords()}catch(oe){Xe.error("An error occurred attempting to get latest compute pressure reports",oe)}const je=_t?this.getPressureLevelFromRecord(_t.pop()):void 0;return je&&(this.currentLevel=je),je},Xe.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(_t){Xe.error("An error occurred creating a new instance of the PressureObserver",_t)}if(!this.pressureObserver){Xe.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}c(st,"ComputePressureObserver"),st.isSupported=()=>"PressureObserver"in globalThis;let ot;const ct=c(()=>{if(ot)return ot;if(!st.isSupported()){Xe.info("Compute Pressure API is not supported.");return}try{ot=new st}catch(ze){Xe.error("An error occurred while attempting to create compute pressure observer",ze);return}return ot},"getComputePressureObserver"),at=null,At=null,Ct=ct,Tt={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Rt=c(class{initializeReport(){this.report={...Tt},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const Ze=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/Ze*100));const _t={...this.report};return this.initializeReport(),_t}constructor(){this.report={...Tt},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=Ge=>{const Ze=Ge.getEntries();let _t=0,Et=0;Ze.forEach(je=>{const oe=je.duration;_t+=oe,oe>Et&&(Et=oe)}),this.report.longTasksTotalDuration+=_t,this.report.longTasksCount+=Ze.length,Et>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=Et)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const It=null,Mt=Rt;let nn=0;const Ot={traceName:v.Sq},bt="HUDDLES-PERF",Jt={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let en=c(class{constructor(){var Ge;this.callLogger=(0,R.tZ)(bt),this.logger=(0,s.Wo)({label:bt}),this.sharedTags=Ot,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...Jt},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new Mt,this.initSharedTags=()=>{nn+=1,this.updateSharedTags({huddlesCountSinceRefresh:nn})},this.initComputePressureObserver=()=>{this.computePressureObserver=Ct(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var Ze;const _t=(Ze=this.computePressureObserver)===null||Ze===void 0?void 0:Ze.getCurrentLevel();this.computePressure=_t})},this.updateSharedTags=Ze=>{this.sharedTags={...this.sharedTags,...Ze}},this.updateTransientTags=Ze=>{this.transientTags={...this.transientTags,...Ze}},this.updateComputePressure=Ze=>{const _t=this.computePressure;this.computePressure=Ze;let Et;switch(Ze){case 1:Et="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:Et="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:Et="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:Et="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:Et="Unknown system workload condition."}Ze>2?this.callLogger.warn(`Compute pressure updated to level ${Ze} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${Ze} suggests that: ${Et}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):_t&&_t>2&&this.logger.debug(`Compute pressure updated to level ${Ze} of 4 from ${_t}. ${Et}`)},this.updateState=Ze=>{switch(Ze.type){case l.lx.RenderTiming:this.renderTimings.push(Ze.update);break;case l.lx.RtmMetrics:this.rtmProcessingTimings.push(Ze.update);break;case l.lx.AppMetrics:this.updateMetrics(Ze.update);break;case l.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=Ze.update;break;case l.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:Ke(Ze,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=Ze=>{let{huddleStateSnapshot:_t,clientMetricReport:Et,screenshareRtcStats:je}=Ze;const oe=Et?ee({clientMetricReport:Et,selfAttendeeId:Et.selfAttendeeId}):{},pe=Et?z(Et.getRTCStatsReport()):{},Se=$(je),Ne={..._t,...oe,...Se,...pe,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},lt=Le(Ne);this.currentTags={...Ne,...lt},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var Ze;return(Ze=this.longTaskObserver)===null||Ze===void 0?void 0:Ze.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:Ze}=this.currentTags;return Ze?{secondsSinceJoining:Math.floor((Date.now()-Ze)/1e3)}:{}},this.getRtmMetricTags=()=>{const Ze=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:Ze}},this.getTroubleshootingTags=()=>{const Ze={...this.troubleshootingTags};return this.troubleshootingTags={...Jt},Ze},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const Ze=Date.now()-this.lastAppMetricsRecordingTs,_t=(0,j.A)(this.renderTimings),Et=this.renderTimings.length;return!_t||!Ze?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((_t/Ze*100).toFixed(1)),uiRenderCount:Et})},this.cleanup=()=>{var Ze,_t;(Ze=this.computePressureObserver)===null||Ze===void 0||Ze.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(_t=this.longTaskObserver)===null||_t===void 0||_t.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(Ge=this.longTaskObserver)===null||Ge===void 0||Ge.start()}},"HuddlePerfStateInternal");const sn=null,zt=en;var Yt=e(5071086688),hn=e(5387083734),Qe=e(8634352961),Wt=e(415910655),gn=e(5332875232);const rn="HUDDLES-PERF",ut=5e3,Pt=1e3;let Bt=c(class{constructor({teamId:Ge,logger:Ze,dispatch:_t,getState:Et,useRtmFiltering:je=!1}){this.logger=(0,s.Wo)({label:rn}),this.callLogger=(0,R.tZ)(rn),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=oe=>{oe.type===l.lx.AppMetrics?this.recordAppMetrics(oe):this.huddlePerfState.updateState(oe)},this.recordAppMetrics=oe=>{(0,hn.IE)("huddle-perf-metrics",()=>{var pe,Se;if(!this.shouldRecordAppMetrics({nextReportTimestamp:(pe=oe.update)===null||pe===void 0||(Se=pe.clientMetricReport)===null||Se===void 0?void 0:Se.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState(oe);const Ne=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(Ne);try{this.huddlePerfObserver.processTags(Ne)}catch(lt){this.errorReported||(this.callLogger.error("An error occurred while processing tags",lt),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=oe=>{let{nextReportTimestamp:pe}=oe;if(!pe)return!1;const Se=Date.now(),Ne=Se-this.lastRecordedMetricsTs;if(Ne<Pt)return this.logger.debug(`Not enough time has passed since last report was recorded (${Ne}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const dt=Se-pe;return dt>ut?(this.logger.debug(`Too much time has passed since the current report was made (${dt}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=oe=>{this.huddlePerfTrace.report(oe),Yt.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,m.rH)(!1),(0,Wt.ZR)(),this.useRtmFiltering&&(this.callLogger.info("RTM filtering will be disabled"),(0,Qe.gR)())},this.huddlePerfTrace=new h({teamId:Ge,logger:Ze,callLogger:this.callLogger,enableMaxReportingFrequency:(0,gn.CN)(Et())}),this.huddlePerfObserver=new B({logger:Ze,callLogger:this.callLogger,dispatch:_t}),this.useRtmFiltering=je,this.huddlePerfState=new zt,Yt.A.subscribe(this.reportUpdate),(0,m.rH)(!0),this.useRtmFiltering&&(0,Qe.ws)(Et)}},"HuddlePerfManager");const Ft=null,un=Bt;var Sn=e(6533394955),Un=e(2141441167),Cn=e(2709531527),Ln=e(8276911661),yn=e(5795074931),Xt=e(5286203919),nt=e(8847766420),pt=e(7606781622),Dt=e(6251210828),Qt=e(3792998666);const tn=c(ze=>{let{teamId:Ge}=ze;var Ze,_t;const Et=(0,Sn.getStoreInstanceByTeamId)(Ge).getState(),je=(0,Sn.getClientStoreInstance)().getState(),oe=(0,Xt.E9)(je),pe=(0,Xt.hc)(je),Se=(0,nt.jV)(Et),Ne=(0,Dt.ok)(Et,{huddleId:oe}),lt=(0,Dt.Zg)(Et,{huddleId:oe}),dt=(0,yn.WR)(Et),it=lt?lt.timestamps.map(Nn=>pe?(0,pt.Ld)(Et,pe,Nn):void 0).filter(Nn=>(Nn==null?void 0:Nn.user)===dt):[],kt=(Ze=it[0])===null||Ze===void 0?void 0:Ze.ts,$t=(_t=it.slice(-1)[0])===null||_t===void 0?void 0:_t.ts,ln=it.length,An=(0,Ln.nv)(Et,dt),In=(0,Qt.P)(An);return{huddleId:oe,channelId:pe,enterpriseId:Se,threadId:Ne,threadReplyCnt:ln,threadFirstReplyTs:kt,threadLastReplyTs:$t,isGuest:In}},"getHuddleEventsStateSnapshot"),an="huddle_events",ht="huddle",yt="vhq",Ut={topicName:ht,userAgent:navigator.userAgent,serviceName:yt};let Gt=c(class{get spansList(){var Ge;return(0,Un.A)((Ge=this.trace)===null||Ge===void 0?void 0:Ge.getSpans())||[]}report(){var Ge;let Ze;try{Ze=(0,u.tT)({...this.sharedTags,...tn({teamId:this.teamId})})}catch(Et){var _t;this.logger.error(`Error while reporting huddle_events trace: ${Et}`),(_t=this.tracer)===null||_t===void 0||_t.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(Ze),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",Ze)),(Ge=this.tracer)===null||Ge===void 0||Ge.clearTrace(this.trace)}constructor({teamId:Ge,logger:Ze}){this.sharedTags=Ut,this.traceReported=!1,this.getSpanByName=_t=>this.spansList.find(Et=>_t===Et.getOperationName()),this.getDataSet=()=>{if(!(0,n.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:Cn.p.JOIN,type:Cn.G.START,tags:{}}),this.update({name:Cn.p.MINIPLAYER_VIEW,type:Cn.G.START})},this.isSurfaceChange=_t=>_t===Cn.p.MINIPLAYER_VIEW||_t===Cn.p.WINDOW_COMPACT_VIEW||_t===Cn.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=_t=>{let{name:Et,type:je}=_t;je===Cn.G.START&&this.isSurfaceChange(Et)&&this.spansList.filter(oe=>this.isSurfaceChange(oe.getOperationName())).forEach(oe=>{oe.getOperationName()!==Et&&this.closeSpan(oe)})},this.update=_t=>{let{name:Et,type:je,tags:oe}=_t;if(this.trace)if(je===Cn.G.START||je===Cn.G.ONCE){const pe=this.trace.startSpan(Et,{parentSpanId:this.joinSpanId});oe&&pe.addTags(oe),Et===Cn.p.JOIN&&(this.joinSpanId=pe.getId()),this.isSurfaceChange(Et)&&this.handleSurfaceChange({name:Et,type:je}),this.logger.debug(`started new span for huddle_events trace: ${Et}`),je===Cn.G.ONCE&&this.closeSpan(pe)}else{const pe=this.getSpanByName(Et);this.closeSpan(pe),this.logger.debug(`closed span for huddle_events trace: ${Et}`)}},this.closeSpan=_t=>{_t&&(_t.getCloseTimeMs()||_t.close())},this.recordEntryPoint=_t=>{Object.assign(this.sharedTags,{entryPoint:_t})},this.tracer=(0,r.E)({teamOrEnterpriseId:Ge}),this.trace=this.tracer.createTrace({traceName:an,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:d.tS.SESSION}}),this.teamId=Ge,this.logger=Ze,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");const mn="HUDDLE-TRACE-MANAGER",Oe=(0,s.Wo)({label:mn});let we=c(class{initializeTraces(Ge){let{teamId:Ze,isTinySpeck:_t,isDebugApp:Et}=Ge;const je=(0,Sn.getStoreInstanceByTeamId)(Ze),oe=je.getState();this.teamId=Ze,this.tracer=(0,r.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:o.ne,samplingOptions:{sampleRate:(0,n.Cu)()||_t?1:.05,sampleType:d.tS.SESSION},tags:{__dataset:"client_metrics"}}),Et||(this.reconnectTrace=new a({tracer:this.tracer,trace:this.trace,logger:Oe}),this.ttiTrace=new i({teamId:this.teamId,logger:Oe}),this.huddleEventsTrace=new Gt({teamId:this.teamId,logger:Oe})),this.huddlePerfTraceManager=new un({teamId:this.teamId,logger:Oe,dispatch:je.dispatch,getState:je.getState,useRtmFiltering:(0,gn.DP)(oe)})}setCallId(Ge){var Ze;this.callId=Ge,(Ze=this.trace)===null||Ze===void 0||Ze.addTags({callId:this.callId}),Ge&&Yt.A.publish({type:l.lx.CallId,update:{callId:Ge}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace}}cleanup(){var Ge,Ze,_t,Et,je,oe;(Ge=this.reconnectTrace)===null||Ge===void 0||Ge.report(),(Ze=this.ttiTrace)===null||Ze===void 0||Ze.report(),(_t=this.huddlePerfTraceManager)===null||_t===void 0||_t.report(!0),(Et=this.huddleEventsTrace)===null||Et===void 0||Et.report(),(je=this.tracer)===null||je===void 0||je.reportTrace(this.trace),(oe=this.tracer)===null||oe===void 0||oe.clearTrace(this.trace),Oe.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,this.callId=null}constructor(){Oe.info("Huddle Trace Manager created")}},"HuddleTraceManager");const qe=(0,t.A)(()=>new we)},2709531527:(Q,C,e)=>{"use strict";e.d(C,{G:()=>t,p:()=>n});var t;(function(s){s.START="start",s.STOP="stop",s.ONCE="once"})(t||(t={}));var n;(function(s){s.JOIN="session_join",s.VIDEO="video",s.SCREENSHARE="screenshare",s.REACTION="reaction_posted",s.MESSAGE="message_posted",s.MICROPHONE="microphone",s.MINIPLAYER_VIEW="mini_player_view",s.WINDOW_COMPACT_VIEW="window_compact_view",s.WINDOW_FULL_VIEW="window_full_view",s.THREAD_VIEW="thread_flexpane_view",s.TRANSCRIPT="trxn"})(n||(n={}))},1616072515:(Q,C,e)=>{"use strict";e.d(C,{_3:()=>r,tT:()=>d});var t=e(4178261413),n=e(8872403767),s=e(6422693406);const r=c(a=>(0,t.A)(a),"formatTag"),d=c(function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,n.A)(a,(m,l)=>l.indexOf(i)>-1?l:r(l))},"formatTags"),o=c(()=>new Bluebird(a=>{setTimeout(a,0)}),"waitForNextTick")},3146858537:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(9706240641),n=e(8958249318),s=e(6422693406),r=e(56548687),d=e(6244014364),o=e(6664301844),a=e(2825968873);function i(){return 2}c(i,"getVoiceFocusCacheVersion");var m;const l="voiceFocusCache";function _(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}c(_,"createDefaultVoiceFocusCapability");function v(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}c(v,"createDefaultVoiceFocusCachedConfig");function u(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(m=window.navigator)===null||m===void 0?void 0:m.userAgent,T=arguments.length>1?arguments[1]:void 0;const M=localStorage.getItem(l),O={version:i(),voiceFocusCapability:_(),voiceFocusCachedConfig:v()};if(!M)return O;let I;try{I=JSON.parse(M)}catch(D){return(0,a.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",D.message),O}return I.version!==i()?O:(I.voiceFocusCapability&&(I.voiceFocusCapability.userAgent!==y||I.voiceFocusCapability.sdkVersion!==T)&&(I.voiceFocusCapability=O.voiceFocusCapability,I.voiceFocusCachedConfig=O.voiceFocusCachedConfig),{...O,...I})}c(u,"readVoiceFocusCache");function h(y){try{localStorage.setItem(l,JSON.stringify(y))}catch(T){(0,a.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",T.message)}}c(h,"writeVoiceFocusCache");var f=e(5470425448),p=e(5071086688);const E=1657647210615,g=1686248081659;let A=c(class{init(T){let{configOnly:M}=T;var O=this;return(0,t.coroutine)(function*(){M||O.callLogger.info(`VF cache: ${!!O.cache}`),O.isSupported=yield O.isCapable(!!M),O.isSupported&&O.prepare(M)})()}isAvailable(){return this.isSupported}getTransformDevice(){var T=this;return(0,t.coroutine)(function*(){if(T.isSupported&&(T.voiceFocusConfigPromise&&(yield T.voiceFocusConfigPromise),!!T.voiceFocusDeviceTransformerPromise)){try{yield T.voiceFocusDeviceTransformerPromise}catch{T.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(T.voiceFocusTransformDevicePromise)try{return yield T.voiceFocusTransformDevicePromise}catch{T.callLogger.error("Could not get VoiceFocusTransformDevice")}}})()}shouldDisable(){return!1}setMute(T){var M=this;return(0,t.coroutine)(function*(){const O=yield M.getTransformDevice();O&&(yield O.mute(T))})()}isCapable(T){var M=this;return(0,t.coroutine)(function*(){if(M.isIFramed())return T||M.callLogger.warn("not supported due to IFrame"),!1;let O=!1;switch(M.cache.voiceFocusCapability.isSupported){case"yes":T||M.callLogger.info("cache says supported"),O=!0;break;case"no":T||M.callLogger.info("cache says not supported"),O=!1;break;case"unknown":{T||M.callLogger.info("cache says unknown, determining support..."),M.cache.voiceFocusCapability.userAgent=(0,n.A)(),M.cache.voiceFocusCapability.sdkVersion=o.zF.sdkVersion,O=yield(0,o.w2)().isSupported(),O?M.cache.voiceFocusCapability.isSupported="yes":M.cache.voiceFocusCapability.isSupported="no",h(M.cache),T||M.callLogger.info(`determined supported=${M.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:M.callLogger.warn(`Voice Focus capability pref bad: ${M.cache.voiceFocusCapability.isSupported}`);break}return O})()}isIFramed(){try{var T;return((T=window.frameElement)===null||T===void 0?void 0:T.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(T){const O=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,I=this.allowMaxModelsToBeUsed?g:E;return O===0||T-O>6048e5||O<I}prepare(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const M=Date.now(),O=this.cache.voiceFocusCachedConfig.vfConfig,I=this.isStale(M),D={},P={logger:this.chimeLogger};if(O!=="unknown"&&!I){if(T)return;if(!O.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(D,P,O);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=s.S.resolve((0,o.w2)().configure(D,P)),this.voiceFocusConfigPromise.then(L=>{var k;if(!L.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${L.reason}`);return}if(!(!(L==null||(k=L.model)===null||k===void 0)&&k.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const b=L;this.callLogger.info(`Got new config, variant: ${b.model.variant}, simd: ${b.model.simd}, executionQuanta: ${b.executionQuanta}`),this.storeVfConfig(M,b),T||this.setupDevice(D,P,b)}).catch(L=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${L.name}: ${L.message}`),T||this.setupDevice(D,P)}))}storeVfConfig(T,M){this.cache.voiceFocusCachedConfig.vfConfig=M,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=T,h(this.cache)}updateCacheWithUpdatedConfig(T){var M=this;return(0,t.coroutine)(function*(){M.callLogger.info("Updating VF cache with new modified model");const O={logger:M.chimeLogger},I={variant:T},D=yield(0,o.w2)().configure(I,O);D.supported&&M.storeVfConfig(Date.now(),D)})()}setupDevice(T,M,O){const I=T;let D=O,P,L;O?(P=O.model.variant,L=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),P="c10",L=!1);let k=!0;this.allowMaxModelsToBeUsed&&(k=!1);const G=this.chooseModelVariant(P,L,k);if(G.modelWasAdjusted&&(I.variant=G.chosenModel,D=void 0,this.callLogger.info(`VF Model was adjusted from ${O==null?void 0:O.model.variant} to ${G.chosenModel} Reason: ${G.adjustmentReason}`),this.updateCacheWithUpdatedConfig(G.chosenModel)),O){(0,r.e)().track(d.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:O.model.variant,model_variant_override:I.variant,simd:O.model.simd,execution_quanta:O.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const W={...O};W.model.variant=G.chosenModel,p.A.publish({type:f.lx.VoiceFocusConfig,update:W}),this.callLogger.info(`model_variant_determined: ${O.model.variant}, model_variant_override: ${G.chosenModel}, simd: ${O.model.simd}, execution_quanta: ${O.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=s.S.resolve((0,o.w2)().create(I,M,D));var b=this;this.voiceFocusDeviceTransformerPromise.then(function(){var W=(0,t.coroutine)(function*(B){b.voiceFocusTransformDevicePromise=s.S.resolve(B.createTransformDevice(null))});return function(B){return W.apply(this,arguments)}}()).catch(W=>{this.callLogger.info(`Could not create voice device transformer exp: ${W.name}: ${W.message}`)})}chooseModelVariant(T,M,O){const I={c10:1,c20:2,c50:3,c100:4},D=navigator==null?void 0:navigator.hardwareConcurrency;if(!D)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${T}`),{modelWasAdjusted:!1,chosenModel:T,adjustmentReason:""};let P;return D<=4?P="c10":D<=6?P="c20":D<=8?P="c50":P="c100",I[P]<I[T]&&!O?{modelWasAdjusted:this.wasModelAdjusted(P,T,M),chosenModel:P,adjustmentReason:"Using CPU restricted model variant which is weaker"}:I[P]>I[T]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${T}`),P=T,!O)?{modelWasAdjusted:!1,chosenModel:T,adjustmentReason:""}:P==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",T,M),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",T,M),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(T,M,O){return T===M&&!O||T!==M}tearDown(){var T=this;return(0,t.coroutine)(function*(){const M=yield T.getTransformDevice();M&&(T.callLogger.info("Attempting to destroyVoiceFocus"),o.wV.destroyVoiceFocus(M))})()}constructor(T,M){this.chimeLogger=T,this.allowMaxModelsToBeUsed=M,this.callLogger=(0,a.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=u((0,n.A)(),o.zF.sdkVersion)}},"VoiceFocusManager")},8558782493:(Q,C,e)=>{"use strict";e.d(C,{k:()=>d});var t=e(56548687),n=e(5795074931),s=e(3395259576),r=e(7439555287);function d(o,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var l;const _=(l=(0,r.KA)())===null||l===void 0?void 0:l.getState();if(!_)return;const v=(0,t.e)({state:_}).setUser((0,n.WR)(_));if(i){const u={...a,room_id:(0,s.G0)(_)};v.track(o,u,{sendImmediately:m})}else v.track(o,a,{sendImmediately:m})}c(d,"trackCallsClog")},164795489:(Q,C,e)=>{"use strict";e.d(C,{w:()=>g});var t=e(9706240641),n=e(6680093304),s=e(6422693406),r=e(1031947056),d=e(8276911661),o=e(3677514771),a=e(1269227002),i=e(8445020572),m=e(5046160032),l=e(4914127094),_=e(7299481592);const v="screenhero.rooms.proxyLogs",u=(0,r.Ay)("Send call logs to the server",(A,y,T)=>{let{logs:M,useSendBeacon:O=!1,callId:I}=T;const D=y();let P;if(I?P=I:D.activeCall&&D.activeCall.id&&(P=D.activeCall.id),!P)return(0,_.M)(!1,"There should be an active call in progress in order to send logs."),s.S.reject(new Error("SendLogs: no call"));const L=(0,d.cA)(D),k=(0,o.H7)(D);if(!k)return s.S.reject(new Error("SendLogs: no current team"));const G={data:{room_id:P,user_id:L.id,team_id:k.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:M}},b={data:JSON.stringify(G.data)};return O?(0,m.A)({apiUrl:"/api/",method:v,token:(0,l.F)(D),versionTs:(0,i.HF)(),versionUid:(0,i.X3)(),args:b})?s.S.resolve():s.S.reject(new Error("SendLogs: beacon failed")):A((0,a.apiCall)({method:v,reason:"calls-logging",args:b}))});u.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var h=e(7439555287),f=e(796111729),p=e(4518410378);const E=60*1e3;class g{start(y){(0,_.M)(!this.intervalHandle,"Log reporter already started."),this.callId=y,this.intervalHandle=p.J.setInterval(()=>this.report(!1),E),p.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(y){return y.map(T=>T.join(" ")).join(`
`)}constructor(y=n.tt){this.buffer=y,this.unloadHandler=()=>{p.J.Cypress||this.report(!0)};var T=this;this.stop=(0,t.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;T.intervalHandle&&p.J.clearInterval(T.intervalHandle),T.intervalHandle=void 0,p.J.removeEventListener("beforeunload",T.unloadHandler),yield T.emptyBuffer(D),T.callId=void 0});var M=this;this.emptyBuffer=(0,t.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;M.buffer.hasItems()&&(yield M.report(I),yield M.emptyBuffer(I))});var O=this;this.report=(0,t.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:D}=(0,h.KA)(),P=O.buffer.flush();if(!P.length)return;const L=O.joinLogs(P);yield D(u({logs:L,useSendBeacon:I,callId:O.callId})).catch(()=>{(0,f.Wo)().error("Failed to send Huddle logs")})})}}c(g,"LogReporter")},3300324857:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6267571562);const n=new t.G},6839101721:(Q,C,e)=>{"use strict";e.d(C,{D8:()=>_,WY:()=>l,cn:()=>v,d2:()=>i,gJ:()=>m});var t=e(2140362605);const n=(0,t.Ay)("connect to free willy media server");n.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const s=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");s.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const d=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");d.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const o=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");o.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const a=(0,t.Ay)("Set flag to determine if a call is a readiness test call");a.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const i=(0,t.Ay)("Binds video tile to a video element");i.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const m=(0,t.Ay)("Unbinds video tile from a video element");m.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const l=(0,t.Ay)("Pauses video tile");l.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const _=(0,t.Ay)("Unpauses video tile");_.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const v=(0,t.Ay)("Returns if there in a stream associated with the tileId");v.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},3094144240:(Q,C,e)=>{"use strict";e.d(C,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function n(s){return!!has(s,"activeCall")}c(n,"isCallWindowContextState")},5156662944:(Q,C,e)=>{"use strict";e.d(C,{Rv:()=>G,Xk:()=>k,hL:()=>L,j7:()=>w,lp:()=>b,tO:()=>H,tw:()=>W,uI:()=>Y,vf:()=>J});var t=e(5597672932),n=e(6007206761),s=e(4630136761),r=e(9884588328),d=e(8798294025),o=e(1407713935),a=e(2350349607),i=e(6839188756),m=e(4827886670),l=e(8276911661),_=e(6728717861),v=e(8921478798),u=e(8170643398),h=e(3534324375),f=e(3677514771),p=e(735940183),E=e(9101533895),g=e(5670315214),A=e(8767621462),y=e(462591818),T=e(340763958),M=e(6470070112);const O="Slack",I=new p.Ay("calls");function D(te){return!!(0,t.x)(te,"allow_calls")}c(D,"isCallsAllowedByAdmin");function P(te,le){return(0,M.pt)(te)&&(0,M.Bn)(te,le)}c(P,"isHuddlesAllowed");function L(te,le,he){const Ie=(0,E.Pu)(te,le.id);return!(!D(te)&&!P(te,Ie)||(0,u.fy)(le)&&!he||!(0,u._W)(le)||!(0,A.S)(te,le.id)||(0,r.Mi)(Ie))}c(L,"canCallMember");function k(te,le){let he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const Ie=(0,l.nv)(te,(0,d.e)(le)),Ee=he&&K(te);return!D(te)&&!P(te,le)&&!Ee||(0,s.Zz)(le)||(0,o.LI)(le)&&(!Ie||!L(te,Ie))||!(0,r.Ez)(le)?!1:(0,m.c)(te,le)}c(k,"isCallButtonVisibleForChannel");function G(te,le){return(0,_.Pb)(te)?((0,r.bU)(le)||(0,n.F)(le))&&!ne(le):!0}c(G,"isCallButtonDisabledForChannel");function b(te,le){const he=(0,E.OL)(te,le);return he&&!G(te,he)&&k(te,he)}c(b,"canStartCallInChannel");function W(te,le,he){const Ie=(0,a.V)(le),Ee=(0,g.q8)(te,Ie),me=(0,l.nv)(te,he,{preferNonExistentToNull:!1,fetchIfMissing:!0}),ce=(0,u.v8)(me),X=(0,g.OJ)({callsApp:Ee,memberPhoneNumber:ce,hideVideoApps:!1}),V=X.length,x=P(te,le);let S=V;return x&&(S+=1),S>1?I.t("{numCallApps} calling options",{numCallApps:S}):S===1?V===0?"":I.t("using {appName}",{appName:X[0].name}):""}c(W,"getTipSubtitleForStartCall");function B(te,le,he){const Ie=(0,v.I)(te,(0,d.e)(le));return he?I.rt("Huddle with {name}",{name:Ie,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):I.rt("Call {name}",{name:Ie})}c(B,"getTipForIm");function R(te,le,he){const Ie=(0,r.d3)(te,le).map(me=>(0,h.sE)(te,me)),Ee=(0,p.jd)(Ie,{noEscape:!0}).join("");return he?I.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Ee,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):I.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Ee})}c(R,"getTipForMpim");function j(te,le,he){return(0,o.LI)(le)?B(te,le,he):(0,o.yz)(le)?R(te,le,he):he?I.t("Huddle in {channelName}",{channelName:(0,r.SB)(te,le),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):I.t("Start a call")}c(j,"getTipForChannel");function w(te,le){const he=(0,f.H7)(te),Ie=(0,i.qR)(he),Ee=K(te),me=Ie||Ee,ce=P(te,le)&&!J(te);return(0,_.Pb)(te)?me&&(0,n.F)(le)?I.t("Unarchive this channel to start a huddle"):me&&(0,r.bU)(le)?I.t("Join this channel to start a huddle"):(Ee||ne(le),j(te,le,ce)):I.t("Go online to start a huddle")}c(w,"getTipForStartCall");function N(te,le){const he=getCurrentTeam(te),Ie=isPaidTeamRule(he),Ee=isMpimRule(le),me=K(te),ce=Ie||me;return!isClientOnline(te)||ce&&isArchived(le)||ce&&isPreview(le)||me?!1:!!(!Ie&&Ee||!Ie&&isNonImOrMpimChannel(le))}c(N,"isFreeTeamAndInChannelOrMpim");function K(te){const le=(0,g.wZ)(te);for(let he=0;he<le.length;he++)if(le[he].id!==y.rq)return!0;return!1}c(K,"isThirdPartyCallEnabled");function J(te){return(0,g.wZ)(te).length>0}c(J,"isAnyCallAppEnabled");function Y(te){const le=I.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),he=I.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:te,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),Ie=I.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:le,description:he,confirm:Ie,cancel:I.t("Cancel")}}c(Y,"getCallConfirmationStrings");function q(){return!1}c(q,"isNativeSlackCallEnabled");function H(){return!0}c(H,"isSlackCallSlashCommandDisabled");function ne(te){return(0,T.ju)(te)&&!(0,o.LI)(te)}c(ne,"shouldEnableForSponsoredConnections")},7561130599:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(9706240641),n=e(2825968873),s=e(3245843483),r=e(7299481592),d=e(571104883),o=e(8558782493),a=e(6244014364),i=e(336376314);const m=window.RTCPeerConnection,l=window.MediaStream,_=window.RTCIceCandidate,v=window.navigator,u={height:116,width:168};let h=c(class{getScreenThumbnails(E){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var A=this;return(0,t.coroutine)(function*(){const y=yield(0,s.zxd)();g||f(A.log,y);const T=["screen"];T.push("window"),u.width=(E==null?void 0:E.width)||200,u.height=(E==null?void 0:E.height)||150;let M;try{M=yield(0,s.Yx3)(u,T)}catch(I){A.log.error(`Could not get screen thumbnails: ${I.message}`)}return M?M.map((I,D)=>{var P;const L=y.find(G=>parseInt(I.display_id,10)===G.id);!L&&!(0,d.tR)()&&!(0,d.cX)()&&!(!((P=I.id)===null||P===void 0)&&P.startsWith("window:"))&&A.log.error(`Could not find matching display for screen ${D} with id ${I.display_id}`);const k=L||((0,d.tR)()||(0,d.cX)()?y[D]:void 0);return{mediaSourceId:I.id,thumbnail:I.thumbnail,displayId:k&&k.id,bounds:k&&k.bounds,name:I.name}}):[]})()}getCurrentlyActiveScreenTrack(){return this.screenTrack}startCapturingScreen(E){var g=this;return(0,t.coroutine)(function*(){if((0,r.M)(!g.screenTrack,"Screen track should not already be active"),!E){if(!v.mediaDevices.getDisplayMedia)throw g.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const A={audio:!1,video:{frameRate:{max:15}}},y=yield v.mediaDevices.getDisplayMedia(A);return g.screenTrack=y.getVideoTracks()[0],g.log.info(`Start screen sharing with track id: ${g.screenTrack.id} in browser`),g.screenTrack}catch(A){if(A.name!=="NotAllowedError")throw g.log.error(`Error: ${A.name} while trying to screen share in browser`),(0,o.k)(a.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:A.name}),A;return null}}try{const A={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:E,maxFrameRate:15}}};if(!(0,d.uF)()){const T=yield g.getScreenDetailsByMediaSourceId(E);T&&T.bounds&&(A.video.mandatory.maxWidth=T.bounds.width,A.video.mandatory.maxHeight=T.bounds.height)}const y=yield v.mediaDevices.getUserMedia(A);return g.screenTrack=y.getTracks()[0],g.log.info("Start screen sharing with track id:",g.screenTrack.id,"and mediaSourceId:",E),g.screenTrack}catch(A){throw g.log.error(`Error: ${A.name} for screen ${E}`),(0,o.k)(a.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:A.name}),A}})()}stopCapturingScreen(){if(!this.screenTrack){(0,r.M)("No screenTrack to stop.");return}this.screenTrack.stop();const E=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",E),E}clearScreenTrack(){delete this.screenTrack}getScreenDetailsByMediaSourceId(E){var g=this;return(0,t.coroutine)(function*(){let A;const y=yield g.getScreenThumbnails();return y&&(A=y.find(T=>T.mediaSourceId===E,y)),A})()}constructor(){this.log=(0,n.tZ)("SCREENS")}},"ScreenManager");function f(p,E){if(!E.length){p.error("No screens available");return}const g=new i.M(["id","width","height","x","y","scaleFactor","rotation"]);E.forEach(A=>{g.add([A.id,A.bounds.width,A.bounds.height,A.bounds.x,A.bounds.y,A.scaleFactor,A.rotation].map(String))}),p.info(`Available screens:
${g.report()}`)}c(f,"logDisplays")},4708000837:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>t});function t(n){const s=(n||"").split("-");return s&&(s.length===3||s.length===4)?s[1]:null}c(t,"getCallIdFromExternalId")},8405076696:(Q,C,e)=>{"use strict";e.d(C,{n:()=>t});function t(n){let{width:s,height:r,top:d,left:o}=n;return{position:"absolute",width:`${s}px`,height:`${r}px`,top:`${d}px`,left:`${o}px`}}c(t,"cssForRect")},6117529990:(Q,C,e)=>{"use strict";e.d(C,{BD:()=>s,OV:()=>n,XY:()=>d,wn:()=>r,zq:()=>o});var t=e(4761125736);function n(a){return(0,t._Z)(a,"calls_chime_sdk_exp")==="enabled"}c(n,"isCallsChimeSdkExpEnabled");const s=c(a=>(0,t._Z)(a,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),r=c(a=>(0,t._Z)(a,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),d=c(a=>(0,t._Z)(a,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),o=c(a=>(0,t._Z)(a,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},2004048777:(Q,C,e)=>{"use strict";e.d(C,{$:()=>d,Y:()=>r});var t=e(2615100822),n=e(2825968873),s=e(796111729);function r(o){let{direction:a,type:i,payload:m}=o;const l=(0,t.A)()?"slack":"call",_="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,n.tZ)(_):(0,s.Wo)({label:_})).info(`${a==="send"?"Sending":"Received"} ${i} ${a==="send"?"to":"from"} the ${l} window${m?`, with payload: ${JSON.stringify(m)}`:""}`)}c(r,"logInterWindowMessage");function d(o){function a(i,m,l){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;o(m,l,_),i.sendData({type:m,payload:l})}return c(a,"sendMessage"),a}c(d,"createInterWindowMessageSender")},1371073900:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(571104883);function n(){return!(0,t.j9)()&&(0,t.y3)()}c(n,"isDrawSupported")},6267571562:(Q,C,e)=>{"use strict";e.d(C,{G:()=>n});var t=e(8403493408);class n{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){(0,t.A)(this.subscribers,r)}publish(r){this.subscribers.forEach(d=>{d(r)})}constructor(){this.subscribers=[]}}c(n,"PubSub")},6155974509:(Q,C,e)=>{"use strict";e.d(C,{X:()=>h,a:()=>f});var t=e(571104883),n=e(4387298515),s=e(2825968873),r=e(2615100822),d=e(796111729),o=e(6117529990);const a=2e3,i=6,m=0/265,l=255/265,_=53/265,v=1,u="SCREEN-SHARE",h=c((p,E)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,o.zq)(E)&&((0,n.$m)(p,a),(0,n.VR)(p),(0,n.D0)(i),(0,n.Mh)(m,l,_,v),(0,n.Ac)(),((0,r.A)()?(0,s.tZ)(u):(0,d.Wo)({label:u})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),f=c(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,n.th)(),((0,r.A)()?(0,s.tZ)(u):(0,d.Wo)({label:u})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},7304871158:(Q,C,e)=>{"use strict";e.d(C,{R:()=>r});var t=e(7299481592),n=e(2615100822),s=e(2004048777);const r=(0,s.$)(function(d,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,n.A)(),"Expected to send message from the slack window"),(0,s.Y)({direction:"send",type:d,payload:a?o:"REDACTED"})})},336376314:(Q,C,e)=>{"use strict";e.d(C,{M:()=>n});var t=e(9118672869);class n{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(o=>"-".repeat(o));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((o,a)=>o+a.reduce((i,m,l)=>i+(0,t.A)(m,this.padding[l])+(l!==a.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((d,o)=>Math.max(d.length,this.padding[o]||0))}constructor(r,d="|"){this.columnNames=r,this.separator=d,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}c(n,"StringTable")},5954792826:(Q,C,e)=>{"use strict";e.d(C,{l:()=>t});function t(n){const s=(n||"").split("-");return s&&(s.length===3||s.length===4)?s[2]:null}c(t,"getUserIdFromExternalId")},1151228631:(Q,C,e)=>{"use strict";e.d(C,{uM:()=>Ee,Gf:()=>Ie,lQ:()=>me});var t=e(6188550760),n=e(9706240641),s=e(3202757386),r=e(2664504268),d=e(6533394955),o=e(2567914105),a=e(4529239752),i=e(8628205589),m=e(3193155968),l=e(9108490430),_=e(4096483543),v=e(8224196674),u=e(109860581),h=e(3034856104),f=e(8172368937),p=e(5647269481),E=e(1031947056),g=e(8720458890);const A=(0,E.Ay)("Determine if fullscreen mode is enabled",(ce,X)=>{const V=X();return(0,g.V)(V)});A.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var y=e(9553287e3),T=e(8646192222),M=e(3875705815),O=e(8854307618),I=e(7606925238),D=e(5223893135),P=e(5925742547),L=e(9012396182);const k=c((ce,X)=>!(!(0,T.mL)(ce)||(0,M.V)(ce)||X[m.jf]!==m.k6.BBM),"shouldPreventBBMHistory"),G=c((ce,X,V)=>{if(!(0,T.iB)(ce)||(0,D.V)(ce))return!1;const x=(0,d.getStateForClientStore)();if((L.getFocusedWorkspace===null||L.getFocusedWorkspace===void 0?void 0:(0,L.getFocusedWorkspace)(x))!==V)return!1;const S=(0,a.jo)(x),U=X[m.jf],F=S[m.jf];if(U!==F)return!1;const Z=X[U],z=S[F];return!!(0,P.A)(Z,z)},"shouldPreventDuplicateHistory"),b=(0,E.Ay)("Maybe prevent default handling of history on pop state",(ce,X,V)=>{let{current:x,index:S,teamId:U}=V;const F=X();if(!k(F,x)&&!G(F,x,U))return!1;const Z=(0,d.getStateForClientStore)(),z=(0,a.XG)(Z),$=S>z;if($){if((0,a.yS)(Z))return!0}else if((0,a.m6)(Z))return!0;return ce(($?O.r:I.h)()),!0});b.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var W=e(2554594353);function B(ce){return R.apply(this,arguments)}c(B,"onPopState");function R(){return R=(0,n.coroutine)(function*(ce){const X=ce.state;if(!(X!=null&&X.teamId)||!(X!=null&&X.id))return;const V=(0,d.getClientStoreInstance)();if(!V)return;const x=V.getState,S=V.dispatch;if(!x||!S)return;const U=(0,a.jR)(x()),F=U.findIndex(ye=>ye.id===X.id);if(F<0)return;const Z=(0,a.XG)(x()),z=U[Z],$=X.state[m.jf];if((0,d.dispatchForTeamId)(X.teamId,b({current:X.state,index:F,teamId:X.teamId})))return;var de;const ie=(de=X.state[$])!==null&&de!==void 0?de:(0,m.DP)($),ue=(0,h.H)(z)?z[m.jf]:void 0,fe=(0,h.H)(z)&&ue?z[ue]:void 0,{viewSet:re}=yield(0,d.dispatchForTeamId)(X.teamId,(0,p.F)({context:f.b.HistoryStack,prevViewSet:fe,prevTab:ue,nextViewSet:ie,nextTab:$,windowId:m.N2}));X.state[$]=re??ie,S((0,i.cM)({windowId:m.N2,index:F,previousIndex:Z})),(0,d.dispatchForTeamId)(X.teamId,(0,l.cQ)(X.state)),(L.getFocusedWorkspace===null||L.getFocusedWorkspace===void 0?void 0:(0,L.getFocusedWorkspace)(x()))!==X.teamId&&S(W.b===null||W.b===void 0?void 0:(0,W.b)({teamId:X.teamId,fromNavigation:!0}));const Ue=(0,d.dispatchForTeamId)(X.teamId,A())?(0,d.dispatchForTeamId)(X.teamId,(0,y.n)({id:X.id})):void 0;(0,d.dispatchForTeamId)(X.teamId,(0,v.C)({prevViewSet:fe,prevTab:ue,nextViewSet:ie,nextTab:$,windowId:m.N2,navigateParams:{destinationContainer:Ue},triggerType:u.w.HISTORY_NAVIGATION}))}),R.apply(this,arguments)}c(R,"_onPopState");function j(ce){if(!isSonic())return;const X=ce.state;if(!(X!=null&&X.id))return;const V=getClientStoreInstance();if(!V)return;const x=V.getState,S=V.dispatch;if(!x||!S)return;const F=getHistoryForMainWindow(x()).findIndex(z=>z.id===X.id);if(F<0)return;const Z=getHistoryIndexForMainWindow(x());S(updateIndexForMainWindow({windowId:MainWindowId,index:F,previousIndex:Z}))}c(j,"onIA3PopState");var w=e(1642614792),N=e(8289899277),K=e(472899830),J=e(796111729);function Y(ce){return q.apply(this,arguments)}c(Y,"navigateAfterPopState");function q(){return q=(0,n.coroutine)(function*(ce){var X;if(!(0,s.A)())return;if(!(ce==null||(X=ce.state)===null||X===void 0)&&X.isIA4){K.p.prevNavigatedTeamOrEnterpriseId=ce.state.teamId,B(ce);return}const V=(0,w.oI)(),x=(0,N.f)(),S=(0,t.A_)(),U=(0,d.getStoreInstanceByTeamId)(K.p.prevNavigatedTeamOrEnterpriseId),F=U?(0,o.oY)(U.getState()):!1,Z=(0,r.A)().slice(0,8);if((0,J.Wo)().info("ROUTES",`[${Z}]`,`[${x.routeName}]`,"Attempting to popstate navigate to new route",x.params),(yield(0,t.$C)({prevTeamOrEnterpriseId:K.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:V,prevRouteInfo:K.p.popstatePrevRouteInfo,routeName:x.routeName,params:x.params,reason:t.GB,uuid:Z}))===!1||F===!0){(0,J.Wo)().info("ROUTES",`[${Z}]`,`[${x.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,t.OX)({prevTeamOrEnterpriseId:K.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:V,prevRouteInfo:K.p.popstatePrevRouteInfo,routeName:x.routeName,params:x.params,reason:t.GB,uuid:Z}),(0,J.Wo)().info("ROUTES",`[${Z}]`,`[${x.routeName}]`,"Navigated to new route"),K.p.prevNavigatedTeamOrEnterpriseId=V,S&&typeof S.onEnter=="function"){const $=(0,d.getStoreInstanceByTeamId)(V);S.onEnter.call(null,$.getState,null,window.location.pathname)}}),q.apply(this,arguments)}c(q,"_navigateAfterPopState");const H=c(()=>{window.addEventListener("popstate",Y)},"addPopStateListener");var ne=e(9733150292),te=e(7515251865),le=e(210422728),he=e(3080748521);H();function Ie(){let{store:ce,shouldSetFocus:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const V=(0,N.f)(window.location.pathname,{throwOnNoRoute:!1});if(V&&X&&V.routeName!==te.o)return V;if(!ce)return null;const x=(0,he.D8)(ce.getState()),S=(0,he.MC)(ce.getState()),U={routeName:x,params:S};return(0,t.EB)(U)?U:null}c(Ie,"determineCurrentView");function Ee(){return(0,t.Dd)(ce=>{let{nextTeamId:X,routeName:V,params:x}=ce;(0,d.getStoreInstanceByTeamId)(X)&&(0,d.dispatchForTeamId)(X,(0,le.w)({routeName:V,params:x}))})}c(Ee,"configureUpdateCurrentRoute");function me(ce){const X=(0,ne._z)(ce,"lastRoute");return(0,t.EB)(X)?X:null}c(me,"getLastRouteFromLocalConfig")},210422728:(Q,C,e)=>{"use strict";e.d(C,{T:()=>s,w:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Navigate to a route");n.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const s=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");s.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},311893736:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(6533394955),n=e(3677514771),s=e(9012396182);function r(d,o){const a=(0,t.getClientStoreInstance)();if(a){const m=a.getState(),l=(0,s.getWorkspaceMetaBySubdomain)(m,o);if(l)return l.id}const i=(0,n.lL)(d,o);if(i)return i.id}c(r,"findWorkspaceIdForSubdomain")},8204430196:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(3134334389),n=e(9113979368),s=e(2562405183),r=e(1030162945),d=e(2374999399),o=e(6818330210);function a(m){let{memberId:l,className:_,emoji:v,emojiSize:u,showTooltips:h,stopAnimations:f}=m;const p=(0,s.F3)(A=>(0,d.A)(A,l));if(!l||!v)return null;const{name:E=v,url:g=void 0}=p?(0,o.H)(v,(0,n.A)(p)?void 0:p):{};return t.createElement(r.Ay,{className:_,emojiSize:u||r.lw.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!h,stopAnimations:!!f,text:E,url:g})}c(a,"CustomStatusEmoji"),a.displayName="CustomStatusEmoji";const i=t.memo(a)},6710730141:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(735940183),s=e(2406011273),r=e(9391594207),d=e(1345620242),o=e(2047021170);const a=new n.Ay("current_status");function i(_){let{className:v,expiration:u,time24:h}=_;if(!u)return null;const f=u*1e3,p=a.t("Until {expirationDate}",{expirationDate:(0,s.A)(f,"{status_expiration}",{do24hrTime:h,shouldCapitalize:!1})});return t.createElement("span",{className:v,"data-qa-status-expiration":u},p)}c(i,"CustomStatusExpiration"),i.displayName="CustomStatusExpiration";function m(_,v){let{memberId:u}=v;return{expiration:(0,d.A)(_,u||"")||0,time24:!!(0,o.ty)(_,"time24")}}c(m,"mapStateToProps");const l=(0,r.N)(m)(i)},5530660703:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(2562405183),s=e(1030162945),r=e(2374999399),d=e(7969928607);function o(i){let{memberId:m,className:l,emojiSize:_,showTooltips:v,stopAnimations:u,text:h}=i;const f=(0,n.F3)(p=>m?(0,r.A)(p,m):void 0);return h?t.createElement("span",{className:l,"data-qa":"custom_status_text"},t.createElement(d.A,{text:h,inputIsEscaped:!0,emojiSize:_||s.lw.MEDIUM,showTooltips:!!v,stopAnimations:!!u,emojiDisplayInfo:f})):null}c(o,"CustomStatusText"),o.displayName="CustomStatusText";const a=t.memo(o)},7278430876:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(193084903),d=e(2312625946),o=e(1030162945),a=e(8204430196),i=e(2072540560),m=e(8276911661),l=e(8170643398),_=e(2689960678),v=e(5530660703);function u(){return u=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},u.apply(this,arguments)}c(u,"_extends");const h={noLinking:!1},f=c(y=>{let{stopAnimations:T=!1,noText:M=!1,className:O,memberId:I="",noLinking:D,showEmojiTooltip:P=!1,insertTextSpacing:L=!1,displayInMemberProfile:k=!1,emoji:G}=y;const b=(0,n.d4)(R=>(0,i.A)(R,I)),W=(0,n.d4)(R=>(0,l.fy)((0,m.nv)(R,I)));let B=_.t0;return D===!1&&(B=h),k?t.createElement("span",{className:O},t.createElement(a.A,{memberId:I,emoji:G,stopAnimations:T,showTooltips:P,emojiSize:o.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),b&&t.createElement(v.A,u({memberId:I,className:(0,s.A)("margin_left_50","padding_right_50",{margin_right_100:W}),emojiSize:o.lw.SMALL,stopAnimations:T,text:M?"":b},B))):t.createElement("span",{className:O},t.createElement(a.A,{memberId:I,showTooltips:P,emojiSize:o.lw.SMALL,emoji:G,stopAnimations:T}),b&&t.createElement(v.A,u({memberId:I,className:L?"margin_left_50":"margin_left_25",emojiSize:o.lw.SMALL,stopAnimations:T,text:M?"":b},B)))},"CustomStatusTooltipContent");f.displayName="CustomStatusTooltipContent";const p=t.memo(f);var E=e(6710730141);const g=c(y=>{let{animated:T=!1,tooltip:M=!0,tipPosition:O,noText:I=!1,className:D,memberId:P="",noLinking:L,showEmojiTooltip:k=!1,insertTextSpacing:G=!1,displayInMemberProfile:b=!1}=y;const W=(0,n.d4)(R=>(0,r.A)(R,P)),B=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(p,{className:"c-custom_status__tooltip",noText:I,memberId:P,noLinking:L,showEmojiTooltip:k,insertTextSpacing:G,displayInMemberProfile:b,emoji:W}),t.createElement(E.A,{className:"c-custom_status__expiration",memberId:P})),[P,I,L,k,G,b,W]);return W?M?t.createElement(d.Ay,{tip:B,position:O,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:(0,s.A)("c-custom_status",D),"data-qa":"custom_status"},t.createElement(a.A,{memberId:P,showTooltips:!1,emojiSize:o.lw.SMALL,emoji:W,stopAnimations:!T}))):t.createElement(p,{className:(0,s.A)(D,"c-custom_status","c-custom_status--inline",{display_flex:b}),stopAnimations:!T,noText:I,memberId:P,noLinking:L,showEmojiTooltip:k,insertTextSpacing:G,displayInMemberProfile:b,emoji:W}):null},"CustomStatus");g.displayName="CustomStatus";const A=t.memo(g)},2486585453:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,j:()=>n.A});var t=e(7278430876),n=e(6710730141);const s=t.A},9580887194:(Q,C,e)=>{"use strict";e.d(C,{E:()=>d,a:()=>o});var t=e(9936232041),n=e(9609912577),s=e(1031947056),r=e(6440800009);const d=(0,s.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(a,i,m)=>{let{emojiName:l,emojiUrl:_}=m;var v;a((0,n.A)({emojiNameSuggestion:l&&((v=(0,t.A)(l))===null||v===void 0?void 0:v.name),emojiUrl:_}))});d.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const o=(0,s.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(a,i,m)=>{const l=i(),{event:_,emojiName:v,emojiUrl:u}=m;u&&(0,r.LU)(l,u,v)&&(_==null||_.preventDefault(),_==null||_.stopPropagation(),a(d(m)))});o.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},8021873188:(Q,C,e)=>{"use strict";e.d(C,{K:()=>o});var t=e(3134334389),n=e(735940183),s=e(8683010724),r=e(6440800009);const d=new n.Ay("import-external-emoji");function o(a){let{emojiUrl:i,emojiName:m}=a;return(0,r.tJ)(i,m)?t.createElement("div",{className:"margin_top_50"},t.createElement(s.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},d.t("Right click to add to your organization"))):null}c(o,"ImportExternalEmojiTooltipInfo"),o.displayName="ImportExternalEmojiTooltipInfo"},6440800009:(Q,C,e)=>{"use strict";e.d(C,{$N:()=>G,LU:()=>I,tJ:()=>D});var t=e(8701485242),n=e(4921059838),s=e(9936232041),r=e(2689960678),d=e(317660850),o=e(6790819894),a=e(3677514771),i=e(2757639362),m=e(6839188756),l=e(5795074931),_=e(6457401668),v=e(2562405183),u=e(2384831516),h=e(7606781622),f=e(5757070316),p=e(9608713960),E=e(6783791506),g=e(4813703725);const A=c(b=>{var W;return Array.isArray((W=b)===null||W===void 0?void 0:W.elements)},"hasElements"),y=c((b,W)=>(0,t.Ay)(b.emojiName,W.emojiName),"emojiNameSort"),T=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function M(b){var W;const B=(W=(0,s.A)(b))===null||W===void 0?void 0:W.name;return!!B&&T.has(B)}c(M,"isBuiltInEmoji");function O(b,W,B){return decodeURIComponent(W).includes((0,i.w)())?!1:!(B&&((0,n.A)(b,B)||M(B)))}c(O,"isCustomEmoji");const I=(0,u.Mz)((b,W,B)=>{if(!(W&&(0,l.TZ)(b)&&O(b,W,B)&&(0,d.D)(b)))return!1;const j=(0,a.Yc)(b);var w;const N=(w=j==null?void 0:j.id)!==null&&w!==void 0?w:"",K=(0,m.Ic)(j);return!!K&&W.indexOf((0,m.k7)(N,K))===-1&&W.indexOf(N.slice(1))===-1});I.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(b,W,B)=>{if(!(W&&(0,l.TZ)(b)&&O(b,W,B)&&(0,d.D)(b)))return!1;const j=(0,a.Yc)(b);var w;const N=(w=j==null?void 0:j.id)!==null&&w!==void 0?w:"",K=(0,m.Ic)(j);return!!K&&W.indexOf((0,m.k7)(N,K))===-1&&W.indexOf(N.slice(1))===-1}};function D(b,W){return(0,v.d4)(B=>I(B,b,W))}c(D,"useCanImportThisEmoji");function P(b,W){for(const B of W||[])(0,E.E)(B)?B.display_url&&b.set(B.display_url,{emojiName:B.name,emojiUrl:B.display_url}):A(B)&&P(b,B.elements)}c(P,"collectMessageEmojis");function L(b,W){for(const{name:B,url:R}of W||[])R&&b.set(R,{emojiName:B,emojiUrl:R})}c(L,"collectMessageReactjis");const k=(0,o.F)((b,W)=>W,(b,W)=>(0,p.bk)(b,(0,f.J)(W)),(b,W)=>{const B=new Map;return L(B,W),P(B,b.blocks),[...B.values()].sort(y)}),G=(0,g.eI)((b,W)=>{let{channelId:B,ts:R}=W;if(!(0,d.D)(b)||!(0,l.TZ)(b))return r.Ml;const j=(0,h.Ld)(b,B,R);return!j||(0,_.aK)(j)?r.Ml:k(b,j).filter(w=>{let{emojiName:N,emojiUrl:K}=w;return I(b,K,N)})})},9253306e3:(Q,C,e)=>{"use strict";e.d(C,{r:()=>B});var t=e(3134334389),n=e(735940183),s=e(362134992),r=e(2689960678),d=e(9101533895),o=e(4288405498),a=e(7045654828),i=e(5892132962),m=e(4158363050),l=e(2823938397),_=e(1190344069),v=e(2463625947),u=e(8417858288),h=e(5255740490),f=e(7026348746),p=e(8683010724),E=e(6084388622),g=e(2217643974),A=e.n(g);function y(){return t.createElement(p.A,{name:"caret-right",size:"16"})}c(y,"Separator"),y.displayName="Separator";function T(R){let{crumb:j}=R;const{label:w,onClick:N,className:K,iconProps:J}=j;return t.createElement("div",{className:(0,h.A)(A().record_breadcrumb,K)},t.createElement(p.A,{name:J.name,inline:!0}),!N&&t.createElement("span",{className:A().record_breadcrumb_label},w),N&&t.createElement(E.jV,{className:A().record_breadcrumb_label,onClick:N},w))}c(T,"Breadcrumb"),T.displayName="Breadcrumb";function M(R){let{className:j,crumbs:w,isLoading:N}=R;return!w.length&&!N?null:t.createElement("div",{className:(0,h.A)(A().record_breadcrumbs,j)},N&&t.createElement(f.A,{dataQa:"record-breadcrumbs-missing-text",size:"large"}),!N&&w.map((K,J)=>t.createElement(t.Fragment,{key:K.label},t.createElement(T,{crumb:K}),!K.noSeparator&&J!==w.length-1&&t.createElement(y,null))))}c(M,"RecordBreadcrumbsLayout"),M.displayName="RecordBreadcrumbsLayout";var O=e(9548888903),I=e(2562405183),D=e(2233365467),P=e(8096107629),L=e(8300007136);const k=new n.Ay("recordchannels");function G(R){let{className:j,recordId:w}=R;const N=(0,L.wA)(),K=(0,I.d4)(Y=>(0,a.PQ)(Y,w)),J=(0,t.useMemo)(()=>{if(!(0,P._s)(K))return r.Ml;const{org:Y,parent:q}=K;return(0,s.A)([q&&{label:q.name,iconProps:(0,i.Ep)(q.object_api_name),onClick:()=>N((0,v.c)({recordId:q.id}))},Y&&{label:Y.name,iconProps:(0,i.Ep)(O.hM.Org)}])},[N,K]);return t.createElement(M,{className:j,crumbs:J,isLoading:(0,P.Eh)(K)})}c(G,"BaseRecordBreadcrumbs"),G.displayName="BaseRecordBreadcrumbs";function b(R){let{className:j,channelId:w,includePrefix:N}=R;const K=(0,L.wA)(),J=(0,I.d4)(Ee=>(0,d.OL)(Ee,w)),Y=(0,I.d4)(_.bU),q=(0,D.iJ)(J),H=(0,D.dM)(J),ne=(0,D.jT)(J),te=(0,I.d4)(Ee=>(0,a.PQ)(Ee,q)),le=te.parent,he=(0,I.d4)(Ee=>{var me;return(0,m.k)(Ee,(me=(0,u.B)(q||""))===null||me===void 0?void 0:me.orgId)}),Ie=(0,t.useMemo)(()=>(0,s.A)([N&&{label:k.t("{recordLabel} in",{recordLabel:ne,recordType:ne}),className:"margin_right_25",iconProps:(0,i.Ep)(H),noSeparator:!0},(le==null?void 0:le.name)&&{label:le.name,iconProps:(0,i.Ep)(le.object_api_name),onClick:()=>{le.id&&K(Y?(0,o.N)({recordId:le.id}):(0,v.c)({recordId:le.id}))}},(0,l.uz)(he)&&{label:he.name,iconProps:(0,i.Ep)(O.hM.Org)}]),[K,N,he,le,H,ne,Y]);return t.createElement(M,{className:j,crumbs:Ie,isLoading:(0,l.mX)(he)||(0,l.mX)(J)||(0,P.Eh)(te)})}c(b,"BaseRecordChannelBreadcrumbs"),b.displayName="BaseRecordChannelBreadcrumbs";const W=null,B=t.memo(b)},2463625947:(Q,C,e)=>{"use strict";e.d(C,{c:()=>i});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(5267010247),d=e(8822892075),o=e(8847766420),a=e(8096107629);const i=(0,s.Ay)("Navigate to a Record in the Flexpane",function(){var m=(0,t.coroutine)(function*(l,_,v){let{listViewId:u,recordId:h,view:f}=v;const p=_(),E=(0,o.ZT)(p);return E&&(0,a.D1)(E,[h]),l((0,r.o)((0,d.Lv)({listViewId:u,recordId:h,view:f})))});return function(l,_,v){return m.apply(this,arguments)}}());i.meta={name:"createThunk",key:"createThunknavigateToRecord",description:"Navigate to a Record in the Flexpane"}},5892132962:(Q,C,e)=>{"use strict";e.d(C,{Ep:()=>_,sc:()=>v});var t=e(9548888903),n=e(2233365467),s=e(1407713935);const r={name:"sf-opportunity",variation:"filled"},d={name:"sf-account",variation:"filled"},o={name:"sf-case",variation:"filled"},a={name:"sf-lead",variation:"filled"},i={name:"sf-contact",variation:"filled"},m={name:"sf-cloud",variation:"filled"},l={name:"headphones",variation:"filled"};function _(u){switch(u){case t.hM.Opportunity:return r;case t.hM.Account:return d;case t.hM.Lead:return a;case t.hM.Case:return o;case t.hM.Contact:return i;case t.hM.Org:default:return m}}c(_,"getSalesforceObjectTypeIconProps");function v(u){if(!(0,s.rI)(u))return null;const h=(0,n.LJ)(u);switch((0,n.fI)(h==null?void 0:h.record_id)){case t.B4.Huddle:return l;default:return null}}c(v,"getRecordChannelOverrideIconProps")},7244076749:(Q,C,e)=>{"use strict";e.d(C,{b:()=>n});var t=e(4724591729);function n(){return(0,t.b3)()}c(n,"isSlackKitPlaygroundEnabled")},5868036555:(Q,C,e)=>{"use strict";e.d(C,{CC:()=>s,Fv:()=>r,KD:()=>p,NY:()=>o,P:()=>a,PG:()=>l,Qd:()=>h,Qi:()=>_,Uk:()=>d,We:()=>v,bK:()=>f,eE:()=>u,n0:()=>i,zr:()=>m});var t=e(9132066222),n=e(4761125736);function s(E){return(0,n._Z)(E,"solutions")==="on"}c(s,"isSolutionsEnabled");function r(E){return(0,n._Z)(E,"workflow_composer")==="on"}c(r,"isWorkflowComposerEnabled");function d(E){return(0,n._Z)(E,"workflow_composer_ga_wishlist")==="on"}c(d,"isWorkflowComposerGAWishlistEnabled");function o(E){return(0,n._Z)(E,"workflow_file_dialog")==="on"||s(E)}c(o,"isWorfklowFileDialogEnabled");function a(E){return(0,n._Z)(E,"solutions_add_to_channel")==="on"&&s(E)&&(0,t.U6)(E)}c(a,"isSolutionsAddToChannelEnabled");function i(E){return(s(E)||(0,t.U6)(E))&&(0,n._Z)(E,"solutions_tidy_up")==="on"}c(i,"isSolutionsTidyUpEnabled");function m(E){return s(E)&&(0,n._Z)(E,"custom_solution_creation")==="on"}c(m,"isCustomSolutionCreationEnabled");function l(E){return(0,n._Z)(E,"solutions_for_sfdc")==="on"}c(l,"isSolutionsForSfdcEnabled");function _(E){return a(E)&&(0,n._Z)(E,"solutions_new_setup_flow")==="on"}c(_,"isSolutionNewSetupFlowEnabled");const v=c(E=>(0,n._Z)(E,"ask_slack_view")==="on","isAskSlackViewEnabled");function u(E){return _(E)&&(0,n._Z)(E,"canvas_global_canned_templates")==="on"&&(0,n._Z)(E,"solutions_live_canvas_preview")==="on"}c(u,"isSolutionsLiveCanvasPreviewEnabled");const h=c(E=>(0,n._Z)(E,"solution_links")==="on","isSolutionLinksEnabled"),f=c(E=>s(E)&&(0,n._Z)(E,"solutions_nux")==="on","isSolutionsNuxEnabled"),p=c(E=>(0,n._Z)(E,"soulutions_loading_v2")==="on","isSolutionsLoadingV2Enabled")},2664997725:(Q,C,e)=>{"use strict";e.d(C,{x:()=>i});var t=e(6839188756),n=e(3677514771),s=e(9132066222),r=e(1552255081),d=e(6642124196),o=e(1737183214),a=e(5868036555);const i=c(m=>{const l=(0,n.H7)(m);return!((0,t.tc)(l)||!(0,a.CC)(m)||!(0,s.U6)(m)||!(0,r.F)(m)||!(0,d.teamHasFullListsAccess)(m)||!(0,o.I)(m))},"canUserProvisionSolutions")},3121972076:(Q,C,e)=>{"use strict";e.d(C,{g:()=>a});var t=e(3134334389),n=e(9132066222),s=e(8521790919),r=e(2689960678),d=e(2562405183),o=e(9101533895);function a(i){const m=(0,d.d4)(_=>(0,o.OL)(_,i,!1)),l=(0,d.d4)(_=>(0,n.xA)(_,m)?(0,s.G)(_,i):r.Ml);return(0,t.useMemo)(()=>m?[...(l==null?void 0:l.filter(v=>!v.isDisabled))||[]]:[],[l,m])}c(a,"useDynamicChannelTabs")},667891291:(Q,C,e)=>{"use strict";e.d(C,{H:()=>i,c:()=>a});var t=e(6217320234),n=e(9374064916),s=e(7245481391),r=e(2562405183);const d=[s.fY.Channel,s.fY.RecordCreate,s.fY.RecordOverview,s.fY.RecordSummary,s.fY.RecordOpportunities,s.fY.ChannelCanvas];function o(m){const l=d.indexOf(m);return l===-1?Number.MAX_SAFE_INTEGER:l}c(o,"getTabOrderIndex");function a(m){return(0,t.A)(m,l=>o(l.id))}c(a,"getSortedStaticTabs");function i(m){return(0,r.d4)(_=>(0,n.Hv)(_,{channelId:m}))}c(i,"useStaticChannelTabs")},8521790919:(Q,C,e)=>{"use strict";e.d(C,{G:()=>i});var t=e(8359728598),n=e(362134992),s=e(9132066222),r=e(2689960678),d=e(4813703725),o=e(9101533895);const a=(0,t.A)(m=>(0,n.A)(m==null?void 0:m.map(l=>(0,s._f)(l))),2),i=(0,d.eI)((m,l)=>{var _,v;const u=((_=(0,o.OL)(m,l,!1))===null||_===void 0||(v=_.properties)===null||v===void 0?void 0:v.tabs)||r.Ml;return a(u)})},5253816611:(Q,C,e)=>{"use strict";e.d(C,{d:()=>_});var t=e(362134992),n=e(1190344069),s=e(9548888903),r=e(7245481391),d=e(2689960678),o=e(735940183),a=e(8359728598),i=e(4813703725);const m=new o.Ay("tabbed-channel"),l=(0,a.A)(v=>{let{recordType:u,recordLabel:h,experimentRecordChannelsRelatedListsGroupOn:f,summaryTabEnabled:p}=v;return(0,t.A)([{id:r.fY.RecordOverview,type:r.Xy.RecordOverview,label:m.t("{recordLabel} details",{recordLabel:h||m.t("Record")})},p&&{id:r.fY.RecordSummary,type:r.Xy.RecordSummary,label:m.t("Summary")},u===s.hM.Account&&!f&&{id:r.fY.RecordOpportunities,type:r.Xy.RecordList,label:m.t("Open Opportunities")}])},2),_=(0,i.eI)((v,u)=>{let{recordType:h,recordLabel:f}=u;const p=(0,n.hm)(v),E=(0,n.jL)(v),g=(0,n.dw)(v);return!h||!p?d.Ml:l({recordType:h,recordLabel:f,summaryTabEnabled:E,experimentRecordChannelsRelatedListsGroupOn:g})})},9374064916:(Q,C,e)=>{"use strict";e.d(C,{Hv:()=>E});var t=e(362134992),n=e(6217320234),s=e(3385422400),r=e(2233365467),d=e(9132066222),o=e(5253816611),a=e(7245481391),i=e(6839188756),m=e(735940183),l=e(6334717308),_=e(8359728598),v=e(9101533895),u=e(3677514771);const h=new m.Ay("tabbed-channel"),f=(0,_.A)(y=>{let{isFreeTier:T,isGovSlack:M}=y;return(0,t.A)([{id:a.fY.Channel,type:a.Xy.Channel,label:h.t("Messages")},!M&&{id:a.fY.ChannelCanvas,type:a.Xy.ChannelCanvas,label:h.t("Canvas")},!T&&{id:a.fY.Workflows,type:a.Xy.Workflows,isDisabled:!0,label:h.t("Workflows")},{id:a.fY.Bookmarks,type:a.Xy.Bookmarks,isDisabled:!0,label:h.t("Bookmarks",{fallbackHash:"ca3cddd25bd8f6bc4ce35a262e2e1398541ecf3d",fallbackHashNs:"bookmarks-bar"})},{id:a.fY.Files,type:a.Xy.Files,isDisabled:!0,label:h.t("Files")},{id:a.fY.Pins,type:a.Xy.Pins,isDisabled:!0,label:h.t("Pins")}])}),p=c(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2?arguments[2]:void 0,O=arguments.length>3?arguments[3]:void 0;const I=new Set(T==null?void 0:T.map(L=>L.type)),P=[...f({isFreeTier:M,isGovSlack:O}),...y].filter(L=>!I.has(L.type));return g(P)},"getComputedStaticTabs"),E=(0,s.Mz)([(y,T)=>{let{channelId:M}=T;const O=(0,v.OL)(y,M);return(0,o.d)(y,{recordType:(0,r.dM)(O),recordLabel:(0,r.jT)(O)})},(y,T)=>{let{channelId:M}=T;var O,I;return(O=(0,v.OL)(y,M))===null||O===void 0||(I=O.properties)===null||I===void 0?void 0:I.tabs},y=>(0,i.tc)((0,u.H7)(y)),y=>(0,l.c)(y)],p);function g(y){return(0,n.A)(y,T=>A(T.id))}c(g,"getSortedStaticTabs");function A(y){const T=d.s3.indexOf(y);return T===-1?Number.MAX_SAFE_INTEGER:T}c(A,"getTabOrderIndex")},5212356192:(Q,C,e)=>{"use strict";e.d(C,{d:()=>j,H:()=>w});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(6027162153),d=e(9744286524),o=e(1190344069),a=e(3121972076),i=e(667891291),m=e(9132066222),l=e(4427921758),_=e(3172414072),v=e(7056498591),u=e(796111729),h=e(1031947056);const f=(0,h.Ay)("Adds a new tab to a channel",function(){var N=(0,t.coroutine)(function*(K,J,Y){let{channelId:q,tabId:H,data:ne,label:te,reason:le="updateTab"}=Y,he={ok:!1,tabs:[]};try{he=yield K((0,v.k)({id:H,...(te||te==="")&&{label:te},...ne&&{data:ne},channelId:q,reason:le}))}catch(Ie){(0,u.Ay)({label:"channel_tabs"}).error("error updating tab",Ie)}return he});return function(K,J,Y){return N.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkupdateTab",description:"Adds a new tab to a channel"};var p=e(7245481391),E=e(5115870218),g=e(1783582283),A=e(7937864072),y=e(1552255081),T=e(6334717308),M=e(4849735859),O=e(2580646391),I=e(2562405183),D=e(8161242485);const P=(0,D.Ay)((N,K)=>{var J;return N==null||(J=N.channelActiveTabStore)===null||J===void 0?void 0:J[K]});P.meta={name:"createSelector",key:"createSelectorgetLastActiveTabForChannel",description:(N,K)=>{var J;return N==null||(J=N.channelActiveTabStore)===null||J===void 0?void 0:J[K]}};var L=e(9101533895),k=e(3430841143),G=e(4347488242),b=e(5534420337),W=e(9530687876);const B=(0,h.Ay)(W.rd.SET_CHANNEL_PROPERTIES_DEFAULT_TAB_ID,(N,K,J)=>{let{channelId:Y,defaultTabId:q}=J;const H=K(),ne=!1,te=(0,L.OL)(H,Y,ne);if(!Y||!te)return;let le;try{le=JSON.stringify({default_tab_id:q})}catch(Ie){(0,b.Ay)({getState:K}).error(Ie,"failed serializing new properties");return}const he={...te,properties:{...te==null?void 0:te.properties,default_tab_id:q}};return N((0,k.F)({channel:he,reason:W.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT})),N((0,G.D)({channelId:Y,props:le,reason:"set_channel_canvas_default_tab_id"})).then(()=>{N((0,k.F)({channel:he,reason:W.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT}))}).catch(Ie=>{(0,k.F)({channel:te})})});B.meta={name:"createThunk",key:"createThunksetChannelPropertiesDefaultTabId",description:W.rd.SET_CHANNEL_PROPERTIES_DEFAULT_TAB_ID};var R=e(4761125736);const j=(0,n.createContext)({});function w(N){let{channelId:K,children:J,tabParams:Y,currentTabId:q}=N;var H;const ne=(0,I.d4)(Ae=>(0,R._Z)(Ae,"unified_canvas_tabs_prototype")==="on"),te=(0,I.d4)(m.Hy),le=(0,I.d4)(o.dw),he=(0,I.d4)(Ae=>(0,R._Z)(Ae,"channel_default_tabs")==="on"),Ie=(0,I.d4)(Ae=>(0,R._Z)(Ae,"saved_channel_active_tabs")==="on"),Ee=(0,I.d4)(Ae=>P(Ae,K)),me=(0,I.d4)(Ae=>(0,L.OL)(Ae,K)),ce=(0,I.d4)(y.F),X=(0,s.wA)(),V=(0,A.A)(),x=(0,i.H)(K),S=(0,a.g)(K),{channelCanvasFileId:U}=(0,d.A)({channelId:K}),F=(0,I.d4)(T.c),[Z,z]=(0,n.useState)(!1),$=(0,n.useCallback)(()=>{z(!0),X((0,M.A)({onCreate:Ae=>{let{fileId:Re}=Ae;X((0,_.P)({channelId:K,type:"canvas",fileId:Re})).then(Be=>{z(!1);const ke=Be.tabs,se=ke==null?void 0:ke.find(ve=>{let{data:Me}=ve;return Me&&Me.file_id===Re});se&&X((0,g.i)({channelId:K,id:se.id,reason:"add-channel-tab"}))})},source:O.P.CREATE_CHANNEL_SPACE}))},[K,X]),ee=(0,n.useMemo)(()=>{var Ae;let Re=(0,E.L)({tabs:[...x,...S],experimentChannelTabsV5BookmarkFoldersGroupOn:te,experimentLobRelatedListsGroupOn:le,isGovSlack:F,hasFullCanvasAccess:ce});if(!(me==null||(Ae=me.properties)===null||Ae===void 0)&&Ae.default_tab_id&&he){const Be=Re.find(ke=>ke.id===me.properties.default_tab_id);Be&&(Re=(0,r.A)(Re,Be),Re.unshift(Be))}if(ne&&!U&&Re.find(Be=>{let{type:ke}=Be;return ke===p.Xy.ChannelCanvas})){const Be=Re.findIndex(ke=>{let{type:se}=ke;return se===p.Xy.ChannelCanvas});Re.find(ke=>{let{type:se}=ke;return se===p.Xy.Canvas})?Re.splice(Be,1):Re.splice(Be,1,{id:Z?p.fY.CreatingCanvas:p.fY.CreateCanvas,type:p.Xy.CreateCanvas,label:"Canvas",onSelected:$})}return Re},[x,S,te,le,ne,he,U,Z,$,me,F,ce]),[de,ie]=(0,n.useState)(ee),[ue,fe]=(0,n.useState)(!1);if(!ue&&ee!==de){const Ae=ee.find(Be=>Be.id===p.fY.CreatingCanvas);q===p.fY.CreatingCanvas&&!Ae||ie(ee)}const re=he?(H=me.properties)===null||H===void 0?void 0:H.default_tab_id:"",_e=Ie?Ee:"",Ue=(0,m.Fi)(de,q)||(0,m.Fi)(de,_e)||(0,m.Fi)(de,re)||(0,m.Fi)(de,p.fY.Channel),ye=(0,n.useCallback)(function(){var Ae=(0,t.coroutine)(function*(Re){let{sourceIndex:Be,destinationIndex:ke}=Re;const se=[...de],ve=[...de],[Me]=se.splice(Be,1);se.splice(ke,0,Me);const be=se[ke-1];fe(!0),ie(se),he&&(ke===0&&Be!==0?yield X(B({channelId:K,defaultTabId:se[0].id})):Be===0&&ke!==0&&(yield X(B({channelId:K,defaultTabId:""})))),(yield X((0,g.i)({channelId:K,id:Me.id,...!!be&&!(0,m.PN)(be)&&{after:be.id},reason:"updateTabOrder"}))).ok||ie(ve),fe(!1)});return function(Re){return Ae.apply(this,arguments)}}(),[K,X,he,de]),Te=(0,n.useCallback)(function(){var Ae=(0,t.coroutine)(function*(Re){const Be=[...de],ke=[...de],se=Be.findIndex(Me=>Me.id===q);if(se<0)return;Be[se].label=Re,fe(!0),ie(Be),(yield X(f({channelId:K,tabId:q||re||p.fY.Channel,label:Re,reason:"updateTabLabel"}))).ok||ie(ke),fe(!1)});return function(Re){return Ae.apply(this,arguments)}}(),[K,q,re,X,de]),ge=(0,n.useMemo)(()=>({tabParams:Y,tabSchema:de,channelId:K,currentTab:Ue,updateTabOrder:ye,updateTabLabel:Te}),[de,Y,K,Ue,ye,Te]);return Ue?n.createElement(j.Provider,{value:ge},n.createElement(l.j.Provider,{value:ge},J)):(V.error(new Error("No current channel tab selected.")),null)}c(w,"TabbedChannelProvider"),w.displayName="TabbedChannelProvider"},4427921758:(Q,C,e)=>{"use strict";e.d(C,{j:()=>n});var t=e(6152845331);const n=(0,t.Ay)("Tabbed channel",{})},3172414072:(Q,C,e)=>{"use strict";e.d(C,{P:()=>d});var t=e(8786006583),n=e(2799479478),s=e(1031947056),r=e(3639008527);const d=(0,s.Ay)("Adds a tab to a channel and navigates to that tab",(o,a,i)=>{let{channelId:m,type:l,label:_,fileId:v,accessLevel:u,data:h,reason:f="add-channel-tab"}=i;const p=v||u||h?{channelId:m,type:l,label:_,data:{fileId:v,accessLevel:u,...h},reason:f}:{channelId:m,label:_,type:l,reason:f};return o((0,r.Z)(p)).then(E=>{const g=E.tabs;let A=(0,t.A)(g);return v?A=g==null?void 0:g.find(y=>{let{data:T}=y;return(T==null?void 0:T.file_id)===v}):h!=null&&h.recordRelatedListId?A=g==null?void 0:g.find(y=>{let{data:T}=y;return(T==null?void 0:T.record_related_list_id)===h.recordRelatedListId}):h!=null&&h.salesforceListViewId&&(A=g==null?void 0:g.find(y=>{let{data:T}=y;return(T==null?void 0:T.salesforce_list_view_id)===h.salesforceListViewId})),A&&o((0,n.D)({tabId:A.id,tab:A,channelId:m})),E})});d.meta={name:"createThunk",key:"createThunkaddTabToChannelAndNavigate",description:"Adds a tab to a channel and navigates to that tab"}},2799479478:(Q,C,e)=>{"use strict";e.d(C,{D:()=>h});var t=e(9132066222),n=e(7245481391),s=e(5267010247),r=e(8822892075),d=e(5964896486),o=e(82287009),a=e(6078549397),i=e(1031947056),m=e(2522627261),l=e(36177209),_=e(4033441523),v=e(8980478045),u=e(9101533895);const h=(0,i.Ay)("Navigate to a channel tab",(f,p,E)=>{let{tabId:g,tab:A,channelId:y,docSource:T,sectionIdsToHighlightOverride:M}=E;const O=p(),I=A||(0,t.kt)(O,y,g),D=(0,u.OL)(O,y,!1);if(I!=null&&I.data){const P="fileId"in I.data&&I.data.fileId||"file_id"in I.data&&I.data.file_id;if(P){if(I.type===n.Xy.Canvas){const L={fileId:P,source:T??_.f.CHANNEL_TAB,isChannelCanvas:!1,channelId:y};return f((0,s.o)((0,r.sL)((0,r.mo)({id:(0,a.Lo)({id:P}),clogParams:L,sectionIdsToHighlightOverride:M}),y,g)))}if(I.type===n.Xy.List)return f((0,m.w)({listId:P,source:l.B.CHANNEL_TAB,channelId:y})),f((0,s.o)((0,r.sL)((0,r.st)({listId:P}),y,g)))}if(I.type===n.Xy.SalesforceListView){const L="salesforceListViewId"in I.data&&I.data.salesforceListViewId||"salesforce_list_view_id"in I.data&&I.data.salesforce_list_view_id||void 0;return f((0,s.o)((0,r.sL)((0,r.i0)({salesforceListViewId:L,tabData:I.data,channelId:y}),y,g)))}}if((I==null?void 0:I.type)===n.Xy.ChannelCanvas||g===n.fY.ChannelCanvas){const{fileId:P}=(0,d.H)(D),L=(0,v.Pf)(p(),y);if(P||L){const k={fileId:P||L||"",source:T??_.f.CHANNEL_TAB,isChannelCanvas:!1,channelId:y};return f((0,s.o)((0,r.sL)((0,r.NB)({entityId:(0,a.Lo)({id:P||L}),channelId:y,clogParams:k,sectionIdsToHighlightOverride:M}),y,g)))}return f((0,o.C$)({channelId:y}))}return f((0,s.o)((0,r.id)(y,{tabId:g,tabParams:I==null?void 0:I.data})))});h.meta={name:"createThunk",key:"createThunknavigateToChannelTab",description:"Navigate to a channel tab"}},5115870218:(Q,C,e)=>{"use strict";e.d(C,{L:()=>n});var t=e(7245481391);const n=c(s=>{let{tabs:r,experimentChannelTabsV5BookmarkFoldersGroupOn:d=!1,experimentLobRelatedListsGroupOn:o=!1,includeDisabled:a=!1,isGovSlack:i=!1,hasFullCanvasAccess:m=!1}=s;return r.filter(l=>{let{type:_,isDisabled:v=!1}=l;return!(v&&!a||_===t.Xy.Pins||!d&&_===t.Xy.Folder||!o&&_===t.Xy.RecordRelatedList||!m&&(_===t.Xy.ChannelCanvas||_===t.Xy.CreateCanvas)||i&&_===t.Xy.ChannelCanvas)})},"filterTabs")},3032483460:(Q,C,e)=>{"use strict";e.d(C,{No:()=>s,Vr:()=>m,fw:()=>r,gk:()=>i,qC:()=>o,sD:()=>a,zm:()=>d});var t=e(8191156954),n=e(583204418);const s=c(l=>!!l&&"message"in l,"isMessageReference"),r=c(l=>!!l&&"message"in l,"isMessageReferenceApi"),d=c(l=>{var _;return l.type===t.$.Select&&((_=l.options)===null||_===void 0?void 0:_.format)!==n.YP.MultiSelect},"isSingleSelectField"),o=c(l=>{if(s(l)){const v=l.message;return v.threadTs?`message-${v.channelId}-${v.ts}-${v.threadTs}`:`message-${v.channelId}-${v.ts}`}const _=l==null?void 0:l.listRecord;return _?`list_record-${_.listId}-${_.rowId}`:""},"makeReferenceTrackerStoreKey"),a=c(l=>{if(r(l)){const v=l.message;return v.thread_ts?`message-${v.channel_id}-${v.ts}-${v.thread_ts}`:`message-${v.channel_id}-${v.ts}`}const _=l==null?void 0:l.list_record;return _?`list_record-${_.list_id}-${_.row_id}`:""},"makeReferenceApiTrackerStoreKey"),i=c(l=>{var _;return!!(!(l==null||(_=l.fields)===null||_===void 0)&&_.todo_completed)},"isMyTaskItemCompleted"),m=c(l=>r(l)?{message:{channelId:l.message.channel_id,ts:l.message.ts,threadTs:l.message.thread_ts}}:{listRecord:{listId:l.list_record.list_id,rowId:l.list_record.row_id}},"convertReferenceApiToReference")},7156540029:(Q,C,e)=>{"use strict";e.d(C,{K8:()=>s,Q1:()=>t});const t=20,n={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},s={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},9509635375:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(2562405183),n=e(603616571),s=e(735940183),r=e(5255740490),d=e(3134334389),o=e(1206744593);function a(){return a=Object.assign||function(_){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},a.apply(this,arguments)}c(a,"_extends");const i=new s.Ay("members");function m(_){let{className:v,inverse:u=!1,isWorkflow:h=!1,isLegacyWorkflow:f=!1,...p}=_;const E=(0,t.d4)(n.TX),g=(0,t.d4)(o.x$);let A=i.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});f&&g&&(A=i.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),E&&h?A=i.t("BETA"):h||(A=i.t("APP"));const y=(0,r.A)(v,"c-app_badge",{"c-app_badge--inverse":u});return d.createElement("span",a({},p,{className:y,"data-stringify-suffix":" "}),A)}c(m,"AppBadge"),m.displayName="AppBadge";const l=(0,d.memo)(m)},3667436146:(Q,C,e)=>{"use strict";e.d(C,{o:()=>s});var t=e(2384831516),n=e(4761125736);const s=(0,t.Mz)(r=>(0,n._Z)(r,"app_dir_rebrand")==="on"||(0,n._Z)(r,"app_dir_rebrand_team")==="on");s.meta={name:"createSelector",key:"createSelectorappDirRebrandIsOn",description:r=>(0,n._Z)(r,"app_dir_rebrand")==="on"||(0,n._Z)(r,"app_dir_rebrand_team")==="on"}},5874162200:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(735940183);const n=new t.Ay("audio_player");function s(d){const o=Math.floor(d/3600),a=Math.floor((d-o*3600)/60),i=Math.floor(d-o*3600-a*60);return o>0?n.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:i,minutes:a,hours:o}):a>0?n.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:i,minutes:a}):n.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:i})}c(s,"secondsToSpokenTime");const r=s},1191942715:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Y});var t=e(8289365785),n=e(362134992),s=e(3134334389),r=e(9391594207),d=e(2047021170),o=e(8847766420),a=e(1301184890),i=e(6795568989),m=e(3842747943),l=e(7203178304),_=e(6533394955);function v(q,H){if(!H||!q||!(0,i.d)(q))return"";const ne=(0,_.getStateByTeamId)(H),te=(0,m.O)(ne);return(0,l.A)(te)[q]}c(v,"getUnicodeNameFromEmojiString");var u=e(8389327410),h=e(297247517),f=e(7712314707),p=e(1843207890),E=e(475043867),g=e(6783791506),A=e(6659965705),y=e(9413477854),T=e(8212777283),M=e(7957086050),O=e(8983164438),I=e(1030162945),D=e(2507822440),P=e(1470040509),L=e(3089302312),k=e(7970461309),G=e(5821662500),b=e(5014733736),W=e(694411468),B=e(3771536679),R=e(8300007136),j=e(2562405183),w=e(4841770661),N=e(8025887996);const K=c(q=>{let{richTextBlock:H,do24hrTime:ne,emojiSize:te,truncateLength:le,teamOrEnterpriseId:he,withFormattingStyles:Ie,withHighlights:Ee,withSlackLinks:me,withHyperlinks:ce}=q;var X;const V=(0,R.wA)(),x=(0,j.d4)(ie=>(0,d.ty)(ie,"suppress_link_warning")),S=(0,s.useCallback)(ie=>{if(!x){const{href:ue,innerText:fe}=ie.target;V((0,w.A)({text:fe,url:ue})),ie.preventDefault()}},[V,x]);if(!(!(H==null||(X=H.elements)===null||X===void 0)&&X.length))return null;let U=0;const F=c(()=>(U+=1,U),"makeKey");let Z=(0,t.A)((0,N.M)(H.elements)),z;if((0,O.C)(Z)&&(Z!=null&&Z.style&&Z.style===u.L1.ORDERED?z=s.createElement(s.Fragment,null,"1. "):z=s.createElement(s.Fragment,null,"\u2022 "),Z=(0,t.A)(Z.elements)),!Z||!Z.elements||!Z.elements.length)return null;let $=!1,ee=0;const de=Z.elements.map(ie=>{if($)return null;let ue=null;if((0,g.E)(ie)){ee+=1;const fe=ie.name,re=ie.skin_tone,_e=ie.display_team_id,Ue=ie.display_alias,ye=ie==null?void 0:ie.unicode,Te=Ue??fe,ge=(0,a.A)(Te,he);let Ae=re?`:${Te}::skin-tone-${re}:`:`:${Te}:`;if(ge&&ye){const Be=v(ye,he??"");Be&&(Ae=`:${Be}:`)}const Re=ie.display_url;ue=s.createElement(I.Ay,{key:F(),text:Ae,emojiSize:te||I.lw.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:_e,url:Re})}if((0,E.P)(ie)&&(ie!=null&&ie.channel_id)&&(ee+=ie.channel_id.length,ue=s.createElement(D.A,{key:F(),id:ie.channel_id,noLinking:!me})),(0,A.H)(ie)&&(ie!=null&&ie.user_id)&&(ee+=ie.user_id.length,ue=s.createElement(G.A,{key:F(),id:ie.user_id,noLinking:!me,noHighlights:!Ee})),(0,y.G)(ie)&&(ie!=null&&ie.usergroup_id)&&(ee+=ie.usergroup_id.length,ue=s.createElement(P.Ay,{key:F(),id:ie.usergroup_id,noLinking:!me,noHighlights:!Ee})),(0,f.V)(ie)&&(ie!=null&&ie.range)&&(ee+=ie.range.length,ue=s.createElement(L.A,{key:F(),type:ie.range,noLinking:!me,noHighlights:!Ee})),(0,p.i)(ie)){const{timestamp:fe,format:re,fallback:_e}=ie;if(!fe||!re)return null;ee+=_e?_e.length:0,ue=s.createElement(k.A,{key:F(),ts:fe.toString(),format:re,fallback:_e,do24hrTime:ne,noLinking:!me})}if((0,M._)(ie)){ee+=(ie.text||ie.url||"").length;let fe;if(ce){const re=ie.url||"",_e=ie.text||ie.url||"";(0,B.A)(_e,re)?fe=s.createElement(W.A,{key:F(),href:re,onClick:S},_e):fe=s.createElement(W.A,{key:F(),href:re},_e)}else fe=s.createElement(s.Fragment,{key:F()},ie.text||ie.url||"");ue=fe}if((0,T.f)(ie)&&(ie!=null&&ie.value)&&(ee+=ie.value.length,ue=s.createElement(s.Fragment,{key:F()},ie.value||"")),(0,h.P)(ie)&&ie.text){const fe=ie.text.split(/\n/);let re=(0,t.A)(fe);const _e=le?le-ee:ee;ee=re?ee+re.length:ee,fe.length>1&&($=!0),re&&le&&re.length>_e&&($=!0,re=re.substr(0,_e)),ue=s.createElement(s.Fragment,{key:F()},re||"")}return Ie&&(ue=s.createElement(b.A,{key:F(),style:ie.style},ue)),ue||(le&&!$&&ee>le&&($=!0),null)});return s.createElement(s.Fragment,null,z,(0,n.A)(de),$&&s.createElement(s.Fragment,null,"\u2026"))},"RichTextPreamble");K.displayName="RichTextPreamble";const J=c(q=>({do24hrTime:(0,d.ty)(q,"time24"),teamOrEnterpriseId:(0,o.JY)(q)||""}),"mapStateToProps"),Y=(0,r.N)(J)(K)},7999544567:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(297247517);function n(s){if((0,t.P)(s)){const r=s&&s.text&&s.text.trim();if(r)return r.length}return 0}c(n,"__WEBPACK_DEFAULT_EXPORT__")},8025887996:(Q,C,e)=>{"use strict";e.d(C,{M:()=>s});var t=e(3495012415),n=e(498506970);function s(r){return(0,t.A)(r,d=>{const o=d&&d.elements;if(!(o!=null&&o.length))return d;const a=[],i=c(l=>l&&l.style&&l.style.code,"isCode");let m=null;return o.forEach(l=>{const _=i(l)?(0,n.A)(l):l;m&&(m!=null&&m.style)&&(_!=null&&_.style)&&i(m)&&i(_)&&(m.style.noRightCap=!0,_.style.noLeftCap=!0),a.push(_),m=_}),{...d,elements:a}})}c(s,"decorateInlineCode")},5577180258:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(45851552),n=e(5404505308),s=e(6783791506),r=e(297247517),d=e(8389327410),o=e(5305906809),a=e(7999544567);const{_EMOJI_GROUP:i}=d.Lv;function m(_,v,u,h,f,p,E){const g=_.slice(p,E),A=p+(0,t.A)(g,s.E),y=p+(0,n.A)(g,s.E)+1;_.splice(A,y-A,{type:i,name:v,size:u,displayAlias:h,skinTone:f,elements:_.slice(A,y)})}c(m,"insertEmojiGroup");function l(_){let v,u,h,f,p,E=_.length-1;for(;E>=-1;){const A=_[E];if(h=h??E,u=u??0,(0,s.E)(A))A.name===v&&A.displayAlias===f&&A.skinTone===p?u+=1:(u>=o.uz&&m(_,v,u,f,p,E+1,h+1),v=A.name,f=A.displayAlias,p=A.skinTone,h=E,u=1);else if(!(0,r.P)(A)||(0,a.A)(A)!==0){var g;u>=o.uz&&m(_,v,u,f,p,E+1,h+1),v=void 0,f=void 0,p=void 0,h=void 0,u=void 0,!((g=A)===null||g===void 0)&&g.elements&&l(A.elements)}E-=1}return _}c(l,"groupEmojis")},5014733736:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(2372217664),r=e(8300007136),d=e(8170244779),o=e(8739505998),a=e(2312625946),i=e(8193414630),m=e(82287009),l=e(2562405183),_=e(6082887833),v=e(2375333597);const u=c(g=>{const A=new Date(g),y=A.getMinutes(),T=y%15;return T<8?A.setMinutes(y-T):A.setMinutes(y+(15-T)),A.setSeconds(0),A.setMilliseconds(0),A.getTime()/1e3},"roundToNearest15Minutes");function h(g){let{children:A}=g;const y=(0,t.useContext)(d.A),T=(0,l.d4)(D=>y.ts?(0,_.S)(D,y.ts):void 0),M=(0,r.wA)(),O=(0,t.useCallback)(()=>{M((0,v.q)({element:(0,m.Qo)({channelId:y==null?void 0:y.channelId,appType:"gcal",threadTs:y==null?void 0:y.threadTs,isProfileAppView:!1})}))},[M,y==null?void 0:y.channelId,y==null?void 0:y.threadTs]),I=(0,t.useCallback)(()=>{if(T!=null&&T.contextType)switch(T==null?void 0:T.contextType){case"create_event":if(!(T!=null&&T.createEventPayload)){O();break}if(!(T!=null&&T.createEventPayload.start_date)){O();break}if(!(T!=null&&T.createEventPayload.title)){O();break}M((0,v.q)({element:(0,m.Qo)({channelId:y==null?void 0:y.channelId,appType:"gcal",threadTs:y==null?void 0:y.threadTs,presetDate:new Date(T==null?void 0:T.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:u(T==null?void 0:T.createEventPayload.start_date),presetTitle:T==null?void 0:T.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(T!=null&&T.viewSchedulePayload)||!(T!=null&&T.viewSchedulePayload.start_time)||!(T!=null&&T.viewSchedulePayload.date)){O();break}M((0,v.q)({element:(0,m.Qo)({channelId:y==null?void 0:y.channelId,appType:"gcal",threadTs:y==null?void 0:y.threadTs,presetDate:new Date(T==null?void 0:T.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:u(T==null?void 0:T.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(T!=null&&T.findATimePayload)){O();break}if(!(T!=null&&T.findATimePayload.duration)){O();break}break;case"describe_knowledgebase":break;default:(0,i.Kh)(T==null?void 0:T.contextType)}},[T,M,y==null?void 0:y.channelId,y==null?void 0:y.threadTs,O]);return t.createElement(a.Ay,{tip:T==null?void 0:T.debugPayload},t.createElement(o.A,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:I},A))}c(h,"AssistantThreadAmbientSuggestion"),h.displayName="AssistantThreadAmbientSuggestion";const f=t.memo(h),p=c(g=>{let{children:A,style:y}=g;if(!A)return null;const{bold:T,italic:M,strike:O,code:I,clientHighlight:D,subjectLine:P,noLeftCap:L,noRightCap:k}=y||{},{slackAssistantAmbientSuggestion:G,slackAssistantAmbientSuggestionKey:b}=y||{};let W=A;if(O&&(W=t.createElement("s",{"data-stringify-type":"strike"},W)),M&&(W=t.createElement("i",{"data-stringify-type":"italic"},W)),T&&!P&&(W=t.createElement("b",{"data-stringify-type":"bold"},W)),D&&(W=t.createElement("span",{className:"c-mrkdwn__highlight"},W)),G&&(W=t.createElement(f,{suggestion:b},W)),I){const B=(0,n.A)("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":L,"c-mrkdwn__code--no_right_cap":k});W=t.createElement(s.i,{blockType:"code"},t.createElement(s.m,null,t.createElement("code",{"data-stringify-type":"code",className:B},W)))}return t.createElement(t.Fragment,null,W)},"WithFormattingStyles");p.displayName="WithFormattingStyles";const E=p},897219217:(Q,C,e)=>{"use strict";e.d(C,{n:()=>n});var t=e(8389327410);const n=c(s=>!s||s.length===0?!1:s[0].type===t.Lv.RICH_TEXT,"isFirstBlockRichText")},4541034515:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(3297051565),s=e.n(n),r=e(9391594207),d=e(8677230210),o=e(8170643398),a=e(9509635375),i=e(7576317051),m=e(3244118357),l=e(735940183);const _=new l.Ay("bot-name"),v={isWorkflow:s().bool.isRequired,className:s().string,name:s().string,badge:s().bool,isChannelFiles:s().bool,"data-qa":s().string},u={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},h=c(E=>{let{className:g,name:A,badge:y,isWorkflow:T,isChannelFiles:M,"data-qa":O}=E;const I=M&&A?_.t("Shared by {name}",{name:A}):A;return t.createElement("span",{className:g,"data-qa":O},I||t.createElement(i.A,null)," ",y&&!M&&t.createElement(a.A,{isWorkflow:T}))},"BotName");h.displayName="BotName",h.propTypes=v,h.defaultProps=u;const f=c((E,g)=>{let{id:A}=g;const y=(0,d.AF)(E,A);return{name:(0,m.Hg)(y),isWorkflow:(0,o.v3)(y)}},"mapStateToProps"),p=(0,r.N)(f)(h)},9744286524:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(8300007136),s=e(1668417071),r=e(8980478045),d=e(2562405183),o=e(6403319589),a=e(82287009),i=e(9671982974),m=e(2054605226),l=e(5914783706);function _(v){let{channelId:u}=v;const h=(0,n.wA)(),{spaceFileId:f,spaceIsEmpty:p}=(0,i.A)({channelId:u}),E=(0,d.d4)(D=>u?(0,r.Pf)(D,u):void 0),g=E??f,A=(0,a.$s)(g),y=(0,o.A)(A,A==null?void 0:A.isEmpty),T=typeof y=="boolean"||typeof p=="boolean",M=p!==void 0?p===!1:y===!1,O=(0,l.A)(M),I=(0,d.d4)(D=>u?(0,s.kM)(D,u):void 0);return(0,t.useEffect)(()=>{u&&I&&O&&!M&&h((0,m.ot)({channelId:u,template:void 0}))},[u,I,M,O,h]),{channelCanvasHasContent:M||!!I&&I!=="blank_page",isLoaded:T,doc:A,templateSelected:I,channelCanvasFileId:f}}c(_,"useChannelCanvasContent")},9671982974:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(2562405183),n=e(937317117),s=e(497761763),r=e(396294106),d=e(8393662842);function o(a){let{channelId:i}=a;const{spaceFileId:m,spaceIsPrimary:l,spaceIsEmpty:_,isLinkedCanvasDeleted:v,editsRestrictedToChannelManager:u,setEditsRestrictedToChannelManager:h,hasClickedUseBlankCanvasForChannel:f}=(0,r.A)({channelId:i}),p=(0,t.d4)(g=>m&&(0,s.A)(m)?(0,n.Lp)(g,m):null),E=(0,d.ln)(p);return{spaceFileId:m,spaceIsPrimary:l,spaceIsEmpty:_,isLinkedCanvasDeleted:v,editsRestrictedToChannelManager:u,setEditsRestrictedToChannelManager:h,isChannelCanvasLocked:E,hasClickedUseBlankCanvasForChannel:f}}c(o,"useChannelSpaceForChannel")},396294106:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(2562405183),d=e(8040098042),o=e(4761125736),a=e(1031947056),i=e(9101533895),m=e(3430841143),l=e(9530687876);const _=(0,a.Ay)(l.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_PRIMARY_VIEW,(O,I,D)=>{let{id:P,isPrimaryView:L}=D;var k;const G=I(),b=!1,W=(0,i.OL)(G,P,b);if(!P||!W)return;const B={...W,properties:{...W==null?void 0:W.properties,canvas:{...W==null||(k=W.properties)===null||k===void 0?void 0:k.canvas,is_primary_view:L}}};O((0,m.F)({channel:B,reason:l.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_PRIMARY_VIEW}))});_.meta={name:"createThunk",key:"createThunksetChannelPropertiesCanvasIsPrimaryView",description:l.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_PRIMARY_VIEW};var v=e(4347488242),u=e(5534420337);const h=(0,a.Ay)(l.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT,(O,I,D)=>{let{id:P,isOpenByDefault:L}=D;const k=I(),G=!1,b=(0,i.OL)(k,P,G),W=(0,o._Z)(k,"channel_properties_api_setter")==="on";if(!P||!b||!W)return;let B;try{B=JSON.stringify({canvas:{is_open_by_default:L}})}catch(R){(0,u.Ay)({getState:I}).error(R,"failed serializing new properties");return}return O((0,v.D)({channelId:P,props:B,reason:"set_channel_canvas_open_by_default"})).then(()=>{var R;const j={...b,properties:{...b==null?void 0:b.properties,canvas:{...b==null||(R=b.properties)===null||R===void 0?void 0:R.canvas,is_open_by_default:L}}};O((0,m.F)({channel:j,reason:l.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT}))})});h.meta={name:"createThunk",key:"createThunksetChannelPropertiesCanvasIsOpenByDefault",description:l.rd.SET_CHANNEL_PROPERTIES_CANVAS_IS_OPEN_BY_DEFAULT};const f=(0,a.Ay)(l.rd.SET_CHANNEL_PROPERTIES_CANVAS_EDITS_RESTRICTED_TO_CHANNEL_MANAGER,(O,I,D)=>{let{id:P,editsRestrictedToChannelManager:L}=D;const k=I(),G=!1,b=(0,i.OL)(k,P,G),W=(0,o._Z)(k,"channel_manager_chanvas_edits")==="on",B=(0,o._Z)(k,"channel_manager_chanvas_ui")==="on";if(!P||!b||!B||!W)return;let R;try{R=JSON.stringify({canvas:{edits_restricted_to_channel_manager:L}})}catch(j){(0,u.Ay)({getState:I}).error(j,"failed serializing new properties");return}return O((0,v.D)({channelId:P,props:R,reason:"set_edits_restricted_to_channel_manager"})).then(()=>{var j;const w={...b,properties:{...b==null?void 0:b.properties,canvas:{...b==null||(j=b.properties)===null||j===void 0?void 0:j.canvas,edits_restricted_to_channel_manager:L}}};O((0,m.F)({channel:w,reason:l.rd.SET_CHANNEL_PROPERTIES_CANVAS_EDITS_RESTRICTED_TO_CHANNEL_MANAGER}))})});f.meta={name:"createThunk",key:"createThunksetChannelPropertiesEditsRestrictedToChannelManager",description:l.rd.SET_CHANNEL_PROPERTIES_CANVAS_EDITS_RESTRICTED_TO_CHANNEL_MANAGER};var p=e(1523378513),E=e(4079686795),g=e(1668417071),A=e(8362292758),y=e(1407713935),T=e(5964896486);function M(O){let{channelId:I}=O;const D=(0,s.wA)(),P=(0,A.A)(),L=I?(0,d.A)(I):!1,k=(0,r.d4)(ne=>(0,i.OL)(ne,I)),G=(0,T.H)(k),b=G==null?void 0:G.fileId,W=G==null?void 0:G.isEmpty,B=L&&!(0,y.LI)(k)&&!(0,y.yz)(k)&&(G==null?void 0:G.isPrimaryView),R=L&&(G==null?void 0:G.isOpenByDefault),j=G==null?void 0:G.isLinkedCanvasDeleted,w=G==null?void 0:G.editsRestrictedToChannelManager,N=(0,r.d4)(ne=>(0,o._Z)(ne,"channel_properties_api_setter")==="on"),K=(0,r.d4)(g.As),J=I&&L?K[I]:void 0,Y=(0,n.useCallback)(function(){var ne=(0,t.coroutine)(function*(te){if(!I||!L)return;D(_({id:I,isPrimaryView:te})),D((0,E.z)({channelId:I,pref:"space_is_primary",value:{enabled:te}}));let le;try{le=JSON.stringify({space_is_primary:te})}catch(he){P.error(he,"failed serializing new prefs");return}return D((0,p.E)({channelId:I,newPrefs:le,reason:"use-channel-space-prefs--set-space-is-primary"}))});return function(te){return ne.apply(this,arguments)}}(),[I,D,P,L]),q=(0,n.useCallback)(function(){var ne=(0,t.coroutine)(function*(te){if(!I||!L)return;if(N)return D(h({id:I,isOpenByDefault:te}));D((0,E.z)({channelId:I,pref:"space_open_by_default",value:{enabled:te}}));let le;try{le=JSON.stringify({space_open_by_default:te})}catch(he){P.error(he,"failed serializing new prefs");return}return D((0,p.E)({channelId:I,newPrefs:le,reason:"use-channel-space-prefs--set-space-is-open-by-default"}))});return function(te){return ne.apply(this,arguments)}}(),[I,D,P,L,N]),H=(0,n.useCallback)(function(){var ne=(0,t.coroutine)(function*(te){if(!(!I||!L))return D(f({id:I,editsRestrictedToChannelManager:te}))});return function(te){return ne.apply(this,arguments)}}(),[I,D,L]);return{spaceFileId:b,spaceIsPrimary:B,spaceIsEmpty:W,spaceIsOpenByDefault:R,editsRestrictedToChannelManager:w,setSpaceIsPrimary:Y,setSpaceIsOpenByDefault:q,setEditsRestrictedToChannelManager:H,isLinkedCanvasDeleted:j,hasClickedUseBlankCanvasForChannel:J}}c(M,"useChannelSpacePrefs")},6403319589:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(2562405183),n=e(7115106069),s=e(9388275297);function r(d,o){const a=d==null?void 0:d.id.get(),i=(0,t.d4)(m=>a&&(0,n.d0)(m,a));return(0,s.A)(i?o:void 0)}c(r,"useQuipDocValueIfSubscribed")},7592430824:(Q,C,e)=>{"use strict";e.d(C,{N:()=>r,u:()=>s});var t=e(3134334389),n=e(6152845331);const s=(0,n.Ay)("Embedded UI Provider",null),r=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},5645915081:(Q,C,e)=>{"use strict";e.d(C,{Zq:()=>o,zF:()=>n,zf:()=>a});var t=e(5244168417),n;(function(i){i.PARAGRAPH="paragraph",i.H1="h1",i.H2="h2",i.H3="h3",i.CHECK_LIST="check-list",i.CHECK_LIST_TOGGLE="check-list-toggle",i.ORDERED_LIST="ordered-list",i.BULLET_LIST="bullet-list",i.BLOCKQUOTE="blockquote",i.CODE_BLOCK="code-block"})(n||(n={}));const s=[[t.DocBlockStyle.PLAIN,n.PARAGRAPH],[t.DocBlockStyle.H1,n.H1],[t.DocBlockStyle.H2,n.H2],[t.DocBlockStyle.H3,n.H3],[t.DocBlockStyle.LIST_CHECKLIST,n.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,n.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,n.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,n.BLOCKQUOTE],[t.DocBlockStyle.CODE,n.CODE_BLOCK]],r=new Map(s),d=new Map(s.map(i=>[i[1],i[0]]));function o(i){return r.get(i)}c(o,"blockStyleToFormat");function a(i){return d.get(i)}c(a,"formatToBlockStyle")},4843305308:(Q,C,e)=>{"use strict";e.d(C,{P:()=>s});var t=e(7731278967),n=e(9084547259);const s=c(r=>{switch(r){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case n.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"sparkles"};case t.r.CALLOUT:return{name:"callout"};default:return{name:"help"}}},"getQuipButtonIcon")},8079225585:(Q,C,e)=>{"use strict";e.d(C,{O:()=>d});var t=e(735940183),n=e(7731278967),s=e(9084547259);const r=new t.Ay("slack_docs"),d=c(function(o){let{experimentCanvasInsertWorkflowMenuGroupOn:a,experimentCanvasSmartCardsGroupOn:i,experimentWidgetsGroupOn:m,experimentCanvasSalesTemplatesGroupOn:l,experimentCanvasCalloutsGroupOn:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(o){case n.r.FILE:return r.t("File");case n.r.IMAGE:return r.t("Image");case n.r.CHECK_LIST:return r.t("Check list");case n.r.CHECK_LIST_TOGGLE:return r.t("Check list");case n.r.BULLET_LIST:return r.t("Bulleted list");case n.r.ORDERED_LIST:return r.t("Ordered list");case n.r.VIDEO_CLIP:return r.t("Record video clip");case n.r.AUDIO_CLIP:return r.t("Record audio clip");case n.r.DIVIDER:return r.t("Divider");case n.r.PINS:return r.t("Pins");case n.r.SMART_SUMMARY:return i?r.t("AI Channel Summary"):"";case n.r.RECENT_FILES:return i?r.t("Recent Files"):"";case n.r.ACTIVE_DISCUSSIONS:return i?r.t("Active Discussions"):"";case n.r.CHANNEL_HUDDLES:return i?r.t("Huddles"):"";case n.r.BLOCKQUOTE:return r.t("Blockquote");case n.r.CODE_BLOCK:return r.t("Code block");case n.r.PARAGRAPH:return r.t("Paragraph");case n.r.H1:return r.t("Big heading");case n.r.H2:return r.t("Medium heading");case n.r.H3:return r.t("Small heading");case n.r.CANVAS:return r.t("Canvas");case n.r.WORKFLOW:return a?r.t("Workflow"):"";case s.L.CODE:return r.t("Code");case n.r.TABLE:return r.t("Table");case n.r.LAYOUT_2_COLUMNS:return r.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LAYOUT_3_COLUMNS:return r.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case n.r.LIST:return r.t("List");case n.r.WIDGET:return m?r.t("Widget"):"Widget";case n.r.USER_PROFILE_UNFURL:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.SALESFORCE_RECORD:return l?r.t("Salesforce record"):"";case n.r.PLACEHOLDER_CARD_VIDEO:return r.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case n.r.PLACEHOLDER_CARD_PROFILE:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case n.r.PLACEHOLDER_CARD_AUDIO:return r.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case n.r.PLACEHOLDER_CARD_WORKFLOW:return r.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case n.r.PLACEHOLDER_CARD_IMAGE:return r.t("Image");case n.r.PLACEHOLDER_CARD_CANVAS:return r.t("Canvas");case n.r.PLACEHOLDER_CARD_FILE:return r.t("File");case n.r.PLACEHOLDER_CARD_LINK:return r.t("Link");case n.r.PLACEHOLDER_CARD_LIST:return r.t("List");case n.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return l?r.t("Salesforce record"):"";case n.r.DATE_MENTION:return r.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case n.r.CALLOUT:return _?r.t("Callout Block",{fallbackHash:"f1647ad880b1b2d5886d6b153787daf89ea98d84"}):"";case n.r.AI_ASSISTANT:return r.t("AI assistant",{fallbackHash:"fc7ba35433ce677dc7b72889cebdbbaf99c6d596",fallbackHashNs:"ai_apps"});default:return o}},"getQuipButtonLabel")},9084547259:(Q,C,e)=>{"use strict";e.d(C,{B:()=>r,L:()=>n});var t=e(5244168417),n;(function(d){d.BOLD="bold",d.STRIKE="strike",d.ITALIC="italic",d.CODE="code",d.LINK="link",d.UNDERLINE="underline"})(n||(n={}));const s=new Map([[t.DocInlineStyle.BOLD,n.BOLD],[t.DocInlineStyle.STRIKETHROUGH,n.STRIKE],[t.DocInlineStyle.ITALIC,n.ITALIC],[t.DocInlineStyle.CODE,n.CODE],[t.DocInlineStyle.LINK,n.LINK]]);function r(d){return s.get(d)}c(r,"inlineStyleToFormat")},7731278967:(Q,C,e)=>{"use strict";e.d(C,{r:()=>s});var t=e(5645915081),n;(function(r){r.UNKNOWN="unknown",r.TITLE="title",r.FILE="file",r.IMAGE="image",r.VIDEO_CLIP="video-clip",r.AUDIO_CLIP="audio-clip",r.DIVIDER="divider",r.TABLE="table",r.SHORTCUT="shortcut",r.MENU_SEPARATOR="menu-separator",r.PINS="pins",r.BOOKMARKS="bookmarks",r.USER_UNFURL="user-unfurl",r.CANVAS_UNFURL="canvas-unfurl",r.MESSAGE_UNFURL="message-unfurl",r.PUBLIC_LINK_UNFURL="public-link-unfurl",r.SHORTCUT_UNFURL="shortcut-unfurl",r.USER_PROFILE_UNFURL="user-profile-unfurl",r.UNFURL="unfurl",r.CANVAS="canvas",r.GENERIC="generic",r.WORKFLOW="workflow",r.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",r.SMART_SUMMARY="smart-summary",r.RECENT_FILES="recent-files",r.ACTIVE_DISCUSSIONS="active-discussions",r.CHANNEL_HUDDLES="channel-huddles",r.LIST="list",r.WIDGET="widget",r.LAYOUT_2_COLUMNS="layout-2-columns",r.LAYOUT_3_COLUMNS="layout-3-columns",r.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",r.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",r.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",r.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",r.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",r.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",r.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",r.PLACEHOLDER_CARD_FILE="placeholder-card-file",r.PLACEHOLDER_CARD_LINK="placeholder-card-link",r.PLACEHOLDER_CARD_LIST="placeholder-card-list",r.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",r.SALESFORCE_RECORD="salesforce-record",r.DATE_MENTION="date-mention",r.CALLOUT="callout",r.AI_ASSISTANT="ai-assistant"})(n||(n={}));const s={...t.zF,...n}},1069376685:(Q,C,e)=>{"use strict";e.d(C,{D:()=>t});var t;(function(n){n.SpecificMembers="add-specific-members",n.AllMembers="add-all-members"})(t||(t={}))},8414606991:(Q,C,e)=>{"use strict";e.d(C,{v:()=>o});var t=e(3134334389),n=e(5255740490),s=e(207659888),r=e(8683010724),d=e(1610251172);const o=c(a=>{let{type:i,spacing:m="medium"}=a;const l=(0,n.A)("three_fourths_opacity",{margin_right_0:m==="none",margin_right_25:m==="small",margin_right_50:m==="medium"});return i===s.VZ.Channels||i===s.VZ.OrgChannels?t.createElement(d.A,{type:"channel",size:"inherit",className:l}):i===s.VZ.DirectMessages?t.createElement(d.A,{type:"dm",size:"inherit",className:l}):i===s.VZ.RecentApps?t.createElement(d.A,{type:"gn-menu",size:"inherit",className:l}):i===s.aw||i===s.oX?t.createElement(d.A,{type:"shared-channels-outline",size:"inherit",className:l}):i===s.VH?t.createElement(d.A,{type:"star-o",size:"inherit",className:l}):i===s.VZ.UserGroup?t.createElement("div",{className:(0,n.A)("c-icon","c-icon--inherit",l)},t.createElement(r.A,{variation:"filled",name:"user-groups"})):t.createElement(d.A,{type:"star-o",size:"inherit",className:l})},"InlineChannelSectionFallbackIcon");o.displayName="InlineChannelSectionFallbackIcon"},126225536:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(4308550795),d=e(1030162945),o=e(207659888),a=e(863162513),i=e(1033870301),m=e(8414606991);function l(v){let{channelSection:u,className:h,spacing:f="medium",showIcon:p=!0}=v;const g=(0,n.wA)()((0,i.i1)({channelSection:u})),A=g&&g.split(" "),y=A&&A[0],T=A&&(A.length>1?` ${A.slice(1).join(" ")}`:null),M=c(()=>{if(!p)return null;if(u.type===o.VZ.UserGroup)return t.createElement(m.v,{type:u.type,spacing:f});const O=(0,s.A)({margin_right_0:f==="none",margin_right_25:f==="small",margin_right_50:f==="medium"});return u.emoji?t.createElement(d.Ay,{className:O,shouldFallbackOnLoadError:!0,text:u.emoji,stopAnimations:!0,emojiSize:d.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):u.type===o.VZ.ExternalWorkspace?t.createElement(r.A,{workspaceId:(0,a.de)(u.id),size:15,className:O}):t.createElement(m.v,{type:u.type,spacing:f})},"getIcon");return M.displayName="getIcon",t.createElement("span",{className:(0,s.A)("p-inline_channel_section",h)},t.createElement("span",{className:"p-inline_channel_section__lockup"},M(),y),T)}c(l,"InlineChannelSection"),l.displayName="InlineChannelSection";const _=l},4308550795:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(2562405183),r=e(9950739645),d=e(698013937),o=e(3391133100),a=e(5865611660),i=e(3677514771),m=e(5672691263),l=e.n(m);const _=20,v=.8,u=.2,h={width:"auto"};function f(g){let{id:A,size:y,spacing:T}=g;const M=`${Math.ceil(y/2-1)}px`,O=`${y}px`,I=`${T}px`;return t.createElement("svg",{className:"sr-only"},t.createElement("mask",{id:A},t.createElement("rect",{x:M,y:M,width:O,height:O,rx:I,ry:I,fill:"white"})))}c(f,"SecondaryIconMask"),f.displayName="SecondaryIconMask";function p(g){let{size:A=_,className:y,workspaceId:T,externalWorkspaceHostId:M}=g;const O=(0,t.useMemo)(()=>`scw-icon-mask-${(0,o.r9)()}`,[]),I=(0,t.useMemo)(()=>({mask:`url(#${O}) exclude, linear-gradient(#000 0 0)`}),[O]),D=Math.floor(A*v),P=Math.floor(A*u),L=(0,t.useMemo)(()=>({marginRight:`-${P}px`,marginBottom:`-${P}px`}),[P]);return t.createElement("span",{style:h,className:(0,n.A)(y,l().container)},t.createElement("span",{style:I,className:l().primaryIcon},t.createElement(d.A,{id:T,size:A,allowTeamInitials:!0})),t.createElement("span",{style:L,className:l().secondaryIcon},t.createElement(d.A,{id:M,size:D,allowTeamInitials:!0})),t.createElement(f,{id:O,size:D,spacing:P}))}c(p,"ExternalWorkspaceIconStack"),p.displayName="ExternalWorkspaceIconStack";function E(g){let{size:A=_,className:y,workspaceId:T}=g;const M=(0,s.d4)(I=>(0,i._J)(I,T)),O=(0,s.d4)(I=>(0,a.m)(I,M));return(0,r.N)(M)?O?t.createElement(p,{workspaceId:T,externalWorkspaceHostId:O,size:A,className:y}):t.createElement(d.A,{id:T,size:A,className:y,allowTeamInitials:!0}):null}c(E,"ExternalWorkspaceIcon"),E.displayName="ExternalWorkspaceIcon"},9399618736:(Q,C,e)=>{"use strict";e.d(C,{AV:()=>i,Cu:()=>v,Gu:()=>a,g4:()=>l,qn:()=>m});var t=e(4423055085),n=e(796111729),s=e(6188550760);let r=1,d=1;const o=(0,n.Wo)({label:"HISTORY-NAVIGATION"}),a=c(()=>{d!==r&&(o.info("Incrementing the users current position in the history stack"),d+=1)},"onNavigateForward"),i=c(()=>{d!==1&&(o.info("Decrementing the users current position in the history stack"),d-=1)},"onNavigateBack"),m=c(()=>d===1,"isBackDisabled"),l=c(()=>d===r,"isForwardDisabled");function _(){o.info("Adding route to the history stack"),d+=1,r=d}c(_,"incrementHistoryLength");function v(h){let{shouldReplaceState:f,reason:p}=h;f||p!==s.GB&&_()}c(v,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>r,getHistoryIndex:()=>d});const u={maybeIncrementHistoryLength:v}},5670315214:(Q,C,e)=>{"use strict";e.d(C,{Hu:()=>u,OJ:()=>I,q8:()=>M,vU:()=>O,wZ:()=>D});var t=e(6249041335),n=e(735940183),s=e(4813703725),r=e(5597672932),d=e(462591818),o=e(6565762531),a=e(1223723593),i=e(6575028637),m=e(3677514771),l=e(6470070112),_=e(6946629059),v=e(6790819894);const u={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},h=new n.Ay("huddles"),f=c((P,L)=>({video:[...P&&P.video?P.video:[]],audio:[...!L&&P&&P.audio?P.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),p=c(P=>{const L=P.reduce((G,b)=>(Object.entries(b).forEach(W=>{let[B,R]=W;(B==="video"||B==="audio")&&(G[B]=G[B]?[...G[B],...R]:[...R])}),G),{}),k={video:[],audio:[]};return Object.entries(L).forEach(G=>{let[b,W]=G;(b==="video"||b==="audio")&&(k[b]=W.filter((B,R,j)=>R===j.findIndex(w=>w.id===B.id&&w.id!==void 0)))}),k},"combineCallApps"),E=c(P=>{const k=(0,m.FR)(P).map(b=>(0,r.x)(P,"calls_apps",b.id)).filter(_.b);return p(k)},"retrieveCallsAppsForUnifiedOrg"),g=c(P=>(0,i.ss)(P)?E(P):(0,r.x)(P,"calls_apps"),"retrieveCallsAppsFromPrefs"),A=c((P,L)=>{const k=g(P);if(L){var G;const b=k==null||(G=k.video)===null||G===void 0?void 0:G.findIndex(W=>W.id===d.rq);b>=0&&k.video.splice(b,1)}return k},"filterCallsAppsFromTeamPref"),y=(0,s.ik)((P,L)=>A(P,L),P=>f(P,!1)),T=(0,s.ik)((P,L)=>A(P,L),P=>f(P,!0)),M=c(function(P){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?T(P,!0):y(P,!0)},"getCallsAppsFromTeamPref"),O=(0,v.F)(M,l.pt,(P,L)=>{const k={},G=P&&P.video?P.video:[],b=P&&P.audio?P.audio:[],W=h.t("Start a huddle"),B=L?[{id:"A01",name:W,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...G,...b,...B].forEach(R=>{let j;R.id===d.rq?j={id:R.id,name:R.name,image:R.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(w=>R.id===w)!==-1?j={id:R.id,name:R.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:j=R,k[j.id]=j}),k}),I=c(P=>{let{callsApp:L,memberPhoneNumber:k,hideVideoApps:G=!1}=P;const b=[];return L&&(!G&&L.video&&b.push(...L.video.map(W=>({...W,type:a.JG.Video}))),L.audio&&(0,o.A)((0,t.A)(k))&&b.push(...L.audio.map(W=>({...W,type:a.JG.Audio})))),b},"getCallAppList"),D=c(P=>{const L=A(P,!0),k=L&&L.video?L.video:[],G=L&&L.audio?L.audio:[];return[...k,...G]},"getFlattenTeamPrefCallsApps")},4980558152:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(4103274853),s=e(7715417323),r=e(3245843483),d=e(2664504268),o=e(3514831633),a=e(3753517560),i=e(4776067035);function m(){return m=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f])}return v},m.apply(this,arguments)}c(m,"_extends");let l=c(class extends t.Component{onDesktopContextMenu(u){const{getTemplate:h,overrideDefaultMenu:f}=this.props,p=c(y=>({...y,id:(0,d.A)(),submenu:y.submenu&&y.submenu.map(p)}),"addIdsToItem"),E=h?h().map(p):[];if(!E.length)return;const{x:g,y:A}=(0,n.A)(this.getCoordinatesForContextMenu(u),y=>(0,r.xhB)()*y);(0,r.O0f)(E,{x:g,y:A,overrideDefaultMenu:f}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(u){if(!this.props.hasKeyboardFocus||!u)return{};const{left:h,top:f,width:p,height:E}=u.currentTarget.getBoundingClientRect(),g=h+p/2,A=f+E/2;return{x:g,y:A}}renderMenuFromTemplate(u){const{getTemplate:h,width:f,showSlackKitContextMenuOnDesktop:p,menuAriaLabel:E}=this.props;function g(y){return y.replace(/&([\w&])/g,(T,M)=>M)}c(g,"removeKeyboardAccelerators");const A=h?h().map(y=>!y.label||p?y:{...y,label:g(y.label)}):[];return A.length?t.createElement(o.a,m({"aria-label":E,width:f},u,{template:A,isContextMenu:!0,stripTerminalSeparators:!0})):null}render(){if((0,r.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,i.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:u,onClick:h,onClose:f,isDisabled:p,renderMenu:E,preventScroll:g}=this.props;return this.props.desktopAppOnly?(0,i.A)(this.props.children):t.createElement(o.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:u,shouldFade:!1,renderMenu:E||this.renderMenuFromTemplate,onClick:h,onClose:f,isDisabled:p,preventScroll:g},this.props.children)}constructor(u){super(u),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this)}},"ContextMenuTrigger");l.displayName="ContextMenuTrigger",l.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:s.A,onClose:s.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1};const _=(0,a.A)(l)},6388117406:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(4776067035),d=e(5795074931),o=e(4980558152),a=e(82287009);const i=c(l=>{let{id:_,children:v,forceOpen:u=!1,onClick:h,onClose:f,menuAriaLabel:p,sidebar:E,header:g,channelSection:A,onEnterEditModeClick:y,transitionFocusTo:T}=l;const M=(0,n.d4)(d.TZ),O=(0,s.wA)(),I=(0,t.useCallback)(()=>O((0,a.QO)({id:_,sidebar:E,header:g,channelSection:A,onEnterEditModeClick:y,transitionFocusTo:T})),[O,_,E,g,A,y,T]);return!M||!_?(0,r.A)(v):t.createElement(o.A,{menuAriaLabel:p,getTemplate:I,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:u,onClick:h,onClose:f,width:"auto"},v)},"ChannelContextMenu");i.displayName="ChannelContextMenu";const m=i},350738674:(Q,C,e)=>{"use strict";e.d(C,{AB:()=>W,Jv:()=>B,TX:()=>I,WF:()=>G,n1:()=>P,s5:()=>k,s9:()=>D});var t=e(735940183),n=e(7715417323),s=e(1031947056),r=e(2562405183),d=e(3385422400),o=e(8300007136),a=e(8276911661),i=e(8170643398),m=e(9262712126),l=e(3534324375),_=e(9107158149),v=e(5761207079),u=e(613926746),h=e(9236644324),f=e(485355941),p=e(56548687),E=e(6244014364),g=e(6839188756),A=e(3677514771),y=e(8847766420);const T=new t.Ay("member_profile"),M=new t.Ay("menu"),O=(0,d.Mz)((R,j)=>{let{memberId:w}=j;return(0,a.nv)(R,w)},(R,j)=>{let{memberId:w}=j;return(0,v.a)(R,w)},(R,j)=>{const w=(0,m.Gt)(R),N=(0,i.oy)(R),K=j?T.t("Copy display name"):T.t("Copy display name: @{displayName}",{displayName:w,__react:!0});return!N&&w?{key:"copy_display_name",dataQa:"copy_display_name",label:K,click:()=>{(0,h.x3)(w)},show:!0,disabled:(0,i.Zx)(R)}:null}),I=c(R=>{let{memberId:j}=R;return(0,r.d4)(w=>j?O(w,{memberId:j}):void 0)},"useGetMenuTemplateCopyDisplayName"),D=(0,s.Ay)("Gets the template for copy display name menu item",(R,j,w)=>O(j(),w));D.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const P=(0,s.Ay)("Clog member context item click",(R,j,w)=>{(0,p.e)({getState:j}).track(E.EventId.CONTEXT_MENU_ACTION,{label:w,is_iap1:!0})});P.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const L=(0,s.Ay)("Gets the template for copy display name menu item",(R,j,w)=>{const{memberId:N,label:K}=w,J=(0,l.sE)(j(),(0,a.nv)(j(),N));return{label:M.t("Copy name"),click:()=>{R(P(K));try{(0,h.LJ)({"text/plain":J,"text/html":`<span data-stringify-id="${N}" data-stringify-label="${J}">${J}</span>`})}catch{(0,h.x3)(J)}}}});L.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const k=(0,s.Ay)("Gets the template for copy name menu item",(R,j,w)=>R(L(w)));k.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const G=(0,s.Ay)("Copies link to member to clipboard",(R,j,w)=>{R(P(w.label));const N=j(),K=(0,A._J)(N,(0,y.ZT)(N)||"");(0,h.x3)((0,g.Zl)(K,`/team/${w.memberId}`))});G.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const b=(0,d.Mz)(R=>R,(R,j,w)=>{let{onClickCallback:N=n.A}=w;return N},(R,j,w)=>{let{isCanvasContext:N}=w;return N},(R,j,w)=>{let{memberId:N}=w;return(0,a.nv)(j,N)},(R,j,w)=>{let{memberId:N}=w;return(0,l.sE)(j,(0,a.nv)(j,N))},(R,j,w)=>{let{memberId:N}=w;return(0,_.zP)(j,N||"")},(R,j,w,N,K,J)=>{const Y=(0,i.oy)(N);let q=T.rt("Message {memberName}",{memberName:K})||"";return w&&(Y?q=T.t("View message history"):q=T.t("Message")),!J||(0,i.po)(N)||w&&(0,i.fy)(N)?null:{key:"message",dataQa:"message",label:q,click:H=>{R((0,u.Z)({memberId:N.id,shouldOpenInTile:(0,f.Cz)(H),reason:"member-context-menu"})).then(()=>j())},show:!!N,disabled:(0,i.Zx)(N)}}),W=c(R=>{let{memberId:j,isCanvasContext:w,onClickCallback:N}=R;const K=(0,o.wA)();return(0,r.d4)(J=>j?b(K,J,{memberId:j,isCanvasContext:w,onClickCallback:N}):void 0)},"useGetMenuTemplateMessage"),B=(0,s.Ay)("Gets the template for message menu item",(R,j,w)=>b(R,j(),w));B.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},8595150554:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(3134334389),n=e(9391594207),s=e(4980558152),r=e(5795074931),d=e(4776067035),o=e(7715417323),a=e(1031947056),i=e(735940183),m=e(350738674),l=e(5267010247),_=e(8822892075),v=e(2327059915),u=e(3078708518),h=e(7324846416),f=e(4562579337),p=e(6795500641),E=e(2499661372),g=e(4459831283),A=e(8641233047),y=e(8276911661),T=e(3534324375),M=e(8170643398),O=e(5060694341);const I=new i.Ay("menu"),D={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link"},P=(0,a.Ay)("get the context menu item for actions",(j,w,N)=>{let{id:K}=N;const J=[];if((0,u.A)(w()))return J;const Y=j((0,m.Jv)({memberId:K,onClickCallback:()=>(0,m.n1)(D.MESSAGE_MEMBER)}));return Y&&J.push(Y),J.length&&J.push({type:"separator"}),J});P.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const L=(0,a.Ay)("get the context menu item for sharing a contact",(j,w,N)=>{let{id:K}=N;const J=w();return(0,h.VX)(J,K||"")&&!(0,u.A)(J)?[{label:I.t("Share contact"),click:()=>j((0,v.A)({contactUserId:K}))},{type:"separator"}]:[]});L.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const k=(0,a.Ay)("get the context menu item for adding to or removing from VIP",(j,w,N)=>{let{id:K}=N;const J=w(),Y=(0,g.FT)(J),q=(0,y.nv)(J,K),H=(0,f.A)(q),ne=Y&&!(0,M.fy)(q)&&!H;if(!K)return[];if(!ne)return[];const te=(0,p.mF)(J,K),le=(0,T.sE)(J,(0,y.nv)(J,K));return[{label:te?I.rt("Remove {memberName} from VIP",{memberName:le}):I.rt("Add {memberName} to VIP",{memberName:le}),click:()=>{j((0,E.C)(K)),j((0,O.M)({element:t.createElement(A.W,{memberName:le,isUserVIP:te})}))}},{type:"separator"}]});k.meta={name:"createThunk",key:"createThunkgetToggleVipActionMaybe",description:"get the context menu item for adding to or removing from VIP"};const G=(0,a.Ay)("get the context menu template when user clicks on a member",(j,w,N)=>{let{id:K}=N;return[{label:I.t("View profile"),click:()=>{j((0,m.n1)(D.VIEW_PROFILE)),j((0,l.o)((0,_.Fo)({memberId:K||""})))}},{type:"separator"},...j(P({id:K})),...j(k({id:K})),...j(L({id:K})),j((0,m.s5)({memberId:K,label:D.COPY_MEMBER_NAME})),j((0,m.s9)({memberId:K})),{label:I.t("Copy link"),click:()=>{j((0,m.WF)({memberId:K,label:D.COPY_MEMBER_LINK}))}}].filter(J=>!!J)});G.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"};let b=c(class extends t.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id})}render(){const{id:w,isClient:N}=this.props;return N?w?t.createElement(s.A,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):(0,d.A)(this.props.children):(0,d.A)(this.props.children)}constructor(w){super(w),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");b.displayName="MemberContextMenu",b.defaultProps={id:void 0,onClick:o.A};function W(j){return{isClient:(0,r.TZ)(j)}}c(W,"mapStateToProps");const B=c(j=>({getMemberContextMenuTemplate:w=>j(G(w))}),"mapDispatchToProps"),R=(0,n.N)(W,B)(b)},2837660778:(Q,C,e)=>{"use strict";e.d(C,{$g:()=>y,Mo:()=>p,rp:()=>A});var t=e(6217320234),n=e(7823346015),s=e(3385422400),r=e(8161242485),d=e(735940183),o=e(3707193570),a=e(6839188756),i=e(9950739645),m=e(6536982570),l=e(8276911661),_=e(3677514771),v=e(8847766420),u=e(241752795),h=e(5962670951);const f=new d.Ay("create_channel_modal"),p=(0,r.Ay)(T=>{const M=(0,l.cA)(T),O=(0,m.HI)(M),I=(0,_.H7)(T);if(!I)return[];const D=(0,v.VO)(T)||[],P=[I.id,...O,...D],L=[...new Set(P)].filter(k=>!(0,o.JV)(k)).map(k=>(0,_._J)(T,k)).filter(k=>!!k&&!(0,a.Zx)(k));return(0,t.A)(L,k=>(0,a.F1)(k))});p.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:T=>{const M=(0,l.cA)(T),O=(0,m.HI)(M),I=(0,_.H7)(T);if(!I)return[];const D=(0,v.VO)(T)||[],P=[I.id,...O,...D],L=[...new Set(P)].filter(k=>!(0,o.JV)(k)).map(k=>(0,_._J)(T,k)).filter(k=>!!k&&!(0,a.Zx)(k));return(0,t.A)(L,k=>(0,a.F1)(k))}};const E=c((T,M)=>{const O=M==null?void 0:M.map(I=>I.id);return T.map(I=>{var D,P;return{label:(0,a.F1)(I),value:I,optgroup:I.enterprise_name,key:I.id,isDisabled:!!(O!==void 0&&O.includes(I.id)),displayReason:(P=(D=M==null?void 0:M.find(L=>L.id===I.id))===null||D===void 0?void 0:D.displayReason)!==null&&P!==void 0?P:""}})},"mapWorkspacesToSelectOptionItems"),g=c((T,M)=>{let{ineligibleWorkspaces:O,excludeExternalWorkspaces:I}=M;const[D,P]=(0,n.A)(T,k=>(0,i.N)(k)),L={value:void 0,label:"",type:"divider"};return[...E(P,O),...!I&&D.length>0?[L,...E(D,O)]:[]]},"mapInvitableWorkspacesToSelectOptions"),A=(0,r.Ay)(T=>{const M=(0,u.y5)(T),O=(0,h.S)(T),I=p(T),D=I.filter(P=>!M.includes(P.id)&&!O.includes(P.id)).map(P=>({id:P.id,displayReason:f.t("You don\u2019t have access to this")}));return g(I,{ineligibleWorkspaces:D})});A.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:T=>{const M=(0,u.y5)(T),O=(0,h.S)(T),I=p(T),D=I.filter(P=>!M.includes(P.id)&&!O.includes(P.id)).map(P=>({id:P.id,displayReason:f.t("You don\u2019t have access to this")}));return g(I,{ineligibleWorkspaces:D})}};const y=(0,s.Mz)(p,T=>T.length>1)},4212246463:(Q,C,e)=>{"use strict";e.d(C,{D:()=>Wt,A:()=>rn});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(9003400431),d=e(980293773),o=e(3214129289);function a(ut){return ut&&ut.id}c(a,"getEmojiCollectionId");var i=e(370406050);function m(ut){return ut&&ut.author}c(m,"getEmojiCollectionAuthor");var l=e(6045879501);function _(ut){return ut&&ut.localEmoji}c(_,"getEmojiCollectionLocalEmoji");var v=e(735940183),u=e(2562405183),h=e(9113979368),f=e(2101927269),p=e(2141441167),E=e(6217320234),g=e(3783303734),A=e(4978843660),y=e(3297051565),T=e.n(y),M=e(3004085654),O=e(7564917982);function I(ut){return ut&&ut.date_create}c(I,"getEmojiCollectionDateCreate");var D=e(5071545805),P=e(2047021170),L=e(387484329),k=e(8840779375),G=e(5331686899),b=e(1610251172),W=e(7420598276),B=e(2036354333);const R=new v.Ay("custom_emoji_list"),j="emoji_packs_clicked_collection_cta",w=c(ut=>{let{id:Pt,name:Bt,author:Ft,emoji:un,installed:Sn,onClick:Un}=ut;const Cn=(0,n.wA)(),Ln=(0,u.d4)(ht=>(0,P.ty)(ht,j)),yn=(0,u.d4)(M.fl),Xt=(0,u.d4)(M._J);if(!un)return null;const pt=a(Xt)===Pt&&yn&&!Ln;function Dt(){pt&&Cn((0,L.AZ)({pref:j,value:!0})),Un()}c(Dt,"handleOnClick");const Qt=(0,k.A)(un,(ht,yt)=>({name:yt,url:ht})),tn=(0,A.A)(Qt,4),an=R.t("by {author}",{author:Ft});return t.createElement(B.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:Dt},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},Bt,pt&&t.createElement("span",{className:"margin_left_25"},t.createElement(W.A,null,R.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},an)),Sn&&!pt&&t.createElement("div",{className:"flex_none"},t.createElement(b.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},tn.map(ht=>t.createElement("div",{key:ht.map(yt=>`${yt.name}-card-`).join(),className:"p-emoji_pack_card__row"},ht.map(yt=>t.createElement(G.Ay,{key:`emoji-pack-${yt.name}`,showTooltip:!1,text:`:${yt.name}:`,url:yt.url,emojiSize:G.lw.LARGE})),[...new Array(4-ht.length)].map((yt,Ut)=>`emoji-pack-spacer-${Ut}`).map(yt=>t.createElement("div",{key:yt,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");w.displayName="EmojiPackCard";const N=w,K=new v.Ay("custom_emoji_list"),J=c(()=>{const ut=K.t("STAY TUNED"),Pt=K.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(W.A,{className:"p-emoji_pack_coming_soon__pill"},ut),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},Pt),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");J.displayName="EmojiPackComingSoon";const Y=J,q=new v.Ay("custom_emoji_list");function H(ut){let{row:Pt,className:Bt,onPackClick:Ft}=ut;return t.createElement("div",{key:Pt.map(un=>`${a(un)}-row`).join(),className:Bt},Pt.map(un=>{if(un.type==="coming_soon")return t.createElement(Y,{key:"emoji-pack-coming-soon"});if(un.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const Sn=(0,D.j)(un);return t.createElement(N,{key:`emoji-pack-${a(un)}`,installed:Sn,id:a(un)||void 0,name:(0,i.M)(un),author:m(un),emoji:(0,l.H)(un),onClick:()=>Ft(un,{installed:Sn})})}))}c(H,"Row"),H.displayName="Row",H.propTypes={row:T().arrayOf(T().object),className:T().string,onPackClick:T().func.isRequired},H.defaultProps={row:[],className:void 0};function ne(ut){let{orgName:Pt,onPackClick:Bt}=ut;const Ft=(0,n.wA)(),un=(0,u.d4)(M.uI);if((0,t.useEffect)(()=>{Ft((0,O.H)({reason:"emojiPack:dialog"}))},[Ft]),(0,h.A)(un))return null;const Sn=(0,f.A)(un,yn=>(0,D.j)(yn)).length;let Un=(0,p.A)(un);Un=(0,E.A)(Un,yn=>-1*I(yn)),(0,g.A)(un)<2&&Un.push({type:"coming_soon"}),Un.length%2!==0&&Un.push({type:"spacer"});const Cn=(0,A.A)(Un,2);let Ln;return Pt?Ln=q.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,Pt)}):Ln=q.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(d.$m,null,t.createElement(d.qf,null,t.createElement("div",null,Sn>0&&t.createElement("div",{className:"p-emoji_pack__header"},q.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},Sn)),t.createElement("div",{className:"p-emoji_pack__list"},Cn.map(yn=>t.createElement(H,{key:yn.map(Xt=>`${a(Xt)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:yn,onPackClick:Bt}))),t.createElement("div",{className:"p-emoji_pack__help"},Ln))))}c(ne,"AddEmojiPackDialogContent"),ne.displayName="AddEmojiPackDialogContent";const te=ne;var le=e(9391594207),he=e(2003990933),Ie=e(7715417323),Ee=e(9268023148),me=e(2322735331),ce=e(56548687),X=e(2219904496),V=e(1030162945),x=e(5733135148),S=e(581167618),U=e(6084388622),F=e(1563996154),Z=e(5795074931),z=e(5060694341),$=e(3842747943),ee=e(6244014364),de=e(9746734072),ie=e(7156798807),ue=e(1269227002),fe=e(5257368278),re=e(330221449),_e=e(8161242485);const Ue=(0,_e.Ay)(ut=>!ut||!ut.customizeEmoji||!ut.customizeEmoji.customEmojiData||!ut.customizeEmoji.customEmojiData.length?[]:ut.customizeEmoji.customEmojiData);Ue.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:ut=>!ut||!ut.customizeEmoji||!ut.customizeEmoji.customEmojiData||!ut.customizeEmoji.customEmojiData.length?[]:ut.customizeEmoji.customEmojiData};const ye=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.customEmojiTotalCount?ut.customizeEmoji.customEmojiTotalCount:0);ye.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.customEmojiTotalCount?ut.customizeEmoji.customEmojiTotalCount:0};const Te=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.currentPage?ut.customizeEmoji.currentPage:0);Te.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.currentPage?ut.customizeEmoji.currentPage:0};const ge=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.totalPages?ut.customizeEmoji.totalPages:0);ge.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.totalPages?ut.customizeEmoji.totalPages:0};const Ae=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewPage?ut.customizeEmoji.isLoadingNewPage:!1);Ae.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewPage?ut.customizeEmoji.isLoadingNewPage:!1};const Re=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewSearchQuery?ut.customizeEmoji.isLoadingNewSearchQuery:!1);Re.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.isLoadingNewSearchQuery?ut.customizeEmoji.isLoadingNewSearchQuery:!1};const Be=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.deletedEmojiList?ut.customizeEmoji.deletedEmojiList:[]);Be.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.deletedEmojiList?ut.customizeEmoji.deletedEmojiList:[]};const ke=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.disabledEmoji?ut.customizeEmoji.disabledEmoji:{});ke.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.disabledEmoji?ut.customizeEmoji.disabledEmoji:{}};const se=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortDir?ut.customizeEmoji.sortDir:"asc");se.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortDir?ut.customizeEmoji.sortDir:"asc"};const ve=(0,_e.Ay)(ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortBy?ut.customizeEmoji.sortBy:"name");ve.meta={name:"createSelector",key:"createSelectorgetSortBy",description:ut=>ut&&ut.customizeEmoji&&ut.customizeEmoji.sortBy?ut.customizeEmoji.sortBy:"name"};const Me=(0,fe.A)("Load the next page of custom emoji data",function(ut,Pt){let{count:Bt=100,queries:Ft,userIds:un,reason:Sn="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Un=Pt();ut((0,re.en)(!0));const Ln={page:Te(Un)+1,count:Bt,sort_by:ve(Un),sort_dir:se(Un)};return Ft&&(Ln.queries=JSON.stringify(Ft)),un&&(Ln.user_ids=JSON.stringify(un)),ut((0,ue.apiCall)({method:"emoji.adminList",reason:Sn,args:Ln})).then(yn=>{ut((0,re.en)(!1));const Xt=(0,de.A)(yn.disabled_emoji)?(0,ie.A)(yn.disabled_emoji,"name"):yn.disabled_emoji;ut((0,re.X8)({newCustomEmojiData:yn.emoji,disabledEmoji:Xt,customEmojiTotalCount:yn.custom_emoji_total_count,customEmojiSearchCount:yn.paging.total,currentPage:yn.paging.page,totalPages:yn.paging.pages}))}).catch(yn=>{throw yn})});Me.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},Me.propTypes={queries:T().array,userIds:T().array};const be=(0,fe.A)("Load custom emoji data with a new search query",function(ut,Pt){let{queries:Bt,page:Ft=1,count:un=100,sortBy:Sn,sortDir:Un,userIds:Cn,reason:Ln="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ut((0,re.d$)(!0));const yn={page:Ft,count:un};return Bt&&(yn.queries=JSON.stringify(Bt)),Cn&&(yn.user_ids=JSON.stringify(Cn)),Sn&&Un&&(yn.sort_by=Sn,yn.sort_dir=Un),ut((0,ue.apiCall)({method:"emoji.adminList",reason:Ln,args:yn})).then(Xt=>{ut((0,re.d$)(!1));const nt=(0,de.A)(Xt.disabled_emoji)?(0,ie.A)(Xt.disabled_emoji,"name"):Xt.disabled_emoji;ut((0,re.Ot)({newCustomEmojiData:Xt.emoji,disabledEmoji:nt,customEmojiTotalCount:Xt.custom_emoji_total_count,customEmojiSearchCount:Xt.paging.total,currentPage:Xt.paging.page,totalPages:Xt.paging.pages,sortBy:Sn,sortDir:Un}))}).catch(Xt=>{throw Xt})});be.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},be.propTypes={queries:T().array,page:T().number,count:T().number,sortBy:T().oneOf(["created","name"]),sortDir:T().oneOf(["asc","desc"]),userIds:T().array};const xe=(0,fe.A)("Deletes the given custom emoji",function(ut,Pt){let{emojiName:Bt,isPrimaryEmoji:Ft=!1,synonyms:un=[],reason:Sn="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut((0,re.gx)({emojiName:Bt,isPrimaryEmoji:Ft,synonyms:un})),ut((0,ue.apiCall)({method:"emoji.remove",reason:Sn,args:{name:Bt}})).then(Un=>Un).then(()=>{(0,ce.e)({state:Pt()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(Un=>{throw(0,ce.e)({state:Pt()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),Un})});xe.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},xe.propTypes={emojiName:T().string,isPrimaryEmoji:T().bool,synonyms:T().array};const Le=(0,fe.A)("Creates a new custom emoji or alias",function(ut,Pt){let{mode:Bt,name:Ft,aliasFor:un,image:Sn,searchArgs:Un={},reason:Cn="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut((0,ue.apiCall)({method:"emoji.add",reason:Cn,args:{mode:Bt,name:Ft,alias_for:un,image:Sn}})).then(Ln=>Ln).then(()=>{ut(be(Un))}).catch(Ln=>{throw Ln})});Le.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},Le.propTypes={mode:T().string,name:T().string,aliasFor:T().string,image:T().object};const Ke=(0,fe.A)("Gets the emoji data for a given emoji",function(ut,Pt){let{name:Bt,reason:Ft="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut((0,ue.apiCall)({method:"emoji.getInfo",reason:Ft,args:{name:Bt}})).then(un=>un).catch(un=>{throw un})});Ke.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},Ke.propTypes={name:T().string};const He=(0,fe.A)("Renames the custom emoji with the new name",function(ut,Pt){let{oldName:Bt,newName:Ft,reason:un="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ut((0,ue.apiCall)({method:"emoji.rename",reason:un,args:{name:Bt,new_name:Ft}})).then(Sn=>Sn).then(()=>{ut(be()),ut((0,re.S9)(Bt))}).catch(Sn=>{throw Sn})});He.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},He.propTypes={oldName:T().string,newName:T().string};var Ye=e(3456937405),Xe=e(6247499644),et=e(4244379358),st=e(4675837085);const ot=new v.Ay("custom_emoji_list"),ct={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let at=c(class extends t.PureComponent{componentDidMount(){const{clogger:Pt}=this.props;Pt.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:Pt,uploadedImage:Bt,nameErrorText:Ft}=this.state,{emojiUrl:un}=this.props,Sn=Pt.length>100;return!Pt||Sn||!!Ft||!un&&!Bt}onDragOver(Pt){Pt.preventDefault(),Pt.dataTransfer.dropEffect="copy"}onDrop(Pt){Pt.preventDefault();const Bt=Pt.dataTransfer.files[0];if(Bt){const Ft=Bt.name,un=URL.createObjectURL(Bt);this.updateAfterUpload({uploadedImage:Bt,fileName:Ft,previewImageUrl:un})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(Pt){const{standardEmojiData:Bt}=this.props;let Ft="";this.setState(()=>({newEmojiName:Pt})),/[A-Z]/.test(Pt)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(Pt)?Ft=ot.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):Pt in Bt?Ft=ot.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):(0,Xe.q)(Pt)?this.checkIfEmojiNameAlreadyExists(Pt):Ft=ot.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:Ft}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(Pt){Pt&&Pt.preventDefault();const{newEmojiName:Bt,uploadedImage:Ft}=this.state,{emojiUrl:un}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const Un={...{reason:"add-custom-emoji-dialog-content",name:Bt},...un?{mode:"url",url:un}:{mode:"data",searchArgs:this.props.searchArgs,...Ft?{image:Ft}:{}}};this.props.addCustomEmoji(Un).then(()=>{this.props.closeModal();const Cn=this.renderToastMessage();this.props.enqueueToast({element:Cn}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:un?"import_custom_emoji":"add_custom_emoji",action:un?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(Cn=>{let Ln;const yn=(0,he.A)(Cn,"data.error");(yn===Ye.W.NoUrlProvided||yn===Ye.W.NoUrlImage)&&(Ln=ot.t("Something happened that prevented the image from being imported. Try again?")),yn==="error_bad_upload"?Ln=ot.t("Something happened that prevented your file from being uploaded. Try again?"):yn==="error_bad_format"?Ln=ot.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):yn==="resized_but_still_too_large"||yn==="too_many_frames"?Ln=ot.t("This image is a bit too big, even after resizing. A smaller file might help?"):yn==="error_too_big"?Ln=ot.t("Please choose an image smaller than 64KB."):yn==="error_name_taken_i18n"?Ln=ot.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:Bt}):yn==="error_name_taken"?Ln=ot.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:Bt}):(yn==="error_bad_name"||yn==="error_bad_name_i18n")&&(Ln=ot.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:Ln,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var Pt,Bt;const Ft=!((Pt=this.fileInput)===null||Pt===void 0||(Bt=Pt.current)===null||Bt===void 0)&&Bt.files?this.fileInput.current.files[0]:null;if(Ft){const un=Ft.name,Sn=URL.createObjectURL(Ft);this.updateAfterUpload({uploadedImage:Ft,fileName:un,previewImageUrl:Sn})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:Pt}=this.props;Pt&&this.setState(()=>({previewImageUrl:Pt,imagePreviewError:!1}))}convertFileNameToEmojiName(Pt){if(!Pt)return null;const Bt=Pt.lastIndexOf("."),Ft=Bt>0?Pt.substring(0,Bt):Pt;return Ft?Ft.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(Pt){let{uploadedImage:Bt,fileName:Ft,previewImageUrl:un}=Pt;const{newEmojiName:Sn,fileName:Un}=this.state;let Cn=Sn;(!Sn||Sn===this.convertFileNameToEmojiName(Un))&&(Cn=this.convertFileNameToEmojiName(Ft)||Cn),this.setState(()=>({uploadedImage:Bt,fileName:Ft,previewImageUrl:un,imagePreviewError:!1}),()=>this.onEmojiNameChange(Cn))}fileUpload(){var Pt;const Bt=(Pt=this.props.windowRef.deref())===null||Pt===void 0?void 0:Pt.document.getElementById("emojiimg");Bt==null||Bt.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:Pt,nameErrorText:Bt}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",ot.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},ot.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement(X.A,{id:"emojiname",name:"name",value:Pt,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:Bt,"data-qa":ct.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:Pt,nameErrorText:Bt}=this.state,Ft=ot.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return Bt===Ft?t.createElement("div",{className:"inline_flex full_width","data-qa":ct.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(V.Ay,{text:Pt,alt:Pt,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,ot.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",Pt,":"))):null}renderDialogMessage(){const{orgName:Pt}=this.props;let Bt;return Pt?Bt=ot.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:Pt}):Bt=ot.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":ct.ADD_DIALOG_MESSAGE},t.createElement("div",null,Bt),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:Pt}=this.state;return Pt?t.createElement(S.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":ct.ADD_DIALOG_ERROR},t.createElement("span",null," ",Pt," ")):null}renderImagePreview(){const{previewImageUrl:Pt}=this.state,Bt=t.createElement("img",{src:Pt,alt:ot.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:Ft}=this.state;return Ft?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":ct.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement(F.Ay,{tip:ot.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(b.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":ct.ADD_DIALOG_IMAGE_PREVIEW},Bt)}renderPlaceholderText(){const{placeholder:Pt}=this.state;let Bt;return Pt?Bt=ot.t("avocado"):Bt="",Bt}renderToastMessage(){const{newEmojiName:Pt,previewImageUrl:Bt}=this.state,Ft=t.createElement(V.Ay,{text:Pt,url:Bt,emojiSize:V.lw.MEDIUM}),un=ot.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:Ft,newEmojiName:Pt});return t.createElement(x.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,un))}renderUploadImagePrompt(){const{emojiUrl:Pt}=this.props,Bt=ot.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),Ft=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),un=Pt?ot.t("Import external emoji"):ot.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":ct.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",un," "),!Pt&&t.createElement("div",{className:"normal sk_foreground_max"},Bt),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},Ft,!Pt&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":ct.ADD_DIALOG_FILE_INPUT}),t.createElement(U.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":ct.ADD_DIALOG_UPLOAD}," ",ot.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:Pt}=this.state,{emojiUrl:Bt}=this.props;let Ft;return Pt||Bt?Ft=this.renderImagePreview():Ft=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":ct.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(b.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),Ft}renderUploadedFileText(){const{fileName:Pt}=this.state;let Bt;return Pt?Bt=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",Pt," "):Bt=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",ot.t("Select an image")," "),Bt}render(){const{goButtonIsPending:Pt}=this.state,Bt=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(d.$m,null,t.createElement(d.qf,{"data-qa":`${ct.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(d.jl,null,t.createElement(d.ox,null,t.createElement(d.s_,{type:"outline"},ot.t("Cancel")),t.createElement(U.lV,{type:"primary",onClick:this.onSubmit,loading:Pt,disabled:Bt,"data-qa":`${ct.ADD_DIALOG}_go`},ot.t("Save")))))}constructor(Pt){super(Pt),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=Bt=>{this.props.getEmojiInfo({name:Bt}).then(()=>{this.state.newEmojiName===Bt&&this.setState(()=>({nameErrorText:ot.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(Ie.A)},this.checkIfEmojiNameAlreadyExists=(0,Ee.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=Pt.clientApp?ee.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:ee.EventId.PAGE_CUSTOMIZE_EMOJI,(0,me.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");at.displayName="AddCustomEmojiDialogContent",at.defaultProps={standardEmojiData:{},addCustomEmoji:Ie.A,enqueueToast:Ie.A,clientApp:!1,closeModal:Ie.A,getEmojiInfo:Ie.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,st.O)(window)};const At=c(ut=>({addCustomEmoji:Pt=>ut((0,Ye.l)(Pt)),enqueueToast:function(){for(var Pt=arguments.length,Bt=new Array(Pt),Ft=0;Ft<Pt;Ft++)Bt[Ft]=arguments[Ft];return ut((0,z.M)(...Bt))},closeModal:()=>ut((0,r.O)()),getEmojiInfo:function(){for(var Pt=arguments.length,Bt=new Array(Pt),Ft=0;Ft<Pt;Ft++)Bt[Ft]=arguments[Ft];return ut(Ke(...Bt))}}),"mapDispatchToProps"),Ct=c(ut=>({standardEmojiData:(0,$.O)(ut),clientApp:(0,Z.TZ)(ut),clogger:(0,ce.e)({state:ut})}),"mapStateToProps"),Tt=(0,le.N)(Ct,At)((0,et.A)(at));var Rt=e(1194535350),It=e(4318855015),Mt=e(5510392579),nn=e(9236644324),Ot=e(6105929840),bt=e(5305906809);const Jt=new v.Ay("custom_emoji_list"),en=c(ut=>{let{adding:Pt,name:Bt}=ut;const Ft=(0,n.wA)();return t.createElement(x.Ay,{onCloseComplete:()=>{Pt&&Ft((0,It.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},Pt&&Jt.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,Bt)}),!Pt&&Jt.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,Bt)})))},"InstallToast");en.displayName="InstallToast";const sn=c(ut=>{let{name:Pt,url:Bt,index:Ft,copyToClipboard:un,onClose:Sn}=ut;const Un=(0,n.wA)(),Cn=t.createElement(G.Ay,{showTooltip:!0,text:Pt,url:Bt,emojiSize:G.lw.LARGE});function Ln(){(0,nn.x3)(Pt),Sn&&Sn(),Un((0,r.O)()),Un((0,z.M)({element:t.createElement(x.Ay,null,t.createElement("span",null,Jt.rt("Emoji copied to clipboard",{name:Pt})))}))}return c(Ln,"onClick"),Ln.displayName="onClick",un&&(0,nn.tD)()?t.createElement(B.A,{className:"p-emoji_pack_details__button","data-color-index":Ft%bt.dX,onClick:Ln},Cn):Cn},"EmojiButton");sn.displayName="EmojiButton";const zt=c(ut=>{let{collectionId:Pt,name:Bt,author:Ft,installed:un,emoji:Sn,onCancelClick:Un,onClose:Cn}=ut;const Ln=(0,n.wA)(),yn=(0,u.d4)(Mt.h3),[Xt,nt]=(0,t.useState)(!1),pt=(0,t.useCallback)(()=>{nt(!0),Ln((0,Rt._J)({collectionId:Pt,reason:"emojiPack:dialog"})).then(()=>{nt(!1),Cn&&Cn(),Ln((0,r.O)()),Ln((0,z.M)({element:t.createElement(en,{adding:!0,name:Bt})}))})},[Ln,Pt,Bt,Cn]),[Dt,Qt]=(0,t.useState)(!1),tn=(0,t.useCallback)(()=>{Qt(!0),Ln((0,Rt.zx)({collectionId:Pt,reason:"emojiPack:dialog"})).then(()=>{Qt(!1),Cn&&Cn(),Ln((0,r.O)()),Ln((0,z.M)({element:t.createElement(en,{adding:!1,name:Bt})}))})},[Ln,Pt,Bt,Cn]);if(!Sn)return null;const an=(0,k.A)(Sn,(Oe,we)=>({name:we,url:Oe})).map((Oe,we)=>({...Oe,index:we})),ht=(0,A.A)(an,5),yt=Jt.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,g.A)(Sn)}),Ut=Jt.t("by {author}",{author:Ft}),Gt=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},Ut),yt),mn=t.createElement(Ot.A,{"aria-label":Jt.t("Go back"),icon:"chevron-large-left",onClick:()=>Un()});return t.createElement(t.Fragment,null,t.createElement(d.rQ,null,t.createElement(d.Rc,{icon:mn,title:Bt,subtitle:Gt})),t.createElement(d.$m,null,t.createElement(d.qf,null,ht.map(Oe=>t.createElement("div",{key:Oe.map(we=>we.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},Oe.map(we=>t.createElement(sn,{key:`emoji-pack-details-${we.name}`,name:`:${we.name}:`,url:we.url,index:we.index,copyToClipboard:un,onClose:Cn})),[...new Array(5-Oe.length)].map((we,Fe)=>`emoji-pack-details-spacer-${Fe}`).map(we=>t.createElement("div",{key:we,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(d.jl,null,un&&(0,nn.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},Jt.t("Click an emoji to copy to clipboard")),t.createElement(d.ox,null,un&&yn&&t.createElement(U.lV,{autoFocus:!0,type:"danger",loading:Dt,onClick:tn},Jt.t("Remove pack")),!un&&t.createElement(U.lV,{autoFocus:!0,loading:Xt,onClick:pt},Jt.t("Add pack")))))},"EmojiPackDetails");zt.displayName="EmojiPackDetails";const Yt=zt;var hn=e(1655938719);const Qe=new v.Ay("custom_emoji_list"),Wt={CUSTOM:"custom",PACKS:"packs"},gn=c(ut=>{let{orgName:Pt="",searchArgs:Bt={},showEmojiPacks:Ft,initialTab:un=Wt.CUSTOM,emojiNameSuggestion:Sn="",emojiUrl:Un,megaphoneEventOnClose:Cn}=ut;const Ln=(0,n.wA)(),[yn,Xt]=(0,t.useState)(un),[nt,pt]=(0,t.useState)(!1),[Dt,Qt]=(0,t.useState)(null),tn=Un?Qe.t("Add emoji to your organization"):void 0,an=Ft?Qe.t("Add emoji"):Qe.t("Add custom emoji"),ht=tn??an,yt=Qe.t("Emoji packs"),Ut=Qe.t("Custom emoji"),Gt=(0,t.useMemo)(()=>[{title:Ut,id:Wt.CUSTOM,onClick:()=>Xt(Wt.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:yt,id:Wt.PACKS,onClick:()=>Xt(Wt.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[Ut,yt]),mn=(0,t.useCallback)(()=>{Cn&&Ln((0,hn.iR)({event:{type:Cn}}))},[Ln,Cn]),Oe=(0,t.useCallback)(()=>{mn(),Ln((0,r.O)())},[Ln,mn]),we=Ft&&yn===Wt.PACKS,Fe=Ft?t.createElement(o.A,{tabs:Gt,currentTabId:yn,className:"p-add_custom_emoji_dialog__tabs"}):null,qe=(0,s.A)("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!Ft});return Ft&&Dt?t.createElement(d.dW,{closeModal:Oe,isOpen:!0,className:qe},t.createElement(Yt,{collectionId:a(Dt),name:(0,i.M)(Dt),author:m(Dt),emoji:nt?_(Dt):(0,l.H)(Dt),installed:nt,onCancelClick:()=>{Qt(null)},onClose:mn})):t.createElement(d.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:Oe,isOpen:!0,className:qe},t.createElement(d.rQ,null,t.createElement(d.Rc,{title:ht,className:"no_min_height padding_bottom_50"}),Fe),we&&t.createElement(te,{orgName:Pt,onPackClick:(ze,Ge)=>{let{installed:Ze}=Ge;pt(Ze),Qt(ze)}}),!we&&t.createElement(Tt,{orgName:Pt,searchArgs:Bt,emojiNameSuggestion:Sn,emojiUrl:Un}))},"AddEmojiDialog");gn.displayName="AddEmojiDialog";const rn=gn},720935990:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>z});var t=e(6422693406),n=e(3297051565),s=e.n(n),r=e(3134334389),d=e(6258289677),o=e(5255740490),a=e(7715417323),i=e(3078252698),m=e(2322735331),l=e(8359728598),_=e(9391594207),v=e(1641606663),u=e(4518410378),h=e(9506727031),f=e(9003400431),p=e(8210487023),E=e(6084388622),g=e(1610251172),A=e(8683010724),y=e(5946832122),T=e(796111729),M=e(735940183),O=e(4675837085),I=e(9969946699),D=e(8739505998),P=e(6882609392),L=e(4275792068),k=e(2527782504),G=e(2758847468),b=e(1563996154),W=e(5731054235),B=e(5617110048),R=e(6244014364),j=e(3688641936);function w($){const ee=$.tagName;if(["BUTTON","INPUT","SELECT","TEXTAREA"].includes(ee))return!0;const de=$.getAttribute("role");return!!(de&&["button","checkbox","radio","radiogroup","textbox"].includes(de))}c(w,"focusOnFormFilter");var N=e(56548687),K=e(3199988258),J=e(5889731107);const Y=new M.Ay("generic_dialog"),q={titleText:s().oneOfType([s().string,s().array]),bodyText:s().string,cancelButtonText:s().string,continueButtonText:s().string,continueButtonType:s().string,onCancel:s().func,onContinue:s().func},H={titleText:void 0,bodyText:void 0,cancelButtonText:void 0,continueButtonText:void 0,continueButtonType:"danger",onCancel:a.A,onContinue:a.A};let ne=c(class extends r.PureComponent{componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState(()=>({isHidden:!1}))})})}onCancel(){this.setState(()=>({isHidden:!0}),()=>{(0,J.A)(this.speedBump,"transform").then(this.props.onCancel)})}render(){const ee=Y.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"}),de=Y.t("Keep Editing"),ie=Y.t("Close"),{titleText:ue=ee,cancelButtonText:fe=de,continueButtonText:re=ie,bodyText:_e,continueButtonType:Ue,onContinue:ye}=this.props,{isHidden:Te}=this.state,ge=(0,o.A)("c-dialog_speed_bump_overlay",{"c-dialog_speed_bump_overlay--hidden":Te}),Ae=(0,o.A)("c-dialog_speed_bump",{"c-dialog_speed_bump--hidden":Te});return r.createElement(r.Fragment,null,r.createElement("div",{className:ge}),r.createElement("div",{className:"c-dialog_speed_bump_wrapper"},r.createElement("div",{className:Ae,ref:Re=>{this.speedBump=Re}},r.createElement("h3",{className:"c-dialog_speed_bump__body_text"},ue),_e&&r.createElement(K.A,{text:_e}),r.createElement("div",{className:"c-dialog_speed_bump__button_row"},r.createElement(E.Ay,{autoFocus:!0,className:"c-dialog_speed_bump__button",onClick:this.onCancel,"data-qa":"dialog_speed_bump_cancel",type:"outline"},fe),r.createElement(E.Ay,{className:"c-dialog_speed_bump__button",onClick:ye,"data-qa":"dialog_speed_bump_continue",type:Ue},re)))))}constructor(ee){super(ee),this.onCancel=this.onCancel.bind(this),this.state={isHidden:!0},this.speedBump=null}},"DialogSpeedBump");ne.displayName="DialogSpeedBump",ne.propTypes=q,ne.defaultProps=H;const te=(0,h.A)(ne);function le(){return le=Object.assign||function($){for(var ee=1;ee<arguments.length;ee++){var de=arguments[ee];for(var ie in de)Object.prototype.hasOwnProperty.call(de,ie)&&($[ie]=de[ie])}return $},le.apply(this,arguments)}c(le,"_extends");const he=new M.Ay("generic_dialog"),Ie={onRequestClose:{action:R.UiAction.CLOSE}},Ee={ariaContent:s().object,children:s().any.isRequired,cancelButtonType:s().string,cancelText:s().string,className:s().string,overlayClassName:s().string,bodyClassName:s().string,modalBodyOpenClassName:s().string,contentHeight:s().number,contentLabel:s().string,"data-qa":s().string,footerIcon:s().string,footerLink:s().string,footerText:s().node,focusOnPrimaryButton:s().bool,onFooterLinkClick:s().func,goButtonType:s().string,goButtonText:s().string,goButtonTooltip:s().node,goButtonIsDisabled:s().bool,goButtonIsPending:s().bool,goOnEnterPressed:s().bool,onCancel:s().func,onClose:s().func,onGo:s().func,onPopOut:s().func,onScroll:s().func,role:s().string,showCancelButton:s().bool,showCloseButton:s().bool,showPopoutButton:s().bool,showGoButton:s().bool,showHeader:s().bool,showFooter:s().bool,showTooltipOnCloseButton:s().bool,title:s().node,titleAria:s().string,useSlackScrollbar:s().bool,useSlackScrollbarWithPadding:s().bool,titleImage:s().string,truncateTitle:s().bool,closeModal:s().func,appPopoutsEnabled:s().bool,shouldCloseOnOverlayClick:s().bool,shouldCloseOnGo:s().bool,shouldCloseOnCancel:s().bool,getShouldShowSpeedBump:s().func,speedBumpBodyText:s().oneOfType([s().string,s().array]),speedBumpTitleText:s().oneOfType([s().string,s().array]),speedBumpCancelButtonText:s().string,speedBumpContinueButtonText:s().string,speedBumpContinueButtonType:s().string,isSpeedBumpEnabled:s().bool,reverseButtons:s().bool,customFooterContent:s().oneOfType([s().node,s().func]),invertCloseButton:s().bool,onRequestClose:s().func,onEscape:s().func,autoClogProps:s().object,windowRef:s().object,clogger:s().object},me={ariaContent:void 0,cancelButtonType:"outline",cancelText:void 0,overlayClassName:void 0,bodyClassName:void 0,modalBodyOpenClassName:void 0,className:void 0,contentHeight:void 0,contentLabel:void 0,"data-qa":"dialog",footerIcon:void 0,footerLink:void 0,footerText:void 0,focusOnPrimaryButton:void 0,onFooterLinkClick:void 0,goButtonType:"primary",goButtonText:void 0,goButtonTooltip:void 0,goButtonIsDisabled:!1,goButtonIsPending:!1,goOnEnterPressed:!0,onCancel:a.A,onClose:a.A,onGo:a.A,onPopOut:a.A,onScroll:a.A,role:"dialog",showCancelButton:!0,showCloseButton:!0,showPopoutButton:!1,showGoButton:!0,showHeader:!0,showFooter:!0,showTooltipOnCloseButton:!1,title:void 0,titleAria:null,useSlackScrollbar:!0,useSlackScrollbarWithPadding:!1,titleImage:void 0,truncateTitle:!0,closeModal:a.A,appPopoutsEnabled:!1,shouldCloseOnOverlayClick:!0,shouldCloseOnGo:!0,shouldCloseOnCancel:!0,getShouldShowSpeedBump:a.A,speedBumpBodyText:void 0,speedBumpTitleText:void 0,speedBumpCancelButtonText:void 0,speedBumpContinueButtonType:"danger",speedBumpContinueButtonText:void 0,isSpeedBumpEnabled:!0,reverseButtons:!1,customFooterContent:void 0,invertCloseButton:!1,onRequestClose:a.A,onEscape:a.A,autoClogProps:void 0,windowRef:(0,O.O)(u.J),clogger:void 0};let ce=0;function X(){return ce>0}c(X,"isDialogVisible");let V=c(class extends r.PureComponent{static getDerivedStateFromProps(ee){const{isSpeedBumpEnabled:de}=ee;return de?null:{isShowingSpeedBump:!1,speedBumpButton:""}}componentDidMount(){var ee;const{goOnEnterPressed:de}=this.props;(ee=this.props.windowRef.deref())===null||ee===void 0||ee.addEventListener("scroll",this.onScroll);let ie;this.modal&&this.modal.node&&(ie=this.modal.node),this.keyCommands=new P.A(ie);const ue=[];if(de&&ue.push({keys:["enter"],handler:this.onEnter}),ue.push({keys:["escape"],handler:this.onEscape}),this.keyCommands.bindAll(ue),this.props.appPopoutsEnabled||(0,W.A)()){var fe;(fe=this.props.windowRef.deref())===null||fe===void 0||fe.addEventListener("beforeunload",this.onBeforeUnload)}(0,W.A)()&&this.updateTitle(),ce+=1}componentDidUpdate(){requestAnimationFrame(this.updateScrollState),(0,W.A)()&&this.updateTitle()}componentWillUnmount(){var ee;if((ee=this.props.windowRef.deref())===null||ee===void 0||ee.removeEventListener("scroll",this.onScroll),this.keyCommands&&this.keyCommands.reset(),this.props.appPopoutsEnabled||(0,W.A)()){var de;(de=this.props.windowRef.deref())===null||de===void 0||de.removeEventListener("beforeunload",this.onBeforeUnload)}ce-=1}onBeforeUnload(ee){const{getShouldShowSpeedBump:de,isSpeedBumpEnabled:ie,appPopoutsEnabled:ue}=this.props;if(!de||!ie||!ue&&!(0,W.A)())return null;if(de("close")){ee.preventDefault();const fe=he.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"});return ee.returnValue=fe,fe}return null}onCancel(){const{onClose:ee,onCancel:de,shouldCloseOnCancel:ie}=this.props;de()!==!1&&ie&&(ee(),this.props.closeModal())}onEnter(ee){var de;const ie=ee&&ee.target&&ee.target.tagName,ue=!!(!(ee==null||(de=ee.target)===null||de===void 0)&&de.contentEditable);ie==="BUTTON"||ie==="A"||ie==="INPUT"||ie==="TEXTAREA"||ue||this.onRequestGo(ee)}onEscape(ee){ee.defaultPrevented||(ee.stopPropagation(),this.onRequestClose(),this.props.onEscape())}onFocusedElementRemoved(){var ee;(ee=this.modalContent)===null||ee===void 0||ee.focus()}onGo(ee){const{onGo:de,onClose:ie,shouldCloseOnGo:ue}=this.props;ee.defaultPrevented||t.K.resolve(de(ee)).then(fe=>{fe!==!1&&ue&&(ie(),this.props.closeModal())})}onPopOut(){var ee,de,ie;const{role:ue}=this.props,fe=((ie=(ee=this.modal)===null||ee===void 0||(de=ee.node)===null||de===void 0?void 0:de.querySelector(`[role="${ue}"]`))===null||ie===void 0?void 0:ie.getBoundingClientRect())||{},{height:re,width:_e}=fe;this.props.onPopOut({height:re,width:_e})}onRequestCancel(){const{getShouldShowSpeedBump:ee,isSpeedBumpEnabled:de}=this.props;if(ee("cancel")&&de){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"cancel"}));return}this.onCancel()}onRequestClose(ee){const{getShouldShowSpeedBump:de,isSpeedBumpEnabled:ie,onClose:ue}=this.props;if(de("close")&&ie){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"close"}));return}ue(ee)!==!1&&(this.props.closeModal(),this.props.onRequestClose())}onRequestGo(ee){const{getShouldShowSpeedBump:de,isSpeedBumpEnabled:ie}=this.props;if(de("go")&&ie){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"go"}));return}this.onGo(ee)}onScroll(ee){this.scroller&&(requestAnimationFrame(this.updateScrollState),this.props.onScroll({scrollTop:this.scroller.scrollTop},ee))}onFocusTransition(){const{clogger:ee,autoClogProps:de}=this.props;if(this.focusOnFormElements(),!ee||!de||!de.context)return;const{eventId:ie,appId:ue,type:fe,viewId:re}=de.context;ee.track(ie,{contexts:{platform:{app_id:ue},block_kit:{view_id:re,type:fe,app_id:ue}}})}getFocusTransitionListeners(ee,de,ie){return{[k.Ay.MODAL_ACTIVE_FORM]:()=>{if(!ee||de==null||ie==null)return!1;const ue=this.props.windowRef.deref().document.elementFromPoint(de+10,ie+10);return ee.contains(ue)?(this.onFocusTransition(),!0):!1}}}getScrollHeight(){const{contentHeight:ee}=this.props;return ee!==me.contentHeight?ee:this.scroller.scrollHeight}getTitleAria(){const{contentLabel:ee,title:de,titleAria:ie}=this.props;let ue="";return ee?ue=ee:(0,i.A)(de)?ue=de:ie?ue=ie:(0,T.Wo)().warn('You should pass the "titleAria" prop when passing a non-string "title" prop if there is no "contentLabel".'),ue}setBodyRef(ee){this.scroller=ee}setModalRef(ee){this.modal=ee}setModalContentRef(ee){this.modalContent=ee,typeof this.props.customFooterContent=="function"&&this.focusOnFormElements()}focusOnFormElements(){var ee;const de=(0,j.Fp)(this.scroller,w);if(de!=null&&de.focus){de.focus();return}if(this.goButtonRef.current){this.goButtonRef.current.focus();return}if(this.cancelButtonRef.current){this.cancelButtonRef.current.focus();return}(ee=this.modalContent)===null||ee===void 0||ee.focus()}updateScrollState(){if(!this.scroller)return;const ee=this.scroller.scrollTop,de=this.getScrollHeight(),ie=this.scroller.offsetHeight,ue=ee===de-ie,fe=ee===0,re=de>ie;this.setState(()=>({hasOverflow:re,scrolledToBottom:ue,scrolledToTop:fe}))}updateTitle(){const ee=he.t("Slack",{fallbackHash:"430b38bf6daa7f9164b164b2ffd540b5a3afe2fd",fallbackHashNs:"view"}),de=this.getTitleAria();de&&(this.props.windowRef.deref().document.title=`${ee} | ${de}`)}renderCancelButton(){const{cancelText:ee,cancelButtonType:de,autoClogProps:ie,"data-qa":ue}=this.props,fe=ee||he.t("Cancel"),re=ie!=null&&ie.cancelButton?{onClick:{enableClogAction:!0},...ie.cancelButton}:void 0;return r.createElement(E.Ay,{ref:this.cancelButtonRef,type:de,className:"c-dialog__cancel",onClick:this.onRequestCancel,"data-qa":`${ue}_cancel`,autoClogProps:re},fe)}renderCloseButton(){const{showTooltipOnCloseButton:ee,invertCloseButton:de,autoClogProps:ie,"data-qa":ue}=this.props,fe=he.t("Close"),re=ie!=null&&ie.closeButton?{onClick:{enableClogAction:!0},...ie.closeButton}:void 0,_e=r.createElement(y.A,{backgroundStyle:de?"dark":void 0,"aria-label":fe,className:"c-dialog__close",onClick:this.onRequestClose,"data-qa":`${ue}_close`,autoClogProps:re},r.createElement(A.A,{name:"close",size:"20"}));return ee?r.createElement(b.Ay,{tip:fe,zIndex:"above_fs"},_e):_e}renderCustomFooterMaybe(){const{customFooterContent:ee}=this.props;return typeof ee=="function"?ee({goButtonRef:this.goButtonRef,cancelButtonRef:this.cancelButtonRef}):ee||null}renderFooterTextMaybe(){const{footerIcon:ee,footerLink:de,footerText:ie,"data-qa":ue}=this.props;return ie?de?r.createElement("div",{className:"c-dialog__footer_text","data-qa":"dialog_footer_text"},r.createElement(D.A,{href:de,className:"c-dialog__footer_link",onClick:this.props.onFooterLinkClick,"data-qa":`${ue}_footer_link`},ee&&r.createElement(g.A,{legacy:!0,inherit:!0,type:ee,align:"baseline","data-qa":"dialog_footer_icon",className:"c-dialog__footer_icon"}),ie)):r.createElement("div",{className:"c-dialog__footer_text","data-qa":"dialog_footer_text"},ee&&r.createElement(g.A,{legacy:!0,inherit:!0,type:ee,align:"baseline","data-qa":"dialog_footer_icon",className:"c-dialog__footer_icon"}),ie):null}renderGoButton(){const{"data-qa":ee,goButtonIsDisabled:de,goButtonIsPending:ie,goButtonText:ue,goButtonType:fe,goButtonTooltip:re,focusOnPrimaryButton:_e,autoClogProps:Ue}=this.props,ye=ue||he.t("Confirm"),Te=Ue!=null&&Ue.goButton?{onClick:{enableClogAction:!0},...Ue.goButton}:void 0,ge=r.createElement(E.lV,{ref:this.goButtonRef,type:fe,className:"c-dialog__go",onClick:this.onRequestGo,loading:ie,disabled:de,"data-qa":`${ee}_go`,autoFocus:_e,autoClogProps:Te},ye);return re?r.createElement(b.Ay,{tip:re,zIndex:"above_fs"},de?r.createElement("div",null,ge):ge):ge}renderOverflowPaddingMaybe(){const{showFooter:ee}=this.props,{hasOverflow:de,scrolledToBottom:ie}=this.state;if(!ee&&de){const ue=(0,o.A)("c-dialog__overflow_padding",{"c-dialog__overflow_padding--scroll_border":de&&!ie});return r.createElement("div",{className:ue})}return null}renderPopoutButton(){const{appPopoutsEnabled:ee,"data-qa":de,autoClogProps:ie}=this.props;if(!ee)return null;const ue=he.t("Open in new window"),fe=ie!=null&&ie.popOutButton?{onClick:{enableClogAction:!0},...ie.popOutButton}:void 0;return r.createElement(b.Ay,{tip:ue,zIndex:"above_fs"},r.createElement(y.A,{"aria-label":ue,className:"c-dialog__popout",onClick:this.onPopOut,"data-qa":`${de}_popout`,icon:"new-window",autoClogProps:fe}))}renderSpeedBumpMaybe(){if(!this.state.isShowingSpeedBump)return null;const{speedBumpTitleText:ee,speedBumpCancelButtonText:de,speedBumpContinueButtonText:ie,speedBumpContinueButtonType:ue,speedBumpBodyText:fe}=this.props;return r.createElement(te,{titleText:ee,bodyText:fe,cancelButtonText:de,continueButtonText:ie,continueButtonType:ue,onCancel:()=>{this.setState(()=>({isShowingSpeedBump:!1}))},onContinue:this.state.speedBumpButton==="go"?this.onGo:this.onCancel})}renderTitle(){const{title:ee,titleImage:de,truncateTitle:ie}=this.props;let ue;return de?ue=r.createElement("div",{className:"display_flex"},r.createElement("img",{className:"c-dialog__title_image",src:de,alt:ee}),r.createElement("div",{className:(0,o.A)({overflow_ellipsis:ie})},ee)):ue=ee,r.createElement("h1",{className:(0,o.A)("c-dialog__title",{overflow_ellipsis:ie&&!de})},ue)}render(){const{ariaContent:ee,children:de,className:ie,overlayClassName:ue,bodyClassName:fe,footerText:re,showCancelButton:_e,showCloseButton:Ue,showPopoutButton:ye,showGoButton:Te,role:ge,showHeader:Ae,showFooter:Re,useSlackScrollbar:Be,useSlackScrollbarWithPadding:ke,"data-qa":se,shouldCloseOnOverlayClick:ve,reverseButtons:Me,modalBodyOpenClassName:be,autoClogProps:xe}=this.props,Le=(0,o.A)("c-dialog",ue,{"c-dialog--custom-titlebar":(0,I.H2)()}),Ke=(0,o.A)("c-dialog__content",ie,{"c-dialog__content--custom-titlebar":(0,I.H2)(),"c-dialog__content--frameless":(0,I.Hc)()}),He=(0,o.A)("c-dialog__header",{"c-dialog__header--overflow":this.state.hasOverflow&&!this.state.scrolledToTop}),Ye=(0,o.A)("c-dialog__body",fe,{"c-dialog__body--slack_scrollbar":Be&&!ke,"c-dialog__body--slack_scrollbar_with_padding":Be&&ke}),Xe=(0,o.A)("c-dialog__footer",{"c-dialog__footer--overflow":this.state.hasOverflow&&!this.state.scrolledToBottom,"c-dialog__footer--has_text":re&&!(_e||Te),"c-dialog__footer--has_buttons":!re&&(_e||Te),"c-dialog__footer--has_both":re&&(_e||Te)}),et=this.getTitleAria(),st={...ee,label:Ae&&et};let ot,ct;return this.modalContent&&({left:ot,top:ct}=this.modalContent.getBoundingClientRect()),r.createElement(B.A,{elementType:R.ElementType.MODAL,actionProps:Ie,autoClogProps:xe},r.createElement(d.A,{className:Ke,bodyOpenClassName:be,contentLabel:et,isOpen:!0,onRequestClose:this.onRequestClose,overlayClassName:Le,role:ge,aria:st,shouldCloseOnOverlayClick:ve,shouldCloseOnEsc:!1,ref:this.setModalRef,contentRef:this.setModalContentRef,data:{qa:se},shouldReturnFocusAfterClose:!1},r.createElement(L.A,{listeners:this.getFocusTransitionListeners(this.modalContent,ot,ct)},Ae&&r.createElement("div",{className:He,"data-qa":`${se}_header`},this.renderTitle(),ye&&!(0,W.A)()&&this.renderPopoutButton(),Ue&&!(0,W.A)()&&this.renderCloseButton()),r.createElement(G.A,{onFocusedElementRemoved:this.onFocusedElementRemoved},r.createElement("div",{className:Ye,onScroll:this.onScroll,ref:this.setBodyRef,"data-qa":`${se}_body`},de)),Re&&r.createElement("div",{className:Xe,"data-qa":`${se}_footer`},this.renderCustomFooterMaybe(),this.renderFooterTextMaybe(),r.createElement("div",{className:"c-dialog__footer_buttons","data-qa":"dialog_footer_buttons"},Me&&Te&&this.renderGoButton(),_e&&this.renderCancelButton(),!Me&&Te&&this.renderGoButton())),this.renderSpeedBumpMaybe(),this.renderOverflowPaddingMaybe())))}constructor(ee){super(ee),(0,m.v)(this,["onScroll","setBodyRef","updateScrollState","onBeforeUnload","onRequestGo","onGo","onEnter","onFocusedElementRemoved","onPopOut","onRequestClose","onRequestCancel","onCancel","onEscape","setModalRef","setModalContentRef","onFocusTransition","getFocusTransitionListeners"]),this.keyCommands=null,this.scroller=null,this.cancelButtonRef=r.createRef(),this.goButtonRef=r.createRef(),this.getFocusTransitionListeners=(0,l.A)(this.getFocusTransitionListeners),this.state={hasOverflow:null,scrolledToBottom:null,scrolledToTop:null}}},"DeprecatedBaseDialog");V.displayName="DeprecatedBaseDialog",V.propTypes=Ee,V.defaultProps=me;const x=c($=>({appPopoutsEnabled:(0,p.HM)($),clogger:(0,N.e)({state:$})}),"mapStateToProps"),S=c($=>({closeModal:ee=>$((0,f.O)(ee))}),"mapDispatchToProps"),U=c(($,ee,de)=>({...de,...ee,...$}),"mergeProps"),F=(0,_.N)(x,S,U,{forwardRef:!0})((0,h.A)(V)),z=r.forwardRef(($,ee)=>r.createElement(v.Mn.Consumer,null,de=>{let{windowRef:ie}=de;return r.createElement(F,le({ref:ee},$,{windowRef:ie}))}))},5331686899:(Q,C,e)=>{"use strict";e.d(C,{lw:()=>G,Ay:()=>j});var t=e(7752974446),n=e.n(t),s=e(3134334389),r=e(2562405183),d=e(9391594207),o=e(5255740490),a=e(2047021170),i=e(8525228540),m=e(8847766420),l=e(3829348308),_=e(3043682041),v=e(9599231336),u=e(735940183),h=e(8556787853),f=e(5799716058),p=e(4921059838),E=e(6795568989),g=e(3695531806),A=e(1563996154),y=e(1610251172),T=e(796111729);function M(){return M=Object.assign||function(w){for(var N=1;N<arguments.length;N++){var K=arguments[N];for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(w[J]=K[J])}return w},M.apply(this,arguments)}c(M,"_extends");function O(w){return class extends s.PureComponent{componentDidCatch(N,K){this.setState(()=>({hasError:!0})),(0,T.Wo)().error({label:"Error rendering emoji component",error:N,message:K})}render(){return this.state.hasError?s.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},s.createElement("img",{src:n()})):s.createElement(w,M({},this.props))}constructor(N){super(N),this.state={hasError:!1}}}}c(O,"withEmojiErrorBoundary"),O.displayName="withEmojiErrorBoundary";const I=O;var D=e(9580887194),P=e(8021873188),L=e(9936232041);function k(){return k=Object.assign||function(w){for(var N=1;N<arguments.length;N++){var K=arguments[N];for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(w[J]=K[J])}return w},k.apply(this,arguments)}c(k,"emoji_extends");const G={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},b=c(w=>{const N=(0,r.d4)(K=>{if(!w.isStandard)return w.url;var J;const Y=(J=w.sourceTeamId)!==null&&J!==void 0?J:(0,m.ZT)(K);return w.isStandard?(0,l.Ez)(K,{text:w.text||"",teamId:Y,emojiMode:(0,_.w)(K,{forceDisplay:!!w.forceDisplay}),emojiSize:G.XLARGE}):w.url});return s.createElement(W,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:G.LARGER,text:w.text,displayText:w.displayText,url:N||"",sourceTeamId:w.sourceTeamId,ariaLabel:w.ariaLabel,alt:w.alt,unicode:w.unicode,emojiNameFromText:w.emojiNameFromText,dispatch:w.dispatch,stopAnimations:w.stopAnimations,fallbackUrl:w.fallbackUrl,isStandard:w.isStandard})},"EmojiTooltipEmoji");b.displayName="EmojiTooltipEmoji";let W=c(class extends s.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return s.createElement(y.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:N}=this.state,{isImportAllowed:K,isStandard:J}=this.props;return K&&!J&&!N}renderEmojiElement(){const{text:N,displayText:K,url:J,emojiSize:Y,isEmojiInlineWithText:q,className:H,shouldFallbackOnLoadError:ne,fallbackUrl:te,ariaLabel:le,alt:he}=this.props,{isLoadError:Ie}=this.state,Ee=(0,o.A)("c-emoji",`c-emoji__${Y}`,H,{"c-emoji--inline":q}),me=le??(K&&(0,f.A)(K)),ce={"data-stringify-type":"emoji","data-stringify-emoji":N},X=this.isImportable()?this.handleEmojiImport:void 0;return q?s.createElement("span",{className:Ee,"data-qa":(Ie||!J)&&ne?"emoji-fallback":"emoji"},s.createElement("img",k({src:(Ie||!J)&&ne?te:J,onError:this.onLoadError,onContextMenu:X,"aria-label":me,alt:K},ce))):s.createElement("img",k({src:(Ie||!J)&&ne?te:J,onError:this.onLoadError,"aria-label":me,alt:he??K,className:Ee,onContextMenu:X,"data-qa":(Ie||!J)&&ne?"emoji-fallback":"emoji"},ce))}renderUnicodeAsEmoji(N){if(N&&(0,E.d)(N)){const{emojiSize:K}=this.props,J=(0,g.z)({codePointLikeString:N});return s.createElement("span",{className:(0,o.A)("c-emoji__unicode",{"c-emoji__unicode--large":K===G.LARGE})},J)}}renderTooltip(){const{renderAsText:N,displayText:K,text:J,isStandard:Y,url:q,unicode:H,sourceTeamId:ne,ariaLabel:te,alt:le,emojiNameFromText:he,stopAnimations:Ie,fallbackUrl:Ee,forceDisplay:me}=this.props;if(N)return K;const ce=Y?void 0:q;return s.createElement(s.Fragment,null,s.createElement("div",{className:"c-emoji__emoji-tooltip"},s.createElement(b,{text:J,displayText:K,url:ce,sourceTeamId:ne,ariaLabel:te,alt:le,unicode:H,emojiNameFromText:he,dispatch:this.props.dispatch,stopAnimations:Ie,fallbackUrl:Ee,isStandard:Y,forceDisplay:me})),K,this.isImportable()&&s.createElement(P.K,{emojiName:K,emojiUrl:q}))}render(){const{displayText:N,url:K,renderAsText:J,showTooltip:Y,iconInTextMode:q,renderEmojiFallback:H,unicode:ne,emojiNameFromText:te}=this.props;if(!K&&!N&&!ne)return null;if((J||!K)&&!H&&!ne)return q?this.renderIconFallback():N;if(ne&&!te){var le;return(le=this.renderUnicodeAsEmoji(ne))!==null&&le!==void 0?le:N}return Y?s.createElement(A.Ay,{tip:this.renderTooltip,delay:A.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(N){super(N),this.handleEmojiImport=K=>{if(K!=null&&K.altKey)return;const{url:J,dispatch:Y,displayText:q}=this.props;Y((0,D.a)({emojiName:q,emojiUrl:J,event:K}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");W.displayName="Emoji",W.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:G.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0};const B=c((w,N)=>{const{stopAnimations:K,forceDisplay:J,emojiSize:Y=G.MEDIUM,url:q,unicode:H}=N;let{text:ne}=N,te=(0,l.qJ)(w,H??"");te&&te.charAt(te.length-1)!==":"&&te.charAt(0)!==":"&&(te=`:${te}:`),ne=te||ne||"";let le=q;const he=(0,m.ZT)(w)||"",Ie=!(0,a.ty)(w,"a11y_animations"),Ee=K||Ie,me=(0,u.Yp)({teamOrEnterpriseId:he,recalc:!1}),ce=(0,i.bR)({state:w,locale:me,name:ne}),X=!J&&(0,v.P)(w),V=(0,L.A)(ne),x=(0,p.R)(w,V);if(!X&&!le){const F=(0,_.w)(w,{forceDisplay:!!J});var S;const Z=(S=N.sourceTeamId)!==null&&S!==void 0?S:he;le=(0,l.Ez)(w,{text:ne,parsedEmoji:V,teamId:Z,emojiMode:F,emojiSize:Y===G.LARGER?G.XLARGE:Y})||void 0}if(Ee&&!x){var U;le=(U=(0,h.Ay)(w,{url:le,stopAnimations:Ee,isEmoji:!0}))!==null&&U!==void 0?U:void 0}return{text:ne,url:le,renderAsText:X,emojiSize:Y,displayText:ce||"",stopAnimations:Ee,fallbackUrl:n(),isStandard:x,emojiNameFromText:te}},"mapStateToProps"),R={mapStateToProps:B},j=I((0,d.N)(B)(W))},1030162945:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>n,lw:()=>t.lw});var t=e(5331686899);const n=t.Ay},4899054948:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3134334389),n=e(9391594207),s=e(5255740490),r=e(3879245650),d=e(3202757386),o=e(4724591729),a=e(735940183),i=e(6084388622),m=e(8739505998),l=e(796111729),_=e(2786906754),v=e(9190452268),u=e(6968387112),h=e(7545496485);const p=c(I=>!!(0,h.w)(I).isWorkspace,"looksLikeWorkspaceState");var E=e(2229064554),g=e(8022922400),A=e(6338445630);const y=new a.Ay("error_boundary"),T="REB";let M=c(class extends t.Component{componentDidUpdate(D){this.state.hasError&&D.id!==this.props.id&&this.resetHasError()}componentDidCatch(D,P){let L=null;try{L=`${T}${(0,r.B)((0,g.A)(D.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:L}),()=>{var k,G;return(G=(k=this.props).onError)===null||G===void 0?void 0:G.call(k,D)}),!(0,o.Cu)()){const k=P.componentStack.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",D,L,k,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(D){D.preventDefault();let P=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,d.A)()?(P=(0,_.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${P} after hitting ErrorBoundary`),(0,A.Lz)().finally(()=>{window.location.href=P})):(this.props.logger.info("LEGACY",`Reloading at ${P} after hitting ErrorBoundary`),window.location.href=P)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const D=c(P=>{let{text:L,key:k}=P;return t.createElement(m.A,{href:`https://${(0,u.qF)()}/help/contact`,rel:"noopener noreferrer",key:k},L)},"renderLink");return this.state.errCode==="REBD7A8C1099"?y.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},D):y.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,D)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const D=(0,s.A)("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:D},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,y.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":y.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(E.A,{errCode:this.state.errCode}),t.createElement(i.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},y.t("Reload"))))}return this.props.children}constructor(D){super(D),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");M.displayName="ErrorBoundary";const O=(0,n.N)(I=>({logger:p(I)?(0,l.Ay)({state:I}):(0,l.Wo)(),telemeter:p(I)?(0,v.Cy)({state:I}):(0,v.rh)()}))(M)},2229064554:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(735940183);const s=new n.Ay("error_boundary");function r(d){let{errCode:o}=d;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},s.t("Error: "),o))}c(r,"ErrorCode")},3837503631:(Q,C,e)=>{"use strict";e.d(C,{H:()=>o,A:()=>a});var t=e(4899054948),n=e(3134334389);function s(){return s=Object.assign||function(i){for(var m=1;m<arguments.length;m++){var l=arguments[m];for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(i[_]=l[_])}return i},s.apply(this,arguments)}c(s,"_extends");const r=c(()=>null,"renderError"),o=c(i=>n.createElement(t.A,s({renderError:r},i)),"QuietErrorBoundary"),a=t.A},8022922400:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});const t=/\bA[A-Z0-9]{8,}\b/g,n=/\bB[A-Z0-9]{8,}\b/g,s=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,d=/\b(U|W)[A-Z0-9]{8,}\b/g,o=/\b[\d]{10}\.[\d]{6}\b/g,a=/\bS[A-Z0-9]{8,}\b/g,i=/\bT[A-Z0-9]{8,}\b/g;function m(l){return String(l).replace(t,"[APP_ID]").replace(n,"[BOT_ID]").replace(s,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(d,"[MEMBER_ID]").replace(o,"[MESSAGE_TS]").replace(a,"[USER_GROUP_ID]").replace(i,"[TEAM_ID]")}c(m,"normalizeError")},3216205233:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(2375333597),s=e(1031947056),r=e(8300007136),d=e(9003400431),o=e(980293773),a=e(735940183);const i=new a.Ay("request_access_done"),m=c(()=>{const u=(0,r.wA)(),h=(0,t.useCallback)(()=>{u((0,d.O)())},[u]),f=i.t("Request sent"),p=i.t("You\u2019ll be notified once it\u2019s been shared with you"),E=i.t("Done");return t.createElement(o.dW,{closeModal:h,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(o.rQ,null,t.createElement(o.Rc,null,t.createElement("h2",null,f))),t.createElement(o.$m,null,t.createElement(o.qf,null,p)),t.createElement(o.jl,null,t.createElement(o.ox,null,t.createElement(o.s_,{type:"primary",onClick:h},E))))},"RequestAccessDoneModal");m.displayName="RequestAccessDoneModal";const l=m,_=(0,s.Ay)("Opens the Request Access Done confirmation modal in client",(u,h)=>{u((0,n.q)({element:t.createElement(l,null)}))});_.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};const v=_},4492997969:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(2375333597),s=e(1031947056),r=e(8300007136),d=e(9003400431),o=e(8739505998),a=e(735940183),i=e(6968387112),m=e(980293773);const l=new a.Ay("request_access_error"),_=c(()=>{const f=(0,r.wA)(),p=(0,t.useCallback)(()=>{f((0,d.O)())},[f]),E=l.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,g=>{let{tag:A,text:y}=g;return t.createElement(o.A,{key:A,target:"_blank",href:`https://${(0,i.qF)()}/help/requests/new`},y)});return t.createElement(m.dW,{closeModal:p,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(m.rQ,null,t.createElement(m.Rc,null,t.createElement("h2",null,l.t("Error")))),t.createElement(m.$m,null,t.createElement(m.qf,null,E)),t.createElement(m.jl,null,t.createElement(m.ox,null,t.createElement(m.s_,{type:"danger",onClick:p},l.t("Close")))))},"RequestAccessErrorModal");_.displayName="RequestAccessErrorModal";const v=_,u=(0,s.Ay)("Opens the Request Access Done confirmation modal in client",(f,p)=>{f((0,n.q)({element:t.createElement(v,null)}))});u.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};const h=u},5604079762:(Q,C,e)=>{"use strict";e.d(C,{A:()=>D});var t=e(9706240641),n=e(1031947056),s=e(6801073238),r=e(9899967630),d=e(3134334389),o=e(2375333597),a=e(8300007136),i=e(9003400431),m=e(980293773),l=e(4481313819),_=e(6244014364),v=e(735940183),u=e(6084388622),h=e(3216205233),f=e(4492997969);const p=new v.Ay("request_access_done"),E={uiComponentName:_.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},g={uiComponentName:_.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},A=c(P=>{let{fileId:L}=P;const[k,G]=(0,d.useState)(!1),[b,W]=(0,d.useState)(!1),B=(0,a.wA)(),R=(0,d.useCallback)(()=>(B((0,i.O)()),!1),[B]),j=(0,d.useCallback)(()=>{W(!1),B((0,s.x)({fileId:L,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>B((0,h.A)())).catch(()=>{B((0,f.A)())}),G(!0)},[B,L]),w=p.t("You don\u2019t have access"),N=p.t("Collaborators can grant you access"),K=p.t("Cancel"),J=p.t("Request access");return d.createElement(l.A,{eventId:_.EventId.QUIP_PERMISSIONS_REQUEST,elementType:_.ElementType.MODAL},d.createElement(m.dW,{closeModal:R,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},d.createElement(m.rQ,null,d.createElement(m.Rc,null,d.createElement("h2",null,w))),d.createElement(m.$m,null,d.createElement(m.qf,null,N)),d.createElement(m.jl,null,d.createElement(m.ox,null,d.createElement(m.s_,{type:"outline",onClick:R,"data-qa":"canvas_request_cancel_button",autoClogProps:E},K),d.createElement(u.lV,{type:"primary",onClick:j,loading:b,"data-qa":"canvas_request_access_button",disabled:k,autoClogProps:g},J)))))},"CustomizedRequestAccessModal");A.displayName="CustomizedRequestAccessModal";const y=A,T=(0,n.Ay)("Opens the Request Access Done confirmation modal in client",(P,L,k)=>{let{fileId:G}=k;P((0,o.q)({element:d.createElement(y,{fileId:G})}))});T.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"};const M=T;var O=e(8257102208);const I=(0,n.Ay)('Opens the "Request Access" modal',function(){var P=(0,t.coroutine)(function*(L,k,G){let{fileId:b,url:W,skipConfirmation:B,skipDoneDialog:R}=G,j;if(!b&&W){const w=(0,r.cR)(k(),W),N=(0,O.$q)(k(),W);w!==null&&(j=w),N!==null&&(j=N)}else b&&(j=b);j&&(B?L((0,s.x)({fileId:j,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{R||L((0,h.A)())}).catch(()=>{L((0,f.A)())}):L(M({fileId:j})))});return function(L,k,G){return P.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};const D=I},5141066605:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(735940183),n=e(5549390246),s=e(4761125736);const r=new t.Ay("files");function d(o,a){if(!o.is_external)return null;if((0,s._Z)(a,"file_consistency")==="treatment"){let m="File";switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":m=r.t("Google Sheet");break;case"gdoc":m=r.t("Google Doc");break;case"gpres":m=r.t("Google Slide");break;case"gdraw":m=r.t("Google Drawing");break;default:m=r.t("Google {fileType}",{fileType:o.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":m=r.t("{fileType}",{fileType:o.pretty_type});break;default:m=r.t("File")}return m}switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:o.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:o.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:o.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:o.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:o.pretty_type,appName:(0,n.Y)(a,o)||""});default:return r.t("File")}}c(d,"getExternalFiletypeDescription")},8642919232:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(8950789382),d=e(8677230210);const o=(0,s.Ay)("Opens a member profile in a tile",function(){var i=(0,t.coroutine)(function*(m,l,_){(0,d.wC)(l(),_)&&m((0,r.s)({viewId:"rimeto_profile",params:{memberId:_}}))});return function(m,l,_){return i.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkopenProfileInWindow",description:"Opens a member profile in a tile"};const a=o},6565762531:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&n!=="-")}c(t,"isValidFieldValue")},7969928607:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5734673180),s=e(647040695),r=e(1030162945),d=e(6818330210);function o(i){let{text:m="",inputIsEscaped:l=!1,emojiSize:_=r.lw.SMALL,showTooltips:v=!0,stopAnimations:u=!1,emojiDisplayInfo:h={}}=i;const f=[];let p=0;const E=l?(0,n.A)(m??""):m??"";if(E.replace((0,s.A)(),(g,A,y)=>{if(y>p){const O=E.slice(p,y);f.push(t.createElement(t.Fragment,{key:`${y}-${O}`},O))}const{name:T=g,url:M=void 0}=(0,d.H)(g,h);return f.push(t.createElement(r.Ay,{text:T,emojiSize:_,key:`${y}-${T}`,showTooltip:v,stopAnimations:u,isEmojiInlineWithText:!0,url:M})),p=y+g.length,""}),!f.length)return t.createElement(t.Fragment,null,E);if(p<E.length){const g=E.substr(p);f.push(t.createElement(t.Fragment,{key:`last-${g}`},g))}return t.createElement(t.Fragment,null,f)}c(o,"FormatTextWithEmoji"),o.displayName="FormatTextWithEmoji";const a=t.memo(o)},6159136815:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5734673180),s=e(7969928607);const r=/\ue000([^\ue001]*)\ue001/g;function d(a){let{text:i="",inputIsEscaped:m=!1,showTooltips:l=!0,stopAnimations:_=!1}=a;const v=[];let u=0;const h=m?(0,n.A)(i??""):i??"";if(h.replace(r,(f,p,E)=>{if(E>u){const g=h.slice(u,E);v.push(t.createElement(s.A,{key:`${E}-${g}`,text:g,showTooltips:l,inputIsEscaped:m,stopAnimations:_}))}v.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${E}-${p}`},t.createElement(s.A,{text:p,showTooltips:l,inputIsEscaped:m,stopAnimations:_}))),u=E+f.length}),!v.length&&i)return t.createElement(t.Fragment,null,t.createElement(s.A,{text:i,showTooltips:l,inputIsEscaped:m,stopAnimations:_}));if(i&&u<i.length){const f=h.substr(u);v.push(t.createElement(s.A,{key:`last-${f}`,text:f,showTooltips:l,inputIsEscaped:m,stopAnimations:_}))}return t.createElement(t.Fragment,null,v)}c(d,"FormatTextWithHighlightMarkers"),d.displayName="FormatTextWithHighlightMarkers";const o=t.memo(d)},1743656885:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8951118047);const n=t.A},8481467080:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u,U:()=>f});var t=e(9552526132),n=e(2927826522),s=e(796111729),r=e(3398586081);const d=c(p=>{const{functionTriggerId:E,workflowId:g,title:A,description:y,isWorkflowApp:T,salesHomeWorkflowAppType:M,owningTeamId:O,developerTraceId:I,botUserId:D,appCollaborators:P,appId:L,shareUrl:k}=(0,n.t)(p);return{triggerId:E,workflowId:g,title:A,description:y,isWorkflowApp:T,salesHomeWorkflowAppType:M,owningTeamId:O,developerTraceId:I,botUserId:D,appCollaborators:P,appId:L,shareUrl:k}},"getCommonMetadataFromBlock"),o=c(p=>p.url?{...d(p),triggerType:t.M.Shortcut,url:p.url}:{...d(p),triggerType:t.M.Shortcut,url:""},"createLinkShortcutFromBlock"),a=c(p=>({...d(p),triggerType:t.M.Webhook}),"createWebhookShortcutFromBlock"),i=c(p=>({...d(p),triggerType:t.M.External}),"createExternalShortcutFromBlock"),m=c(p=>({...d(p),triggerType:t.M.Service,serviceName:p.serviceName}),"createServiceShortcutFromBlock"),l=c(p=>{const{triggerSubtype:E}=p,g={eventType:E||""};return{...d(p),triggerType:t.M.Event,event:g}},"createEventShortcutFromBlock"),_=c(p=>d(p),"createUnknownShortcutFromBlock"),v=c(p=>{const E={startTime:""};return{...d(p),triggerType:t.M.Scheduled,schedule:E}},"createScheduledShortcutFromBlock"),u=c(p=>{switch(p.triggerType){case t.M.Event:return l(p);case t.M.Scheduled:return v(p);case t.M.Shortcut:return o(p);case t.M.Webhook:return a(p);case t.M.External:return i(p);case t.M.Service:return m(p);case void 0:return o(p);default:return _(p)}},"createShortcutFromBlock"),h=c(p=>{try{return JSON.stringify(p)}catch(E){throw(0,s.Wo)().error("stringify failed for workflow/trigger obj shortcut info"),E}},"memoizeCacheKeyResolver"),f=(0,r.A)(u,h)},3799600789:(Q,C,e)=>{"use strict";e.d(C,{V:()=>E,j:()=>f});var t=e(3398586081),n=e(3126601217),s=e(9552526132),r=e(2927826522),d=e(796111729),o=e(3906734293);const a=c((g,A,y)=>{var T,M,O,I;return{triggerId:(g==null?void 0:g.id)||"",workflowId:(g==null?void 0:g.workflow.workflow_id)||(A==null?void 0:A.id),isWorkflowPublished:(g==null||(T=g.workflow_details)===null||T===void 0?void 0:T.is_published)||(A==null?void 0:A.is_published),appId:(g==null?void 0:g.workflow.app_id)||((M=g==null?void 0:g.workflow.app)===null||M===void 0?void 0:M.id),app:g==null?void 0:g.workflow.app,inputs:g==null?void 0:g.inputs,owningTeamId:g==null?void 0:g.owning_team_id,isWorkflowApp:(O=g==null?void 0:g.workflow.app)===null||O===void 0?void 0:O.is_workflow_app,salesHomeWorkflowAppType:(I=g==null?void 0:g.workflow.app)===null||I===void 0?void 0:I.sales_home_workflow_app_type,title:(g==null?void 0:g.name)||(g==null?void 0:g.workflow.title)||(A==null?void 0:A.title)||(y==null?void 0:y.title),workflowDetails:g==null?void 0:g.workflow_details,description:(g==null?void 0:g.description)||(g==null?void 0:g.workflow.description)||(A==null?void 0:A.description)||(y==null?void 0:y.description),appCollaborators:(A==null?void 0:A.collaborators)||(y==null?void 0:y.appCollaborators),shareUrl:(g==null?void 0:g.share_url)||(y==null?void 0:y.shareUrl)}},"getCommonMetadataFromTriggerAndWorkflow"),i=c((g,A,y)=>({...a(g,A,y),triggerType:s.M.Shortcut,url:g.shortcut_url}),"createLinkShortcut"),m=c((g,A,y)=>({...a(g,A,y),triggerType:s.M.Webhook}),"createWebhookShortcut"),l=c((g,A,y)=>({...a(g,A,y),triggerType:s.M.External,subtype:g.subtype}),"createExternalShortcut"),_=c((g,A,y)=>{const{eventType:T,channelIds:M,teamIds:O,filter:I}=(0,r.t)(g),D={eventType:T,channelIds:M,teamIds:O,filter:I};return{...a(g,A,y),triggerType:s.M.Event,event:D}},"createEventShortcut"),v=c((g,A,y)=>{const T=(0,r.t)(g.schedule);return{...a(g,A,y),triggerType:s.M.Scheduled,schedule:T}},"createScheduledShortcut"),u=c((g,A,y)=>{var T,M,O;return{...a(g,A,y),triggerType:s.M.Service,serviceName:(O=(M=g==null||(T=g.service_config)===null||T===void 0?void 0:T.function.app)===null||M===void 0?void 0:M.name)!==null&&O!==void 0?O:""}},"createServiceShortcut"),h=c((g,A,y)=>a(g,A,y),"createUnknownShortcut"),f=c(g=>{let{passedShortcutInfo:A,trigger:y,workflow:T}=g;return(0,o.G)(y)?(0,n.BI)(y)?i(y,T,A):(0,n.QW)(y)?_(y,T,A):(0,n.uS)(y)?v(y,T,A):(0,n.A4)(y)?l(y,T,A):(0,n.cS)(y)?m(y,T,A):(0,n.O4)(y)?u(y,T,A):h(y,T,A):h(void 0,T,A)},"createShortcutFromTriggerAndWorkflow"),p=c(g=>{try{return JSON.stringify(g)}catch(A){throw(0,d.Wo)().error("stringify failed for workflow/trigger obj shortcut info"),A}},"memoizeCacheKeyResolver"),E=(0,t.A)(f,p)},8808892924:(Q,C,e)=>{"use strict";e.d(C,{i:()=>P});var t=e(3134334389),n=e(8212623464),s=e(5255740490),r=e(7715417323),d=e(3391133100),o=e(2562405183),a=e(8847766420),i=e(3288846409),m=e(6533394955),l=e(6470070112),_=e(4775127335),v=e(1563996154),u=e(5286203919),h=e(1766818988),f=e(9548972574),p=e(8683010724),E=e(543174729);const g=t.memo(L=>{let{id:k}=L;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:k,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var A=e(1407713935),y=e(9101533895),T=e(796111729);function M(){return M=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var G=arguments[k];for(var b in G)Object.prototype.hasOwnProperty.call(G,b)&&(L[b]=G[b])}return L},M.apply(this,arguments)}c(M,"_extends");const O=2;function I(L){let{channelId:k,withTooltip:G,className:b,excludeIcon:W,excludeMemberOverflowCount:B,maxMembers:R=O,avatarSize:j=_.RG.verySmall,includeChannelNameInTooltip:w=!1,excludeSelf:N=!1}=L;const K=(0,t.useMemo)(()=>`huddles-mask-${(0,d.r9)()}`,[]),J=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${K})`,"--huddles-avatar-size":`${j}px`}),[K,j]),Y=(0,o.d4)(S=>(0,l.pt)(S)||(0,h.s)(S)),q=(0,o.d4)(S=>(0,y.OL)(S,k)),H=(0,i.cw)(u.hc),ne=(0,i.cw)(u.vO),le=H===k&&(0,l.pZ)(ne),he=(0,o.Z2)(S=>(0,f.A7)(S,k,N)),Ie=he.length,Ee=Ie>R,me=Ee?Ie-2:0,ce=Ee?he.slice(0,R):he,X=(0,t.useMemo)(()=>{const S=w&&!(0,A.PC)(q),U=t.createElement(E.A,{channelId:k,includeChannelName:S});return U||(0,T.Wo)().info("HUDDLE-FACEPILE",`channelId: ${k}, includeChannelName: ${S}`),U},[k,w,q]);if(!Y||!Ie)return null;const V=t.createElement("div",{className:(0,s.A)("p-huddle_avatar_stack",b),"data-qa":"huddle_avatar_stack__avatars_container",style:J},t.createElement(g,{id:K}),!W&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(p.A,{name:"headphones",size:"18"})),ce.map((S,U)=>t.createElement(_.Ay,{key:S,"data-qa":"huddle_avatar_stack__member",className:(0,s.A)("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":U===0}),userId:S,size:j,renderCustomBadge:r.A,isInteractive:!1})),!B&&Ee&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${me}`)),x=G&&X?t.createElement(v.Ay,{tip:X},V):V;return le?null:x}c(I,"HuddleAvatarStackContent"),I.displayName="HuddleAvatarStackContent";const D=t.memo(I),P=t.memo(L=>{const{channelId:k}=L,G=(0,o.d4)(R=>(0,f.LY)(R,k)),b=(0,i.cw)(u.l4),W=(0,i.cw)(u.hc),B=(0,o.d4)(a.ZT);if(!G)return null;if(W===k){const R=(0,m.getStoreInstanceByTeamId)(b||B);return t.createElement(n.Kq,{store:R},t.createElement(D,M({},L)))}return t.createElement(D,M({},L))})},3496486794:(Q,C,e)=>{"use strict";e.d(C,{A:()=>N,g:()=>j});var t=e(3134334389),n=e(735940183),s=e(9679390338),r=e.n(s),d=e(4553218033),o=e.n(d),a=e(5475210953),i=e.n(a),m=e(7485089530),l=e.n(m),_=e(3342291988),v=e.n(_),u=e(9631995895),h=e.n(u),f=e(5908540923),p=e.n(f),E=e(553949882),g=e.n(E),A=e(7000154057),y=e.n(A),T=e(1672115571),M=e.n(T),O=e(7234375712),I=e.n(O),D=e(4136357865),P=e.n(D),L=e(8514307482),k=e.n(L),G=e(5738074488),b=e.n(G),W=e(3607863955),B=e.n(W);const R=new n.Ay("huddles"),j=[{key:"NONE",preview:p()},{key:"BLUR",preview:p()},{key:"LIVING_ROOM",url:b(),preview:B()},{key:"REMOTE_WORK",url:P(),preview:k()},{key:"TOKYO_SIGHT",url:M(),preview:I()},{key:"GYM",url:g(),preview:y()},{key:"HOME",url:v(),preview:h()},{key:"OFFICE",url:i(),preview:l()},{key:"BEACH",url:r(),preview:o()}],N=c(()=>(0,t.useMemo)(()=>j.map(J=>{let Y,q;switch(J.key){case"NONE":Y=R.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":Y=R.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":Y=R.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),q=R.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":Y=R.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),q=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":Y=R.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),q=R.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":Y=R.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),q=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":Y=R.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":Y=R.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":Y=R.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:Y="NO_NAME",q="NO_DESCRIPTION"}return{...J,name:Y,description:q}}),[]),"useGetVideoBackgrounds")},5203103513:(Q,C,e)=>{"use strict";e.d(C,{Mz:()=>s,NY:()=>r,VW:()=>n,_q:()=>t});const t="huddles_play_music_when_last",n="huddles_play_music_timeout",s="huddles_music_player_song_key",r="calendar_huddles_default_access_policy"},3622858354:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(7969928607),s=e(1030162945);const r=c(o=>{let{text:a,emojiSize:i=s.lw.SMALL}=o;return t.createElement(t.Fragment,null,t.createElement(n.A,{text:a,emojiSize:i}))},"FormattedHuddleTopic");r.displayName="FormattedHuddleTopic";const d=r},7723800688:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_,Hi:()=>m,uV:()=>l});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(3288846409),d=e(6251210828),o=e(8239363237),a=e(5286203919),i=e(6470070112),m;(function(v){v.CANVAS_OPEN="canvas_open",v.CANVAS_JOIN="canvas_join",v.CANVAS_LEAVE="canvas_leave",v.CANVAS_TOOLBAR="canvas_toolbar",v.EMOJI_PICKER_OPEN="emoji_picker_open",v.EMOJI_SENT="emoji_sent",v.LINK_OPEN="link_open",v.FOCUS_OPEN="focus_open",v.FOCUS_CLOSE="focus_close",v.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",v.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",v.MINI_PLAYER_VIEW_START="mini_player_view_start",v.MINI_PLAYER_VIEW_END="mini_player_view_end",v.SCREENSHARE_START="screenshare_start",v.SCREENSHARE_END="screenshare_end",v.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",v.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",v.THREAD_WINDOW_VIEW_START="thread_window_view_start",v.THREAD_WINDOW_VIEW_END="thread_window_view_end",v.THREAD_OPEN="thread_open",v.THREAD_CLOSE="thread_close",v.SELF_VIDEO="self_video",v.WINDOW_COMPACT_VIEW_START="window_compact_view_start",v.WINDOW_COMPACT_VIEW_END="window_compact_view_end",v.WINDOW_FULL_VIEW_START="window_full_view_start",v.WINDOW_FULL_VIEW_END="window_full_view_end",v.WINDOW_RESIZE_BUTTON="window_resize_button",v.BACKGROUND_CHANGED="background_changed",v.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",v.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",v.CAPTIONS_START="huddles_captions_start",v.CAPTIONS_STOP="huddles_captions_stop",v.INVITATION_SENT="invitation_sent",v.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",v.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",v.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",v.NOTES_OPEN="notes_open",v.NOTES_CLOSE="notes_close",v.CHANNEL_SPACE_OPEN="channel_space_open",v.CHANNEL_SPACE_CLOSE="channel_space_close",v.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(m||(m={}));var l;(function(v){v.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",v.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",v.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",v.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",v.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",v.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",v.CANVAS_WINDOW="canvas_window",v.LEAVE_CALL="leave_call",v.CLOSE_MODAL="close_modal",v.EMOJI_PICKER="emoji_picker",v.JUKEBOX_MENU="jukebox_menu",v.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",v.REACTION_BUBBLE="reaction_bubble",v.CHANGE_BACKGROUND_DIALOG="change_background_dialog",v.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",v.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",v.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(l||(l={}));function _(){const v=(0,r.cw)(a.E9),u=(0,s.Z2)(A=>(0,i.$t)(A,{huddleId:v})),h=(0,r.cw)(i.kn,n.bN),f=(0,r.cw)(i.UE,n.bN),p=(0,s.d4)(A=>(0,d.Ec)(A,{huddleId:v})),E=(0,s.d4)(o.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:u.canvas_thread_channel_id,canvasThreadId:u.canvas_thread_id,canvasHuddleSessionId:h.canvas_huddle_session_id,callsRoomId:f.room_id,callsChannelId:f.channel_id,uiPage:p?p.toString():null,fileId:E}),[u.canvas_thread_channel_id,u.canvas_thread_id,h.canvas_huddle_session_id,f.room_id,f.channel_id,p,E])}c(_,"useHuddleClogContext")},4233000497:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d,H:()=>r});var t=e(3134334389),n=e(2562405183),s=e(6470070112),r;(function(o){o.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",o.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",o.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(r||(r={}));function d(o){const a=(0,n.Z2)(i=>o?(0,s.w1)(i,o):{});return(0,t.useMemo)(()=>({callsChannelId:a.channel_id,callsChannelType:a.channel_type,callsNumParticipants:a.num_participants,callsRoomId:a.room_id}),[a.channel_id,a.channel_type,a.num_participants,a.room_id])}c(d,"useHuddlesClogContext")},4385664584:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(8212623464),s=e(5950652755);const r=c(o=>{let{store:a,children:i}=o;const m=(0,t.useMemo)(()=>({...a,subscribe:l=>a.subscribeImmediate((0,s.A)(l,16))}),[a]);return t.createElement(n.Kq,{store:m}," ",i," ")},"BackgroundableProvider");r.displayName="BackgroundableProvider";const d=r},543174729:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T,z:()=>y});var t=e(3134334389),n=e(2562405183),s=e(4394722864),r=e(9548972574),d=e(1766818988),o=e(4742719639),a=e(5795074931),i=e(4775127335),m=e(3622858354),l=e(6470070112),_=e(3534324375),v=e(8701485242),u=e(735940183),h=e(9101533895),f=e(9884588328),p=e(796111729);const E=new u.Ay("huddles"),g=5,A=8,y=c(M=>{let{channelId:O}=M;const I=(0,n.Z2)(k=>(0,r.A7)(k,O,!1)),D=I.length,P=D>g,L=P?I.slice(0,g):I;return D===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},L.map((k,G)=>{const b=G===L.length-1;return t.createElement("div",{key:k,className:"p-huddle_channel_tooltip__avatar_container",style:{width:b?"auto":i.RG.medium-A}},t.createElement(i.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:k,size:i.RG.medium,renderCustomBadge:s.Q,isInteractive:!1,additionalOverlay:P&&b?D-L.length+1:void 0}))}))},"HuddleTooltipAvatarStack");y.displayName="HuddleTooltipAvatarStack";function T(M){let{channelId:O,includeChannelName:I=!1}=M;const D=(0,n.d4)(J=>(0,h.OL)(J,O)),P=(0,n.d4)(J=>{const Y=(0,l.Bn)(J,D),q=(0,d.s)(J),H=Y||q;return H||(0,p.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${H}, doesChannelSupportHuddles: ${Y}, isHuddlesEnabledForSponsoredTeam: ${q}`),H}),L=(0,n.d4)(a.WR),k=(0,n.Z2)(J=>(0,r.ft)(J,O)),G=(0,n.d4)(l.df),b=(0,f.Mn)(D),W=k.length,R=W>g?k.slice(0,g):k,j=(0,n.Z2)(J=>R.map(Y=>({id:Y.id,name:Y.id===L?E.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"a11y"}):(0,_.sE)(J,Y)})).sort((Y,q)=>Y.id===L?1:q.id===L?-1:(0,v.Ay)(Y.name,q.name)).map(Y=>{let{name:q}=Y;return q})),w=(0,n.d4)(J=>(0,o.o)(J,O)),N=(0,t.useMemo)(()=>I?j.length===1?k[0].id===L?E.rt("Just you in the huddle #{channelName}",{fallbackHash:"9c06151657f5f165820e8137ffe359a9f128d6a4",channelName:b}):E.rt("{name} is in the huddle #{channelName}",{name:j[0],fallbackHash:"296abf823386caa202e6d84323121c5454a50ff0",channelName:b}):E.rt("{memberCount} people in the huddle #{channelName}",{memberCount:W,fallbackHash:"d8a4c5ef1bc88840241821fced733296db51cc36",channelName:b}):j.length===1?k[0].id===L?E.rt("Just you in the huddle"):E.rt("{name} is in the huddle",{name:j[0]}):E.rt("{memberCount} people in the huddle",{memberCount:W}),[I,j,W,b,k,L]);let K=w!=null&&w.trim()?t.createElement(m.A,{text:w}):null;return k.length>=G&&(K=E.t("Only {maxParticipants} people can join a huddle",{maxParticipants:G})),P?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(y,{channelId:O}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},K),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},N)):null}c(T,"HuddleChannelTooltip")},9477894139:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,g:()=>i});var t=e(3134334389),n=e(8300007136),s=e(5253428843),r=e(9712681361),d=e(3837503631),o=e(2825968873);const a=(0,o.tZ)("HUDDLE-ERROR");var i;(function(l){l.Huddles="huddles",l.Sidebar="huddles_pro_max-sidebar",l.Flexpane="huddles_pro_max-flexpane",l.CompactWindow="huddles_pro_max-compact_window",l.LargeWindow="huddles_pro_max-large_window",l.WindowFooter="huddles_pro_max-window_footer",l.AlertBanner="huddles_pro_max-alert_banner",l.InviteWindow="huddles_invite_window",l.ControlStripButton="huddles_control_strip_button",l.ChannelHeader="huddles_channel_header",l.Composer="huddles_composer",l.HuddleSpecialReactions="huddle_special_reactions"})(i||(i={}));function m(l){let{children:_,onError:v,isQuiet:u=!0,shouldStopHuddle:h=!1,subtype:f=i.Huddles}=l;const p=(0,n.wA)(),E=(0,t.useCallback)(()=>{h&&p((0,s.A)({terminalState:r.M6.ClientUIError}))},[p,h]),g=(0,t.useCallback)(y=>{a.error(`${f} ${y}`),v?v():E()},[E,v,f]),A=u?d.H:d.A;return t.createElement(A,{subtype:f,onError:g},_)}c(m,"HuddleErrorBoundary")},4695727674:(Q,C,e)=>{"use strict";e.d(C,{A:()=>J});var t=e(3134334389),n=e(8300007136),s=e(462591818),r=e(2562405183),d=e(825587348),o=e(8739505998),a=e(6470070112),i=e(9712681361),m=e(735940183),l=e(5363983309),_=e(9101533895),v=e(9884588328),u=e(5881236351),h=e(5286203919),f=e(3037015781),p=e(2350349607),E=e(3288846409),g=e(5332875232),A=e(3677514771),y=e(6839188756),T=e(6323355797),M=e(7914553163),O=e(4096483543),I=e(6533394955),D=e(3810478625),P=e(2279207117),L=e(8193414630),k=e(3245843483);function G(Y,q,H){const ne=(0,I.getStoreInstanceByTeamId)(H);if(!ne)return null;const te=(0,O.A)(),le=(0,D.g)(ne.getState());if(!Y||Y===M.MX.TrialFetching)return null;const he=(0,P.FK)(Y,le);switch(Y){case M.MX.TrialIneligible:return{text:he,onClick:()=>{(0,k.Pxz)((0,T.m6)(ne.getState()))}};case M.MX.TrialEligible:return{text:he,onClick:(0,P.w9)(ne.dispatch,q,Y)};case M.MX.TrialIneligibleUserCannotUpgrade:return{text:he,onClick:()=>{(0,k.Pxz)((0,P.aD)(Y))}};case M.MX.TrialTeam:return{text:he,onClick:()=>{if(te){(0,P.uY)(ne.dispatch)();return}(0,k.Pxz)((0,P.aD)(Y))}};case M.MX.TrialExpiry:return{text:he,onClick:()=>{(0,k.Pxz)((0,T.m6)(ne.getState(),{action:T.um.CHECKOUT}))}};default:(0,L.Kh)(Y)}}c(G,"freemiumPrimaryCtaAttributes");var b=e(8847766420);const W=new m.Ay("huddles");function B(Y){let{closeModal:q}=Y;const H=T.zG.Vhq,ne=(0,M.Ay)({promoSubtype:H}),te=(0,r.d4)(b.ZT)||"",le=(0,t.useMemo)(()=>G(ne,H,te),[ne,H,te]),he=(0,t.useCallback)(()=>{le==null||le.onClick(),q==null||q()},[le,q]);return!le||ne!==M.MX.TrialEligible&&ne!==M.MX.TrialIneligible&&ne!==M.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(d.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:q,onCancel:q,onSubmit:he,showCancelButton:!0,cancelButtonText:W.t("Dismiss"),showSubmitButton:!0,title:W.t("Your huddle has ended"),submitButtonText:le.text},W.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}c(B,"HuddleTimeLimitReachedModal"),B.displayName="HuddleTimeLimitReachedModal";const R=new m.Ay("huddles");function j(Y){let{errorCode:q,isJoinError:H,closeModal:ne}=Y;var te;const le=(0,n.wA)(),he=(te=(0,E.cw)(h.Qn))===null||te===void 0?void 0:te.channelId,Ie=(0,r.d4)(g.TM),Ee=(0,r.d4)(de=>(0,_.OL)(de,he)),me=(0,r.d4)(de=>(0,f.uz)(Ee)?(0,v.SB)(de,Ee,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),ce=(0,r.d4)(a.df),X=R.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:ce}),V=(0,t.useCallback)(()=>{le((0,u.RX)())},[le]),x=(0,t.useCallback)(()=>{le((0,u.e$)())},[le]),S=(0,p.V)(Ee),U=(0,r.d4)(A.H7),F=c(de=>t.createElement(o.A,{target:"_blank",href:`${(0,y.Zl)(U)}help/requests/new`},de),"renderContactUsLink");if(!(0,r.d4)(a.pl)&&!Ie)return null;if(q===i.M6.FreemiumMaxParticipants)return V(),null;const z=(()=>{switch(q){case i.M6.MaxParticipants:return X;case i.M6.AudioJoinedFromAnotherDevice:return R.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case i.M6.ChimeMeetingEnded:return H?R.rt("The Huddle has ended."):S?R.rt("We ended the huddle since you were the only one there for a bit."):R.rt("We ended your huddle since you were the only one there for a bit.");case i.M6.PermissionDenied:return Ie?R.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case s.uZ.CallEnded:return R.rt("The Huddle has ended.");case i.M6.DeviceLocked:return R.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,de=>{let{text:ie,tag:ue}=de;return ue==="a"?t.createElement(o.A,{onClick:x},ie):null});case i.M6.FailedStartingRecording:case i.M6.FailedResumingRecording:return R.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case i.M6.FailedStartingRecordingUser:case i.M6.FailedResumingRecordingUser:return R.rt("It looks like not everyone on this huddle has access to this feature just yet.");case i.M6.FailedPausingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,de=>{let{text:ie,tag:ue}=de;return ue==="a"?F(ie):null});case i.M6.FailedDeletingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,de=>{let{text:ie,tag:ue}=de;return ue==="a"?F(ie):null});default:return R.rt("You\u2019ll have to go back and give it another try.")}})(),$=(()=>H?R.t("Can\u2019t join the huddle"):q===i.M6.AudioJoinedFromAnotherDevice?R.t("You\u2019ve joined the huddle on a different device"):q===i.M6.ChimeMeetingEnded&&!H?S?R.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:me}):R.t("You\u2019re no longer in a huddle"):q===i.M6.DeviceLocked?R.t("You\u2019re no longer in a huddle"):q===i.M6.FailedStartingRecording||q===i.M6.FailedStartingRecordingUser?R.rt("Couldn\u2019t start Slack AI notes"):q===i.M6.FailedResumingRecording||q===i.M6.FailedResumingRecordingUser?R.rt("Couldn\u2019t resume Slack AI notes"):q===i.M6.FailedPausingRecording?R.rt("Couldn\u2019t stop Slack AI notes"):q===i.M6.FailedDeletingRecording?R.rt("Couldn\u2019t delete Slack AI notes"):R.t("Something went wrong with your huddle"))(),ee=(()=>q===i.M6.AudioInputStreamEnded||q===i.M6.MaxParticipants||q===i.M6.ChimeMeetingEnded&&!H?R.t("Got It"):R.t("OK"))();return t.createElement(d.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:ne,onSubmit:ne,showCancelButton:!1,showSubmitButton:!0,title:$,submitButtonText:ee},z)}c(j,"HuddleErrorModal"),j.displayName="HuddleErrorModal";const w={HuddleErrorModal:j},N="huddle_error_modal";function K(Y){switch(Y.errorCode){case i.M6.ChimeMeetingEndedFromTimeLimit:return B(Y);default:return j(Y)}}c(K,"HuddleErrorModalManager");const J=(0,l.A)(K,{modalName:N,allowMultiple:!1,isStackable:!0})},5933621899:(Q,C,e)=>{"use strict";e.d(C,{Wx:()=>w,YM:()=>b});var t=e(2003990933),n=e(3134334389),s=e(8300007136),r=e(735940183),d=e(2562405183),o=e(825587348),a=e(5363983309),i=e(1407713935),m=e(9101533895),l=e(8661826718),_=e(8286248123),v=e(1779488764),u=e.n(v),h=e(7268021173),f=e(3677514771),p=e(6839188756),E=e(8871937520),g=e(6244014364),A=e(4481313819),y=e(7003004874),T=e(6259241484),M=e(4902318931),O=e(2938177083),I=e(1273480023),D=e(3810478625);function P(){return P=Object.assign||function(N){for(var K=1;K<arguments.length;K++){var J=arguments[K];for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&(N[Y]=J[Y])}return N},P.apply(this,arguments)}c(P,"_extends");const L=new r.Ay("huddles"),k={elementName:"cancel",onClick:{enableClogAction:!0}},G={elementName:"start-huddle",onClick:{enableClogAction:!0}},b=c(N=>{let{channelId:K,channelType:J,channelMembersCount:Y,isTeamOnTrial:q,isFreeTeam:H,trialExpirationTS:ne,handleOnSubmit:te,closeModal:le,UNSAFE_parentSelector:he,isCurrentTeamSponsoredInSlackConnectChannel:Ie=!1}=N;const Ee=(0,d.d4)(D.g),me=L.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),ce=n.createElement(l.A,{channelId:K});let X,V;switch(q&&!Ie?V=g.UiComponentVariant.TRIAL_TEAM:H&&!Ie?V=g.UiComponentVariant.FREE_TEAM:V=g.UiComponentVariant.PAID_TEAM,J){case i.Cu.mpim:{const x=c(()=>L.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:Y}),"genericCopy");Ee?X=x():q?X=L.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,E.Pd)(ne),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):H?X=L.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):X=x();break}case i.Cu.im:X=L.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const x=c(()=>L.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:Y,channelName:ce}),"genericCopy");Ee||Ie?X=x():q?X=L.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:ce,trialEndDate:(0,E.Pd)(ne)}):H?X=L.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:ce}):X=x()}}return n.createElement(A.A,{uiComponentName:g.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:g.EventId.CANVAS_EVENT,uiComponentVariant:V},n.createElement(o.A,{onClose:le,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:L.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:me,onSubmit:te,submitAutoClogProps:G,onCancel:le,cancelAutoClogProps:k,headerImageSrc:u(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:L.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:he},n.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},X)))},"BaseHuddleInThreadSpeedBumpModalBase");b.displayName="BaseHuddleInThreadSpeedBumpModalBase";const W=c(N=>{let{channelId:K,onConfirm:J,closeModal:Y}=N;const q=(0,s.wA)(),H=(0,d.d4)(X=>(0,m.OL)(X,K)),ne=(0,i.mz)(H),te=(0,d.d4)(X=>(0,_.q8)(X,K)),le=(0,t.A)(te,"counts.member_count")||0,he=(0,p.tc)((0,d.d4)(f.H7)),Ie=(0,d.d4)(h.iH),Ee=(0,d.d4)(h.Sk),me=(0,d.d4)(X=>(0,I.u)(X,H));(0,n.useEffect)(()=>(q((0,y.A)({notificationName:T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:T.hw.IMPRESSION})),()=>{q((0,O.A)({spaceName:T.xu.LAUNCH_MODAL,action:T.hw.DISMISS}))}),[q]);const ce=(0,n.useCallback)(()=>{J(),Y==null||Y()},[Y,J]);return n.createElement(b,{channelType:ne,channelMembersCount:le,isFreeTeam:he,isTeamOnTrial:Ie,trialExpirationTS:Ee,handleOnSubmit:ce,channelId:K,onConfirm:J,closeModal:Y,isCurrentTeamSponsoredInSlackConnectChannel:me})},"HuddleInThreadSpeedBumpModalBase");W.displayName="HuddleInThreadSpeedBumpModalBase";const B={spaceName:T.xu.LAUNCH_MODAL,notifications:{[T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:W}}},R=c(N=>{let{channelId:K,onConfirm:J,closeModal:Y}=N;return n.createElement(M.Ay,P({},B,{channelId:K,onConfirm:J,closeModal:Y}))},"HuddleInThreadSpeedBumpModal");R.displayName="HuddleInThreadSpeedBumpModal";var j=null;const w=(0,a.A)(R)},7843142872:(Q,C,e)=>{"use strict";e.d(C,{D7:()=>_,Lk:()=>h,Vp:()=>f,g6:()=>u});var t=e(3134334389),n=e(1031947056),s=e(6533394955),r=e(4423055085),d=e(8300007136),o=e(2562405183),a=e(5492559860),i=e(9719951405),m=e(2832209848);let l=1;const _=c((p,E)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:g=!1,component:A=m.G7.HuddleCallNudgesBanner}=E;if(!g||!(0,i.kI)(p,A,m.X8.Click)&&!(0,i.kI)(p,A,m.X8.Dismiss))return!1;var y;const T=(y=(0,i.ky)(p,A,m.X8.Click))!==null&&y!==void 0?y:0;var M;const O=(M=(0,i.ky)(p,A,m.X8.Dismiss))!==null&&M!==void 0?M:0;return!(T>=l||O>=l)},"shouldShowHuddleDiscoveryBanner"),v=c(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:p=!1,component:E=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const g=useDispatch();useEffect(()=>{p&&g(loadUserInteractions({interactions:[{component:E,type:InteractionType.Click},{component:E,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[g,p,E])},"useHuddleDiscoveryCallsUserInteractions"),u=(0,n.Ay)("Send interaction to dismiss nudge",(p,E,g)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:A,interactionType:y}=g;if(!A)return;const T=E();(0,i.ky)(T,m.G7.HuddleCallNudgesBanner,y)>l||p((0,a.z)({component:m.G7.HuddleCallNudgesBanner,type:y,reason:"huddle-discovery-calls"}))});u.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const h=c(p=>{let{component:E,type:g}=p;const A=(0,d.wA)();return(0,t.useEffect)(()=>{A((0,a.b)({interactions:[{component:E,type:g}],reason:E}))},[A,E,g]),(0,o.d4)(y=>(0,i.kI)(y,E,g)?(0,i.PU)(y,E):null)},"useTrialProBannerInteraction"),f=(0,n.Ay)("Record trial pro banner interaction",(p,E,g)=>{let{component:A,type:y}=g;return p((0,a.z)({component:A,type:y,reason:A}))});f.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,r.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:p=>{const E=(0,s.getStateByTeamId)(p);l=(0,i.ky)(E,m.G7.HuddleCallNudgesBanner,m.X8.Click)+1},addOneMoreThanDismissCount:p=>{const E=(0,s.getStateByTeamId)(p);l=(0,i.ky)(E,m.G7.HuddleCallNudgesBanner,m.X8.Dismiss)+1}})},8330768070:(Q,C,e)=>{"use strict";e.d(C,{G$:()=>P,Oe:()=>b,Y6:()=>k});var t=e(3134334389),n=e(8300007136),s=e(3037015781),r=e(2562405183),d=e(8661826718),o=e(6496493732),a=e(7138682671),i=e(3989454579),m=e(4481313819),l=e(1407713935),_=e(5363983309),v=e(5795074931),u=e(9101533895),h=e(8286248123),f=e(9884588328),p=e(8798294025),E=e(8921478798),g=e(6244014364),A=e(735940183),y=e(387484329),T=e(2047021170);function M(){return M=Object.assign||function(W){for(var B=1;B<arguments.length;B++){var R=arguments[B];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(W[j]=R[j])}return W},M.apply(this,arguments)}c(M,"_extends");const O=new A.Ay("huddles"),I={elementName:"huddles_confirmation_dialog_ok",eventId:g.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},D={elementName:"huddles_confirmation_dialog_cancel",eventId:g.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},P=c(W=>{let{children:B,closeModal:R,onConfirm:j,uiComponentName:w,...N}=W;const K=(0,t.useCallback)(()=>{j(),R==null||R()},[R,j]);return t.createElement(m.A,{uiComponentName:w,eventId:g.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(o.A,M({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:R,onClose:R,onSubmit:K,submitButtonText:O.t("OK"),submitAutoClogProps:I,cancelAutoClogProps:D},N),B))},"HuddleJoinModal");P.displayName="HuddleJoinModal";const L=c(W=>{let{prevChannelId:B,nextChannelId:R,onConfirm:j,closeModal:w}=W;const N=(0,r.d4)(ne=>(0,u.OL)(ne,B)),K=(0,r.Z2)(ne=>{if(!N)return[];let te=[];if((0,l.LI)(N))te=[(0,p.e)(N)];else if((0,l.yz)(N)){const le=(0,f.Ug)(N);if(le&&le.length){const he=(0,v.WR)(ne);te=le.filter(Ie=>Ie!==he)}}return te.map(le=>(0,E.I)(ne,le))}),J=(0,r.d4)(ne=>(0,u.OL)(ne,R)),Y=(0,r.Z2)(ne=>{if(!J)return[];let te=[];if((0,l.LI)(J))te=[(0,p.e)(J)];else if((0,l.yz)(J)){const le=(0,f.Ug)(J);if(le&&le.length){const he=(0,v.WR)(ne);te=le.filter(Ie=>Ie!==he)}}return te.map(le=>(0,E.I)(ne,le))});let q=O.rt("You\u2019re already in a huddle.");K.length?q=O.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,A.jd)(K).join("")}):N&&(0,s.uz)(N)&&(q=O.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(d.A,{channel:N,channelId:B})}));let H=O.rt("Would you like to leave it and join this one instead?");return Y.length?H=O.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,A.jd)(Y).join(""))}):J&&(0,s.uz)(J)&&(H=O.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(d.A,{channel:J,channelId:R}))})),t.createElement(P,{uiComponentName:g.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:O.t("Switch to this huddle?"),onConfirm:j,closeModal:w},t.createElement("p",null,q," ",H))},"HuddleSwitchModal");L.displayName="HuddleSwitchModal";const k=(0,_.A)(L),G=c(W=>{let{channelId:B,onConfirm:R,closeModal:j}=W;const w=(0,r.d4)(he=>(0,u.OL)(he,B));var N;const K=(0,r.d4)(he=>{var Ie,Ee;return(N=(Ie=(0,h.q8)(he,B))===null||Ie===void 0||(Ee=Ie.counts)===null||Ee===void 0?void 0:Ee.member_count)!==null&&N!==void 0?N:0}),J=(0,r.d4)(he=>(0,T.ty)(he,"huddles_show_shouty_rooster")),[Y,q]=(0,t.useState)(J),H=(0,n.wA)(),ne=w&&(0,s.uz)(w)&&t.createElement("strong",null,t.createElement(d.A,{channelId:B,channel:w})),te=K>1?O.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,K),channel:ne}):O.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:ne}),le=(0,t.useCallback)(()=>{const he=!Y;q(he),H((0,y.AZ)({pref:"huddles_show_shouty_rooster",value:he}))},[Y,H]);return t.createElement(P,{uiComponentName:g.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:O.t("Start a huddle in this channel?"),onConfirm:R,closeModal:j},t.createElement("p",null,te),t.createElement(a.A,{text:O.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(i.A,{name:"ns",checked:!Y,onChange:le,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");G.displayName="HuddleShoutyRoosterModal";const b=(0,_.A)(G)},3143500799:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490);const s=t.memo(a=>{let{className:i,iconClassName:m,allowMuteAnimation:l,wasMicEverEnabled:_,isMicStrikethroughRed:v}=a;return t.createElement("div",{className:(0,n.A)("p-huddle_mic_icon p-huddle_mic_icon__container",i),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:m,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:(0,n.A)({"p-huddle_mic_icon__microphone--slash_animated":l&&_,"p-huddle_mic_icon__microphone--slash":v}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),r=t.memo(a=>{let{volumeLevel:i=0,className:m,iconClassName:l,experimentHuddlesActiveSpeakerImprovementsGroupOn:_}=a;const[v,u]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(i!=="auto"){u(Math.min(1,i||0));return}const h=setInterval(()=>{const f=(Math.floor(Math.random()*100)+1)/100;u(f)},100);return()=>{clearInterval(h)}},[i]),t.createElement("div",{className:(0,n.A)("p-huddle_mic_icon p-huddle_mic_icon__container",m),"data-qa":"huddle_mic_icon_mute"},_?t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3 8.9V11M5.8 6.1V13.8M8.6 4V16.6M11.4 7.5V12.4M14.2 5.4V14.5M17 8.9V11",stroke:"#178F65",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})):t.createElement("svg",{className:l,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${v})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),d=c(a=>{let{type:i,volumeLevel:m,className:l,iconClassName:_,allowMuteAnimation:v=!1,isMicStrikethroughRed:u=!1,experimentHuddlesActiveSpeakerImprovementsGroupOn:h=!1}=a;const[f,p]=(0,t.useState)(i==="unmuted");return(0,t.useEffect)(()=>{i==="unmuted"&&p(!0)},[i]),i==="unmuted"?t.createElement(r,{className:l,iconClassName:_,volumeLevel:m,experimentHuddlesActiveSpeakerImprovementsGroupOn:h}):t.createElement(s,{className:l,iconClassName:_,allowMuteAnimation:v,wasMicEverEnabled:f,isMicStrikethroughRed:u})},"HuddleMicIcon");d.displayName="HuddleMicIcon";const o=t.memo(d)},5043394918:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(7715417323),s=e(1829947126),r=e(1337358413),d=e(3143500799);function o(a){let{peerId:i,isMicrophoneEnabled:m,className:l,allowMuteIconAnimation:_=!1,isMicStrikethroughRed:v=!1}=a;const[u,h]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!m)return n.A;const f=c(p=>{const E=(0,r.Ft)(p);h(E)},"onLevelUpdated");return s.A.subscribe(i,f),()=>{s.A.unsubscribe(i,f)}},[i,m]),t.createElement(d.A,{type:m?"unmuted":"muted",volumeLevel:u,className:l||"",allowMuteAnimation:_,isMicStrikethroughRed:v})}c(o,"HuddleMicVolumeIndicator")},438845125:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(444524526);function s(d){let{slackId:o,displayName:a}=d;return!o&&!a?null:o?t.createElement(n.A,{isBold:!1,id:o}):t.createElement("span",null,a)}c(s,"HuddleMsgTextUser"),s.displayName="HuddleMsgTextUser";const r=s},1051015021:(Q,C,e)=>{"use strict";e.d(C,{V:()=>f});var t=e(3134334389),n=e(7433432223),s=e(9548972574),r=e(2562405183),d=e(735940183),o=e(5255740490),a=e(7914553163),i=e(6005700845),m=e(6323355797),l=e(7949425452),_=e(3810478625),v=e(7573583373),u=e.n(v);const h=new d.Ay("huddles");function f(p){let{showProBadge:E,className:g}=p;const A=(0,r.d4)(s.qr),y=(0,r.d4)(_.g),T=m.zG.Vhq,M=(0,a.Ay)({promoSubtype:T}),O=(0,t.useMemo)(()=>t.createElement(i.A,{useLink:!0,variant:M,promoSubtype:m.zG.Vhq,ctaClassName:u().cta}),[M]);return!A||!y||M!==a.MX.TrialEligible&&M!==a.MX.TrialIneligible&&M!==a.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:(0,o.A)(u().container,g)},t.createElement(n.A,null,t.createElement("div",{className:u().alertBanner},E&&t.createElement(l.Ay,{size:l.vj.Medium,className:u().proBadge}),t.createElement("span",null,h.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",O))))}c(f,"HuddleTimeLimitUpgradeAlert"),f.displayName="HuddleTimeLimitUpgradeAlert"},8320929653:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>S,e3:()=>ce,lc:()=>X});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(5255740490),d=e(8300007136),o=e(2562405183),a=e(3288846409),i=e(1149563359),m=e(3037015781),l=e(9012396182),_=e(1289024643),v=e(5795074931),u=e(9101533895),h=e(5286203919),f=e(8746998952),p=e(9712681361),E=e(4742719639),g=e(5332875232),A=e(6251210828),y=e(2802517438),T=e(4481313819),M=e(3622858354),O=e(4233000497),I=e(6749400491),D=e(9373230523),P=e(1407713935),L=e(8798294025),k=e(9884588328),G=e(6470070112),b=e(8683010724),W=e(3708320478),B=e(4775127335),R=e(2683115972),j=e(3165300465),w=e(8661826718),N=e(2527782504),K=e(4275787242),J=e(735940183),Y=e(6244014364),q=e(8869383561),H=e(5519146941),ne=e(3193155968),te=e(7429662208);function le(){return le=Object.assign||function(U){for(var F=1;F<arguments.length;F++){var Z=arguments[F];for(var z in Z)Object.prototype.hasOwnProperty.call(Z,z)&&(U[z]=Z[z])}return U},le.apply(this,arguments)}c(le,"_extends");const he=new J.Ay("huddles"),Ie={elementName:"huddles_invite_decline",eventId:Y.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Ee={elementName:"huddles_invite_joining_soon",eventId:Y.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},me={elementName:"huddles_invite_join",eventId:Y.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ce=c(U=>{let{topic:F,formattedTopic:Z,channel:z,channelName:$,otherMemberNamesString:ee,imMemberName:de,experimentHuddlesLaterGroupOn:ie}=U;if(!ie)return s.createElement(s.Fragment,null);let ue=F?he.rt("Join the scheduled huddle about {topic}",{topic:Z}):he.rt("Join the scheduled huddle");return(0,P.LI)(z)&&de?ue=F?he.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:Z,imMemberName:de}):he.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:de}):(0,P.yz)(z)?ue=F?he.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:Z,otherMemberNamesString:ee}):he.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:ee}):(0,m.uz)(z)&&!(0,P.LI)(z)&&(ue=F?he.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:Z,channelName:$}):he.rt("Join the scheduled huddle in {channelName}",{channelName:$})),ue},"getScheduledHuddleInviteCopy");function X(U){let{channelId:F,senderUserId:Z,callId:z,teamId:$,isInviter:ee}=U;const de=(0,d.wA)(),{shouldUseNavigate:ie,activeTab:ue}=(0,s.useContext)(H.A),fe=(0,o.d4)(g.MJ),re=(0,o.d4)(v.WR),_e=(0,o.d4)(Rt=>(0,D.A)(Rt,Z)),Ue=(0,o.d4)(Rt=>(0,u.OL)(Rt,F)),ye=(0,o.d4)(Rt=>{if(!Ue||!fe||!(0,P.LI)(Ue))return;const It=(0,L.e)(Ue);if(It)return(0,D.A)(Rt,It)}),Te=(0,o.Z2)(Rt=>(0,P.yz)(Ue)?((0,k.Ug)(Ue)||[]).filter(Mt=>Mt!==Z&&Mt!==re).map(Mt=>(0,D.A)(Rt,Mt)).filter(Mt=>Mt):[]),ge=(0,a.cw)(h.vO),Ae=(0,G.eu)(ge),Be=(0,o.d4)(Rt=>(0,_.Ck)(Rt,z,re))==="joining_soon",ke=(0,o.d4)(Rt=>(0,_.H6)(Rt,z));var se;const ve=(se=ke==null?void 0:ke.isScheduled)!==null&&se!==void 0?se:!1,Me=(0,o.d4)(y.A),be=(0,o.d4)(Rt=>{if(ie){var It;return(It=(0,te.F8)(Rt,{tab:ue,container:ne.mq.Primary}))===null||It===void 0?void 0:It.id}return Me}),xe=(0,a.cw)(l.getFocusedWorkspace),Le=F===be&&xe&&$&&xe===$,Ke=(0,s.useCallback)(()=>{de((0,I.A)({callId:z,channelId:F,inviteResponse:I.J.DECLINE}))},[z,F,de]),[He,Ye]=(0,s.useState)(!1),[Xe,et]=(0,s.useState)(!1),st=(0,s.useCallback)(()=>{(function(){var It=(0,t.coroutine)(function*(){et(!0),Ye(!1);const Mt=de((0,I.A)({callId:z,channelId:F,inviteResponse:I.J.JOINING_SOON}));if(Mt)try{yield Mt}catch{Ye(!0)}finally{et(!1)}else et(!1)});return c(function(){return It.apply(this,arguments)},"respondToInvite")})()()},[z,F,de]),ot=(0,s.useCallback)(()=>{de((0,f.A)({channelId:F,callId:z,entryPoint:p.su.SIDEBAR_HUDDLE_INVITE}))},[F,z,de]),ct=(0,o.d4)(Rt=>F&&(0,E.o)(Rt,F))||"",at=ct?s.createElement("span",{className:"p-huddle_invite__topic"},s.createElement(M.A,{text:ct})):null,At=s.createElement("span",{className:"p-huddle_invite__sender_name"},_e);let Ct;if(ve){const Rt=s.createElement(w.A,{channelId:F,boldIcon:!0});Ct=ce({topic:ct,formattedTopic:at,channel:Ue,channelName:Rt,experimentHuddlesLaterGroupOn:!0})}else if((0,P.LI)(Ue))ee?Ct=ce({topic:ct,formattedTopic:at,channel:Ue,imMemberName:ye,experimentHuddlesLaterGroupOn:fe}):Ct=he.rt("Join huddle with {senderName}",{senderName:At});else if((0,P.yz)(Ue)){const Rt=(0,q.A)(Te,{react:!0}).join("");if(ee)Ct=ce({topic:ct,formattedTopic:at,channel:Ue,otherMemberNamesString:Rt,experimentHuddlesLaterGroupOn:fe});else{const It=(0,q.A)([_e].concat(Te),{react:!0}).join(""),Mt=s.createElement("span",{className:"p-huddle_invite__all_member_names"},It);Ct=he.rt("Join huddle with {allMemberNames}",{allMemberNames:Mt})}}else{const Rt=s.createElement(w.A,{channelId:F,boldIcon:!0});ee?Ct=ce({topic:ct,formattedTopic:at,channel:Ue,channelName:Rt,experimentHuddlesLaterGroupOn:fe}):Le?Ct=he.rt("{senderName} is inviting you to a huddle in this channel",{senderName:At}):Ct=he.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:At,channelName:Rt})}return{avatarOverflowBadgeCount:(0,P.yz)(Ue)?Te.length+1:0,didRespondingToInviteFail:He,formattedTopic:at,handleDecline:Ke,handleJoiningSoon:st,handleJoin:ot,inviteText:Ct,isCurrentUserJoiningSoon:Be,isJoiningSoonResponsePending:Xe,isLoading:Ae}}c(X,"useHuddleInviteProps"),X.displayName="useHuddleInviteProps";const V={name:"warning"},x=c(U=>{let{channelId:F,senderUserId:Z,callId:z,teamId:$}=U;const ee=(0,o.d4)(g.MJ),de=(0,o.d4)(v.WR),ie=ee&&de===Z,ue=(0,O.A)(F),{avatarOverflowBadgeCount:fe,didRespondingToInviteFail:re,formattedTopic:_e,handleDecline:Ue,handleJoiningSoon:ye,handleJoin:Te,inviteText:ge,isCurrentUserJoiningSoon:Ae,isJoiningSoonResponsePending:Re,isLoading:Be}=X({channelId:F,senderUserId:Z,callId:z,teamId:$,isInviter:ie}),ke=(0,s.useRef)(null),se=(0,s.useCallback)(()=>{var et;(et=ke.current)===null||et===void 0||et.focus()},[]);(0,i.A)(N.Ay.HUDDLE_INVITE_JOIN,se);const ve="huddle-invite-text",Me=s.createElement(R.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:Ue,"data-qa":"huddle_invite_declined",disabled:Be,autoClogProps:Ie},s.createElement("span",{className:"p-huddle_invite__label"},he.t("Decline"))),be=s.createElement(j.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Re,onClick:ye,disabled:Be,autoClogProps:Ee},s.createElement("span",{className:"p-huddle_invite__label"},he.t("Be there soon"))),[xe,Le]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let et=0;return Ae&&(Le(!0),et=window.setTimeout(()=>{Le(!1)},6e3)),()=>{et&&clearTimeout(et)}},[Ae]);const Ke=xe?s.createElement("div",{className:"p-huddle_invite__header_notif"},s.createElement("div",{className:"p-huddle_invite__header_notif_content"},s.createElement(b.A,{name:"clock",size:"20"}),s.createElement("span",{className:"margin_left_50"},he.t("Join when you\u2019re ready!")))):null,He=s.createElement(j.A,{ref:ke,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:Be,onClick:Te,"data-qa":"huddle_invite_join",autoClogProps:me},s.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},he.t("Join"))),Ye=(0,o.d4)(A.jI),Xe=Ye?{width:Ye}:null;return s.createElement(T.A,le({eventId:Y.EventId.CANVAS_EVENT,uiComponentName:Y.UiComponentName.HUDDLES_INVITE,clogImpression:!0},ue),s.createElement("div",le({className:(0,r.A)("p-huddle_invite",{"p-huddle_invite--with_header":!!_e})},Xe&&{style:Xe}),s.createElement("div",{className:"p-huddle_invite__content"},Ke,_e&&s.createElement("div",{className:"p-huddle_invite__message_header"},_e),s.createElement("div",{className:"p-huddle_invite__message"},!ie&&s.createElement("div",{className:(0,r.A)("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!fe})},s.createElement(B.Ay,{key:Z,className:"p-huddle_invite__avatar",size:fe?14:20,userId:Z,isInteractive:!1}),!!fe&&s.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},fe)),s.createElement(W.z,null,s.createElement("div",{className:"p-huddle_invite__text",id:ve},ge,s.createElement("span",{className:"offscreen"},he.rt("Press {key} to join",{key:(0,G.$z)(),fallbackHash:"bd062cb22cea3388535c0f834ebf6df702757691",fallbackHashNs:"keyboard_keys"}))))),s.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":ve},He,!Ae&&be,Me)),re&&s.createElement(K.A,{svgIconProps:V},he.t("Something went wrong responding to the invite."))))},"HuddleInvite");x.displayName="HuddleInvite";const S=x},6749400491:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,J:()=>a});var t=e(1031947056),n=e(6533394955),s=e(4250409994),r=e(1070786785),d=e(5319025363),o=e(5170073955),a;(function(l){l.ACCEPT="accept",l.DECLINE="decline",l.JOINING_SOON="joining_soon"})(a||(a={}));const i=(0,t.Ay)("Respond to an invitation to a huddle",(l,_,v)=>{let{channelId:u,inviteResponse:h,callId:f}=v;l((0,d.z)());let p;return h!==a.ACCEPT&&(p=l((0,o.Q)({response:h,channelId:u,roomId:f,reason:"respond-to-huddle-invite"}))),h===a.DECLINE&&((0,n.dispatchForClientStore)((0,s.u8)(u)),l((0,r.V3)(u))),p});i.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const m=i},4983989341:(Q,C,e)=>{"use strict";e.d(C,{x:()=>a});var t=e(6422693406),n=e(1031947056),s=e(1070786785),r=e(1452921056),d=e(9712681361),o=e(7631186994);const a=(0,n.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(i,m,l)=>{let{channelId:_,memberIds:v}=l;return i((0,o.r)({memberIds:v})).then(u=>{i((0,s.Ay)(_)),i((0,r.A)({channelId:u.id,entryPoint:d.su.CREATE_NEW_MPIM}))}).catch(u=>t.S.reject(u))});a.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},5907086961:(Q,C,e)=>{"use strict";e.d(C,{A:()=>b});var t=e(3134334389),n=e(6084388622),s=e(8300007136),r=e(9003400431),d=e(2562405183),o=e(2527994834),a=e(4761125736),i=e(3288846409),m=e(7076189804),l=e(581167618),_=e(980293773),v=e(9101533895),u=e(5286203919),h=e(735940183),f=e(4446301238),p=e(8661826718),E=e(5363983309),g=e(7868634217),A=e(4061200313),y=e(9183417278),T=e(1612857492),M=e(9892470785),O=e(8847766420);const I=new h.Ay("huddles"),D=c(W=>{let{numOfExternalMembers:B,members:R}=W;const j=(0,d.d4)(O.Kc),w=(0,i.cw)(u.hc)||"",N=(0,d.d4)(S=>(0,v.OL)(S,w)),K=(0,d.d4)(S=>(0,a._Z)(S,"invite_to_channel_permission")==="on"),J=(0,d.d4)(S=>(0,y.Q)(S,N)),Y=(0,d.d4)(S=>(0,T.q)(S,N)),q=B===R.length,H=B>0,ne=!B,te=R.length-B>0,le=!(R.length-B),he=I.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),Ie=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:j}),channelName:t.createElement(p.A,{className:"bold",channel:N})})),t.createElement("p",null,I.t("You don\u2019t have permission to add external people to this channel."))),Ee=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:j}),channelName:t.createElement(p.A,{className:"bold",channel:N})}))),me=I.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(M.A,{id:j})}),ce=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:j}),channelName:t.createElement(p.A,{className:"bold",channel:N})})),t.createElement("p",null,I.t("You don\u2019t have permission to add internal people to this channel."))),X=t.createElement(t.Fragment,null,t.createElement("p",null,I.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,I.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(M.A,{id:j}),channelName:t.createElement(p.A,{className:"bold",channel:N})}))),V=I.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),x=I.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(p.A,{className:"bold",channel:N})});switch(!0){case(!K&&!Y&&q):return he;case(!K&&!Y&&H):return Ie;case(!K&&!Y&&ne):return Ee;case(!K&&Y):return x;case(K&&J&&!Y&&q):return he;case(K&&J&&!Y&&H):return Ie;case(K&&J&&!Y&&ne):return Ee;case(K&&!J&&Y&&ne):return me;case(K&&!J&&Y&&te):return ce;case(K&&!J&&Y&&le):return X;case(K&&!J&&!Y):return V;default:return x}},"DisallowedHuddleInviteSubtitle");D.displayName="DisallowedHuddleInviteSubtitle";const P=D,L=new h.Ay("huddles");function k(W){let{members:B}=W;const R=(0,s.wA)(),[j,w]=(0,t.useState)(null),[N,K]=(0,t.useState)([]),[J,Y]=(0,t.useState)(!1),q=(0,i.cw)(u.hc)||"",H=(0,d.d4)(ie=>(0,v.OL)(ie,q)),ne=(0,t.useCallback)(()=>R((0,r.O)()),[R]),te=(0,t.useCallback)(()=>R((0,r.O)({closeAll:!0})),[R]),le=(0,t.useCallback)(ie=>{w(ie),R((0,f.Cw)({channelId:q,users:ie})).then(()=>{N.push(ie),K(N),w(null)}).catch(()=>{w(null),Y(!0)})},[q,R,N]),he=(0,d.d4)(ie=>(0,a._Z)(ie,"invite_to_channel_permission")==="on"),Ie=(0,d.d4)(ie=>(0,a._Z)(ie,"shared_channel_invite_requested_event_ga")==="on"),Ee=(0,d.d4)(ie=>(0,o.Q)(ie,"shared_channel_invite_requested",H.id)&&Ie),me=(0,d.d4)(ie=>(0,g.Z)(ie,B)),ce=(0,t.useMemo)(()=>({addedToChannel:L.t("Added to channel"),notInChannel:L.t("Not in channel"),inviteRequestPending:Ie?L.t("Invitation request pending approval"):"",added:L.t("Added"),pending:Ie?L.t("Pending"):"",inviteToChannel:L.t("Invite to channel"),cantBeInvitedToChannel:L.t("Can\u2019t be invited to channel")}),[Ie]),X=(0,d.d4)(ie=>(0,y.Q)(ie,H)),V=(0,d.d4)(ie=>(0,T.q)(ie,H)),x=(0,d.Z2)(ie=>B.filter(ue=>(0,A.i)(ie,ue))),S=x.length,U=!he&&!V,F=he&&X&&!V,Z=S===B.length,z=!S,$=(0,t.useMemo)(()=>L.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:B.length,channelName:t.createElement(p.A,{channel:H})}),[H,B]),ee=(0,t.useCallback)(ie=>ie&&Ee?ce.inviteRequestPending:ie?ce.addedToChannel:ce.notInChannel,[Ee,ce.addedToChannel,ce.inviteRequestPending,ce.notInChannel]),de=(0,t.useCallback)((ie,ue)=>{let fe;switch(ue&&Ee?fe=ce.pending:fe=ue?ce.added:ce.inviteToChannel,!0){case((U||F)&&Z):return null;case((U||F)&&x.includes(ie)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ce.cantBeInvitedToChannel);case(he&&!X&&V&&z):return null;case(he&&!X&&V&&!x.includes(ie)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},ce.cantBeInvitedToChannel);case(he&&!X&&!V):return null;default:return t.createElement(n.lV,{type:"outline",size:"small",disabled:ue,loading:j===ie,onClick:()=>le(ie)},fe)}},[Ee,ce.pending,ce.added,ce.inviteToChannel,ce.cantBeInvitedToChannel,U,F,Z,x,he,X,V,z,j,le]);return t.createElement(_.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:ne,contentLabel:$,shouldReturnFocusAfterClose:!0},t.createElement(_.rQ,null,t.createElement(_.Rc,{title:$}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(P,{numOfExternalMembers:S,members:B}))),t.createElement(_.$m,null,t.createElement(_.qf,null,J&&t.createElement(l.Ay,{className:"margin_bottom_150",level:l.A_.error,type:l.QE.inline},L.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),me.map(ie=>{const ue=N.includes(ie);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:ie},t.createElement(m.Ay,{id:ie,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},ee(ue))}),de(ie,ue))}))),t.createElement(_.jl,null,t.createElement(_.ox,null,t.createElement(n.Ay,{onClick:te,type:"primary"},he&&!X||!V?L.t("OK"):L.t("Done")))))}c(k,"HuddleInviteAddToChannel"),k.displayName="HuddleInviteAddToChannel";const G={HuddleInviteAddToChannel:k},b=(0,E.A)(k,{isStackable:!0})},5911067953:(Q,C,e)=>{"use strict";e.d(C,{A:()=>He});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(235108050),d=e(4775127335),o=e(6084388622),a=e(581167618),i=e(444524526),m=e(1563996154),l=e(2562405183),_=e(7937864072),v=e(2689960678),u=e(980293773),h=e(3339229351),f=e(5795074931),p=e(5332875232),E=e(6470070112),g=e(7631186994),A=e(735940183),y=e(3730613858),T=e(666760496),M=e(1407713935),O=e(8746998952),I=e(9712681361),D=e(4481313819),P=e(6244014364),L=e(7268021173),k=e(3677514771),G=e(6839188756),b=e(9548972574),W=e(716227588),B=e(1743656885),R=e(6259241484),j=e(9953252450),w=e(3288846409),N=e(9101533895),K=e(5286203919),J=e(8661826718),Y=e(3534324375),q=e(8276911661),H=e(7576317051),ne=e(2823938397);function te(Ye){let{memberId:Xe}=Ye;const et=(0,l.d4)(ot=>(0,q.nv)(ot,Xe)),st=(0,l.d4)(ot=>(0,Y.sE)(ot,et,!1,!1));return(0,ne.mX)(et)?n.createElement(H.A,{type:"unknown"}):(0,ne.lv)(et)?n.createElement(H.A,{type:"non-existent"}):n.createElement("span",null,st)}c(te,"DeprecatedHuddleName"),te.displayName="DeprecatedHuddleName";const le=new A.Ay("huddles");function he(Ye){let{unknownMemberIds:Xe}=Ye;const et=(0,w.cw)(K.hc),st=(0,l.d4)(at=>(0,N.OL)(at,et)),ot=(0,n.useMemo)(()=>et?Xe:[],[et,Xe]);let ct;if(ot.length===1)ct=le.rt("{name1} is not a member of {channel}.",{name1:n.createElement(te,{memberId:ot[0]}),channel:n.createElement(J.A,{channel:st})});else if(ot.length===2)ct=le.rt("{name1} and {name2} are not a member of {channel}.",{name1:n.createElement(te,{memberId:ot[0]}),name2:n.createElement(te,{memberId:ot[1]}),channel:n.createElement(J.A,{channel:st})});else if(ot.length===3)ct=le.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:n.createElement(te,{memberId:ot[0]}),name2:n.createElement(te,{memberId:ot[1]}),name3:n.createElement(te,{memberId:ot[2]}),channel:n.createElement(J.A,{channel:st})});else if(ot.length>3){const[at,At,Ct,...Tt]=ot,Rt=Tt.map(It=>n.createElement(te,{key:It,memberId:It}));ct=le.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:n.createElement(te,{memberId:at}),name2:n.createElement(te,{memberId:At}),name3:n.createElement(te,{memberId:Ct}),channel:n.createElement(J.A,{channel:st}),numOthers:ot.length-3},It=>{let{text:Mt}=It;return n.createElement(m.Ay,{tip:(0,A.jd)(Rt,{noEscape:!0})},n.createElement("span",null,Mt))})}return n.createElement("small",null,ct)}c(he,"HuddleInviteNotAMember"),he.displayName="HuddleInviteNotAMember";const Ie=he;var Ee=e(5907086961),me=e(7396657731),ce=e(9236164662),X=e(9645800439),V=e(6011052675),x=e(3109955471),S=e(5103024697),U=e(4822627003),F=e(5103164797),Z=e(3214129289),z=e(9163492386),$=e(6007206761),ee=e(8170643398),de=e(4562579337),ie=e(8040098042),ue=e(181849556);const fe=new A.Ay("huddles");var re;(function(Ye){Ye.CHANNEL="channel",Ye.PEOPLE="people"})(re||(re={}));const _e=c(Ye=>{let{isFreeTeam:Xe,onSuggestedChannelSelected:et,onSuggestedUserSelected:st,selectedChannelId:ot,selectedMemberIds:ct}=Ye;const at=(0,l.d4)(f.WR),At=(0,l.wz)(ue.b5),Ct=(0,l.wz)(ue.mc),Tt=(0,l.wz)(Wt=>{if(!At)return[];if(ct.length)return[];const gn=[];return At.forEach(rn=>{if(rn.id===ot)return;const ut=(0,N.OL)(Wt,rn.id);(0,$.F)(ut)||gn.push(rn)}),gn}),Rt=(0,n.useMemo)(()=>Tt.map(Wt=>Wt.id),[Tt]),It=(0,l.wz)(Wt=>{if(!Ct)return[];if(ot)return[];const gn=[];return Ct.forEach(rn=>{if(rn.id===at||ct.includes(rn.id))return;const ut=(0,q.nv)(Wt,rn.id);(0,de.A)(ut)||(0,ee.oy)(ut)||gn.push(rn)}),gn}),Mt=(0,n.useMemo)(()=>It.map(Wt=>Wt.id),[It]),nn=(0,n.useMemo)(()=>{const rn=Mt.length*60,ut=32,Pt=Rt.length*ut;return Math.min(Math.max(rn,Pt),240)},[Rt,Mt]),Ot=(0,n.useCallback)(Wt=>{if(!Wt.id)return;(0,ie.A)(Wt.id)?et(Wt.id):st(Wt.id)},[et,st]),bt=(0,n.useCallback)(Wt=>{const gn=Tt[Wt];if(gn)return n.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},n.createElement(F.A,{channelId:gn.id}))},[Tt]),Jt=(0,n.useCallback)(()=>n.createElement(S.A,{disableHeight:!0},Wt=>{let{width:gn}=Wt;return n.createElement(z.A,{"aria-label":fe.t("Channel"),keys:Rt,rowRenderer:bt,onItemClick:Ot,width:gn,height:nn})}),[Ot,bt,Rt,nn]),en=(0,n.useCallback)(Wt=>{const gn=It[Wt];if(gn)return n.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},n.createElement(U.A,{id:gn.id}))},[It]),sn=(0,n.useCallback)(()=>n.createElement(S.A,{disableHeight:!0},Wt=>{let{width:gn}=Wt;return n.createElement(z.A,{"aria-label":fe.t("People"),keys:Mt,rowRenderer:en,onItemClick:Ot,width:gn,height:nn})}),[Ot,en,Mt,nn]),[zt,Yt]=(0,n.useState)(re.PEOPLE),hn=(0,n.useCallback)(Wt=>{Yt(Wt)},[]);(0,n.useEffect)(()=>{zt===re.PEOPLE&&ot?Yt(re.CHANNEL):zt===re.CHANNEL&&ct.length&&Yt(re.PEOPLE)},[zt,ot,ct]);const Qe=(0,n.useMemo)(()=>{const Wt=[];return Mt.length&&Wt.push({title:fe.t("People"),id:re.PEOPLE,content:sn()}),Rt.length&&Wt.push({title:fe.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:re.CHANNEL,content:Jt()}),Wt},[Rt,Mt,Jt,sn]);return Xe?null:n.createElement("div",{className:"p-huddle_start_suggestion_tabs"},n.createElement(Z.A,{fullHeight:!0,tabs:Qe,currentTabId:zt,onTabChange:hn,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");_e.displayName="HuddleStartSuggestionTabs";const Ue=n.memo(_e);var ye=e(8808892924),Te=e(1794107122),ge=e(5142752606);const Ae=new A.Ay("huddles"),Re=n.memo(Ye=>{let{error:Xe}=Ye;const et=(0,l.d4)(at=>(0,q.nv)(at,Xe.invitedMemberId)),st=(0,l.d4)(at=>(0,Y.sE)(at,et));if(!(0,l.d4)(p.TM))return null;let ct=Ae.t("{userName} could not be invited to the Huddle.",{userName:st});return Xe.inviteRejectionReason===ge.g.RecipientHuddlesDisabled&&(ct=Ae.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:st})),n.createElement(a.Ay,{level:"error"},ct)});var Be=e(3810478625),ke=e(5255740490),se=e(1051015021),ve=e(952756744);function Me(){return Me=Object.assign||function(Ye){for(var Xe=1;Xe<arguments.length;Xe++){var et=arguments[Xe];for(var st in et)Object.prototype.hasOwnProperty.call(et,st)&&(Ye[st]=et[st])}return Ye},Me.apply(this,arguments)}c(Me,"_extends");var be;(function(Ye){Ye.COMPOSER="composer",Ye.PUBLIC_CHANNEL="public_channel",Ye.PRIVATE_CHANNEL="private_channel"})(be||(be={}));function xe(Ye){let{channel:Xe}=Ye;return Xe?Xe&&(0,M.Zp)(Xe)?be.PRIVATE_CHANNEL:be.PUBLIC_CHANNEL:be.COMPOSER}c(xe,"getModalContext");const Le=new A.Ay("huddles");function Ke(Ye){let{closeModal:Xe,callId:et,channel:st,channelSuggestion:ot,memberSuggestionId:ct,selectedMemberIds:at=v.Ml}=Ye;const At=(0,s.wA)(),Ct=(0,_.A)(),Tt=xe({channel:st}),Rt=Tt===be.PRIVATE_CHANNEL&&!(0,M.PC)(st),It=Tt===be.COMPOSER,[Mt,nn]=(0,n.useState)(at),[Ot,bt]=(0,n.useState)(),[Jt,en]=(0,n.useState)(!1),[sn,zt]=(0,n.useState)(!1),Yt=(0,l.d4)(p.TM),[hn,Qe]=(0,n.useState)(void 0),Wt=(0,l.d4)(f.WR),gn=(0,l.d4)(k.H7),rn=(0,G.tc)(gn),ut=(0,l.d4)(L.iH),Pt=(0,l.d4)(je=>(0,Te.$)(je,(st==null?void 0:st.id)||"")),Bt=(0,l.d4)(p.Si),Ft=(0,l.d4)(b.qr),un=(0,l.d4)(Be.g),Un=(0,l.d4)(je=>(0,W.Hp)(je,R.xu.HUDDLE_INVITE_MODAL))===R.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,Cn=(0,l.Z2)(je=>(0,b.ft)(je,st==null?void 0:st.id).filter(oe=>oe.id!==Wt).map(oe=>oe.id)),Ln=(0,l.d4)(E.pl),yn=(0,l.Z2)(je=>Rt?Mt.filter(oe=>{const pe=st&&(0,y.Sv)(je,st.id,oe);return pe&&pe.isKnown&&!(pe!=null&&pe.isMember)}):[]);(0,n.useEffect)(()=>{ot&&bt({id:ot.id,isCurrentSuggestedChannel:!0})},[ot]),(0,n.useEffect)(()=>{ct&&nn([ct])},[ct]);const Xt=(0,n.useCallback)(je=>nn(je),[]),nt=(0,n.useCallback)(je=>{if(je===(Ot==null?void 0:Ot.id)&&(Ot!=null&&Ot.isCurrentSuggestedChannel)){bt({id:je,isCurrentSuggestedChannel:!0});return}bt({id:je,isCurrentSuggestedChannel:!1})},[Ot==null?void 0:Ot.id,Ot==null?void 0:Ot.isCurrentSuggestedChannel]),pt=(0,n.useCallback)(je=>{nn(Mt.concat(je))},[Mt]),Dt=(0,n.useCallback)(()=>{bt({id:st==null?void 0:st.id,isCurrentSuggestedChannel:!0})},[st==null?void 0:st.id]),Qt=(0,n.useCallback)(()=>{Ot!=null&&Ot.id&&(At((0,O.A)({channelId:Ot.id,entryPoint:I.su.COMPOSER_HUDDLE_START})),Xe())},[Ot,At,Xe]),tn=(0,n.useCallback)((0,t.coroutine)(function*(){en(!0),yield At((0,g.r)({memberIds:Mt})).then(je=>{At((0,O.A)({channelId:je.id,entryPoint:I.su.COMPOSER_HUDDLE_START})),Xe(),en(!1),zt(!1)}).catch(je=>{Ct.error(je),en(!1);const{message:oe}=je;(oe==null?void 0:oe.indexOf(h.O3.INVALID_USER_COMBINATION))!==-1&&zt(!0)})}),[Mt,At,Ct,Xe]),an=(0,n.useCallback)((0,t.coroutine)(function*(){if(!st)return;en(!0);let je=Mt;(Ot==null?void 0:Ot.id)===st.id&&(Ot!=null&&Ot.isCurrentSuggestedChannel)&&(je=(0,r.A)([...Mt,...Pt])),yield At((0,T.A)({channelId:st.id,userIds:je})).then(()=>{en(!1),yn&&yn.length>0&&Rt?At((0,Ee.A)({members:yn})):Xe()}).catch(oe=>{Ct.error(oe),en(!1),Yt&&Qe(oe)})}),[st,Pt,Xe,At,Yt,Rt,Ct,Ot==null?void 0:Ot.id,Ot==null?void 0:Ot.isCurrentSuggestedChannel,Mt,yn]),ht=(0,n.useMemo)(()=>Tt===be.COMPOSER?Ot!=null&&Ot.id?Qt:tn:an,[an,tn,Tt,Ot,Qt]),yt={[be.COMPOSER]:{eventId:P.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:P.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[be.PUBLIC_CHANNEL]:{eventId:P.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[be.PRIVATE_CHANNEL]:{eventId:P.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},Ut=c(()=>rn&&!Bt&&!Ft?n.createElement(me.A,null):un&&!It?null:ut&&!Un?n.createElement(j.A,{v2ClassName:(0,ke.A)({"p-huddle_invite_modal_banner":un})}):null,"maybeRenderBanner");Ut.displayName="maybeRenderBanner";const Gt=yt[Tt],mn=(0,n.useMemo)(()=>It?Le.t("Start a Huddle"):Mt.length>1?Le.t("Send Invites"):Le.t("Send Invite"),[It,Mt]);if(!Ln)return null;const Oe=Le.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),we=c(je=>n.createElement(B.A,{articleId:4402059015315,ariaLabel:Le.t("Learn more about Huddles"),forceOpenInBrowser:!0},je),"renderLearnMoreLink");let Fe,qe,ze,Ge;const Ze=c(je=>{const oe=je.map(pe=>n.createElement(i.A,{key:pe,isBold:!1,id:pe}));return oe&&(0,A.jd)(oe)},"listifiedOverflowMembers");if(Ze.displayName="listifiedOverflowMembers",rn&&Bt&&!Ft)qe=Le.t("Invite someone to your huddle"),Fe=Rt?Le.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:n.createElement(J.A,{channel:st}),"<a>":je=>{let{text:oe}=je;return we(oe)}}):Le.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":je=>{let{text:oe}=je;return we(oe)}});else if(It?(qe=Le.t("Start a Huddle"),ze=un?Le.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):Le.t("Find a person or channel to huddle with")):(qe=Le.t("Invite people to your huddle"),ze=Rt?Oe:Le.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),st!=null&&st.id&&Cn.length){const je=Le.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:Cn.length-1,firstParticipant:n.createElement(i.A,{isBold:!0,id:Cn[0]}),secondParticipant:n.createElement(i.A,{isBold:!0,id:Cn[1]}),"<a>":oe=>{let{text:pe}=oe;return n.createElement(m.Ay,{zIndex:"above_fs",tip:Ze(Cn.slice(2))},n.createElement("span",null,pe))}});Ge=n.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},n.createElement(ye.i,{channelId:st.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:d.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),n.createElement("div",null,je))}const _t=Yt&&hn!==void 0,Et="huddle-invite-description";return n.createElement(u.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Xe,contentLabel:qe,describedby:Et,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},n.createElement(u.rQ,null,n.createElement(u.Rc,{title:qe,subtitle:ze})),n.createElement(u.$m,null,n.createElement(u.qf,null,Ge,Fe&&n.createElement("p",{id:Et},Fe),n.createElement(X.A,{isFreeTeam:rn&&!Ft,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Bt,channel:st,otherMembersInHuddle:Cn,onSelectedMembersChange:Xt,onSelectedChannelChange:nt,selectedMemberIds:Mt,selectedChannel:Ot}),Rt&&yn&&yn.length>0&&n.createElement(Ie,{unknownMemberIds:yn}),sn&&n.createElement(a.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},Le.t("All external people must already be in at least one channel together to send this invitation.")),_t&&n.createElement(Re,{error:hn})),Ut(),n.createElement(ve.s,null),Ft&&rn&&!Un&&n.createElement(se.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),et&&n.createElement(x.A,{activeHuddleCallId:et,channel:st,isFreeTeam:rn&&!Ft,onSuggestedUserSelected:pt,otherMembersInHuddle:Cn,selectedMemberIds:Mt,onChannelSelected:Dt,channelSuggestionOptionSelected:Ot==null?void 0:Ot.isCurrentSuggestedChannel}),!et&&n.createElement(Ue,{isFreeTeam:rn&&!Ft,onSuggestedChannelSelected:nt,onSuggestedUserSelected:pt,selectedChannelId:Ot==null?void 0:Ot.id,selectedMemberIds:Mt})),n.createElement(u.jl,null,n.createElement(u.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},n.createElement(V.A,{channelId:st==null?void 0:st.id}),n.createElement(u.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close"},Le.t("Cancel")),n.createElement(D.A,Me({},Gt,{clogImpression:!0}),n.createElement(o.lV,{"data-qa":"send_invite_button",loading:Jt,onClick:ht,type:"primary",disabled:!Mt.length&&!(Ot!=null&&Ot.id)},mn)))),Bt&&rn&&!Ft&&n.createElement(ce.A,{selectedMemberIds:Mt}))}c(Ke,"HuddleInviteChannelOrStart"),Ke.displayName="HuddleInviteChannelOrStart";const He=Ke},6011052675:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(3134334389),n=e(8300007136),s=e(735940183),r=e(6084388622),d=e(5904726069);const o=new s.Ay("huddles"),a=c(m=>{let{channelId:l}=m;const _=(0,n.wA)(),v=(0,t.useCallback)(()=>{_((0,d.r)({channelId:l}))},[_,l]);return l?t.createElement(r.Ay,{onClick:v,type:"outline",className:"p-huddle_invite_link_button__copy_link"},o.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");a.displayName="HuddleInviteLinkButton";const i=a},9236164662:(Q,C,e)=>{"use strict";e.d(C,{A:()=>D});var t=e(4481313819),n=e(6244014364),s=e(2689960678),r=e(735940183),d=e(3134334389),o=e(2562405183),a=e(8739505998),i=e(6323355797),m=e(8300007136),l=e(1267040415),_=e(236241007),v=e(5641442783),u=e(3994181705),h=e(5332875232),f=e(5881236351),p=e(7268021173),E=e(1384076438),g=e(2607644860),A=e(8112788848),y=e(8214116048);const T=new r.Ay("trials_highlight_paid_features"),M={onClick:{enableClogAction:!0},elementName:"start_trial"},O={elementName:"upgrade_link",onClick:{enableClogAction:!0}},I=c(P=>{let{selectedMemberIds:L=s.Ml}=P;const k=(0,m.wA)(),G=i.ZO.PaidFeatureTrial,b=i.zG.Vhq,W=(0,o.d4)(K=>(0,p.hq)(K,G,b)),B=(0,o.d4)(K=>(0,p.bp)(K,G,b)),R=(0,o.d4)(h.Si),j=(0,d.useCallback)(()=>{k((0,f.Ov)(L))},[k,L]),w=(0,d.useCallback)(()=>{k((0,_.A)({uiComponentVariant:n.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:j}))},[k,j]);if((0,d.useEffect)(()=>{k((0,E.A)({campaignType:G,campaignSubType:b,reason:"huddle_invite_modal",context:g.y.huddleInviteModal}))},[k,G,b]),!R||B)return null;const N=W?T.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":K=>{let{text:J}=K;return d.createElement(a.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:w,autoClogProps:M},J)}}):T.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":K=>{let{text:J}=K;return d.createElement(l.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:O,useLink:!0},J)}});return d.createElement(t.A,{eventId:n.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:n.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},d.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},d.createElement(v.A,{variant:u.G.HuddlesFreemiumDeprecated,promoType:G,promoSubtype:b,uiComponentVariant:n.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:A.m.AboveFullScreen,toolTipPosition:y.yX.Bottom}),d.createElement("span",{className:"margin_left_50"},N)))},"HuddleInviteModalFooterBanner");I.displayName="HuddleInviteModalFooterBanner";const D=I},7396657731:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(735940183),s=e(6244014364),r=e(4481313819),d=e(1743656885),o=e(3328083357),a=e(5712872315);const i=new n.Ay("trials_highlight_paid_features"),m=c(v=>{let{text:u}=v;return t.createElement(d.A,{articleId:4402059015315,ariaLabel:i.t("Learn more about Huddles")},u)},"AlertBannerHelpLink"),_=c(()=>t.createElement(r.A,{eventId:s.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:s.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(o.A,{theme:a.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},i.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":m})))),"HuddleInviteModalFreeBanner")},9645800439:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3134334389),n=e(2562405183),s=e(735940183),r=e(5103164797),d=e(8300576667),o=e(1407713935),a=e(3730613858),i=e(1289024643),m=e(8040098042),l=e(4327331459);const _=new s.Ay("huddles");var v;(function(I){I.CHANNEL="channel",I.MEMBER="member"})(v||(v={}));function u(I){let{id:D,entity:P,channel:L,huddleId:k}=I,G;(0,m.A)(D)?G=v.CHANNEL:(0,l.A)(D)&&(G=v.MEMBER);const b=(0,n.d4)(K=>L&&(0,a.Sv)(K,L.id,D)),W=b&&b.isKnown&&(b==null?void 0:b.isMember),B=L&&(0,o.JM)(L),R=(0,n.d4)(K=>(0,i.Ck)(K,k,D)),j=!!R&&R==="joining_soon";let w=null;if(R?w=j?_.t("Joining soon"):_.t("Invited"):L&&B&&!W?w=_.t("Not in conversation"):L&&!B&&!W&&(w=_.t("Not in channel")),!G)return null;let N;return G===v.CHANNEL?N=t.createElement(r.A,{channelId:D,channel:P}):G===v.MEMBER&&(N=t.createElement(d.A,{id:D,member:P,showPresence:!0,secondaryContent:w})),t.createElement("div",{className:"display_flex"},N)}c(u,"HuddleInviteMultiSelectRenderOption"),u.displayName="HuddleInviteMultiSelectRenderOption";const h=(0,t.memo)(u);var f=e(7090824688),p=e(630868093),E=e(3288846409),g=e(5286203919),A=e(2689960678);function y(){return y=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(I[L]=P[L])}return I},y.apply(this,arguments)}c(y,"_extends");const T=new s.Ay("huddles"),M=c(I=>{let{isFreeTeam:D,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:P,channel:L,otherMembersInHuddle:k,onSelectedMembersChange:G,onSelectedChannelChange:b,selectedMemberIds:W=A.Ml,selectedChannel:B}=I;const R=(0,E.cw)(g.E9),j=(0,t.useMemo)(()=>b&&!L&&!D&&!(W!=null&&W.length),[L,D,b,W]),w=(0,t.useMemo)(()=>B!=null&&B.id&&B.isCurrentSuggestedChannel?!0:!(B!=null&&B.id),[B]),N=(0,t.useMemo)(()=>({entities:{...j&&{channels:{canPost:!0,includeArchived:!1}},...w&&{members:{includeSelf:!1,includeSlackbot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:L},allowEmptyQuery:!0,filter:te=>!k.includes(te.id)}),[j,w,L,k]),K=(0,t.useCallback)(te=>{b&&(0,m.A)(te.value)?b(te.value):G([te.value])},[b,G]),J=(0,t.useCallback)(te=>{const le=[];let he;te.forEach(Ie=>{(0,m.A)(Ie.value)?(!he||Ie.value!==(B==null?void 0:B.id))&&(he=Ie.value):le.push(Ie.value)}),b==null||b(he),G(le)},[b,G,B]),Y=(0,t.useCallback)(te=>{let{value:le,entity:he}=te;return t.createElement(h,{channel:L,id:le,entity:he,huddleId:R})},[L,R]),q=(0,t.useCallback)(te=>{let{value:le}=te;return(0,m.A)(le)?t.createElement(r.A,{channelId:le}):t.createElement(d.A,{id:le,showAvatar:!0})},[]),H=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:N,renderOption:Y,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:D,focusOnMount:!0}),[N,Y,D]),ne=(0,t.useMemo)(()=>{const te=W.map(le=>({value:le}));return B!=null&&B.id&&te.push({value:B.id}),te},[B,W]);return D&&P?t.createElement(p.uR,y({},H,{onOptionSelected:K,placeholderText:T.t("Find someone to invite\u2026"),renderSelectedOption:q,selectedOption:ne[0]})):t.createElement(f.h7,y({},H,{onSelectedItemsChange:J,selectedOptions:ne,placeholderText:T.t("Search by name")}))},"HuddleInviteModalSelect");M.displayName="HuddleInviteModalSelect";const O=M},605594140:(Q,C,e)=>{"use strict";e.d(C,{A:()=>$});var t=e(3134334389),n=e(2562405183),s=e(3288846409),r=e(7715417323),d=e(2689960678),o=e(5363983309),a=e(9101533895),i=e(5286203919),m=e(6470070112),l=e(1407713935),_=e(5911067953),v=e(9706240641),u=e(4075246222),h=e(8300007136),f=e(6084388622),p=e(7937864072),E=e(3730613858),g=e(666760496),A=e(1563996154),y=e(444524526),T=e(980293773),M=e(9548972574),O=e(5795074931),I=e(5332875232),D=e(735940183),P=e(9884588328),L=e(581167618),k=e(3534324375),G=e(8276911661),b=e(8739505998),W=e(438845125);const B=new D.Ay("huddles");function R(ee){let{members:de,createNewMpim:ie}=ee;var ue,fe,re;const _e=(0,n.Z2)(Te=>de.map(ge=>(0,k.sE)(Te,(0,G.nv)(Te,ge.slackId))));if(!de)return null;const Ue=_e&&_e.slice(3),ye=B.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:de.length,name1:t.createElement(W.A,{slackId:(ue=de[0])===null||ue===void 0?void 0:ue.slackId}),name2:t.createElement(W.A,{slackId:(fe=de[1])===null||fe===void 0?void 0:fe.slackId}),name3:t.createElement(W.A,{slackId:(re=de[2])===null||re===void 0?void 0:re.slackId}),numOthers:t.createElement(A.Ay,{zIndex:"above_fs",position:"top",tip:(0,D.jd)(Ue)},t.createElement("span",null,de.length-3))},Te=>{let{text:ge,tag:Ae}=Te;return Ae==="a"?t.createElement(b.A,{onClick:ie},ge):null});return t.createElement(L.Ay,{level:L.A_.info,type:L.QE.custom},ye)}c(R,"HuddleInviteMpimAlert"),R.displayName="HuddleInviteMpimAlert";const j=R;var w=e(7268021173),N=e(3677514771),K=e(6839188756),J=e(4983989341),Y=e(4481313819),q=e(6244014364),H=e(1743656885),ne=e(9953252450),te=e(7396657731),le=e(9236164662),he=e(9645800439),Ie=e(6011052675),Ee=e(3109955471),me=e(3810478625),ce=e(1051015021),X=e(952756744),V=e(716227588),x=e(6259241484);const S=new D.Ay("huddles"),U={elementName:"learn_more",onClick:{enableClogAction:!0}};function F(ee){let{closeModal:de,callId:ie,channelId:ue,selectedMemberIds:fe=d.Ml}=ee;const re=(0,h.wA)(),_e=(0,p.A)(),Ue=(0,n.d4)(O.WR),ye=(0,n.d4)(m.pl),Te=(0,n.d4)(Ot=>(0,a.OL)(Ot,ue)),ge=(0,n.d4)(M.qr),Ae=(0,n.d4)(I.Si),Re=(0,n.d4)(me.g),Be=(0,n.Z2)(Ot=>(0,M.ft)(Ot,ue).filter(bt=>bt.id!==Ue).map(bt=>bt.id)),se=(0,n.d4)(Ot=>(0,V.Hp)(Ot,x.xu.HUDDLE_INVITE_MODAL))===x.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,[ve,Me]=(0,t.useState)(fe),[be,xe]=(0,t.useState)(!1),Le=(0,n.Z2)(Ot=>!ue||!(ve!=null&&ve.length)?[]:ve.filter(Jt=>{const en=(0,E.Sv)(Ot,ue,Jt);return en&&en.isKnown&&!(en!=null&&en.isMember)?Jt:!1})),Ke=(0,n.d4)(N.H7),He=(0,K.tc)(Ke),Ye=(0,n.d4)(w.iH),Xe=(0,t.useCallback)(Ot=>{Me(Ot)},[]),et=(0,t.useCallback)(Ot=>{Me(ve.concat(Ot))},[ve]),st=(0,t.useMemo)(()=>{const Ot=(0,P.Hd)(Te);return Array.isArray(Ot)?Ot:[]},[Te]),ot=st.filter(Ot=>Ot!==Ue),ct=(0,t.useCallback)((0,v.coroutine)(function*(){if(!ue)return;let Ot=ve.concat(Be);return st&&(Ot=(0,u.A)(Ot,st)),re((0,J.x)({channelId:ue,memberIds:Ot})).then(()=>{de()}).catch(bt=>{_e.error(bt),xe(!1)})}),[ue,ve,Be,st,re,de,_e]),at=(0,t.useCallback)((0,v.coroutine)(function*(){if(!ue)return;xe(!0);const Ot=ve.concat(Be);return re((0,g.A)({channelId:ue,userIds:Ot})).then(()=>{de()}).catch(bt=>{_e.error(bt),xe(!1)})}),[ue,de,re,_e,Be,ve]),At=c(()=>He&&!Ae&&!ge?t.createElement(te.A,null):Ye&&!ge&&!Re?t.createElement(ne.A,null):null,"maybeRenderBanner");At.displayName="maybeRenderBanner";let Ct,Tt,Rt,It;const Mt=c(Ot=>{const bt=Ot.map(Jt=>t.createElement(y.A,{key:Jt,isBold:!1,id:Jt}));return bt&&(0,D.jd)(bt)},"listifiedOverflowMembers");Mt.displayName="listifiedOverflowMembers",He&&Ae&&!ge?(Ct=S.t("Invite someone else to your huddle"),Rt=S.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(ot==null?void 0:ot.length)-1,firstParticipant:t.createElement(y.A,{isBold:!1,id:ot[0]}),secondParticipant:t.createElement(y.A,{isBold:!1,id:ot[1]}),"<a>":Ot=>{let{text:bt}=Ot;return t.createElement(A.Ay,{zIndex:"above_fs",tip:Mt(ot==null?void 0:ot.slice(1))},t.createElement("span",null,bt))},"<b>":Ot=>{let{text:bt}=Ot;return t.createElement("b",null,bt)}}),It=S.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":Ot=>{let{text:bt}=Ot;return t.createElement(H.A,{articleId:4402059015315,ariaLabel:S.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:U},bt)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(Ct=S.t("Invite people to your huddle"),Tt=S.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const nn=(0,t.useMemo)(()=>ve.length>1?S.t("Send Invites"):S.t("Send Invite"),[ve]);return!ye||!ue?null:t.createElement(T.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:de,contentLabel:Ct,shouldReturnFocusAfterClose:!0},t.createElement(T.rQ,null,t.createElement(T.Rc,{title:Ct,subtitle:Tt})),t.createElement(T.$m,null,t.createElement(T.qf,null,(Rt||It)&&t.createElement("p",null,Rt,It),t.createElement(he.A,{isFreeTeam:He&&!ge,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Ae,channel:Te,otherMembersInHuddle:Be,onSelectedMembersChange:Xe,selectedMemberIds:ve}),(Le==null?void 0:Le.length)>0&&t.createElement(j,{members:Le.map(Ot=>({slackId:Ot})),createNewMpim:ct})),At(),Re&&t.createElement(X.s,null),ge&&He&&!se&&t.createElement(ce.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(Ee.A,{activeHuddleCallId:ie,channel:Te,isFreeTeam:He&&!ge,onSuggestedUserSelected:et,otherMembersInHuddle:Be,selectedMemberIds:ve})),t.createElement(T.jl,null,t.createElement(Ie.A,{channelId:ue}),t.createElement(T.ox,null,t.createElement(T.s_,{type:"outline"},S.t("Cancel")),t.createElement(Y.A,{clogImpression:!0,eventId:q.EventId.HUDDLES_MPIM_INVITE},t.createElement(f.lV,{loading:be,onClick:at,type:"primary",disabled:!ve.length},nn)))),Ae&&He&&!ge&&t.createElement(le.A,{selectedMemberIds:ve}))}c(F,"HuddleInviteMpim"),F.displayName="HuddleInviteMpim";const Z=F;function z(ee){let{closeModal:de=r.A,selectedMemberIds:ie=d.Ml}=ee;const ue=(0,n.d4)(m.pl),fe=(0,s.cw)(i.E9),re=(0,s.cw)(i.hc),_e=(0,n.d4)(Ue=>(0,a.OL)(Ue,re));return ue?(0,l.JM)(_e)?t.createElement(Z,{callId:fe,channelId:re,closeModal:de,selectedMemberIds:ie}):t.createElement(_.A,{callId:fe,channel:_e,closeModal:de,selectedMemberIds:ie}):null}c(z,"HuddleInviteOrStartModal"),z.displayName="HuddleInviteOrStartModal";const $=(0,o.A)(z,{isStackable:!0})},3109955471:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Y});var t=e(3134334389),n=e(2003990933),s=e(7156798807),r=e(5103024697),d=e(2562405183),o=e(5795074931),a=e(3730613858),i=e(8276911661),m=e(1289024643),l=e(4822627003),_=e(3214129289),v=e(9163492386),u=e(8683010724),h=e(9884588328),f=e(1407713935),p=e(8798294025),E=e(4562579337),g=e(8170643398),A=e(863407566),y=e(181849556),T=e(735940183),M=e(2828836153),O=e(3877384923);const I=new T.Ay("huddles");var D;(function(q){q[q.Channel=0]="Channel",q[q.Here=1]="Here"})(D||(D={}));const P=c(q=>{let{variation:H}=q;const ne=(0,t.useMemo)(()=>{const te=H===D.Channel?I.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):I.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),le=H===D.Channel?I.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):I.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(u.A,{name:"mentions",size:"24",variation:"large"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},te),t.createElement("span",{className:"c-base_entity__subtext"},le)))},[H]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(M.A,{size:O.ny.medium,padding:O.FK.normal,primaryContent:ne}))},"HuddleInviteChannelListEntity");P.displayName="HuddleInviteChannelListEntity";const L=P;var k=e(8286248123),G=e(9548972574),b=e(2689960678),W=e(9680914051),B=e(6470070112);const R=new T.Ay("huddles");var j;(function(q){q.SUGGESTIONS="suggestions",q.INVITED="invited"})(j||(j={}));function w(q,H,ne,te,le,he,Ie){return!(!q||H||ne||q===te||le.includes(q)||he.includes(q)||Ie.includes(q))}c(w,"shouldSuggestMember");const N="channelEntityId",K="channelHereEntityId",J=c(q=>{let{activeHuddleCallId:H,channel:ne,isFreeTeam:te,onSuggestedUserSelected:le,onChannelSelected:he,onChannelHereSelected:Ie,otherMembersInHuddle:Ee,selectedMemberIds:me,channelSuggestionOptionSelected:ce=!1}=q;const X=(0,d.d4)(o.WR),V=(0,d.d4)(Ke=>(0,k.q8)(Ke,ne==null?void 0:ne.id)),x=(0,d.d4)(B.df),S=(0,n.A)(V,"counts.member_count")||void 0,U=(0,f.JM)(ne),F=(0,d.d4)(G.Sx),Z=(0,d.d4)(Ke=>(0,m.k9)(Ke,H)),z=(0,d.d4)(Ke=>(0,m.I1)(Ke,H)),ee=F+1+Z+z,de=(0,d.Z2)(Ke=>(0,m.Kx)(Ke,H)),ie=(0,t.useMemo)(()=>de?Object.keys(de):[],[de]),ue=ie.length,fe=25,re=(0,d.Z2)(Ke=>(0,A.A)(Ke,(ne==null?void 0:ne.id)||"",fe,fe,!0).map(Ye=>Ye.id));let _e=[];if((0,f.LI)(ne)){const Ke=(0,p.e)(ne);Ke&&_e.push(Ke)}else if((0,f.yz)(ne)){const Ke=(0,h.Ug)(ne);Ke&&Ke.length&&(_e=[...Ke])}else _e=re;const Ue=(0,d.wz)(Ke=>{if(ce||!_e||!_e.length)return b.Ml;const He=[];return _e.forEach(Ye=>{const Xe=(0,i.nv)(Ke,Ye);w(Ye,(0,E.A)(Xe),(0,g.oy)(Xe),X,Ee,ie,me)&&He.push({id:Ye,isMemberOfChannel:!0})}),He}),ye=(0,d.wz)(y.mc),Te=(0,d.wz)(Ke=>{if(!ye||!ye.length)return b.Ml;const He=[];return ye.forEach(Ye=>{const Xe=(0,i.nv)(Ke,Ye.id);if(!w(Ye.id,(0,E.A)(Xe),(0,g.oy)(Xe),X,Ee,ie,me)||_e.includes(Ye.id))return;const et=ne&&(0,a.Sv)(Ke,ne.id,Ye.id),st=et&&et.isKnown&&et.isMember;He.push({id:Ye.id,isMemberOfChannel:st})}),He}),ge=(0,t.useMemo)(()=>!he||(0,f.PC)(ne)?!1:S<=W.XG&&ee+S<=x&&!ce,[S,ce,ee,x,he,ne]),Ae=(0,t.useMemo)(()=>Ue.length>=fe?Ue.slice(0,fe):[...Ue,...Te].slice(0,fe),[Ue,Te]),Re=(0,t.useMemo)(()=>Ae.map(Ke=>Ke.id),[Ae]),Be=(0,t.useMemo)(()=>(0,s.A)(Ae,"id"),[Ae]),ke=(0,t.useMemo)(()=>Math.min(60*Math.max(ue,Re.length),240),[Re,ue]),se=(0,t.useCallback)((Ke,He)=>{if(He.key===N)return t.createElement(L,{variation:D.Channel});if(He.key===K)return t.createElement(L,{variation:D.Here});const Ye=Be[He.key];if(!Ye)return;let Xe=null;return Ye.isMemberOfChannel===!1&&(U||(0,f.PC)(ne)?Xe=R.t("Not in conversation"):Xe=R.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(l.A,{id:Ye.id,secondaryContent:Xe}))},[U,Be,ne]),ve=(0,t.useCallback)(Ke=>{if(Ke.id){if(Ke.id===N){he&&he();return}if(Ke.id===K){Ie&&Ie();return}le(Ke.id)}},[Ie,he,le]),Me=(0,t.useCallback)(()=>{let Ke=Re;return ge&&(Ke=[N,...Re]),t.createElement(r.A,{disableHeight:!0},He=>{let{width:Ye}=He;return t.createElement(v.A,{"aria-label":R.t("Suggested"),keys:Ke,rowRenderer:se,onItemClick:ve,width:Ye,height:ke})})},[ge,se,Re,ve,ke]),be=(0,t.useCallback)(Ke=>{const He=ie[Ke],Ye=de==null?void 0:de[He];if(!Ye)return null;const Xe=Ye==="joining_soon",et=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(u.A,{name:Xe?"clock":"paper-plane",size:"20"}),t.createElement("span",null,Xe?R.t("Joining soon"):R.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(l.A,{id:He,secondaryContent:et}))},[ie,de]),xe=(0,t.useCallback)(()=>t.createElement(r.A,{disableHeight:!0},Ke=>{let{width:He}=Ke;return t.createElement(v.A,{"aria-label":R.t("Invited"),keys:ie,rowRenderer:be,width:He,height:ke})}),[ie,be,ke]),Le=(0,t.useMemo)(()=>{const Ke=[];return Re.length&&Ke.push({title:R.t("Suggested"),id:j.SUGGESTIONS,content:Me()}),Ke.push({title:R.t("Invited"),id:j.INVITED,titleCount:ue,content:xe()}),Ke},[Re,ue,xe,Me]);return!H||te?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(_.A,{fullHeight:!0,tabs:Le,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");J.displayName="HuddleInviteSuggestionTabs";const Y=t.memo(J)},4869203191:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>g,Gr:()=>E,Lv:()=>_,jc:()=>f,z2:()=>p});var t=e(9706240641),n=e.n(t),s=e(735940183),r=e(2778217221),d=e(8664881451),o=e(2854284421),a=e(2047021170),i=e(5203103513),m=e(6673728906);const l=new s.Ay("huddles"),_="LOUNGE_MUSIC_PLAYER",v=[o.N3,o._4,o.j1,o._V,o.PM,o.tn,o.uu,o.jc];var u;(function(A){A.WaitingRoom="waiting",A.Subway="subway",A.Whistle="whistle",A.Jazz="jazz",A.Focus="focus",A.DiscoParty="disco",A.Zen="zen",A.Nature="nature"})(u||(u={}));const h=u.Jazz,f=c(A=>A?!!Object.values(u).includes(A):!1,"isValidSongKey"),p=c(A=>(0,a.ty)(A,i.Mz)||h,"getSongKeyFromUserPref"),E=c(()=>({[u.WaitingRoom]:{key:u.WaitingRoom,urlName:"waitingRoom",url:o.tn,displayName:l.t("Waiting Room")},[u.Subway]:{key:u.Subway,urlName:"subwayMusic",url:o.PM,displayName:l.t("Subway Music")},[u.Whistle]:{key:u.Whistle,urlName:"whistleTune",url:o.jc,displayName:l.t("Whistle Tune")},[u.Jazz]:{key:u.Jazz,urlName:"waitingMuzak",url:o.uu,displayName:l.t("Smooth Jazz")},[u.Focus]:{key:u.Focus,urlName:"focusBeats",url:o._4,displayName:l.t("Focus Beats")},[u.DiscoParty]:{key:u.DiscoParty,urlName:"discoParty",url:o.N3,displayName:l.t("Happy Bass")},[u.Zen]:{key:u.Zen,urlName:"momentOfZen",url:o.j1,displayName:l.t("Sound Bath")},[u.Nature]:{key:u.Nature,urlName:"natureMeditation",url:o._V,displayName:l.t("Nature Meditation")}}),"getSongsMetadata");let g=c(class po{static getInstance(){return po.instance||(po.instance=new po),po.instance}constructor(){this.getCurrentTrackDisplayName=()=>{const T=v[this.activeTrackIndex],M=E(),O=Object.values(M).find(I=>I.url===T);return O==null?void 0:O.displayName};var y=this;this.playMusic=(0,t.coroutine)(function*(){let{songKey:T,registerOnEndedCallback:M,logger:O,fromFirstTrack:I,loopSong:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};I&&(y.activeTrackIndex=0),M&&v.forEach(b=>{(0,d.TQ)(b,{ended:y.playNextTrack})});let P=v[y.activeTrackIndex];const L=(0,d.Dd)(P);if(T){var k;L&&(0,d.ds)(P);const W=(k=E()[T])===null||k===void 0?void 0:k.url,B=W?v.findIndex(R=>R===W):-1;B>-1&&(P=W,y.activeTrackIndex=B)}const G=(0,m._o)();if(G&&L)try{yield L.setSinkId(G),O==null||O.info(r.o7,`setSinkId success for lounge music on deviceID: ${G}`)}catch{O==null||O.info(r.o7,`setSinkId failed for lounge music on deviceID: ${G}`)}(0,d.ZH)(P,{loop:!!D})}),this.stopMusic=T=>{let{clearOnEndedCallback:M,logger:O,logContext:I}=T;M&&v.forEach(D=>{(0,d.Rj)(D,"ended",this.playNextTrack)}),(0,d.ds)(v[this.activeTrackIndex],{logFailure:!1}),O.info(r.o7,`stopped lounge music [${I}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<v.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,d.ds)(v[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,d.ZH)(v[this.activeTrackIndex],{loop:!1})},this.activeTrackIndex=0}},"HuddleLoungeMusicManager")},5152651193:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(5918772940),s=e.n(n),r=e(4121690455),d=e.n(r),o=e(2440739180),a=e.n(o),i=e(1894681178);const m=c(_=>{let{headerInfo:v,isUnlinked:u=!1}=_;const h=(0,i.A)(v,56);return t.createElement("div",{className:"p-identity_transfer_modal__logo"},t.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:s()})),t.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.createElement("img",{alt:"",src:u?a():d()})),t.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:h})))},"IdentityTransferModalLogo");m.displayName="IdentityTransferModalLogo";const l=m},8031326843:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ge});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(2562405183),d=e(5255740490),o=e(4481313819),a=e(1269227002),i=e(5257368278),m=e(2927826522),l=e(4433296946);const _=(0,i.A)("Get SIWS interstital blocks",(Ae,Re,Be)=>{let{appId:ke,url:se,channelId:ve}=Be;return Ae((0,a.apiCall)({args:{app_id:ke,uri:se,channel_id:ve},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(Me=>({...(0,m.t)(Me,1)})).catch(Me=>{var be;throw((be=Me.data)===null||be===void 0?void 0:be.error)==="invalid_client_cache"&&Ae((0,l._)()),Me})});_.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};const v=_;var u=e(97319433),h=e(7937864072),f=e(8369079536),p=e(9003400431),E=e(1031947056),g=e(387484329),A=e(796111729),y=e(2239896522),T=e(7763971809);const M=(0,E.Ay)("Set completed transfer pref of identity links prefs",(Ae,Re,Be)=>{let{appId:ke,completedTransfer:se}=Be;const ve=(0,y.IC)(Re());let Me="{}";try{Me=JSON.stringify({...ve,[ke]:{completed_transfer:se,date_completed_transfer:Number(Date.now())}})}catch(be){(0,A.Ay)({getState:Re}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",be)}return Ae((0,g.AZ)({pref:T.V,value:Me}))});M.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var O=e(5973312896),I=e(980293773),D=e(6244014364);const P=(0,i.A)("Send confirmation email",(Ae,Re,Be)=>{let{confirmationType:ke,email:se,intent:ve,locale:Me}=Be;return Ae((0,a.apiCall)({args:{confirmation_type:ke,email:se,intent:ve,locale:Me},method:"signup.confirmEmail",reason:"send-confirm-email"}))});P.meta={name:"createFetcher",key:"createFetchersendConfirmEmail",description:"Send confirmation email"};const L=P,k=(0,i.A)("Verify email confirmation code",(Ae,Re,Be)=>{let{code:ke,email:se,intent:ve}=Be;return Ae((0,a.apiCall)({args:{code:ke,email:se,intent:ve},method:"signin.confirmCode",reason:"verify-confirm-code"}))});k.meta={name:"createFetcher",key:"createFetcherverifyConfirmCode",description:"Verify email confirmation code"};const G=k;var b=e(9490291234),W=e(4645337865),B=e(2683115972),R=e(3165300465),j=e(7138682671),w=e(735940183),N=e(9907843289),K=e(7968796288),J=e(5152651193);const Y=new w.Ay("app-config"),q=c(Ae=>{let{url:Re}=Ae;return Re?n.createElement("div",{className:"p-identity_transfer_modal__redirect"},n.createElement("span",{className:"overflow_ellipsis"},Y.t("Link to: "),Re)):null},"IdentityTransferModalLink");q.displayName="IdentityTransferModalLink";const H=q,ne=new w.Ay("app-config"),te=c(Ae=>{let{appId:Re,domain:Be,email:ke,headerInfo:se,logger:ve,setIdentityTransferStep:Me,setLinkClickedPrefs:be,url:xe,hideLink:Le=!1,reverifyEmail:Ke=!1,autoClogProps:He}=Ae;const Ye=(0,s.wA)(),Xe=(0,f.A)(),et=(0,K.A)(),[st,ot]=(0,n.useState)(b.lS.Empty),[ct,at]=(0,n.useState)(!1),[At,Ct]=(0,n.useState)(!1),Tt=(0,n.useCallback)((0,t.coroutine)(function*(){try{yield Ye(L({confirmationType:"code",email:ke,intent:"identity_links",locale:(0,N.Yp)()}))}catch(bt){ve.error("error in sending confirm email",bt)}}),[Ye,ke,ve]);(0,n.useEffect)(()=>{Xe.current&&Tt()},[Xe,Tt]);const Rt=c(()=>{Me(Ke?"reverifyEmail":"permissions")},"handleBackClicked"),It=c(()=>{ot(b.lS.Empty),Ct(!1)},"handleChangeCode"),Mt=c(()=>{Tt()},"handleResendEmail"),nn=function(){var bt=(0,t.coroutine)(function*(Jt){try{ot(b.lS.Processing),at(!0),yield Ye(G({code:Jt,email:ke,intent:"identity_links"})),yield be(!0),Xe.current&&(ot(b.lS.Success),at(!1),Ct(!1))}catch(en){if(Xe.current){switch(en.name){case"expired":ot(b.lS.Expired),Ct(!1),Tt();break;case"failed":ot(b.lS.Error),Ct(!1);break;case"ratelimited":ot(b.lS.Ratelimited),Ct(!1);break;default:ot(b.lS.Unknown),Ct(!0);break}at(!1)}}});return c(function(en){return bt.apply(this,arguments)},"handleFillCode")}(),Ot=st===b.lS.Expired||st===b.lS.Error||st===b.lS.Unknown;return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:se}),n.createElement("h1",{className:"p-identity_transfer_modal__title"},ne.t("Please verify your email address")),n.createElement(I.qf,null,n.createElement("p",null,ne.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:ke})),n.createElement("div",{className:"margin_bottom_50"},n.createElement("strong",null,ne.t("Enter the code below:"))),n.createElement("form",{onSubmit:bt=>bt.preventDefault()},n.createElement("fieldset",{className:"no_margin no_padding no_border"},n.createElement("legend",{className:"offscreen"},ne.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:Be,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),n.createElement(W.A,{isCheckError:!1,isNumbersOnly:!1,onChange:It,onFillCode:nn,isInvalid:Ot,ariaDescribedBy:et}))),n.createElement(b.UU,{status:st,id:et}),At&&n.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},n.createElement(j.A,{htmlFor:"resend_verification_email",text:ne.t("Get a new verification code.")}),n.createElement(B.Ay,{id:"resend_verification_email",onClick:Mt},ne.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),n.createElement(I.jl,null,!Le&&n.createElement(H,{url:xe}),n.createElement(I.ox,null,n.createElement(R.A,{"aria-label":ne.t("Back"),autoClogProps:{eventId:D.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:Re,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...He},"data-qa":"siws_email_verification_back",loading:ct,onClick:Rt,type:"outline"},ne.t("Back")))))},"IdentityTransferModalEmailVerification");te.displayName="IdentityTransferModalEmailVerification";const le=te;var he=e(4775127335),Ie=e(1610251172),Ee=e(6084388622);const me=new w.Ay("app-config"),ce=c(Ae=>{let{email:Re,name:Be,userId:ke,workspaceDomain:se}=Ae;const ve=(0,K.A)(),[Me,be]=(0,n.useState)(!1);return n.createElement("div",{className:"p-identity_transfer_modal__member_card"},n.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:ve},n.createElement(he.Ay,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:ke}),n.createElement("div",null,n.createElement("p",{className:"bold"},Be),n.createElement("p",null,Re),n.createElement(Ee.Nm,{"data-qa":"expand_to_see_user_details","aria-controls":ve,"aria-expanded":Me,"aria-label":Me?me.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):me.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>be(!Me)},n.createElement(Ie.A,{type:Me?"chevron-large-up":"chevron-large-down"})),Me&&n.createElement(n.Fragment,null,n.createElement("p",null,me.t("Workspace ID: {workspaceDomain}",{workspaceDomain:se})),n.createElement("p",null,me.t("User ID: { userId }",{userId:ke}))))))},"IdentityTransferModalMemberCard");ce.displayName="IdentityTransferModalMemberCard";const X=ce,V=new w.Ay("app-config"),x=c(Ae=>{let{icon:Re,text:Be}=Ae;return n.createElement("div",{className:"p-identity_transfer_modal__description_item"},n.createElement(Ie.A,{"aria-label":V.t("{icon} icon",{icon:Re}),className:"p-identity_transfer_modal__description_icon",type:Re}),n.createElement("p",null,Be))},"IdentityTransferModalDescriptionItem");x.displayName="IdentityTransferModalDescriptionItem";const S=x;var U=e(8739505998),F=e(1251564078);const Z=new w.Ay("app-config"),z=c(Ae=>{let{appName:Re,privacyPolicyUrl:Be,tosUrl:ke}=Ae;return n.createElement("div",{className:"p-identity_transfer_modal__legal"},Z.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:Re,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},se=>{let{tag:ve,text:Me}=se;switch(ve){case"a1":return n.createElement(U.A,{href:ke},Me);case"a2":return n.createElement(U.A,{href:Be},Me);case"a3":return n.createElement(U.A,{href:(0,F.v)("/privacy-policy")},Me);default:return null}}))},"IdentityTransferModalLegal");z.displayName="IdentityTransferModalLegal";const $=z,ee=new w.Ay("app-config"),de=c(Ae=>{let{appId:Re,domain:Be,isUnskippable:ke=!1,hideLink:se=!1,headerInfo:ve,isLoading:Me,legalInfo:be,setIdentityTransferStep:xe,setLinkClickedPrefs:Le,url:Ke,userInfo:He,autoClogProps:Ye}=Ae;const Xe=(0,f.A)(),[et,st]=(0,n.useState)(!0),[ot,ct]=(0,n.useState)(!1),[at,At]=(0,n.useState)(!0),[Ct,Tt]=(0,n.useState)(!1);(0,n.useEffect)(()=>{st(Me),At(Me)},[Me]);const Rt=function(){var bt=(0,t.coroutine)(function*(Jt){Jt?(ct(!0),At(!0)):(st(!0),Tt(!0)),yield Le(Jt),Xe.current&&(Jt?(ct(!1),At(!1)):(st(!1),Tt(!1)))});return c(function(en){return bt.apply(this,arguments)},"setLoadingAndLinkClickedPrefs")}(),It=c(()=>{He.isEmailVerified?Rt(!0):xe("emailVerification")},"handleAcceptClicked"),Mt=c(()=>{Rt(!1)},"handleSkipClicked"),nn=c(()=>{Rt(!1)},"handleCancelClicked"),{appName:Ot}=ve;return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:ve}),n.createElement("h1",{className:"p-identity_transfer_modal__title"},ke?ee.t("Connect {appName} with Slack",{appName:Ot}):ee.t("Continue to {appName} with Slack",{appName:Ot})),n.createElement(I.qf,{className:"p-identity_transfer_modal__member_section"},n.createElement(X,{email:He.email,name:He.name,userId:He.userId,workspaceDomain:He.workspaceDomain})),n.createElement(I.qf,null,n.createElement("div",{className:"p-identity_transfer_modal__info_box"},n.createElement("b",null,n.createElement("p",null,ee.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),n.createElement(S,{icon:"plug",text:ee.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:Ot})}),n.createElement(S,{icon:"user",text:ee.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:Ot})}),n.createElement(S,{icon:"sparkles",text:ee.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:Ot})})),n.createElement($,{appName:Ot,privacyPolicyUrl:be.privacyPolicyUrl,tosUrl:be.tosUrl}))),n.createElement(I.jl,null,!se&&n.createElement(H,{url:Ke}),n.createElement(I.ox,null,!ke&&n.createElement(R.A,{autoClogProps:{eventId:D.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:Re,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:at,loading:Ct,onClick:Mt,type:"outline"},ee.t("Skip")),ke&&n.createElement(B.Ay,{type:"outline",onClick:nn,autoClogProps:{eventId:D.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:Re,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...Ye}},ee.t("Cancel")),n.createElement(R.A,{autoClogProps:{eventId:D.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:Re,idlDomain:Be,idlEventId:D.EventId[D.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...Ye},"data-qa":"siws_auth_modal_accept",disabled:et,loading:ot,onClick:It,type:"primary"},ee.t("Accept")))))},"SiwsIdentityTransfer");de.displayName="SiwsIdentityTransfer";const ie=de,ue=new w.Ay("app-config"),fe=c(Ae=>{let{appId:Re,domain:Be,headerInfo:ke,url:se,setIdentityTransferStep:ve}=Ae;const Me=(0,s.wA)(),be=(0,r.d4)(Ke=>(0,y.LG)(Ke,Re)),xe=c(()=>{ve("permissions")},"handleBackClicked"),Le=c(()=>{Me((0,O.J)({appId:Re,dateOptedOut:Date.now(),numSkipped:be+1})),window.open(se,"_blank","noopener,noreferrer"),Me((0,p.O)())},"handleProceedClicked");return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:ke}),n.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},ue.t("You\u2019ve skipped a few times and we hear you")),n.createElement(I.qf,null,n.createElement("div",null,ue.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:ke.appName,link:n.createElement(U.A,{href:se},se)})))),n.createElement(I.jl,null,n.createElement(I.ox,null,n.createElement(Ee.Ay,{"aria-label":ue.t("Back"),autoClogProps:{idlAppId:Re,idlDomain:Be,eventId:D.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:xe,type:"outline"},ue.t("Back")),n.createElement(Ee.Ay,{"aria-label":ue.t("Proceed"),autoClogProps:{idlAppId:Re,idlDomain:Be,eventId:D.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:Le},ue.t("Proceed")))))},"IdentityTransferModalSkip");fe.displayName="IdentityTransferModalSkip";const re=fe,_e=new w.Ay("app-config"),Ue=c(Ae=>{let{email:Re,headerInfo:Be,setIdentityTransferStep:ke}=Ae;const se=(0,s.wA)(),ve=c(()=>{ke("emailVerification")},"handleVerifyClicked"),Me=(0,n.useCallback)(()=>{se((0,p.O)())},[se]);return n.createElement(n.Fragment,null,n.createElement(I.$m,null,n.createElement(J.A,{headerInfo:Be}),n.createElement("h1",{className:"p-identity_transfer_modal__title"},_e.t("Verify your account to continue with {appName}",{appName:Be==null?void 0:Be.appName})),n.createElement(I.qf,null,n.createElement("div",{className:"p-identity_transfer_modal__info_box"},n.createElement("b",null,n.createElement("p",null,_e.t("Verification Required"))),n.createElement("ul",null,n.createElement("li",null,_e.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:Be==null?void 0:Be.appName})),n.createElement("li",null,_e.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:n.createElement("b",null,n.createElement("span",null,Re))}))),n.createElement("p",null,_e.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),n.createElement(I.jl,null,n.createElement(I.ox,null,n.createElement(B.Ay,{type:"outline",onClick:Me},_e.t("Cancel")),n.createElement(B.Ay,{onClick:ve},_e.t("Verify")))))},"IdentityTransferReverificationModal");Ue.displayName="IdentityTransferReverificationModal";const ye=Ue,Te=c(Ae=>{let{appId:Re,domain:Be,clientMsgId:ke,isUnfurl:se=!1,isUserPrefs:ve=!1,url:Me,channelId:be,reverifyEmail:xe=!1}=Ae;const Le=(0,s.wA)(),Ke=(0,h.A)(),He=(0,f.A)(),[Ye,Xe]=(0,n.useState)(null),[et,st]=(0,n.useState)({appName:"",icons:{}}),[ot,ct]=(0,n.useState)({tosUrl:"",privacyPolicyUrl:""}),[at,At]=(0,n.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[Ct,Tt]=(0,n.useState)(!0),[Rt,It]=(0,n.useState)(xe?"reverifyEmail":"permissions"),Mt=(0,r.d4)(sn=>se?0:(0,y.LG)(sn,Re));(0,n.useEffect)(()=>{(function(){var zt=(0,t.coroutine)(function*(){try{const{header:Yt,legal:hn,user:Qe}=yield Le(v({appId:Re,url:Me,channelId:!ve&&!se?be:void 0}));He.current&&(st(Yt),ct(hn),At(Qe),Tt(!1))}catch(Yt){!se&&!ve&&window.open(Me,"_blank","noopener,noreferrer"),Le((0,p.O)()),Ke.error(`app-id - ${Re}`,"error in getting interstitial blocks for link with given appid",Yt)}});return c(function(){return zt.apply(this,arguments)},"getAuthModalData")})()()},[Re,Le,Ke,He,Me,se,ve,be]);const nn=(0,n.useCallback)(function(){var sn=(0,t.coroutine)(function*(zt){try{zt?(!ve&&Me&&(yield Le((0,u.Ap)({appId:Re,url:Me,clientMsgId:ke,domain:Be,shouldCloseWindowOnCompletion:se}))),Le(M({appId:Re,completedTransfer:!0})),Le((0,p.O)())):!se&&!ve&&Mt<2?(Le((0,O.J)({appId:Re,dateLastSkipped:Date.now(),numSkipped:Mt+1})),Le((0,p.O)()),window.open(Me,"_blank","noopener,noreferrer")):!se&&!ve&&Mt===2?It("skip"):(Le((0,p.O)()),!se&&!ve&&window.open(Me,"_blank","noopener,noreferrer"))}catch(Yt){Ke.error(`app-id - ${Re}`,"error in setting prefs with given appid",Yt)}});return function(zt){return sn.apply(this,arguments)}}(),[Re,Le,Be,ke,Ke,Mt,Me,se,ve]),Ot=(0,n.useCallback)(()=>{const sn={permissions:D.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:D.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:D.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:D.EventId.IDL_EMAIL_VERIFICATION_CLOSED},zt=sn==null?void 0:sn[Rt];if(Ye==null||Ye.track({eventId:zt,entryPoint:"USER_PREFS",idlAppId:Re,idlDomain:Be,idlEventId:D.EventId[zt].toLowerCase()}),se||ve||xe){Le((0,p.O)());return}Rt==="skip"?(Le((0,O.J)({appId:Re,dateOptedOut:Date.now(),numSkipped:Mt+1})),window.open(Me,"_blank","noopener,noreferrer")):Mt<2?(Le((0,O.J)({appId:Re,dateLastSkipped:Date.now(),numSkipped:Mt+1})),window.open(Me,"_blank","noopener,noreferrer")):Mt===2&&It("skip"),Rt!=="skip"&&Mt===2||Le((0,p.O)())},[Re,Ye,Le,Be,Rt,Mt,Me,se,ve,xe]);let bt;const Jt={entryPoint:ve?"USER_PREFS":void 0};switch(Rt){case"reverifyEmail":bt=n.createElement(ye,{email:at.email,headerInfo:et,setIdentityTransferStep:It});break;case"emailVerification":bt=n.createElement(le,{hideLink:ve||se,appId:Re,domain:Be,email:at.email,headerInfo:et,logger:Ke,setIdentityTransferStep:It,setLinkClickedPrefs:nn,url:Me,reverifyEmail:xe,autoClogProps:Jt});break;case"skip":bt=n.createElement(re,{appId:Re,domain:Be,headerInfo:et,setIdentityTransferStep:It,url:Me});break;default:bt=n.createElement(ie,{isUnskippable:se||ve,hideLink:se||ve,appId:Re,domain:Be,headerInfo:et,isLoading:Ct,legalInfo:ot,setIdentityTransferStep:It,setLinkClickedPrefs:nn,userInfo:at,url:Me,autoClogProps:Jt})}const en=(0,d.A)("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":Rt==="skip"});return n.createElement(o.A,{trackClogRef:sn=>{Xe({track:sn})}},n.createElement(I.dW,{className:en,closeModal:Ot,shouldCloseOnOverlayClick:!1},bt))},"IdentityTransferModal");Te.displayName="IdentityTransferModal";const ge=Te},1650415028:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(8170244779),d=e(6244014364),o=e(1469799399),a=e(8262898118),i=e(4481313819),m=e(2239896522);const l=c(v=>{let{children:u,url:h}=v;const f=(0,n.wA)(),p=(0,t.useContext)(r.A).channelId,E=(0,s.d4)(M=>(0,a.ND)(M,h)),g=(0,s.d4)(M=>(0,a.pF)(M,h)),A=(0,s.d4)(M=>(0,m.Xe)(M,E??"")!==null),y=(0,t.useCallback)(M=>{M.shiftKey||M.metaKey||M.ctrlKey||(M.preventDefault(),f((0,o.C)({url:h,channelId:p})))},[f,h,p]),T=(0,t.useMemo)(()=>({onClick:{enableClogAction:!A}}),[A]);return t.createElement(i.A,{eventId:d.EventId.IDL_CLICKED,idlAppId:E,idlDomain:g,idlEventId:d.EventId[d.EventId.IDL_CLICKED].toLowerCase()},typeof u=="function"?u(y,T):u)},"IdentityTransferTrigger");l.displayName="IdentityTransferTrigger";const _=l},124213367:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(9391594207),s=e(3297051565),r=e.n(s),d=e(4979382452),o=e(4636370173),a=e(2465132699),i=e(6308822),m=e(9003400431);const l={className:r().string,closeModal:r().func.isRequired},_={className:void 0};function v(h){return t.createElement(d.A,{className:h.className,closeModal:h.closeModal},t.createElement(o.A,null,t.createElement(a.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(i.A,null)))))}c(v,"LoadingModal"),v.displayName="LoadingModal",v.propTypes=l,v.defaultProps=_;const u=(0,n.N)(null,h=>({closeModal:function(){for(var f=arguments.length,p=new Array(f),E=0;E<f;E++)p[E]=arguments[E];return h((0,m.O)(...p))}}))(v)},79199995:(Q,C,e)=>{"use strict";e.d(C,{WJ:()=>m,eW:()=>i,fJ:()=>u,g2:()=>v,kY:()=>l,oE:()=>a});var t=e(4418517660),n=e.n(t),s=e(583204418),r=e(735940183),d=e(6471801899);const o=new r.Ay("lists");var a;(function(h){h.Today="today",h.Yesterday="yesterday",h.Tomorrow="tomorrow",h.ThisWeek="this_week",h.NextWeek="next_week",h.LastWeek="last_week",h.SinceILastViewed="since_i_last_viewed"})(a||(a={}));const i=c(h=>!h.options||h.options.dateFormat===s.cf.Default?d.Wl:h.options.dateFormat,"getDateFormat"),m=c(h=>Object.values(a).includes(h),"isDateFilterOption"),l=c(h=>{switch(h){case a.Today:return o.t("Today");case a.Yesterday:return o.t("Yesterday");case a.Tomorrow:return o.t("Tomorrow");case a.ThisWeek:return o.t("This week");case a.NextWeek:return o.t("Next week");case a.LastWeek:return o.t("Last week");case a.SinceILastViewed:return o.t("Since last time you viewed");default:return h}},"formatDateForMenu"),_=c(h=>{const f=n()(h).startOf("isoWeek"),p=n()(h).endOf("isoWeek"),E=[];let g=f;for(;g<=p;)E.push(g),g=g.clone().add(1,"days");return E},"getWeekdays"),v=c(h=>{let f;switch(h){case a.Today:f=n()().format(d.DX);break;case a.Yesterday:f=n()().subtract(1,"days").format(d.DX);break;case a.Tomorrow:f=n()().add(1,"days").format(d.DX);break;case a.ThisWeek:f=_(n()()).map(p=>p.format(d.DX));break;case a.NextWeek:f=_(n()().add(1,"weeks")).map(p=>p.format(d.DX));break;case a.LastWeek:f=_(n()().subtract(1,"weeks")).map(p=>p.format(d.DX));break;case a.SinceILastViewed:f=n()().format(d.DX);break;default:f=h}return f},"getStaticDateValue"),u=n()().format(d.DX)},3001769570:(Q,C,e)=>{"use strict";e.d(C,{OQ:()=>p,PL:()=>i,R8:()=>y,UE:()=>h,Ui:()=>f,aI:()=>u,aN:()=>E,bV:()=>v,bw:()=>_,lx:()=>g,nM:()=>A,rD:()=>l});var t=e(1649982175),n=e(166097325),s=e(7682358855),r=e(8191156954),d=e(4097827290),o=e(735940183);const a=new o.Ay("lists"),i=c((T,M)=>T.indexOf(M)===-1?[...T,M]:T.filter(I=>I!==M),"toggleValueInFilterValues"),m=c(T=>{if(!T.length)return T;const M=T==null?void 0:T.flatMap(I=>I.split("|"));return[...new Set(M)]},"parseUserIdsAndRemoveDupes"),l=c((T,M)=>{const O=[];return Object.values(T??{}).forEach(D=>{if(D.fields&&D.fields[M]){const P=D.fields[M];O.push(P.trim())}}),[s._4,...m(O)]},"getUserIdsInUserColumns"),_=c((T,M,O)=>{const I=T.map(P=>(0,t.A)(P,[O])),D=M.map(P=>(0,t.A)(P,[O]));return(0,n.A)(I,D)},"isLocalAndServerFilterSortsEqual"),v=c((T,M)=>{var O;const I=M.get((O=T.key)!==null&&O!==void 0?O:"");return I?!(0,n.A)(I.operator,T.operator)||!(0,n.A)(new Set(I.values),new Set(T.values)):!0},"isFilterUnsavedOrModified"),u=c(T=>{let M=T;return Boolean(M.find(I=>I.type===r.$.CreatedTime))||(M=[...M,{id:r.$.CreatedTime,name:"Created time",key:r.$.CreatedTime,type:r.$.CreatedTime,isPrimaryColumn:!1}]),M},"appendCreatedTimeDataColumn"),h=c(T=>{switch(T.type){case r.$.Checkbox:case r.$.Completed:case r.$.Message:case r.$.Link:case r.$.TodoCompleted:return[d.t.IsEmpty,d.t.IsNotEmpty];case r.$.Assignee:case r.$.CreatedBy:case r.$.LastEditedBy:case r.$.Rating:case r.$.Select:case r.$.User:case r.$.Text:case r.$.TodoAssignee:return[d.t.Contains,d.t.DoesNotContain,d.t.IsEmpty,d.t.IsNotEmpty];case r.$.Currency:case r.$.Number:case r.$.Date:case r.$.TodoDueDate:return[d.t.Equal,d.t.NotEqual,d.t.LessThan,d.t.GreaterThan,d.t.IsEmpty,d.t.IsNotEmpty];default:return[d.t.Equal,d.t.NotEqual,d.t.IsEmpty,d.t.IsNotEmpty]}},"getOperatorsFromColumn"),f=c(T=>T.type===r.$.Checkbox,"isCheckboxFilter"),p=c(T=>T.type===r.$.Completed||T.type===r.$.TodoCompleted,"isCompletedFilter"),E=c(T=>T===d.t.IsEmpty||T===d.t.IsNotEmpty,"isEmptyOperator"),g=c(T=>T===d.t.IsMe||T===d.t.IsNotMe,"isMeOperator"),A=c(T=>T.type===r.$.Date||T.type===r.$.DueDate||T.type===r.$.CreatedTime||T.type===r.$.LastEditedTime||T.type===r.$.TodoDueDate,"isDateFilter"),y=c((T,M)=>{switch(T){case d.t.IsEmpty:return f(M)?a.t("is not checked"):p(M)?a.t("Not completed"):a.t("is empty");case d.t.IsNotEmpty:return f(M)?a.t("is checked"):p(M)?a.t("Completed"):a.t("is not empty");case d.t.Equal:return A(M)?a.t("is"):a.t("is equal to");case d.t.NotEqual:return A(M)?a.t("is not"):a.t("is not equal to");case d.t.GreaterThan:return A(M)?a.t("is after"):a.t("is greater than");case d.t.LessThan:return A(M)?a.t("is before"):a.t("is less than");case d.t.GreaterThanOrEqual:return a.t("is greater than or equal to");case d.t.LessThanOrEqual:return a.t("is less than or equal to");case d.t.Contains:return a.t("includes");case d.t.DoesNotContain:return a.t("does not include");case d.t.IsMe:return a.t("is me");case d.t.IsNotMe:return a.t("is not me");default:return""}},"getFilterOperatorLabel")},9216332371:(Q,C,e)=>{"use strict";e.d(C,{AO:()=>le,Hs:()=>V,Jn:()=>T,M1:()=>Ee,Nh:()=>te,Po:()=>B,Q6:()=>j,Rw:()=>x,Sb:()=>Ie,c$:()=>ce,g2:()=>X,iT:()=>me,kv:()=>N,u1:()=>he,us:()=>H});var t=e(3783723764),n=e(1703559452),s=e(2240330919),r=e(2101927269),d=e(4418517660),o=e.n(d),a=e(7682358855),i=e(79199995),m=e(8191156954),l=e(4097827290),_=e(8393662842),v=e(7334104107),u=e(4919145213),h=e(583204418),f=e(5045557812),p=e(3342113153),E=e(3802883493),g=e(8088280230),A=e(6471801899),y=e(7606781622);const T=c(S=>{let{record:U,colKey:F}=S;var Z,z,$,ee,de;if(!(U==null||(Z=U.fallback)===null||Z===void 0)&&Z[F])return U.fallback[F];if(!(U==null||(z=U.fields)===null||z===void 0||($=z.fallback)===null||$===void 0)&&$[F])return U==null||(ee=U.fields)===null||ee===void 0||(de=ee.fallback)===null||de===void 0?void 0:de[F];if(U[F]){if((0,f.A)(U[F])){var ie,ue,fe,re,_e;return(_e=(re=(fe=(ie=U[F])===null||ie===void 0||(ue=ie[0])===null||ue===void 0?void 0:ue.elements[0])===null||fe===void 0?void 0:fe.elements[0])===null||re===void 0?void 0:re.text)!==null&&_e!==void 0?_e:""}return U[F].toString()}return""},"getStringValue"),M=c(S=>{const U=o()(S).startOf("isoWeek"),F=o()(S).endOf("isoWeek"),Z=[];let z=U;for(;z<=F;)Z.push(z),z=z.clone().add(1,"days");return Z},"getWeekdays"),O=c((S,U)=>{const F="YYYY-MM-DD";let Z;switch(S){case i.oE.Today:Z=o()().format(F);break;case i.oE.Yesterday:Z=o()().subtract(1,"days").format(F);break;case i.oE.Tomorrow:Z=o()().add(1,"days").format(F);break;case i.oE.ThisWeek:Z=M(o()()).map($=>$.format(F));break;case i.oE.NextWeek:Z=M(o()().add(1,"weeks")).map($=>$.format(F));break;case i.oE.LastWeek:Z=M(o()().subtract(1,"weeks")).map($=>$.format(F));break;case i.oE.SinceILastViewed:return Z=o().unix(U),Z;default:Z=o()(S,F).format(F)}return Array.isArray(Z)?Z.map($=>o()($,F)):o()(Z,F)},"convertDynamicDateToStatic"),I=c(S=>S.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),"normalizeText"),D=c(function(S,U,F){let Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const z=Z?U:U==null?void 0:U.clone().startOf("day"),$=Z?F:F==null?void 0:F.clone().startOf("day");switch(S){case l.t.NotEqual:return!(z!=null&&z.isSame($));case l.t.GreaterThan:return z==null?void 0:z.isBefore($);case l.t.GreaterThanOrEqual:return z==null?void 0:z.isSameOrBefore($);case l.t.LessThan:return z==null?void 0:z.isAfter($);case l.t.LessThanOrEqual:return z==null?void 0:z.isSameOrAfter($);case l.t.Equal:default:return z==null?void 0:z.isSame($)}},"multiDateOperatorFilterValueCheck"),P=c((S,U,F,Z,z)=>{if(!U.values[0])return S;let $=F;const ee=U.values[0]===i.oE.SinceILastViewed;return ee&&($=l.t.GreaterThan),S.filter(de=>{if(z!=null&&z.has(de.id))return!0;const ie=de[U.key];let ue=ie?o()(ie).startOf("day"):void 0;return isNaN(ie)||(ue=o().unix(ie)),U.values.some(fe=>{if(!fe)return!1;const re=O(fe.toString(),Z);return Array.isArray(re)?$===l.t.NotEqual?!re.some(_e=>_e&&ue?_e.clone().startOf("day").isSame(ue):!1):re.some(_e=>_e&&ue?D($,_e,ue):!1):re&&ue?D($,re,ue,ee):!1})})},"multiDateFilter"),L=c((S,U,F,Z)=>{const z=U.values[0]||"";return S.filter($=>{if(Z!=null&&Z.has($.id))return!0;const ee=$[U.key]||"";switch(F){case l.t.DoesNotContain:return!ee.toLowerCase().includes(z.toString().toLowerCase());case l.t.Contains:default:return ee.toLowerCase().includes(z.toString().toLowerCase())}})},"textFilter"),k=c((S,U,F,Z)=>{const z=U.values[0]||"";return S.filter($=>{if(Z!=null&&Z.has($.id))return!0;const ee=T({record:$,colKey:U.key});switch(F){case l.t.DoesNotContain:return!ee.toLowerCase().includes(z.toString().toLowerCase());case l.t.Contains:default:return ee.toLowerCase().includes(z.toString().toLowerCase())}})},"richTextFilter"),G=c((S,U,F,Z)=>{if(!U.values.length)return S;var z;const $=Number((z=U.values[0])!==null&&z!==void 0?z:"");return S.filter(ee=>{if(Z!=null&&Z.has(ee.id))return!0;const de=ee[U.key],ie=Number(de??"");if(de!=null)switch(F){case l.t.NotEqual:return ie!==$;case l.t.GreaterThan:return ie>$;case l.t.GreaterThanOrEqual:return ie>=$;case l.t.LessThan:return ie<$;case l.t.LessThanOrEqual:return ie<=$;case l.t.Equal:default:return ie===$}})},"numberFilter"),b=c((S,U,F,Z)=>{const z=new Set(U.values);return z.size?S.filter($=>{if(Z!=null&&Z.has($.id))return!0;var ee;const de=String((ee=$[U.key])!==null&&ee!==void 0?ee:"");switch(F){case l.t.Contains:return z.has(de);case l.t.DoesNotContain:return!z.has(de);case l.t.IsEmpty:return de===null;case l.t.IsNotEmpty:return de!==null;default:return!0}}):S},"multiRatingFilter"),W=c((S,U,F,Z,z,$)=>{const ee=U.values.map(ie=>ie===a._4&&$?$:ie),de=new Set(ee);return de.size?S.filter(ie=>{if(z!=null&&z.has(ie.id))return!0;const ue=ie[U.key],fe=(ue??"").split(a.eY).filter(Boolean);let re=!1;for(const _e of fe){if(de.has(_e)){re=!0;break}if(!Z)break}return F===l.t.Equal?re:F===l.t.NotEqual?!re:F===l.t.Contains?re:F===l.t.DoesNotContain?!re:!0}):S},"multiOptionFilter");function B(S){return S===0?!1:!S||Array.isArray(S)&&S.length===0}c(B,"isEmptyValue");const R=c((S,U,F,Z,z,$)=>{let ee=S;return U.forEach(de=>{const ie=F.find(_e=>_e.key===de.key);if(!ie)return;const ue=de.operator;if(ue===l.t.IsEmpty){ee=ee.filter(_e=>$!=null&&$.has(_e.id)?!0:B(_e[de.key]));return}if(ue===l.t.IsNotEmpty){ee=ee.filter(_e=>$!=null&&$.has(_e.id)?!0:!B(_e[de.key]));return}switch(ie.type){case m.$.Text:ee=k(ee,de,ue,$);break;case m.$.Email:case m.$.Phone:ee=L(ee,de,ue,$);break;case m.$.Number:case m.$.Currency:ee=G(ee,de,ue,$);break;case m.$.Rating:ee=b(ee,de,ue,$);break;case m.$.Date:case m.$.DueDate:case m.$.TodoDueDate:case m.$.CreatedTime:case m.$.LastEditedTime:ee=P(ee,de,ue,z,$);break;case m.$.Checkbox:case m.$.Completed:case m.$.TodoCompleted:case m.$.Link:return;case m.$.Select:var fe;ee=W(ee,de,ue,((fe=ie.options)===null||fe===void 0?void 0:fe.format)===h.YP.MultiSelect,$);break;case m.$.Channel:case m.$.Canvas:case m.$.User:case m.$.Assignee:case m.$.TodoAssignee:case m.$.CreatedBy:case m.$.LastEditedBy:switch(ue){case l.t.IsMe:ee=ee.filter(_e=>{var Ue;return $!=null&&$.has(_e.id)?!0:(Ue=_e[de.key])===null||Ue===void 0?void 0:Ue.includes(Z)});break;case l.t.IsNotMe:ee=ee.filter(_e=>{var Ue;return $!=null&&$.has(_e.id)?!0:!(!((Ue=_e[de.key])===null||Ue===void 0)&&Ue.includes(Z))});break;default:var re;ee=W(ee,de,ue,((re=ie.options)===null||re===void 0?void 0:re.format)===h.hx.MultiEntity,$,Z)}break;default:ee=L(ee,de,ue,$);break}}),ee},"applyFiltersToRecords"),j=new Map([[m.$.Text,""],[m.$.Email,""],[m.$.Date,""],[m.$.TodoDueDate,""],[m.$.Checkbox,!1],[m.$.Completed,!1],[m.$.TodoCompleted,!1],[m.$.Number,0],[m.$.Rating,0],[m.$.CreatedTime,0],[m.$.LastEditedTime,0],[m.$.Channel,""],[m.$.User,""],[m.$.TodoAssignee,""],[m.$.CreatedBy,""],[m.$.LastEditedBy,""]]);function w(S){if(!Array.isArray(S)||S.length===0)return"";const U=c(F=>{for(const Z of F){if(Z.type==="text"&&Z.text)return Z.text;if(Z.elements&&Array.isArray(Z.elements)){const z=U(Z.elements);if(z)return z}}return""},"findTextRecursively");for(const F of S)if(F.elements&&Array.isArray(F.elements)){const Z=U(F.elements);if(Z)return Z}return""}c(w,"extractFirstTextElement");const N=c((S,U,F,Z)=>{const z=U.map(ie=>ie.ascending?"asc":"desc"),$=new Map;for(const ie of F)if(ie.type===m.$.Select){var ee;const ue=((ee=ie.options)===null||ee===void 0?void 0:ee.choices)||[];for(let fe=0;fe<ue.length;fe++){const re=ue[fe],_e=`${ie.key}:${re.value}`;$.set(_e,fe)}}const de=U.map(ie=>ue=>{const fe=F.find(ge=>ge.key===ie.key),re=ie.ascending;if(!fe)return"";const _e=ue[ie.key];let Ue=_e??j.get(fe.type||m.$.Text);if(Ue==null&&(Ue=re?Number.MAX_SAFE_INTEGER:-1/0),fe.type===m.$.Select){var ye;const ge=(((ye=fe.options)===null||ye===void 0?void 0:ye.choices)||[]).length,Ae=(_e??"").split(a.eY).filter(Boolean);if(ge===0||Ae.length===0)Ue=re?Number.MAX_SAFE_INTEGER:-1/0;else{let Re=ge;for(const Be of Ae){const ke=`${fe.key}:${Be}`;var Te;const se=(Te=$.get(ke))!==null&&Te!==void 0?Te:ge;Re=Math.min(Re,se)}Re<ge?Ue=Re:Ue=re?Number.MAX_SAFE_INTEGER:-1/0}}if((fe.type===m.$.User||fe.type===m.$.TodoAssignee)&&Z&&(_e==null||_e===""?Ue=re?"zzzzzzzz":"":Z[_e]?Ue=Z[_e].toLowerCase():Ue=re?"zzzzzzzz":""),fe.type===m.$.Text&&(_e==null||_e===""||Array.isArray(_e)&&_e.length===0?Ue=re?"zzzzzzzz":"":typeof _e=="string"?Ue=_e.toLowerCase():Ue=w(_e).toLowerCase()),fe.type===m.$.Vote){const ge=(_e??"").split(a.eY).filter(Boolean);ge.length>0?Ue=ge.length:re?Ue=Number.MAX_SAFE_INTEGER:Ue=-1/0}if((fe.type===m.$.Number||fe.type===m.$.Currency||fe.type===m.$.Rating)&&(_e==null||_e===""?Ue=re?Number.MAX_SAFE_INTEGER:-1/0:Ue=Number(_e)),fe.type===m.$.Date||fe.type===m.$.DueDate||fe.type===m.$.TodoDueDate||fe.type===m.$.CreatedTime||fe.type===m.$.LastEditedTime){const ge=new Date(_e);_e==null||_e===""?Ue=re?Number.MAX_SAFE_INTEGER:-1/0:isNaN(ge.getTime())||(Ue=ge.getTime())}return Ue});return(0,t.A)(S,de,z)},"applySortToRecords"),K=new Set([m.$.Text,m.$.Email,m.$.Phone,m.$.Number,m.$.Rating,m.$.Select,m.$.User,m.$.Channel]),J=c((S,U,F,Z,z)=>{const $=U.filter(fe=>K.has(fe.type)),ee=new Map;for(const fe of $)if(fe.type===m.$.Select){var de,ie;const re=(ie=(de=fe.options)===null||de===void 0?void 0:de.choices)!==null&&ie!==void 0?ie:[];for(const{value:_e,label:Ue}of re){const ye=`${fe.key}:${_e}`;ee.set(ye,Ue)}}const ue=F.toLowerCase();return S.filter(fe=>(0,n.A)($,re=>{const _e=T({record:fe,colKey:re.key});if(re.type===m.$.Select){var Ue;let Ae=_e.split(a.eY).filter(Boolean);((Ue=re.options)===null||Ue===void 0?void 0:Ue.format)===h.YP.MultiSelect||(Ae=Ae.slice(0,1));for(const Be of Ae){const ke=`${re.key}:${Be}`;var ye;if(((ye=ee.get(ke))!==null&&ye!==void 0?ye:_e).toLowerCase().includes(ue))return!0}}if(re.type===m.$.Channel&&z){var Te;const Ae=(Te=z[_e])!==null&&Te!==void 0?Te:"";return Ae&&I(Ae).includes(ue)}if(re.type===m.$.User&&Z){var ge;const Ae=(ge=Z[_e])!==null&&ge!==void 0?ge:"";return Ae&&Ae.toLowerCase().includes(ue)}return I(_e).includes(ue)}))},"applySearchStringToRecords"),Y=c(S=>{let{listRecords:U,records:F}=S;return F.map(Z=>{const z=U==null?void 0:U[Z.id];return{...Z,highlightAsNew:z==null?void 0:z.highlightAsNew}})},"applyHighlightAsNew"),q=c(S=>{let{listRecords:U,records:F}=S;return F.map(Z=>{const z=U==null?void 0:U[Z.id];return{...Z,isOpenInFlexpane:z==null?void 0:z.isOpenInFlexpane}})},"applyIsOpenInFlexpane"),H=c(S=>{let{listRecords:U,records:F,schema:Z,filterObj:z,sorts:$,searchString:ee,lastReadTimestamp:de,bottomRecordIds:ie,userNames:ue,channelNames:fe}=S,re=F;if(z){const{filters:_e,currentUserId:Ue}=z;re=R(re,_e,Z,Ue,de,ie)}return $&&(re=N(re,$,Z,ue)),ee&&(re=J(re,Z,ee,ue,fe)),re=Y({listRecords:U,records:re}),re=q({listRecords:U,records:re}),re},"applyModifiersToRecords");function ne(S,U,F){const Z=(0,y.Ld)(S,U,F);return Z&&!(0,u.A)(Z)&&!(0,v.aw)(Z)&&!(0,v.aH)(Z)}c(ne,"isValidMarkedMessageForListThread");function te(S,U,F){return(0,s.A)((0,r.A)(F,Z=>ne(S,U,Z)))}c(te,"maxRealTsForListThread");function le(S,U,F,Z){const z=(0,A.Dv)(Z,Object.values(F)),$=z.get(S==null?void 0:S.id),ee=z.get(U==null?void 0:U.id);let de=null,ie=null;if(S&&U){if($)de=$;else{var ue,fe;de=!((ue=F[S.id])===null||ue===void 0)&&ue.position?`${(fe=F[S.id])===null||fe===void 0?void 0:fe.position}`:null}if(ee)ie=ee;else{var re,_e;ie=!((re=F[U.id])===null||re===void 0)&&re.position?`${(_e=F[U.id])===null||_e===void 0?void 0:_e.position}`:null}}else if(S)if($)de=$;else{var Ue,ye;de=!((Ue=F[S.id])===null||Ue===void 0)&&Ue.position?`${(ye=F[S.id])===null||ye===void 0?void 0:ye.position}`:null}else if(U)if(ee)ie=ee;else{var Te,ge;ie=!((Te=F[U.id])===null||Te===void 0)&&Te.position?`${(ge=F[U.id])===null||ge===void 0?void 0:ge.position}`:null}return(0,E.TU)(de,ie)}c(le,"calculateFractionalRecordPosition");const he=c(S=>{var U;const F=(0,g.A)({input:S});return F&&F[0]&&F[0].offset===0&&((U=F[0].url)===null||U===void 0?void 0:U.length)===(S==null?void 0:S.length)?[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"link",url:F[0].url||""}]}]}]:[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:S||""}]}]}]},"convertStringToBlocks"),Ie=c(S=>{if(S instanceof HTMLElement){if(S instanceof HTMLInputElement&&["checkbox","radio"].includes(S.type))return!0;if(["input","textarea","select"].includes(S.tagName.toLowerCase())||S.isContentEditable)return!1}return!0},"shouldHandleUndoFrom"),Ee=c((S,U)=>{const F=[];var Z;const z=(Z=(0,_.Df)(S))!==null&&Z!==void 0?Z:[],$=(0,_.Jq)(S).length||(0,_.Si)(S);return U.forEach((ee,de)=>{const ie=z.some(ye=>(ye==null?void 0:ye.user_id)===(ee==null?void 0:ee.id));var ue;const fe=(ue=ee==null?void 0:ee.is_profile_only_user)!==null&&ue!==void 0?ue:!1;var re;const _e=(re=ee==null?void 0:ee.is_self)!==null&&re!==void 0?re:!1;!fe&&!_e&&!ie&&!$&&F.push(de)}),F},"getRestrictedSelectedTokenIndexes"),me=c(S=>["created_time","created_by","last_edited_time","last_edited_by"].includes(S.type),"isMetaColumn"),ce=c((S,U)=>{if(!S)return"";const F=T({record:S,colKey:"name"});if(!F)return"";let Z=(0,p.Kx)(F==null?void 0:F.toLowerCase().split(/[ :/-]/).filter(Boolean).join("-"));return Z=Z.split("-").filter(Boolean).join("-"),U&&!Z.startsWith(U)&&(Z=`${U}${Z}`),Z.slice(0,(0,p.zU)())},"generateChannelNameFromRecordName"),X=c((S,U)=>((U==null?void 0:U.editors)||[]).filter(F=>F!==S),"getListRecordChannelInitialInvitedMemberIds"),V=c((S,U)=>{var F,Z;return S?U&&(U.type===m.$.MultiSelect||U.type===m.$.Select&&(U==null||(F=U.options)===null||F===void 0?void 0:F.format)===h.YP.MultiSelect||(U.type===m.$.User||U.type===m.$.Channel||U.type===m.$.Canvas)&&(U==null||(Z=U.options)===null||Z===void 0?void 0:Z.format)===h.hx.MultiEntity)?new Set(S.split(a.eY).filter(Boolean)):new Set([S]):new Set},"splitMultiValueField"),x=c(S=>S==null?void 0:S.includes("/lists/"),"isListLink")},2670882607:(Q,C,e)=>{"use strict";e.d(C,{e:()=>o});var t=e(3134334389),n=e(5255740490),s=e(2562405183),r=e(6422693406),d=e(2047021170);const o=t.memo(t.forwardRef((a,i)=>{let{getAnimationImport:m,className:l,height:_,svgClassName:v,loadingClassName:u,errorClassName:h,description:f,loop:p=!1,autoplay:E=!1,renderLoading:g,renderError:A,preserveAspectRatio:y}=a;const T=(0,s.d4)(b=>(0,d.ty)(b,"a11y_animations")),[M,O]=(0,t.useState)(!0),[I,D]=(0,t.useState)(!1),P=(0,t.useRef)(null),L=(0,t.useRef)(null),k=(0,t.useRef)(null);k.current||(k.current=r.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),m()]).then(b=>{let[W,B]=b;if(!P.current)throw new Error("Lottie animation missing container");return O(!1),L.current=W.loadAnimation({container:P.current,renderer:"svg",loop:p,autoplay:!!(T&&E),animationData:B,rendererSettings:{className:(0,n.A)("p-lottie__svg",v),description:f,preserveAspectRatio:y}}),r.S.resolve(L.current)}).catch(b=>(D(!0),r.S.reject(b)))),(0,t.useEffect)(()=>()=>{k.current&&k.current.cancel(),L.current&&L.current.destroy()},[k,L]),(0,t.useImperativeHandle)(i,()=>k.current,[k]);const G=(0,t.useMemo)(()=>M&&g?g():I&&A?A():null,[g,A,M,I]);return t.createElement("div",{ref:P,style:_!==void 0?{height:_}:void 0,className:(0,n.A)("p-lottie",l,M&&u,I&&h)},G)}))},5460331959:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(7715417323),s=e(4978843660),r=e(166097325),d=e(6696292586),o=e(6650208157);const a=4;function i(l){let{children:_,fallbackWidth:v=void 0,onResize:u=n.A}=l;const[h,f]=(0,t.useState)({width:0,height:0}),[p,E]=(0,t.useState)(!1),g=(0,t.useRef)([]);function A(T){let{width:M}=T;if(g.current.unshift(M),g.current.length<a)return!1;g.current.length>a&&(g.current.length=a);const O=(0,s.A)(g.current,2);return O.slice(1).every(I=>(0,r.A)(I,O[0]))}c(A,"looksLikeResizeLoop");const y=(0,t.useCallback)(T=>{u(T),f(T.bounds),(0,d.A)(v)&&!p&&E(A(T.bounds))},[v,u,p]);return t.createElement(o.A,{bounds:!0,onResize:y},T=>{let{measureRef:M}=T;return _({...h,width:p&&v?v:h.width,measureRef:M})})}c(i,"Measure"),i.displayName="Measure";const m=i},9446966957:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(1641606663),s=e(4505564445),r=e(7592430824),d=e(5244168417);const a=c(i=>{let{value:m,max:l,tick:_,jump:v,onChange:u,renderContainer:h,renderTrack:f,renderInner:p,onMouseDown:E,onMouseUp:g,"aria-label":A,"aria-valuetext":y,vertical:T,autoFocus:M}=i;const O=(0,t.useRef)(null),{embeddedUiData:I}=(0,t.useContext)(r.N),{windowRef:D}=(0,t.useContext)(n.Mn),P=(0,t.useCallback)(w=>{let{pageX:N,pageY:K}=w;const J=O.current;if(!J)return;const Y=J.getBoundingClientRect(),q=T?Y.y:Y.x,H=Math.max(0,(T?K:N)-q),ne=T?Y.height:Y.width,le=(T?1-Math.min(1,H/ne):Math.min(1,H/ne))*l;u(le)},[l,u,T]),L=(0,t.useCallback)(w=>{P(w)},[P]),k=(0,t.useCallback)(w=>{var N,K;(N=D.deref())===null||N===void 0||N.document.removeEventListener("mousemove",L),(K=D.deref())===null||K===void 0||K.document.removeEventListener("mouseup",k),g==null||g(w)},[L,g,D]),G=(0,t.useCallback)(w=>{var N,K;w.button!==0||w.ctrlKey||(P(w),w.preventDefault(),(N=D.deref())===null||N===void 0||N.document.addEventListener("mousemove",L),(K=D.deref())===null||K===void 0||K.document.addEventListener("mouseup",k),E==null||E(w))},[L,k,P,E,D]),b=(0,t.useCallback)(w=>{switch(w.which){case s.LE:case s.i7:u(m+(_??1));break;case s.UQ:case s.n6:u(m-(_??1));break;case s.w_:u(m+(v??l*.1));break;case s.dB:u(m-(v??l*.1));break;case s.yZ:u(0);break;case s.Kp:u(l);break;default:return}w.preventDefault()},[m,l,_,v,u]);(0,t.useEffect)(()=>{var w;return O==null||(w=O.current)===null||w===void 0||w.toggleAttribute(d.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!I),()=>{var N,K;(N=D.deref())===null||N===void 0||N.document.removeEventListener("mousemove",L),(K=D.deref())===null||K===void 0||K.document.removeEventListener("mouseup",k)}},[I,L,k,D]),(0,t.useEffect)(()=>{M&&O.current&&O.current.focus()},[M]);const W=`${((l>0?m/l:0)*100).toFixed(2)}%`,B=p({style:T?{height:W}:{width:W}}),R=f({children:B,tabIndex:0,role:"slider","aria-label":A,"aria-valuemin":0,"aria-valuemax":l,"aria-valuenow":Math.floor(m),"aria-valuetext":y,onKeyDown:b,ref:O});return h({children:R,onMouseDown:G})},"CustomizableSlider")},3118200703:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(735940183),s=e(2312625946),r=e(6105929840),d=e(7592430824),o=e(6244014364);const a=new n.Ay("stories_av"),i={eventId:o.EventId.BK_USER_INTERACTION,interactionElement:o.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:o.Interaction.EXPAND}};function m(_){let{onClick:v,size:u,classPrefix:h}=_;const{embeddedUiData:f}=(0,t.useContext)(d.N),E=!!f?a.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):a.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(s.Ay,{tip:E,position:"top"},t.createElement(r.A,{className:`${h}__controls_overlay_fullscreen`,onClick:v,"aria-label":E,icon:"expand",backgroundStyle:"dark",size:u,autoClogProps:i}))}c(m,"FullscreenButton"),m.displayName="FullscreenButton";const l=m},1942976385:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(2664504268),d=e(735940183),o=e(2602118042),a=e(3391133100),i=e(2562405183),m=e(2047021170),l=e(387484329),_=e(5204962244),v=e(3207321841),u=e(7592430824);const h=new d.Ay("stories_av"),f=c(E=>{let{onSpeedChange:g,isInlinePlayer:A,onMouseEnter:y,onMouseLeave:T,className:M}=E;const O=(0,n.wA)(),[I]=(0,t.useState)({}),D=(0,i.d4)(R=>(0,m.ty)(R,"media_playback_speed")),[P,L]=(0,t.useState)(D||1),{embeddedUiData:k}=(0,t.useContext)(u.N),G=(0,_.d)(()=>`playback-speed-${(0,a.r9)()}`);(0,t.useEffect)(()=>{D&&Object.keys(I).length===0&&D!==P&&L(D)},[I,D,P]);const b=(0,t.useCallback)(R=>{const j=R.value,w=P;L(j);const N=(0,r.A)();I[N]=!0,O((0,l.AZ)({pref:"media_playback_speed",value:j})).finally(()=>{delete I[N]}),g==null||g(j,w)},[O,I,P,g]),W=(0,t.useMemo)(()=>[{label:h.t("Playback speed"),options:v.Cv.map(R=>({label:h.t("{speed}x",{speed:R,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:R}))}],[]),B=(0,t.useMemo)(()=>{var R;if(!((R=W[0])===null||R===void 0)&&R.options){for(const j of W[0].options)if(j.value===P)return j}return null},[P,W]);return t.createElement(o.A,{options:W,className:(0,s.A)("p-media_controls__control--playback-speed",M,{"p-video_controls_overlay__controls__speed":A}),size:"small",minOptionsListWidth:140,selectedOption:B,onOptionSelected:b,ariaLabel:h.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:P}),onMouseEnter:y,onMouseLeave:T,selectId:G,preventScroll:!!k})},"MediaPlaybackSpeedControl");f.displayName="MediaPlaybackSpeedControl";const p=f},8371678613:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(2562405183),s=e(5602423845),r=e(6244014364),d=e(735940183),o=e(2047021170),a=e(1942976385),i=e(2312625946);const m=new d.Ay("stories_av");function l(v){let{isInlinePlayer:u,videoRef:h,sharedClogProps:f={},className:p}=v;const E=(0,s.A)(),g=(0,n.d4)(y=>(0,o.ty)(y,"media_playback_speed"));(0,t.useEffect)(()=>{var y;h==null||(y=h.current)===null||y===void 0||y.setPlaybackRate(g)},[g,h]);const A=(0,t.useCallback)((y,T)=>{E.track(r.EventId.MEDIA_PLAYER,{...f,contexts:{...f.contexts,ui_context:{ui_step:u?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${T??1}x`,to:`${y??1}x`})},[E,f,u]);return t.createElement(i.Ay,{tip:m.t("Playback speed"),position:"top",delay:i.n1},t.createElement(a.A,{onSpeedChange:A,isInlinePlayer:u,className:p}))}c(l,"PlaybackSpeedButton"),l.displayName="PlaybackSpeedButton";const _=l},3242899446:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(2047021170),d=e(387484329),o=e(735940183),a=e(5946832122),i=e(2036354333),m=e(1610251172),l=e(2312625946),_=e(9194155027),v=e(5255740490),u=e(3749524846),h=e(9446966957);function f(){return f=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(O[P]=D[P])}return O},f.apply(this,arguments)}c(f,"_extends");const p=new o.Ay("stories_av");var E;(function(O){O.Normal="normal",O.Popover="popover",O.Vertical="vertical"})(E||(E={}));const g=c(O=>{let{children:I,volume:D,onChange:P,onMouseDown:L,onMouseUp:k,mode:G=E.Normal,setIsVerticalVolumeActive:b}=O;const W=(0,t.useContext)(u.A),B=(0,t.useCallback)(q=>{P(Math.round(q)/100)},[P]),R=(0,t.useCallback)(()=>{b==null||b(!0)},[b]),j=(0,t.useCallback)(()=>{b==null||b(!1)},[b]),w=Math.floor(D*100),N=(0,t.useCallback)(q=>t.createElement("div",f({className:"p-media_volume_slider__slider"},q)),[]),K=(0,t.useCallback)(q=>t.createElement("div",f({className:"p-media_volume_slider__track"},q)),[]),J=(0,t.useCallback)(q=>t.createElement("div",f({className:"p-media_volume_slider__fill"},q)),[]),Y=t.createElement(h.A,{value:w,max:100,onChange:B,renderContainer:N,renderTrack:K,renderInner:J,onMouseDown:L,onMouseUp:k,"aria-label":p.t("Volume"),"aria-valuetext":`${w}%`,vertical:G===E.Vertical});return t.createElement("div",{className:(0,v.A)("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":W,[`p-media_volume_slider--${G}`]:G}),onMouseEnter:G===E.Vertical?R:void 0,onMouseLeave:G===E.Vertical?j:void 0,onFocus:G===E.Vertical?R:void 0,onBlur:G===E.Vertical?j:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},I),t.createElement("div",{className:"p-media_volume_slider__slider_container"},Y))},"MediaVolumeSlider");g.displayName="MediaVolumeSlider";const A=g,y=new o.Ay("stories_av");function T(O){let{isInlinePlayer:I,useVerticalVolume:D,videoRef:P,className:L,backgroundStyle:k,setIsVerticalVolumeActive:G}=O;const b=(0,n.wA)(),W=(0,s.d4)(me=>(0,r.ty)(me,"media_muted"));var B;const R=(B=(0,s.d4)(me=>(0,r.ty)(me,"media_volume")))!==null&&B!==void 0?B:1,[j,w]=(0,t.useState)(R),N=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var me;P==null||(me=P.current)===null||me===void 0||me.setMuted(W)},[W,P]),(0,t.useEffect)(()=>{var me;P==null||(me=P.current)===null||me===void 0||me.setVolume(j)},[P,j]);const K=(0,t.useCallback)(()=>{b((0,d.AZ)({pref:"media_muted",value:!W})),W&&w(R)},[b,W,R]),J=(0,t.useCallback)(function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;me===0?W||b((0,d.AZ)({pref:"media_muted",value:!0})):(W&&b((0,d.AZ)({pref:"media_muted",value:!1})),!N.current&&me!==R&&b((0,d.AZ)({pref:"media_volume",value:me})))},[b,j,W,R]),Y=(0,t.useRef)(J);Y.current=J;const q=(0,t.useCallback)(me=>{w(me),Y.current(me)},[]),H=(0,t.useCallback)(()=>{N.current=!0},[]),ne=(0,t.useCallback)(()=>{N.current=!1,Y.current()},[]);(0,t.useEffect)(()=>{N.current||w(R)},[R]);const te=W?y.t("Unmute"):y.t("Mute"),le=y.t("Mute");let he="volume-off-alt";W||(j>=.6?he="volume-up":j>=.3?he="volume-medium":he="volume-down");const Ie=(0,t.useMemo)(()=>t.createElement(_.A,{title:te,mainKey:y.t("M")}),[te]);if(I){const me=t.createElement(l.Ay,{tip:te,position:D?"bottom":"top",delay:l.n1,hideFromScreenReader:!0},t.createElement(i.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":le,"aria-pressed":W,onClick:K},t.createElement(m.A,{type:he,size:"inherit"})));return t.createElement(A,{volume:W?0:j,onChange:q,onMouseDown:H,onMouseUp:ne,setIsVerticalVolumeActive:G,mode:D?E.Vertical:E.Popover},me)}const Ee=t.createElement(l.Ay,{tip:Ie,position:"top",delay:l.PK,hideFromScreenReader:!0},t.createElement(a.A,{onClick:K,"aria-label":le,"aria-pressed":W,icon:he,size:"medium",className:L,backgroundStyle:k||"light"}));return t.createElement(A,{volume:W?0:j,onChange:q,onMouseDown:H,onMouseUp:ne},Ee)}c(T,"ToggleMute"),T.displayName="ToggleMute";const M=T},4250078557:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(735940183),s=e(6422693406),r=e(7937864072);const d="MEDIA-PLAYER";function o(_){const v=(0,r.A)(),[u,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(),[E,g]=(0,t.useState)();return(0,t.useEffect)(()=>{if(p(void 0),g(void 0),!_){h(!1);return}h(!0);let A;const y=new s.S((T,M,O)=>{const I=new XMLHttpRequest;let D=!1;I.addEventListener("load",()=>{v.info(d,"vtt loaded"),h(!1);const P=I.response;A=URL.createObjectURL(P),p(A),T(I.response),P.text().then(L=>{D||g(L)})}),I.addEventListener("error",()=>{v.warn(d,"error fetching vtt"),h(!1),M(new Error(`VTT load request failed with status ${I.status}`))}),O&&O(()=>{I.abort(),D=!0}),I.responseType="blob",I.withCredentials=!0,I.open("GET",_),I.send(),v.info(d,"fetching vtt")});return()=>{y.isPending()&&y.cancel(),A&&URL.revokeObjectURL(A)}},[v,_]),{vttLoading:u,vttSrc:f,vttText:E}}c(o,"useVtt");const a=o,i=new n.Ay("stories_av");function m(_){let{vtt:v,enableMediaCaptions:u}=_;const{vttSrc:h}=a(v);return!v||!h?null:t.createElement("track",{label:i.t("Captions"),kind:"captions",src:h,default:u})}c(m,"TextTrack"),m.displayName="TextTrack";const l=m},4916948857:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(8800777280);function s(){const[d,o]=(0,t.useState)(!1),a=(0,t.useRef)(),i=(0,t.useRef)(!1),m=(0,t.useRef)(!1),l=(0,t.useCallback)(()=>{clearTimeout(a.current),a.current=setTimeout(()=>{i.current||o(!1)},1300)},[]),_=(0,t.useCallback)(()=>{o(!1),m.current=!1},[]),v=(0,t.useCallback)(()=>{o(!0),m.current=!0,l()},[l]),u=(0,t.useCallback)(()=>{m.current&&(o(!0),l())},[l]),h=(0,t.useCallback)(f=>{const p=(0,n.A)(f.target,E=>(E==null?void 0:E.dataset.preventFade)==="true");i.current=p},[]);return(0,t.useEffect)(()=>()=>clearTimeout(a.current),[]),{mouseIsOverElement:d,onMouseLeave:_,onMouseEnter:v,onMouseMove:u,onMouseOver:h}}c(s,"useDetectMouseOverElement");const r=s},9758574739:(Q,C,e)=>{"use strict";e.d(C,{e:()=>T});var t=e(3134334389),n=e(2683115972),s=e(7138682671),r=e(5375115868),d=e(4967176632),o=e(7811786890),a=e(6259241484),i=e(8300007136),m=e(3603672985),l=e(8452232783),_=e(2432967967),v=e(581167618),u=e(8739505998),h=e(6244014364),f=e(4481313819),p=e(3416652175),E=e.n(p);const g={elementName:"dispatch",onClick:{enableClogAction:!0}},A=(0,o.Wz)({notificationName:[o.mw]}),y={picked:"",notificationName:""},T=c(M=>{let{initialValues:O=y,validate:I=A,onCloseModal:D,megaphoneSpaceName:P,notificationList:L}=M;const[k,G]=(0,t.useState)(""),[b,W]=(0,t.useState)(!1),[B,R]=(0,t.useState)(!1),j=(0,i.wA)(),[w,N]=(0,t.useState)(""),K=(0,t.useCallback)(q=>N(q),[]),J=(0,t.useCallback)(()=>{if(!k){W(!0);return}let q={};if(w.length)try{q=JSON.parse(w)}catch{R(!0);return}D==null||D(),j((0,m.G0)({spaceName:P,notificationName:k,notificationData:q})),P===a.xu.LAUNCH_MODAL&&j((0,_.A)())},[k,w,j,P,D]),Y=(0,t.useCallback)((q,H)=>{G(q),H("picked",q),W(!1),R(!1)},[]);return t.createElement(f.A,{eventId:h.EventId.ANALYTICS_EVENT,uiComponentName:h.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:P,clogImpression:!0},t.createElement(d.A,{initialValues:O,validate:I,onSubmit:J},q=>{let{isSubmitting:H,values:ne,setFieldValue:te}=q;return t.createElement(t.Fragment,null,t.createElement("h2",null,"\u{1F4E3} Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:E().spaceNameContainer},"Space Name",t.createElement("div",{className:E().spaceName},P)),t.createElement("div",{className:E().notificationName},"Notification Name"),t.createElement("div",{className:E().notificationList},Object.keys(L).sort().map((le,he)=>t.createElement(s.A,{text:le,htmlFor:`field-radio-${he}`,type:"inline",cursor:"pointer",key:le},t.createElement(r.A,{id:`field-radio-${he}`,name:"picked",value:le,checked:ne.picked===le,onChange:()=>Y(le,te)})))),t.createElement(s.A,{text:"Notification Data",optional:!0},t.createElement(l.A,{name:"notification_data",id:"notification_data",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',onChange:K,value:w,className:E().textArea})),t.createElement("div",{className:E().alert},t.createElement(v.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:E().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(u.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),b&&t.createElement("div",{className:E().formError},"Please select a notification."),B&&t.createElement("div",{className:E().formError},"There was an error parsing Notification Data, please try again."),t.createElement(n.Ay,{autoClogProps:g,onClick:J,disabled:H},"Dispatch"))}))},"DispatcherForm");T.displayName="DispatcherForm"},4445888975:(Q,C,e)=>{"use strict";e.d(C,{R:()=>a,h:()=>i});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(3603672985),d=e(716227588),o=e(4724591729);const a=c(()=>{const m=!(0,o.KV)()||(0,o.b3)(),l=(0,n.wA)(),_=(0,s.d4)(d.y$);return(0,t.useEffect)(()=>{const v=c(u=>{m&&u.ctrlKey&&u.shiftKey&&u.key==="M"&&l((0,r.cv)(!_))},"handleKeydown");return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[m,l,_]),{shouldShowDispatcherViewer:_}},"useDispatcherToggleShortcut"),i=c(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[l,_]=(0,t.useState)(m),v=(0,t.useCallback)(u=>{_(u)},[]);return{isModalOpen:l,toggleModal:v}},"useModal")},5062503310:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},4902318931:(Q,C,e)=>{"use strict";e.d(C,{$W:()=>B,sl:()=>j,Ay:()=>w});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(716227588),d=e(6259241484),o=e(7487228876),a=e(7003004874),i=e(1655938719),m=e(2938177083),l=e(101973425),_=e(4481313819),v=e(2567914105),u=e(3603672985),h=e(9881565722),f=e(4761125736),p=e(4798756512),E=e(4003148341),g=e(4244379358),A=e(6258289677),y=e(9758574739),T=e(2312625946),M=e(4445888975),O=e(5062503310),I=e(397939223),D=e.n(I);const P=c(N=>{let{megaphoneSpaceName:K,notificationList:J}=N;const{isModalOpen:Y,toggleModal:q}=(0,M.h)(!1);return t.createElement("div",{className:D().container},t.createElement(T.Ay,{tip:K,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:D().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>q(!0)})),t.createElement(A.A,{isOpen:Y,onRequestClose:()=>q(!1),style:O.A},t.createElement("div",{className:D().dispatcherViewerDetails},t.createElement(y.e,{megaphoneSpaceName:K,notificationList:J,onCloseModal:()=>q(!1)}))))},"DispatcherViewer");P.displayName="DispatcherViewer";const L=(0,g.A)(P),k=c(N=>{let{children:K,megaphoneSpaceName:J,notificationList:Y}=N;const{shouldShowDispatcherViewer:q}=(0,M.R)();return t.createElement(t.Fragment,null,q&&t.createElement("div",{className:D().dispatcherViewer},t.createElement(L,{megaphoneSpaceName:J,notificationList:Y})),K)},"DispatcherToggle");k.displayName="DispatcherToggle";const G=(0,g.A)(k),b={isInMegaphoneContainerContext:!0},W={isInMegaphoneContainerContext:!1},B=(0,t.createContext)(W),R=c(N=>{let{fetchDataOnMount:K,notifications:J,spaceName:Y,children:q,shouldAlwaysRenderChildren:H,shouldPassPropsToChildren:ne,channelScopedId:te,componentClassName:le,...he}=N;var Ie;const Ee=(0,n.wA)(),me=(0,E.x)(),ce=(0,s.d4)(v.oY),X=(0,s.d4)(r.up),V=(0,s.d4)(ie=>(0,f._Z)(ie,"megaphone_coachmark_suppression")==="on"),{isInsideModal:x}=(0,h.k)(),S=(0,s.d4)(ie=>(0,r.Hp)(ie,Y,te)),U=(0,s.d4)(ie=>(0,r.OL)(ie,Y,te)),F=(0,t.useCallback)(()=>{Ee((0,a.A)({notificationName:S,action:d.hw.IMPRESSION}))},[Ee,S]),Z=(0,t.useCallback)(ie=>{Ee((0,m.A)({spaceName:Y,action:ie}))},[Ee,Y]),z=(0,t.useCallback)(()=>{Ee((0,i.iR)({event:{type:d.jo.REQUEST_SPACES,spaces:[Y]}}))},[Ee,Y]),$=c(()=>H?ne&&t.isValidElement(q)?t.cloneElement(q,{...he}):t.createElement(G,{megaphoneSpaceName:Y,notificationList:J},q):t.createElement(G,{megaphoneSpaceName:Y,notificationList:J},null),"maybeRenderChildren");$.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{Y&&K&&z()},[K,Y,z]);const ee=J==null||(Ie=J[S])===null||Ie===void 0?void 0:Ie.component,de=V&&ee&&!x&&ce&&Y===d.xu.IN_PRODUCT_COACHMARK;if(de&&!X){Ee((0,u.co)(!0));const ie=me.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:p.tS.SESSION,sampleRate:.1}}),ue=ie.count({name:"megaphone_coachmark_suppress"});ue.addTags({notification:S}),ue.close(),me.reportTrace(ie)}return!Y||!S||V&&Y===d.xu.IN_PRODUCT_COACHMARK&&X||de?$():ee?t.createElement(_.A,{megaphoneSpaceName:Y,megaphoneNotificationName:S},t.createElement(B.Provider,{value:b},t.createElement(G,{megaphoneSpaceName:Y,notificationList:J},null),t.createElement(t.Suspense,{fallback:null},t.createElement(ee,{...U,recordNotificationEventImpression:F,recordAndClearNotificationEvent:Z,notificationName:S,className:le,channelScopedId:te,...he},q)))):(J||(0,o.h)({spaceName:Y,notificationName:S}),$())},"MegaphoneContainer");R.displayName="MegaphoneContainer";const j=(0,l.Ay)(R),w=R},1466003359:(Q,C,e)=>{"use strict";e.d(C,{b:()=>d,r:()=>r});var t=e(4724591729),n=e(1658558415),s=e(796111729),r;(function(o){o.Coachmark="coachmark",o.DeprecatedCoachmark="deprecated_coachmark"})(r||(r={}));const d=c(o=>{if((0,t.Cu)()&&!(0,n.A)()){let a="Coachmark";o===r.DeprecatedCoachmark&&(a="DeprecatedCoachmark"),(0,s.Wo)().warn(`\u{1F4E3} [MEGAPHONE FRAMEWORK]: \u{1F44B} Hi! Adding a new '${a}' component? Have you considered taking advantage of our Megaphone framework? If you already did and Megaphone does not apply to your use case, that is great! you can turn off this warning by setting the 'isMegaphoneCoachmark' prop to 'false' in your '${a}' component instance.

Now, if you want to learn more about Megaphone and how it can help your use case, you can take a look at our docs (https://docs.tinyspeck.com/megaphone/) or you can find us over #devel-megaphone and we will be happy to assist you \u{1F64C}\u{1F600}
`)}},"logMegaphoneDevAwarenessWarning")},3656161791:(Q,C,e)=>{"use strict";e.d(C,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},8170244779:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389);const n=t.createContext({});n.displayName="MessageContext";const s=n},6658490498:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8677230210),n=e(3534324375);function s(r){let{userId:d,botId:o,username:a,botProfile:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:m,bot:l}=(0,t.Od)(r,{userId:d,botId:o,botProfile:i});return m?(0,n.sE)(r,m):o&&a?a:l?l.name||"":!o&&!l&&a?a:""}c(s,"getMessageSenderNameFromState")},1293324111:(Q,C,e)=>{"use strict";e.d(C,{V:()=>n});var t=e(3134334389);class n extends t.PureComponent{render(){return t.createElement(t.Fragment,null,this.props.children)}}c(n,"PassThrough"),n.displayName="PassThrough"},8950789382:(Q,C,e)=>{"use strict";e.d(C,{s:()=>g});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(352142497),d=e(82287009),o=e(8999545852),a=e(3193155968),i=e(7573598208),m=e(3110884894),l=e(6514066170),_=e(755982243),v=e(796111729),u=e(485355941),h=e(6695353875),f=e(9932860381),p=e(7176966205),E=e(9629572172);const g=(0,s.Ay)("Opens a view in a new child window",function(){var A=(0,t.coroutine)(function*(y,T,M,O){let{viewId:I,params:D,clogParams:P}=M;if(!(0,u.M2)())return;const L=T(),{isMainWindow:k}=O(E.U);if((0,h.yZ)(L)&&k&&(0,f.Xy)(I)){y((0,p.$)({viewId:I,params:D}));return}let G=!1;if((0,l.A)(L,I)){let b,W={[a.mq.Primary]:{id:I,params:D,viewType:(0,i.A)(I)}};W=y((0,o.VO)({viewSet:W,windowId:a.N2}));const B=(0,_.w)(I),R=B;if(I==="thread"&&(D!=null&&D.threadId)){const j=(0,m.Sb)(D==null?void 0:D.threadId).channelId;G=!0,W={[a.mq.Primary]:{id:j||(D==null?void 0:D.entityId),params:void 0,viewType:r.D.Channel},[a.mq.Secondary]:{id:I,params:D,viewType:r.D.Thread}},b=a.mq.Secondary}I==="channel_canvas"&&(W={[a.mq.Primary]:{id:D==null?void 0:D.channelId,params:void 0,viewType:r.D.Channel},[a.mq.Secondary]:{id:"channel_canvas",params:D,viewType:r.D.ChannelCanvas}}),y((0,d.Bb)({viewSet:W,shouldNavigateInContext:B,shouldShowSearch:R,...b&&{containerOrigin:b},clogParams:P??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:G}))}else(0,v.Ay)({getState:T}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",I)});return function(y,T,M,O){return A.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},3652828077:(Q,C,e)=>{"use strict";e.d(C,{O:()=>m});var t=e(3134334389),n=e(2844658640),s=e.n(n),r=e(1641606663),d=e(2233780559);function o(){return o=Object.assign||function(l){for(var _=1;_<arguments.length;_++){var v=arguments[_];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(l[u]=v[u])}return l},o.apply(this,arguments)}c(o,"_extends");const a=(0,d.eF)(d.vt.REACT_VIRTUALIZED,l=>s()(l));function i(l){let{refToForward:_,...v}=l;const{windowRef:u}=(0,t.useContext)(r.Mn),h=a(u.deref()).List;return t.createElement(h,o({ref:_},v))}c(i,"PortableReactVirtualizedList"),i.displayName="PortableReactVirtualizedList";const m=t.forwardRef((l,_)=>t.createElement(i,o({refToForward:_},l)))},4116177835:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(3134334389),n=e(3297051565),s=e.n(n),r=e(9391594207),d=e(3514831633),o=e(2562405183),a=e(4980558152),i=e(4910963364),m=e(5795074931),l=e(613926746),_=e(1002129445),v=e(9236644324),u=e(4776067035),h=e(3170230049),f=e(6244014364),p=e(3667436146),E=e(735940183),g;(function(j){j.GO_TO_APP="go_to_app",j.VIEW_DIRECTORY="view_directory",j.COPY_APP_NAME="copy_app_name",j.COPY_APP_LINK="copy_app_link"})(g||(g={}));const A=new E.Ay("menu"),y=c(j=>{var w;const{memberId:N,serviceId:K,homeWorkspaceId:J,children:Y}=j,q=(0,o.d4)(p.o),H=(0,o.d4)(z=>(0,i.G2)(z,{serviceId:K,homeWorkspaceId:J,memberId:N})),ne=N||(H==null||(w=H.app_user)===null||w===void 0?void 0:w.id),te=(0,_.fj)(H),le=(0,o.d4)(z=>(0,_.vu)(z,H)),he=(0,o.d4)(z=>(0,_.FN)(z,H)),Ie=(0,o.d4)(z=>(0,_.i1)(z,H)),Ee=le&&he||Ie,me=(0,o.d4)(z=>(0,_.iV)(z,H)),ce=(0,o.d4)(m.TZ),X=(0,o.d4)(h.e),V=(0,t.useCallback)(z=>{X.track(f.EventId.CONTEXT_MENU_ACTION,{label:z,is_iap1:!0})},[X]),x=(0,t.useCallback)(()=>{V(g.VIEW_DIRECTORY)},[V]),S=(0,t.useCallback)(()=>{V(g.GO_TO_APP),(0,l.Z)({memberId:ne})},[V,ne]),U=(0,t.useCallback)(()=>{V(g.COPY_APP_NAME),(0,v.x3)(te)},[V,te]),F=(0,t.useCallback)(()=>{V(g.COPY_APP_LINK),(0,v.x3)(Ee)},[V,Ee]),Z=(0,t.useCallback)(()=>{const z=[];return Ee&&(z.push({label:q?A.t("View in Slack Marketplace"):A.t("View in App Directory"),href:Ee,click:x,dataQa:"bot_context_menu_app_directory"}),z.push({type:"separator"})),ne&&me&&(z.push({label:A.t("Go to app"),click:S}),z.push({type:"separator"})),z.push({label:A.t("Copy name"),click:U}),Ee&&z.push({label:A.t("Copy link"),click:F}),z},[Ee,ne,F,U,S,me,x,q]);return!ce||!K?(0,u.A)(Y):t.createElement(a.A,{getTemplate:Z,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},Y)},"BotContextMenu");y.displayName="BotContextMenu";const T=y;var M=e(8595150554),O=e(8677230210),I=e(8847766420),D=e(3244118357),P=e(82287009);function L(){return L=Object.assign||function(j){for(var w=1;w<arguments.length;w++){var N=arguments[w];for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(j[K]=N[K])}return j},L.apply(this,arguments)}c(L,"_extends");const k={children:s().oneOfType([s().element.isRequired,s().func.isRequired]).isRequired,menuProps:s().object,serviceId:s().string,memberId:s().string,homeWorkspaceId:s().string,memberIsHuman:s().bool,includeRemoveFromChannelAction:s().bool,profileCardProps:s().object},G={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,includeRemoveFromChannelAction:!1,profileCardProps:void 0};let b=c(class extends t.Component{render(){const{serviceId:w,memberId:N,homeWorkspaceId:K,memberIsHuman:J}=this.props;return N&&J?t.createElement(M.A,{id:N},Y=>this.renderTrigger(Y)):w&&!J?t.createElement(T,{serviceId:w,memberId:N,homeWorkspaceId:K},Y=>this.renderTrigger(Y)):this.renderTrigger()}constructor(...w){var N;super(...w),N=this,this.renderProfileCard=K=>{const{serviceId:J,memberId:Y,homeWorkspaceId:q,memberIsHuman:H,includeRemoveFromChannelAction:ne}=this.props;return(0,P.E9)({menuProps:K,serviceId:J,memberId:Y,homeWorkspaceId:q,memberIsHuman:H,includeRemoveFromChannelAction:ne})},this.renderTrigger=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:J,serviceId:Y,memberId:q,homeWorkspaceId:H,memberIsHuman:ne,includeRemoveFromChannelAction:te,...le}=N.props;return t.createElement(d.cQ,L({renderMenu:N.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},le),he=>(0,u.A)(J,he,K))}}},"ProfileCardTrigger");b.displayName="ProfileCardTrigger",b.propTypes=k,b.defaultProps=G;const W=c((j,w)=>{const{userId:N,botId:K,botProfile:J,serviceId:Y}=w,{member:q,bot:H,memberIsHuman:ne}=(0,O.Od)(j,{userId:N,botId:K,botProfile:J});let te=null;if(!ne||Y){const le=(0,I.ZT)(j);te=(0,D.AW)({member:q,bot:H,botProfile:J,currentTeamId:le})}return{serviceId:H&&H.id||Y,memberId:q&&q.id,homeWorkspaceId:te,memberIsHuman:ne}},"mapStateToProps"),R=(0,r.N)(W)(b)},4173072539:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(6839188756),s=e(9892470785),r=e(2312625946),d=e(6968387112);const o=c(i=>{let{invitingTeam:m}=i;const l=m.domain&&`${(0,n.k7)(m.id,m.domain)}.${(0,d.Xk)()}`,_=t.createElement(s.A,{id:m.id,team:m,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:l?0:void 0});return l?t.createElement(r.Ay,{tip:l},t.createElement("span",null,_)):_},"InvitingTeamName");o.displayName="InvitingTeamName";const a=o},3694049677:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(9574544148),s=e(2312625946);const r=c(o=>{let{invitingUser:a,showEmailTooltip:i=!0}=o;var m;const l=a==null||(m=a.profile)===null||m===void 0?void 0:m.email,_=i&&l,v=t.createElement(n.A,{member:a,skipPrefCompliance:!0,tabIndex:_?0:void 0});return _?t.createElement(s.Ay,{tip:l},v):v},"InvitingUserName");r.displayName="InvitingUserName";const d=r},2408732225:(Q,C,e)=>{"use strict";e.d(C,{n:()=>m});var t=e(3134334389),n=e(3656161791),s=e(4775127335),r=e(698013937),d=e(6415587347);let o=null;const i=c(()=>(o===null&&(o=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),o),"isPrimer");class m extends t.PureComponent{render(){var _,v;const{className:u,team:h,user:f,size:p,allowDefaultProfileImage:E,fallbackUserIcon:g,fallbackUserIcon2x:A,isInteractive:y,hideUserIcon:T}=this.props,M=!!(!((_=f.profile)===null||_===void 0)&&_.is_custom_image),O=!!g||!!A,I=!(!((v=h.icon)===null||v===void 0)&&v.image_default),{imageUrl:D,imageUrl2x:P}=this.getProfileImages();if((M||E||O)&&!T){const L=f.profile.real_name;return t.createElement(s.f1,{className:u,imageUrl:M||E?D:g,imageUrl2x:M||E?P:A,memberOrBotName:L,size:p,teamId:h.id,team:h,isInteractive:y&&!i()&&!!f.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:f.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...n.C}})}return I?t.createElement(r.U,{teamName:h.name,icon:h.icon,size:p,className:u}):null}constructor(_){super(_),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var p;const{team:E,user:g,size:A}=this.props,y=(0,d.Ay)({size:A,teamOrEnterpriseId:E.id,memberId:g.id,avatarHash:(p=g.profile)===null||p===void 0?void 0:p.avatar_hash}),T=(y==null?void 0:y.imageUrl)||"",M=y!=null&&y.imageUrl2x?`${y.imageUrl2x} 2x`:"";return{imageUrl:T,imageUrl2x:M}};const{team:v,allowTeamInitials:u,shouldRenderTeamBadge:h,teamIconSize:f}=_;h&&(this.renderTeamBadge=(0,s.fp)({isExternal:!0,team:v,teamId:v.id,allowTeamInitials:u,teamIconSize:f}))}}c(m,"UserIcon"),m.displayName="UserIcon",m.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1}},7599421656:(Q,C,e)=>{"use strict";e.d(C,{B:()=>s});var t=e(2384831516),n=e(4761125736);const s=(0,t.Mz)(r=>(0,n._Z)(r,"shortcuts_workspace_picker")==="on");s.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:r=>(0,n._Z)(r,"shortcuts_workspace_picker")==="on"}},9874616273:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(8214116048);const s=c(d=>{let{width:o=20,height:a=20,className:i="",theme:m}=d;const l=m===n.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:i,src:l,alt:"Slack",width:o,height:a}))},"SlackLogo");s.displayName="SlackLogo";const r=s},5177671990:(Q,C,e)=>{"use strict";e.d(C,{An:()=>s,E:()=>n,P:()=>a,hN:()=>d,lw:()=>o});var t=e(8571983633);const n="chat_input_tab_ui";function s(i){return`tab_complete_ui_item_${i}`}c(s,"htmlIdForResultAtIndex");const r={"aria-activedescendant":void 0,"aria-controls":n,"aria-haspopup":"listbox"};function d(i){Object.entries(r).forEach(m=>{let[l,_=""]=m;return i.setAttribute(l,_.toString())})}c(d,"initAttributesOnAutocompleteInputElement");function o(i){Object.keys(r).forEach(m=>i.removeAttribute(m))}c(o,"removeAttributesOnAutocompleteInputElement");function a(i,m){i.setAttribute("aria-activedescendant",(0,t.A)(m)?"":s(m))}c(a,"updateAutocompleteInputElementWithSelectedIndex")},7841516218:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(4711108074),n=e.n(t),s=e(56548687),r=e(7136729150),d=e(6244014364);function o(a,i,m){let l=0;const _=new(n()),v=(0,s.e)();return a.forEach(u=>{const h=u.globalIndex-l;if(h>0&&_.retain(h),m&&u.type==="emoji"){_.retain(u.length),l=u.globalIndex+u.length;return}if(_.delete(u.length),u.type==="emoji"){const f={slackemoji:{text:u.label}};_.insert(f,{...u.formats})}else{const f=(0,r.A)(u.id,u.label,i);u.id==="UNVERIFIED"?v.track(d.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):v.track(d.EventId.MSG_AUTO_MENTION_CREATED,{}),_.insert(u.label,{...u.formats,slackmention:f})}l=u.globalIndex+u.length}),_}c(o,"buildPotentialMentionsDelta")},9410394460:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(796111729),n=e(3890290905);function s(r){let{globalIndex:d,results:o,matchLength:a,formats:i}=r;const m=o[0];return(0,t.Wo)().info("AUTOSLUG",`Creating emoji (${m.id})`),{id:m.id,label:`:${(0,n.Y)({name:m.name||""})}:`,globalIndex:d,length:a,formats:i,type:"emoji"}}c(s,"createPotentialEmojiObject")},6102481218:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(8086952004),n=e(8289365785),s=e(796111729),r=e(9884588328);function d(o){let{globalIndex:a,results:i,matchLength:m,formats:l}=o;const _=(0,t.A)(i,h=>!(0,r.lo)(h)),v=(0,n.A)(i);if(!_&&!v)return null;const u=_||v;return(0,s.Wo)().info("AUTOSLUG",`Creating channel mention (${u==null?void 0:u.id})`),{id:(u==null?void 0:u.id)||"",label:`#${(0,r.mG)(u)}`,globalIndex:a,length:m,formats:l,type:"mention"}}c(d,"createPotentialMentionChannelObject")},6292063345:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(8840779375),n=e(362134992),s=e(235108050),r=e(3078252698),d=e(8086952004),o=e(796111729),a=e(9762304444);const i=(0,a.Ay)("TS.ui.frecency.query",()=>[]);var m=e(4291335534),l=e(7035389884);function _(v){let{text:u,label:h,globalIndex:f,localIndex:p,results:E,matchLength:g,formats:A}=v,y,T;const M={id:"UNVERIFIED",label:h,globalIndex:f,length:h.length,formats:A,type:"mention"};if(E.length===1&&E[0].is_broadcast_keyword)return(0,o.Wo)().info("AUTOSLUG",`Creating broadcast keyword mention (${E[0].id})`),y=(0,l.KX)(E[0]),{id:E[0].id,label:y,globalIndex:f,length:g,formats:A,type:"mention"};let O=(0,t.A)(E,I=>(0,m.Pc)((0,l.KX)(I)));O=O.concat((0,t.A)(E,I=>(0,m.Pc)((0,l.KP)(I)))),O=(0,n.A)((0,s.A)(O)),O.sort((I,D)=>((0,r.A)(D)?D.length:0)-((0,r.A)(I)?I.length:0));for(let I=0;I<O.length&&(T=O[I]||"",!(h.length>T.length));I+=1){const D=(0,m.Og)(T,u,p);if(D||E.length<=1){const P=E.filter((0,l.jE)(T));if((0,m.fN)(T,h)&&P.length===1&&(D||!P[0].is_usergroup))return(0,o.Wo)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${P[0].id}). ${E.length} total results`),y=(0,l.KX)(P[0]),{id:P[0].id,label:y,globalIndex:f,length:E.length===1&&!D?M.length:T.length,formats:A,type:"mention"};if((0,m.fN)(T,h)&&P.length>1){(0,o.Wo)().info("AUTOSLUG",`${P.length} matching results, trying to break tie using frecency`);const L=i(P,h,null,{normalize:!0});if(L&&L.length>1&&L[0].score-L[1].score>=30){const k=(0,d.A)(P,{id:L[0].id});return y=k?(0,l.KX)(k):"",(0,o.Wo)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${L[0].id}=${L[0].score};${L[1].id}=${L[1].score})`),{id:(k==null?void 0:k.id)||"",label:y,globalIndex:f,length:E.length===1&&!D?M.length:T.length,formats:A,type:"mention"}}}if(D)return(0,o.Wo)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${E.length} total results)`),M.label=u.substr(p,T.length),M.length=T.length,M}}return(0,o.Wo)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${E.length} total results)`),M}c(_,"createPotentialMentionObject")},2453977996:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3078252698),n=e(4547907890),s=e(308057085),r=e(3183335528),d=e(9017940688),o=e(8405695339),a=e(647040695),i=e(3726677001),m=e(512148710);const l=m.Nb.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),_=l.filter(g=>g!==".").map(g=>`\\${g}`).join("|"),v=l.filter(g=>g!=="."&&g!=="_").map(g=>`\\${g}`).join("|"),u=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${_}|$)`,"g"),h=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${v}|$)`,"g"),f=new RegExp(`[\\.|\\s|${_}]+$`),p=new RegExp(`(${(0,a.A)().source})`,"g");function E(g){let{useChannelTagging:A=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!g)return[];let y=0;const T=[],M=A?h:u;return(0,o.A)(g,(O,I)=>{if((0,d.A)(I)||!(0,n.A)(O)||(0,r.A)(O)||(0,s.Ay)(O)){y+=(0,i.A)(O);return}(0,t.A)(O.insert)&&O.insert.replace(M,(P,L,k)=>{let G=k,b=L;const W=P.indexOf("@");W>0&&(G+=W);const B=P.indexOf("\uFF20");if(B>0&&(G+=B),A){const w=P.indexOf("#");w>0&&(G+=w);const N=P.indexOf("\uFF03");N>0&&(G+=N)}const R=L.length;b=L.replace(f,"");const j=A?b.replace(/^[@\uFF20#\uFF03]/,""):b.replace(/^[@\uFF20]/,"");j.length&&T.push({type:A&&["#","\uFF03"].includes(L.charAt(0))?"channel":"member",text:(0,t.A)(O.insert)?O.insert:"",matchLength:R,label:b,labelWithoutPrefix:j,localIndex:G,globalIndex:G+y})}),(0,t.A)(O.insert)&&O.insert.replace(p,(P,L,k,G)=>{let b=G;const W=P.indexOf(":");W>0&&(b+=W);const B=L.length,R=L.replace(/:/g,"");if(!R.length)return;const j=/^:[0-9]+:$/.test(P),w=(0,t.A)(O.insert)?O.insert.substring(0,G):"",N=/(^|\s)[0-9]+$/.test(w);j&&N||T.push({type:"emoji",text:(0,t.A)(O.insert)?O.insert:"",matchLength:B,label:L,labelWithoutPrefix:R,localIndex:b,globalIndex:b+y})}),y+=(0,i.A)(O)}),T}c(E,"getPotentialMentionMatches")},8383907204:(Q,C,e)=>{"use strict";e.d(C,{A:()=>F});var t=e(7715417323),n=e(9113979368),s=e(8571983633),r=e(9686962598),d=e(3078252698),o=e(3961021150),a=e(6696292586),i=e(4404059078),m=e(3571452446),l=e(8703681551),_=e(3051657319),v=e(506684971),u=e.n(v),h=e(4711108074),f=e.n(h),p=e(4332857818),E=e(3202757386),g=e(6564475562),A=e(3514889545),y=e(8786006583),T=e(3339229351),M=e(5591756507),O=e(6717607339);const I=T.Az-1;function D(Z,z,$){let ee=0;Z==null||Z.forEach(fe=>{(0,M.A)(fe)&&(ee+=1)});const de=(z==null?void 0:z.indent)||0,ie=($==null?void 0:$.indent)||0;let ue=Math.min(de+ie,I);return ee===2&&(ue=ie>=de?0:de),ue}c(D,"getRelativeIndent");function P(){let{delta:Z,format:z,omitFinalBlockFormattingLine:$=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{delta:void 0,format:void 0,omitFinalBlockFormattingLine:!1},ee=new(f());Z==null||Z.eachLine((fe,re)=>{if(ee=ee.concat(fe),z!=null&&z.list&&(re!=null&&re.list)){const _e=D(Z,z,re);ee=ee.concat(new(f())().insert(`
`,{...re,indent:_e}))}else if(z!=null&&z.blockquote&&(re!=null&&re.list)){const _e=D(Z,z,re);ee=ee.concat(new(f())().insert(`
`,{blockquote:!1,border:1,list:re.list,indent:_e}))}else z!=null&&z.blockquote&&(re!=null&&re["code-block"])?ee=ee.concat(new(f())().insert(`
`,{blockquote:!1,border:1,"code-block":!0})):ee=ee.concat(new(f())().insert(`
`,z))}),z&&z["code-block"]&&(ee=ee.compose((0,O.A)(ee)));let ie=!0;if(z!=null&&z.list||z!=null&&z.blockquote){const fe=ee.length()!==0&&ee.slice(ee.length()-1)||new(f()),re=(0,y.A)(fe==null?void 0:fe.ops),_e=re==null?void 0:re.attributes,{list:Ue,indent:ye,border:Te}=_e||{},ge=_e==null?void 0:_e["code-block"],Ae=(z==null?void 0:z.indent)||0,Re=Ue&&(0,a.A)(Te)&&Te>0,Be=ge&&(0,a.A)(Te)&&Te>0;ie=!(Ue&&(0,a.A)(ye)&&ye>0&&ye>Ae)&&!Re&&!Be}if($&&ie||!z){const fe=ee.length();ee=ee.slice(0,fe-1)}return ee}c(P,"convertDeltaToBlockFormat");var L=e(8232660909);function k(Z,z){let{formats:$}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee="@",de=Z.index;return z==="@"?de-=1:z&&z!==" "&&(ee=` ${ee}`),new(f())().retain(de).delete(Z.index-de).delete(Z.length).insert(ee,$)}c(k,"get_mention_insert_delta");var G=e(4200148118),b=e(3436445810),W=e(7898936269),B=e(6958543140),R=e(9848699167),j=e(6859521351),w=e(8841789548),N=e(571104883);const K={attributes:{},logger:{error:t.A,info:t.A,warn:t.A},modules:{},onEnter:t.A},J=50,Y="TEXTY",q=["code-block","blockquote","list","indent","border","header"],H=c((Z,z)=>{!Z||(0,n.A)(z)||Object.keys(z).forEach($=>{const ee=z[$];!(0,s.A)(ee)&&!(0,r.A)(ee)&&Z.setAttribute($,ee)})},"addAttributes"),ne=c(Z=>{H(Z,{"aria-hidden":!0,tabindex:-1})},"hideElFromScreenReaders"),te=c((Z,z,$,ee)=>{Z.element.addEventListener("click",Z.onInputClick),z.root.addEventListener("focus",Z.onRootFocus),z.root.addEventListener("blur",Z.onRootBlur),z.root.addEventListener("compositionstart",Z.onCompositionStart),z.root.addEventListener("compositionend",Z.onCompositionEnd),u().msie&&z.root.addEventListener("focusout",Z.onRootFocusOut),z.on("selection-change",de=>{de&&Z.setLastSelection(de),Z.hasFocus()?Z.onFocus():Z.onBlur(),$.onSelectionChange&&$.onSelectionChange(de)}),(Z.useWysiwyg||$.usePlainTextMode)&&ee.addEventListener("resize",Z.onResize),z.on("text-change",(de,ie,ue)=>{Z.setLastSelection();const fe=z.getLength()>1&&ie.length()<=1;if(fe&&Z.enforceEmptyStateConsistency(),$.onTextChange){const re=Z.nextTextChangeCallbackSource||ue;Z.nextTextChangeCallbackSource=null,$.onTextChange(re,fe,Z.isInComposition)}}),z.on((0,B.A)(ee).events.SCROLL_OPTIMIZE,Z.onScrollOptimize)},"configUserEvents"),le=c((Z,z)=>{const{id:$,getTeamId:ee,singleLineInput:de,tabIndex:ie,role:ue,ariaLabel:fe,ariaLabelledBy:re,ariaDescribedBy:_e,ariaControls:Ue,ariaExpanded:ye,ariaAutocomplete:Te,ariaActiveDescendant:ge,inputMetricBoundary:Ae}=z,Re={id:$,dir:"auto",role:ue||"textbox",tabindex:ie,"data-team-id":ee?ee():"","data-input-metric-boundary":Ae,"aria-label":fe,"aria-labelledby":re,"aria-describedby":_e,"aria-multiline":!de},Be=(0,N.cX)()&&(0,N.X5)()===N.h5.SAFARI,ke=ue==="combobox",se=Be?"aria-owns":"aria-controls";(Be||ke)&&(Re[se]=Ue),ke&&(Re["aria-expanded"]=ye),Re["aria-autocomplete"]=Te;const ve=(0,d.A)(ge)&&ge.length?ge:void 0;Re["aria-activedescendant"]=ve,H(Z.root,Re)},"configAttributes"),he=c((Z,z)=>!z||!z.modules||!z.modules.clipboard?{}:(0,o.A)({onPasted:Z.setLastSelection.bind(Z),logger:z.logger,getUserHighlightWords:z.getUserHighlightWords,useWysiwyg:Z.useWysiwyg,usePlainTextMode:z.usePlainTextMode,supportsAnchorText:!z.disableAnchorText,texty:Z,teamId:z.getTeamId?z.getTeamId():"",useChannelTagging:z.useChannelTagging},z.modules.clipboard),"buildClipboardOptions"),Ie=c((Z,z,$)=>Z.useWysiwyg?{convertImages:$.includes("slackdocimage"),linkifyOnSpace:Z.useWysiwyg&&!z.disableAnchorText,supportsAnchorText:!z.disableAnchorText,teamId:z.getTeamId?z.getTeamId():""}:null,"buildSlackLinkOptions"),Ee=c((Z,z,$)=>Z.useWysiwyg&&!z.usePlainTextMode?{convertHeaders:$.includes("header"),convertHorizontalRule:$.includes("slackhorizontalrule"),teamId:z.getTeamId?z.getTeamId():""}:null,"buildSlackMarkdownOptions"),me=c((Z,z)=>!z||!z.modules||!z.modules.tabcomplete?!1:(0,o.A)({logger:z.logger,tooltipIsShowing:z.modules.tabcomplete.tooltipIsShowing||t.A,tooltipShow:z.modules.tabcomplete.tooltipShow||t.A,tooltipHide:z.modules.tabcomplete.tooltipHide||t.A,useWysiwyg:Z.useWysiwyg&&!z.usePlainTextMode,teamId:z.getTeamId?z.getTeamId():""},z.modules.tabcomplete),"buildTabCompleteOptions"),ce=c(Z=>!Z||!Z.modules||!Z.modules.slackmention?!1:Z.modules.slackmention,"buildSlackMentionOptions"),X=c((Z,z)=>!z||!z.modules||!z.modules.textsubstitutions?!1:((0,L.Ay)(),{useWysiwyg:Z.useWysiwyg,usePlainTextMode:z.usePlainTextMode,isInComposition:()=>Z.isInComposition,...z.modules.textsubstitutions}),"buildTextSubstitutionsOptions"),V=c((Z,z)=>!z.forceAutoslugginEnabled&&z.singleLineInput||!z||!z.modules||!z.modules.tabcomplete?!1:{getTeamId:z.getTeamId||t.A,getChannelId:z.getChannelId||t.A,enableBroadcastKeywords:z.enableBroadcastKeywords,isAutocompleteOpen:z.isAutocompleteOpen,includeAllBroadcastKeywords:z.includeAllBroadcastKeywords,getUserHighlightWords:z.getUserHighlightWords,promiseToSearchMembers:z.promiseToSearchMembers,promiseToSearchChannels:z.promiseToSearchChannels,promiseToSearchEmoji:z.promiseToSearchEmoji,onMentionReplace:z.onMentionReplace||t.A,useWysiwyg:Z.useWysiwyg,usePlainTextMode:z.usePlainTextMode,useChannelTagging:z.useChannelTagging,inlineEmojiIsEnabled:z.inlineEmojiIsEnabled},"buildAutoSlugOptions"),x=c((Z,z)=>z?{isJumbomojiEnabled:z.isJumbomojiEnabled,inlineEmojiIsEnabled:z.inlineEmojiIsEnabled,convertEmoticonsIsEnabled:z.convertEmoticonsIsEnabled,getEmojiNames:z.getEmojiNames,getLocale:z.getLocale,replaceNativeEmoji:z.replaceNativeEmoji,updateJumbomojiClass:$=>{const ee=Z.element.classList.contains("texty_emoji_only");$&&!ee&&Z.element.classList.add("texty_emoji_only"),!$&&ee&&Z.element.classList.remove("texty_emoji_only")},safeToReplaceEmoji:()=>{const $=Z.quill.getModule("tabcomplete");return $?!$.isShowing():!0},teamId:z.getTeamId?z.getTeamId():"",useWysiwyg:Z.useWysiwyg,usePlainTextMode:z.usePlainTextMode}:!1,"buildSlackEmojiOptions"),S=c((Z,z)=>z?{useWysiwyg:Z.useWysiwyg,usePlainTextMode:z.usePlainTextMode,getTextChangeModules:()=>{const $=[];return Z.quill&&(Z.quill.options.modules.textsanitization&&$.push(Z.quill.getModule("textsanitization")),Z.useWysiwyg&&$.push(Z.quill.getModule("slacklink")),Z.quill.options.modules.slackmention&&$.push(Z.quill.getModule("slackmention")),V(Z,z)&&$.push(Z.quill.getModule("autoslug")),Z.quill.options.modules.slackemoji&&$.push(Z.quill.getModule("slackemoji")),Z.useWysiwyg&&!z.usePlainTextMode&&$.push(Z.quill.getModule("slackmarkdown")),Z.quill.options.modules.textsubstitutions&&$.push(Z.quill.getModule("textsubstitutions")),Z.quill.options.modules.cleanembedsincode&&$.push(Z.quill.getModule("cleanembedsincode")),Z.quill.options.modules.cleanemptyinput&&$.push(Z.quill.getModule("cleanemptyinput")),Z.quill.options.modules.cleanworkflowtokens&&$.push(Z.quill.getModule("cleanworkflowtokens"))),$},teamId:z.getTeamId?z.getTeamId():""}:!1,"buildTextChangeQueueOptions"),U=c((Z,z)=>{if(delete Z.__quill,delete Z.__blot,delete Z["__ql-matcher"],delete Z["__ql-computed-style"],!(!(Z instanceof z.HTMLElement)||p.unmountComponentAtNode(Z)))for(;Z.lastChild;){const ee=Z.lastChild;Z.removeChild(ee),U(ee,z)}},"detachNode");let F=c(class{unload(){this.getModules().forEach(z=>{z.unload&&z.unload()}),this.element.removeEventListener("click",this.onInputClick),this.quill.root.removeEventListener("focus",this.onRootFocus),this.quill.root.removeEventListener("blur",this.onRootBlur),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.window.removeEventListener("resize",this.onResize),u().msie&&this.quill.root.removeEventListener("focusout",this.onRootFocusOut),this.quill.off(this.Quill.events.SCROLL_OPTIMIZE,this.onScrollOptimize),this.quill.rootListeners&&(this.quill.rootListeners.forEach(z=>{let[$,ee,de]=z;this.quill.root.removeEventListener($,ee,de)}),delete this.quill.rootListeners,delete this.quill.root.addEventListener),this.quill.scroll.detach(),U(this.element,this.window)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1,this.options.onCompositionEnd&&this.options.onCompositionEnd()}onScrollOptimize(){this.options.onScrollOptimize&&this.options.onScrollOptimize()}onResize(){this.options.onResize&&this.options.onResize()}openPlusMenuShortcut(){this.options.onPlusMenuShortcut&&this.options.onPlusMenuShortcut()}onInputClick(z){this.maybeHandleLinkClick(z),!this.quill.hasFocus()&&!(0,g.A)()&&this.quill.focus()}onRootFocus(){this.onFocus()}onRootBlur(){if(this.quill.hasFocus()||(0,g.A)()&&(u().safari||u().firefox))return;const z=this.quill.getModule("tabcomplete");z&&z.hideAndReset(),this.onBlur()}onRootFocusOut(z){let{relatedTarget:$}=z;$&&($===this.window.document.body||$===this.window.document||setTimeout(()=>{this.window.document.activeElement!==$&&$.focus()},0))}onFocus(){this.element.classList.contains("focus")||(this.element.classList.add("focus"),this.options.onFocus&&this.options.onFocus())}onBlur(){this.element.classList.contains("focus")&&(this.element.classList.remove("focus"),this.options.onBlur&&this.options.onBlur())}maybeHandleLinkClick(z){if(!this.options.onLinkClick)return;const $=z.target.closest("a");if(!$||!this.quill.root.contains($))return;const ee=$.getBoundingClientRect(),de=z.x-ee.left,ie=ee.right-z.x;if(ee.width>=20&&de<5||ee.width>=20&&ie<5)return;const fe=this.Parchment.find(z.target).offset(this.quill.scroll),re=this.quill.getContents(fe,1);if(re.ops.length===1&&(0,G.A)(re.ops[0]))return;const _e=(0,b.A)(this.quill.getContents(),{index:fe+1,length:0},this.quill.getFormat(fe+1,0)),Ue=this.quill.getFormat(_e),ye=this.quill.getContents(_e.index,_e.length);this.options.onLinkClick(z.target,Ue.link,ye,_e)}enable(){this.quill.enable(),this.element.querySelector(".ql-editor").setAttribute("tabindex",0)}disable(){this.quill.disable(),this.blur(),this.element.querySelector(".ql-editor").setAttribute("tabindex",-1)}isEnabled(){return this.quill.isEnabled()}focus(){this.isEnabled()&&this.quill.focus()}selectAll(){this.setSelection(0,this.getLength())}blur(){this.quill.blur()}hasFocus(){return this.quill&&this.quill.hasFocus()}getContents(){return this.quill?{contents:this.quill.getContents().ops}:{contents:[]}}getDelta(){var z;return((z=this.quill)===null||z===void 0?void 0:z.getContents())||new(f())}setContents(z){let{source:$="api"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.nextTextChangeCallbackSource=$,this.quill.setContents(z.contents,$),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0);const ee=this.quill.getModule("autoslug");ee&&ee.clearSearchCache()}prependContents(z){const $=new(f())(z.contents).concat(new(f())(this.quill.getContents()));return this.setContents({contents:$.ops})}maybeTriggerSlashCommandsAutocomplete(){if(this.quill.focus(),!this.quill.getSelection())return;const $=this.getBlockFormat();if(!this.isEmpty()||!(0,n.A)($))return;const ee=new(f())().insert("/");this.quill.updateContents(ee,"user"),setTimeout(()=>{this.quill.setSelection(1,0,"user"),this.setSelectionAtEnd()},0)}maybeTriggerMentionAutocomplete(){this.quill.focus();const z=this.quill.getSelection();if(!z){this.options.logger.warn(Y,"trying to trigger mention autocomplete but there is no range");return}const $=this.quill.getFormat(z.index-1,1),ee=this.quill.getFormat(z.index,1),de=this.quill.getLength()-1;if(z&&z.index<de&&$.slackmention&&ee.slackmention)return;const ie=this.getFormats()||{},ue=this.quill.getText(z.index-1,1),fe=k(z,ue,{formats:ie});this.quill.updateContents(fe,"user");const _e=this.quill.getLength()-1-de;this.quill.setSelection(z.index+_e,0,"user");const Ue=this.quill.getModule("tabcomplete");Ue&&Ue.maybeCompleteAtCursor("user")}getTextForRange(z,$){return this.quill.getText(z,$)}getContentsForRange(z,$){return this.quill.getContents(z,$)}getLineAtCursor(){const z=this.quill.getContents(),$=this.getSelection();if(!z||!$)return null;const ee=$.index||0;let de,ie=0;return z.eachLine(ue=>{if(de)return;const fe=ue&&ue.ops,re=(0,w.A)(fe,{replaceLinks:!0,replaceCode:!0,embedReplacement:"a"}),_e=ie+(re?re.length:0)+1;ee>=ie&&ee<_e&&(de=ue),ie=_e}),de}getText(){return this.quill.getText().replace(/\n$/,"")}setText(z){if(!z){this.clear();return}this.nextTextChangeCallbackSource="api",this.quill.setText(z),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0)}insertText(z,$){let ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,de=z;if(!(0,a.A)(de)){this.options.logger.warn(Y,"no specified index");return}const ie=this.quill.getLength()-1;de=(0,i.A)(de,0,ie),$&&this.quill.insertText(de,$,"user"),this.setLastSelection({index:de+$.length,length:0}),this.hasFocus()?this.quill.setSelection(this.lastSelection):ee&&this.quill.setSelection(this.lastSelection,0,"silent")}insertTextAtCursor(z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if((0,E.A)()){this.options.logger.warn(Y,"do not call insertTextAtCursor from modern. use insertContentsAtCursor");return}this.lastSelection.length&&this.quill.deleteText(this.lastSelection),this.insertText(this.lastSelection.index,z,$)}insertContentsAtCursor(z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user",{matchBlockFormat:de=!1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=new(f())(z.contents);if(de){const re=this.getBlockFormat();re&&(ie=P({delta:ie,format:re,omitFinalBlockFormattingLine:!0}))}const ue=new(f())().retain(this.lastSelection.index).delete(this.lastSelection.length).concat(ie),fe=this.lastSelection.index+ie.length();this.setLastSelection({index:fe,length:0}),this.quill.updateContents(ue,ee),this.hasFocus()?this.quill.setSelection(fe,0,ee):$&&this.quill.setSelection(fe,0,ee)}updateContents(z){const $=new(f())(z.contents);this.quill.updateContents($,"api")}getFormats(z){let $=z;return(0,a.A)($)||($=this.lastSelection.index),this.quill.getFormat($,0)}getBlockFormat(z){const $=this.getFormats(z);if(!$)return null;const ee=(0,m.A)($,q);return(0,n.A)(ee)?null:ee}clear(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setLastSelection({index:0,length:0});const $=z.is_silent?"silent":"api";this.setContents({contents:new(f())().insert(`
`)},{source:$});const ee=this.quill.getModule("autoslug");ee&&ee.clearSearchCache()}refreshJumbomoji(){this.quill.getModule("slackemoji").toggleJumbomoji(this.quill.getContents())}refreshContents(z){this.quill.setContents(z.contents,"silent")}getPlaceholder(){return this.placeholder?this.placeholder.innerHTML:""}setPlaceholder(z){this.placeholder||(this.placeholder=this.quill.addContainer("ql-placeholder"),ne(this.placeholder)),z?this.placeholder.innerHTML=z:this.placeholder.innerHTML=""}setAriaLabel(z){const $=this.quill.root;if(!z){$.removeAttribute("aria-label");return}$.setAttribute("aria-label",z)}setAriaDescribedBy(z){const $=this.quill.root;if(!z){$.removeAttribute("aria-describedby");return}$.setAttribute("aria-describedby",z)}setAriaInvalid(z){const $=this.quill.root;if(!z){$.removeAttribute("aria-invalid");return}$.setAttribute("aria-invalid",z)}setActiveDescendant(z){const $=this.quill.root;if(!z){$.removeAttribute("aria-activedescendant");return}$.setAttribute("aria-activedescendant",z)}getSelection(){return!this.hasFocus()&&this.lastSelection?this.lastSelection:this.quill.getSelection()}getBounds(z,$){return this.quill.getBounds(z,$)}getFormat(z){return z?this.quill.getFormat(z):this.quill.getFormat(this.lastSelection)}setSelection(z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.isEnabled())return!1;let ee=z,de=$;if(!(0,a.A)(ee)&&!(0,a.A)(de))return!1;const ie=this.quill.getLength()-1;ee=(0,i.A)(ee,0,ie),de=(0,i.A)(de,0,ie-ee);try{return this.quill.setSelection(ee,de),!0}catch(ue){return this.options.logger.error(Y,`Failed to set selection (${ue})`),ue.stack&&this.options.logger.error(Y,ue.stack),!1}}setSelectionAtEnd(){const z=this.getLength();this.setSelection(z,0)&&(this.element.querySelector(".ql-editor").scrollLeft=1e4)}isEmpty(){return this.quill.getLength()<=1}getLength(){return this.quill.getLength()-1}isCursorInPreBlock(){const z=this.quill.getSelection();if(!z)return!1;if(this.useWysiwyg&&!this.options.usePlainTextMode){const ee=this.quill.getFormat(z);return!!(ee&&ee["code-block"])}const $=this.quill.getText(0,z.index+z.length);return(0,R.A)($)}isIndexInCode(z){const $=this.quill.getText(0,z);return(0,j.A)($)}deleteSelection(){const z=this.quill.getSelection();z&&z.length&&(this.quill.deleteText(z.index,z.length),this.quill.setSelection(z.index))}deleteText(z,$){this.quill.deleteText(z,$)}clearHistory(){this.quill.history.clear()}setLastSelection(z){z?this.lastSelection=z:this.isEmpty()?this.lastSelection={index:0,length:0}:this.lastSelection=this.quill.getSelection()||this.lastSelection}getModules(){const z=[];return Object.keys(this.quill.options.modules).forEach($=>{const ee=this.quill.getModule($);ee&&z.push(ee)}),z}enforceEmptyStateConsistency(){this.placeholder&&(this.placeholder.offsetHeight,this.placeholder.style.transform="translateZ(0)",this.placeholder.style.transform="")}constructor(z,$,ee){if(!z||z.tagName!=="DIV")throw new Error('Texty: param "element" must be <div> element');this.options=(0,o.A)({},K,(0,l.A)($,s.A));const de=this.options.isMultiverseQuillEnabled&&this.options.window?this.options.window:window;this.Quill=ee(de),this.Parchment=this.Quill.import("parchment"),this.onInputClick=this.onInputClick.bind(this),this.onRootFocus=this.onRootFocus.bind(this),this.onRootBlur=this.onRootBlur.bind(this),this.onRootFocusOut=this.onRootFocusOut.bind(this),this.onResize=(0,A.A)(this.onResize.bind(this),J),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onScrollOptimize=this.onScrollOptimize.bind(this),this.window=de,this.element=z,this.placeholder=null,this.setLastSelection({index:0,length:0}),this.nextTextChangeCallbackSource=null,this.isInComposition=!1,this.useWysiwyg=this.options.useWysiwyg,this.options.singleLineInput&&z.classList.add("texty_single_line_input"),this.options.showTextyTooltips||z.classList.add("texty_hide_tooltips"),this.options.className&&this.options.className.split(" ").forEach(fe=>{z.classList.add(fe)});const ie=["slackemoji","unlink"];if(this.options.modules.slacksearch&&(ie.push("slacksearchtokenmodifier"),ie.push("slacksearchtokenvalue")),this.options.modules.slackmention&&ie.push("slackmention"),this.options.modules.slackhorizontalrule&&ie.push("slackhorizontalrule"),this.options.modules.slackdocimage&&ie.push("slackdocimage"),this.options.useWorkflowTokens&&ie.push("workflowtoken"),this.options.modules.canvasvariable&&ie.push("canvasvariable"),this.useWysiwyg&&!this.options.usePlainTextMode){const{formats:fe}=(0,W.A)({overrideDefaultFormats:$.overrideDefaultFormats,overridesDefaultComposerButtons:$.overridesDefaultComposerButtons,useWorkflowTokens:$.useWorkflowTokens,useExpandedRichText:$.useExpandedRichText});if(fe.forEach(re=>{["h1","h2","h3"].includes(re)?ie.includes("header")||ie.push("header"):["bullet-list","ordered-list","check-list"].includes(re)?ie.includes("list")||ie.push("list"):ie.push(re)}),ie.push("indent"),!this.options.modules.slackdocslist&&this.options.nestedListDepth){const re=this.options.nestedListDepth;if(re){const _e=this.Quill.import("formats/indent"),Ue=(0,_.A)(1,re);_e.whitelist=Ue}}}const ue=this.options.useQuillClass||this.Quill;this.quill=new ue(z,{formats:ie,scrollingContainer:this.options.scrollingContainerSelector,modules:{clipboard:he(this,this.options),keyboard:{...this.options.modules.keyboard,onEnterExternal:this.options.onEnter,onBackspaceExternal:this.options.onBackspace,onEscapeExternal:this.options.onEscape,onTabExternal:this.options.onTab,texty:this,singleLineInput:this.options.singleLineInput,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled,teamId:$.getTeamId?$.getTeamId():"",useWysiwyg:this.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,showLinkForm:this.options.showLinkForm,useExpandedRichText:this.options.useExpandedRichText},tabcomplete:me(this,this.options),textsubstitutions:X(this,this.options),slackmention:ce(this.options),slackemoji:x(this,this.options),slacklink:Ie(this,this.options,ie),slackdocimage:this.options.modules.slackdocimage,slackdocslist:this.options.modules.slackdocslist,slackmarkdown:Ee(this,this.options,ie),slackhorizontalrule:this.options.modules.slackhorizontalrule,textchangequeue:S(this,this.options),textsanitization:{stripNewlines:this.options.singleLineInput},autoslug:V(this,this.options),workflowtoken:this.options.useWorkflowTokens?{onClick:this.options.workflowTokenClick}:null,cleanembedsincode:this.options.modules.cleanembedsincode,cleanemptyinput:this.options.modules.cleanemptyinput,cleanworkflowtokens:this.options.modules.cleanworkflowtokens,canvasvariable:this.options.modules.canvasvariable}}),te(this,this.quill,this.options,this.window),le(this.quill,this.options),this.setPlaceholder(this.options.placeholder),ne(this.quill.clipboard.container)}},"BaseTextyClass")},6260303329:(Q,C,e)=>{"use strict";e.d(C,{A:()=>K});var t=e(8383907204),n=e(6958543140),s=e(3344982765),r=e(1296559413),d=e(9608867179),o=e(8239411787),a=e(4657029696),i=e(2884895025),m=e(9475882758),l=e(2024448144),_=e(9899103555),v=e(1957236872),u=e(6202619371),h=e(3409151135),f=e(8653415088),p=e(5998917644),E=e(6299559191),g=e(2557000613),A=e(7363468123),y=e(8112654178),T=e(7254545653),M=e(1306263562),O=e(1316182475),I=e(7991260153),D=e(3225969796),P=e(679304348),L=e(7293800748),k=e(5960264416),G=e(3695531135),b=e(3448755266),W=e(9973095253),B=e(4587547882);const R=new WeakMap,j=c(J=>!!R.get(J),"isQuillInitialized"),w=c(J=>{R.set(J,!0)},"setQuillInitialized");function N(J){const Y=(0,n.A)(J);if(j(Y))return Y;Y.register({"modules/tabcomplete":(0,r.A)(J),"modules/textsubstitutions":(0,a.A)(J),"modules/cleanembedsincode":(0,y.A)(J),"modules/cleanemptyinput":(0,T.A)(J),"modules/clipboard":(0,d.A)(J),"modules/keyboard":(0,o.Ay)(J),"modules/slackmention":(0,_.A)(J),"modules/slackemoji":(0,h.A)(J),"modules/textchangequeue":(0,g.A)(J),"modules/textsanitization":(0,A.A)(J),"modules/autoslug":(0,s.A)(J),"modules/slacklink":(0,i.Ay)(J),"modules/slackmarkdown":(0,M.Ay)(J),"modules/slackhorizontalrule":(0,E.A)(J),"modules/workflowtoken":(0,O.A)(J),"modules/cleanworkflowtokens":(0,I.Ay)(J),"modules/slackdocslist":b.A,"modules/canvasvariable":(0,W.A)(J),"formats/slacksearchtokenmodifier":(0,m.A)(J),"formats/slacksearchtokenvalue":(0,l.A)(J),"formats/slackmention":(0,v.A)(J),"formats/slackemoji":(0,f.A)(J),"formats/unlink":(0,u.A)(J),"formats/slackhorizontalrule":(0,p.A)(J),"formats/workflowtoken":(0,D.Gs)(J),"formats/strike":(0,P.A)(J),"formats/border":(0,k.Ay)(J),"formats/list":G.A,"formats/list/item":G.D,"formats/canvasvariable":(0,B.Ay)(J)},!0);const{CodeBlock:q}=(0,L.Ay)(J),H=Y.import("blots/inline"),ne=Y.import("formats/bold"),te=Y.import("formats/italic"),le=Y.import("formats/strike"),he=Y.import("formats/code"),Ie=Y.import("formats/link"),Ee=Y.import("formats/unlink"),me=Y.import("formats/slackemoji"),ce=Y.import("formats/slackmention"),X=Y.import("formats/workflowtoken");return q.allowedChildren.push(H),q.allowedChildren.push(ne),q.allowedChildren.push(te),q.allowedChildren.push(le),q.allowedChildren.push(he),q.allowedChildren.push(Ie),q.allowedChildren.push(Ee),q.allowedChildren.push(me),q.allowedChildren.push(ce),q.allowedChildren.push(X),Y.register({"formats/code":q},!0),w(Y),Y}c(N,"initQuill");let K=c(class extends t.A{constructor(Y,q){super(Y,q,N)}},"CanvasTextyClass")},7394828365:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3134334389);const n=t.createContext({})},4206015041:(Q,C,e)=>{"use strict";e.d(C,{A:()=>k});var t=e(4711108074),n=e.n(t),s=e(3078252698),r=e(6217320234),d=e(3339229351),o=e(647040695),a=e(9936232041),i=e(6317044431),m=e(3982736577),l=e(3829348308),_=e(9907843289),v=e(4547907890),u=e(308057085),h=e(3183335528),f=e(2827252833),p=e(9017940688),E=e(8405695339),g=e(6533394955),A=e(3726677001),y=e(1089076149),T=e(6859521351),M=e(1632207548),O=e(8581994840),I=e(2056853624),D=e(8792003313);const P=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),L=c(G=>P.test(G),"isUnicodeChar");function k(G){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const W=new(n());let B=0,R=0;if(!b.inlineEmojiIsEnabled)return W;let j=null;return(0,E.A)(G,(w,N)=>{const K=!(0,p.A)(N),J=(0,A.A)(w);if(!K||!(0,v.A)(w)||(0,u.Ay)(w)||(0,h.A)(w)){B+=J,j=w;return}const Y=w.attributes;let q=[];const H=b.useWysiwyg&&!b.usePlainTextMode;let ne="";(0,_.DU)()&&(0,s.A)(w.insert)?ne=w.insert.replace(/\uFF1A/g,":"):ne=(0,s.A)(w.insert)?w.insert:"";const te=H?[]:(0,M.A)(ne);ne.replace((0,o.A)(),(he,Ie,Ee)=>{if(!H&&(0,O.A)(Ee,te)||!H&&(0,T.A)((0,y.A)(G,0,B+Ee)))return;let me=(0,I.A)(he,{emojiNames:b.emojiNames,locale:b.locale||"",teamId:b.teamId||""});if(me){const ce=/^:[0-9]+:$/.test(me),X=ne.substring(0,Ee),V=/(^|\s)[0-9]+$/.test(X);ce&&V&&(me="")}me&&q.push({match:me,index:Ee,matchLength:he.length,attributes:Y})});const le=b.teamId&&(0,g.getStateByTeamId)(b.teamId);if(b.replaceNativeEmoji){const he=(0,i.A)(b.teamId);ne.replace(he,(Ie,Ee,me,ce)=>{if(ce>0){const S=ne.charAt(ce-1);if(S===d._x||L(S)&&i.p.includes(Ie))return}const X=(0,m.A)(Ie)||"",V=(0,l.qJ)(le,X),x=V?`:${V}:`:null;x&&q.push({match:x,index:ce,matchLength:Ie.length,nativeEmojiReplacement:!0,attributes:Y})})}if(q=(0,r.A)(q,"index"),q.length){let he=0,Ie=0;q.forEach((Ee,me)=>{let ce=!1,X=Ee.match,V=0,x=Ee.matchLength;me===0?V=B+Ee.index-R:V=Ee.index-he-Ie;const S=X.match(D.x);let U=null,F=null;if(S&&(F=parseInt(S[2],10)||null,U=parseInt(S[3],10)||null),!Ee.nativeEmojiReplacement&&me===0&&Ee.index===0&&S&&j&&(0,f.Ay)(j)){const Z=(0,a.A)((0,f.Um)(j));(!U&&(0,l.Fm)(le,{text:(Z==null?void 0:Z.name)||"",teamId:b.teamId||""})||U&&F!==U&&(0,l.pA)(le,{text:(Z==null?void 0:Z.name)||"",teamId:b.teamId||""}))&&(V-=1,x+=1,X=`:${Z==null?void 0:Z.name}:${X}`,ce=!0)}he=Ee.index,Ie=Ee.matchLength,R=B+he+Ie,(ce||!U)&&(V&&W.retain(V),W.delete(x).insert({slackemoji:{text:X}},Ee.attributes))})}B+=J,j=w}),W}c(k,"buildEmojiReplacementDelta")},7898936269:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,E:()=>t});var t;(function(s){s.NONE="NONE",s.START="START",s.OPEN="OPEN"})(t||(t={}));function n(s){let{overrideDefaultFormats:r,overridesDefaultComposerButtons:d,useWorkflowTokens:o,useQuipTokens:a=!1,useVariables:i=!1,useExpandedRichText:m=!1,useChannelCanvasShareSelection:l=!1,quipThreadButtonType:_=t.NONE,reachMaxVariables:v=!1,useAddReaction:u=!1}=s;if(m)return{formats:["h1","h2","h3","bold","italic","strike","link","code","bullet-list","check-list","ordered-list","check-list","code-block","blockquote"],buttons:[["menu"],["bold","italic","strike","code","link"],["ordered-list","bullet-list","check-list","blockquote","code-block","slackhorizontalrule"]],menuItems:["h1","h2","h3","paragraph"],menuPosition:"top-left"};if(o)return{formats:["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],buttons:[["bold","italic","strike","code","link"],["ordered-list","bullet-list","blockquote","code-block"]]};if(a){const p=[["menu"],["bold","italic","strike"],["code"]],E=i?["link",v?"variable-limit-reached":"insert-variable"]:["link"];p.push(E);const g=[];switch(_){case t.START:u&&g.push("add-reaction"),g.push("start-thread");break;case t.OPEN:g.push("open-thread");break;default:break}return p.push(g),l&&p.push(["channel-canvas-share"]),{formats:["bold","italic","strike"],buttons:p,menuItems:["paragraph","h1","h2","h3","option-list-divider","check-list","ordered-list","bullet-list","option-list-divider","code-block","blockquote"]}}let h=["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],f=[["bold","italic","strike"],["link"],["ordered-list","bullet-list"],["blockquote"],["code","code-block"]];return h.includes("border")||h.push("border"),r&&(h=r),d&&(f=d),{formats:h,buttons:f}}c(n,"getButtonsAndFormats")},6958543140:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(2233780559),n=e(6087439017),s=e(7010795574),r=e.n(s);const o=(0,t.eF)(t.vt.QUILL,a=>a===window?(0,n.A)():r()(a))},8354595181:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_,Ru:()=>n.a});var t=e(4711108074),n=e.n(t),s=e(6087439017),r=e(5694593130),d=e(5924356270),o=e(6260303329),a=e(1296559413),i=e(9608867179),m=e(8239411787);const l=(0,s.A)(),_=r.A},4587547882:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d});var t=e(6958543140);const n="c-texty_canvas_variable__content",s="c-texty_canvas_variable__wand_icon",r="c-texty_canvas_variable__variable_icon";function d(o){const i=(0,t.A)(o).import("blots/embed"),m=o||window;let l=c(class Zr extends i{static create(v){const u=super.create(v.name);return u.setAttribute("data-name",v.name),u.setAttribute("data-template-type",v.templateType),u}static value(v){return{name:v.getAttribute("data-name"),templateType:v.getAttribute("data-template-type")}}constructor(...v){super(...v);const[u]=v,{name:h}=Zr.value(u);this.contentNode.classList.add(n);const f=m.document.createElement("i");f.classList.add(r,"c-icon"),this.contentNode.appendChild(f);const p=m.document.createElement("span");p.textContent=h,this.contentNode.appendChild(p)}},"CanvasVariable");return l.blotName="canvasvariable",l.tagName="button",l.className="c-texty_canvas_variable",l}c(d,"getCanvasVariableFormat")},7293800748:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>s});var t=e(6958543140),n=e(8207536819);function s(a){const i=(0,t.A)(a),m=i.import("blots/container"),l=i.import("blots/block"),_=i.import("blots/inline"),v=i.import("blots/text"),u=i.import("blots/break"),h=i.import("blots/cursor");let f=c(class extends m{static create(A){const y=super.create(A);return y.setAttribute("spellcheck",!1),y}html(A,y){const T=this.children.map(M=>M.domNode.innerText).join(`
`).slice(A,A+y);return`<pre>${(0,n.A)(T)}</pre>`}},"CodeBlockContainer"),p=c(class extends l{static register(){i.register(f)}},"CodeBlock"),E=c(class extends _{},"Code");return E.blotName="code",E.tagName="CODE",p.blotName="code-block",p.className="ql-code-block",p.tagName="DIV",f.blotName="code-block-container",f.className="ql-code-block-container",f.tagName="DIV",f.allowedChildren=[p],p.allowedChildren=[v,u,h],p.requiredContainer=f,p.TAB="  ",{Code:E,CodeBlockContainer:f,CodeBlock:p}}c(s,"getCodeBlockFormat");const{Code:r,CodeBlockContainer:d,CodeBlock:o}=s(window)},5960264416:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>n});var t=e(6958543140);function n(r){const o=(0,t.A)(r).import("parchment");let a=c(class extends o.Attributor.Class{add(l,_){let v=_;if(v==="+1"||v==="-1"){const h=this.value(l)||0;v=(v==="+1"?h+1:h-1).toString()}if(parseInt(v,10)===0)return this.remove(l,v),!0;const u=l==null?void 0:l.parentNode;return l.tagName==="LI"&&u&&parseInt(v,10)>0?(super.add(u,v),u.querySelectorAll("li").forEach(h=>{super.add(h,v)}),!0):(super.add(l,v),this.cleanup(),!0)}remove(l,_){const v=l==null?void 0:l.parentNode;parseInt(_,10)===0&&(v&&(v.tagName==="OL"||v.tagName==="UL")&&(super.remove(v),v.querySelectorAll("li").forEach(u=>{super.remove(u)})),l.tagName==="DIV"&&l.classList.contains("ql-border-1")&&l.classList.contains("ql-code-block")&&super.remove(l),l.tagName==="BLOCKQUOTE"&&l.classList.contains("ql-border-1")&&super.remove(l))}canAdd(l,_){return l&&super.canAdd(l,_)||l&&super.canAdd(l,parseInt(_,10))||(l==null?void 0:l.parentNode)&&super.canAdd(l.parentNode,_)}value(l){return l&&parseInt(super.value(l),10)||(l==null?void 0:l.parentNode)&&parseInt(super.value(l.parentNode),10)||void 0}cleanup(){setTimeout(()=>{document.querySelectorAll("p[class*='ql-border-']").forEach(l=>{super.remove(l)})},0)}},"BorderAttributor");return new a("border","ql-border",{scope:o.Scope.BLOCK,whitelist:[1,2]})}c(n,"getSlackBorderFormat");const s=n(window)},3695531135:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l,D:()=>m});var t=e(6087439017),n=e(4505564445);const s=(0,t.A)(),r=s.import("parchment"),d=s.import("blots/block"),o=s.import("blots/inline"),a=s.import("blots/container");let i=c(class extends o{checkUncheck(v,u){v.preventDefault(),v.stopPropagation(),s.find(u.closest(".ql-editor").parentNode).isEnabled()&&(v.target.focus(),document.activeElement.click())}moveCursorLeft(v,u){const h=s.find(u.closest(".ql-editor").parentNode),f=h.getSelection();h.isEnabled()&&f&&f.index>0&&setTimeout(()=>{h.setSelection(f.index-1,f.length)},0)}moveCursorRight(v,u){const h=s.find(u.closest(".ql-editor").parentNode),f=h.getSelection();h.isEnabled()&&f&&f.index>=0&&setTimeout(()=>{h.setSelection(f.index,f.length)},0)}moveCursorDown(v,u){const h=s.find(u.closest(".ql-editor").parentNode),f=h.getSelection();if(h.isEnabled()){const E=h.getLine(f.index)[0];if(E&&E.domNode){const g=E.next,A=E.parent;if(g){const y=g.domNode.querySelector(".slack-docs-list-item-checkbox");if(y){const T=h.getIndex(g);return setTimeout(()=>{h.setSelection(T,0),y.focus()},0),!1}}else{let y;if(A&&A.next&&A.next.children&&A.next.children.head&&A.next.children.head.domNode&&A.next.children.head.domNode.querySelector&&(y=A.next.children.head.domNode.querySelector(".slack-docs-list-item-checkbox")),y){const M=h.getIndex(A.next);return setTimeout(()=>{h.setSelection(M,0),y.focus()},0),!1}const T=h.getSelection();T&&h.setSelection(T.index,T.length)}}}return!0}moveCursorUp(v,u){const h=s.find(u.closest(".ql-editor").parentNode),f=h.getSelection();if(h.isEnabled()){const E=h.getLine(f.index)[0];if(E&&E.domNode){const g=E.prev,A=E.parent;if(g){const y=g.domNode.querySelector(".slack-docs-list-item-checkbox");if(y){const T=h.getIndex(g);return setTimeout(()=>{h.setSelection(T,0),y.focus()},0),!1}}else{let y;if(A&&A.prev&&A.prev.children&&A.prev.children.tail&&A.prev.children.tail.domNode&&A.prev.children.tail.domNode.querySelector&&(y=A.prev.children.tail.domNode.querySelector(".slack-docs-list-item-checkbox")),y){const M=h.getIndex(A.prev.children.tail);return setTimeout(()=>{h.setSelection(M,0),y.focus()},0),!1}const T=h.getSelection();T&&T.index&&T.index-1>=0&&h.setSelection(T.index-1,T.length)}}}return!0}onTab(v,u){const h=document.activeElement;if(h.classList.contains("slack-docs-list-item-checkbox")){const f=s.find(u.closest(".ql-editor").parentNode);if(f.isEnabled()){const p=f.getSelection(),E=f.getFormat(p),g=parseInt(E.indent||0,10);let y=(v.shiftKey?"-1":"+1")==="+1"?1:-1;return E.direction==="rtl"&&(y*=-1),f.format("indent",g+y,"user"),h.focus(),!1}}return!0}constructor(v){super(v),v.addEventListener("keydown",u=>{u&&u.keyCode===n.UQ&&this.moveCursorLeft(u,v),u&&u.keyCode===n.LE&&this.moveCursorRight(u,v),u&&u.keyCode===n.n6&&this.moveCursorDown(u,v),u&&u.keyCode===n.i7&&this.moveCursorUp(u,v),u&&u.keyCode===n.I6&&this.checkUncheck(u,v),u&&u.keyCode===n.wn&&this.onTab(u,v),u.preventDefault()})}},"SlackDocsListItemCheckbox");i.blotName="slack-docs-list-item-checkbox",i.tagName="SLACKDOCSLISTITEMCHECKBOX",s.register(i,!0);let m=c(class extends d{static formats(v){return v.tagName===this.tagName?void 0:super.formats(v)}format(v,u){v===l.blotName&&!u?this.replaceWith(r.create(this.statics.scope)):super.format(v,u)}remove(){this.prev===null&&this.next===null?this.parent.remove():super.remove()}replaceWith(v,u){return this.parent.isolate(this.offset(this.parent),this.length()),v===this.parent.statics.blotName?(this.parent.replaceWith(v,u),this):(this.parent.unwrap(),super.replaceWith(v,u))}},"SlackDocsListItem");m.blotName="list-item",m.tagName="LI";let l=c(class extends a{static create(v){const u=v==="ordered"?"OL":"UL",h=super.create(u);return(v==="checked"||v==="unchecked")&&h.setAttribute("data-checked",v==="checked"),h}static formats(v){if(v.tagName==="OL")return"ordered";if(v.tagName==="UL")return v.hasAttribute("data-checked")?v.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}checkUncheck(v,u){if(v&&v.target&&v.target.tagName&&v.target.tagName!=="SLACKDOCSLISTITEMCHECKBOX")return;v.preventDefault(),v.stopPropagation();const h=s.find(u.closest(".ql-editor").parentNode);if(h.isEnabled()){const f=v.target.parentNode.parentNode,p=v.target.parentNode;if(f!==u)return;const E=this.statics.formats(u),g=r.find(p);E==="checked"?(g.format("list","unchecked"),v.target.setAttribute("aria-checked","false")):E==="unchecked"&&(g.format("list","checked"),v.target.setAttribute("aria-checked","true"));const A=h.getIndex(g);h.setSelection(A,0),setTimeout(()=>{v.target.focus()})}}format(v,u){this.children.length>0&&this.children.tail.format(v,u)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(v,u){v instanceof m&&super.insertBefore(v,u);let h;v&&v.parent&&v.parent.domNode&&v.parent.domNode.dataset&&v.parent.domNode.dataset.checked&&(v.parent.domNode.dataset.checked==="true"||v.parent.domNode.dataset.checked==="false")&&(v.domNode.querySelectorAll(".slack-docs-list-item-checkbox").length||(h=r.create("slack-docs-list-item-checkbox"),h.domNode.setAttribute("role","checkbox"),v.parent.domNode.dataset.checked==="true"?h.domNode.setAttribute("aria-checked","true"):h.domNode.setAttribute("aria-checked","false"),h.domNode.setAttribute("tabindex","-1"),h.domNode.classList.add("slack-docs-list-item-checkbox"),v.domNode.prepend(h.domNode)))}optimize(){super.optimize();const v=this.next;v!=null&&v.prev===this&&v.statics.blotName===this.statics.blotName&&v.domNode.tagName===this.domNode.tagName&&v.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(v.moveChildren(this),v.remove())}replace(v){if(v.statics.blotName!==this.statics.blotName){const u=r.create(this.statics.defaultChild);v.moveChildren(u),this.appendChild(u)}super.replace(v)}constructor(v){super(v),v.addEventListener("click",u=>this.checkUncheck(u,v))}},"SlackDocsList");l.blotName="list",l.scope=r.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[m]},8653415088:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(7752974446),n=e.n(t),s=e(3078252698),r=e(8086952004),d=e(8525228540),o=e(3043682041),a=e(9936232041),i=e(8556787853),m=e(6533394955),l=e(796111729),_=e(3829348308),v=e(2047021170),u=e(9052502926),h=e(488107601),f=e(9293534148),p=e(5799716058),E=e(6958543140),g=e(9421999304);function A(T,M){let O=M;return(0,v.ty)(T,"a11y_animations")||(O=(0,i.Ay)(T,{url:M,stopAnimations:!0,isEmoji:!0})),O}c(A,"getActualEmojiUrl");function y(T){const M=(0,E.A)(T),O=T||window,I=M.import("blots/embed");let D=c(class extends I{static create(L){let k;(0,s.A)(L)?((0,l.Wo)().error("slackemoji_bad_input"),k=L):k=L.text;const G=super.create(k);G.setAttribute("data-id",k),G.setAttribute("data-title",k),G.setAttribute("data-stringify-text",k),G.setAttribute("class","emoji"),G.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),G.setAttribute("alt",(0,p.A)(k));const b=(0,a.A)(k),W=b?b.name:"";return G.addEventListener("load",B=>{const R=B.target;let j=null;if(R.closest)j=R.closest(".ql-editor");else if(O.document.documentElement.contains(R)){let K=R;do{if(K.classList.contains("ql-editor")){j=K;break}K=K.parentElement||K.parentNode}while(K!==null&&K.nodeType===1)}if(!j)return;const w=j.getAttribute("data-team-id");let N=`background-image: url(${n()});`;if(w){const K=(0,m.getStateByTeamId)(w),J=(0,g.JK)({teamOrEnterpriseId:w}),Y=(0,d.bR)({state:K,locale:J,name:k})||k;Y&&Y!==k&&(G.setAttribute("data-title",Y),G.setAttribute("alt",(0,p.A)(Y)));const q=(0,_.Ez)(K,{...L,teamId:w,emojiMode:(0,o.w)(K,{forceDisplay:!0}),emojiSize:h.lw.LARGE});q?(N=`background-image: url(${A(K,q)});`,b&&(0,_.Fm)(K,{text:W,teamId:w})&&R.setAttribute("data-has-skin-tone","")):(N="background-image: none;",R.classList.add("sk_foreground_low_solid_bg","rounded"),(0,u.eW)(w,[W]).then(H=>{var ne;const te=(ne=(0,r.A)(H,["name",W]))===null||ne===void 0?void 0:ne.value;R.classList.remove("sk_foreground_low_solid_bg","rounded"),te?(N=`background-image: url(${A(K,te)});`,R.setAttribute("style",N)):R.setAttribute("style",`background-image: url(${n()});`)}))}R.setAttribute("style",N),(0,f.sJ)(W)}),G}static value(L){return{text:L.getAttribute("data-id")}}},"SlackEmoji");return D.blotName="slackemoji",D.tagName="img",D}c(y,"getSlackEmojiFormat")},5998917644:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/block/embed");let o=c(class extends d{static formats(){return{slackhorizontalrule:!0}}},"SlackHorizontalRule");return o.blotName="slackhorizontalrule",o.tagName="hr",o}c(n,"getSlackHorizontalRuleFormat")},1957236872:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(5255740490),n=e(735940183),s=e(9293534148),r=e(6958543140);const d=new n.Ay("texty");function o(a){const m=(0,r.A)(a).import("blots/inline");let l=c(class extends m{static create(v){const u=super.create(v);u.setAttribute("data-id",v.id),u.setAttribute("data-label",v.label),u.setAttribute("spellcheck","false"),v.unverified&&u.setAttribute("data-title",d.t("Several matches for {name}",{name:v.label}));const h=(0,t.A)("c-member_slug","c-member_slug--link","ts_tip_texty",{"c-member_slug--mention":v.mention,"c-member_slug--unverified":v.unverified});return u.setAttribute("class",h),u.setAttribute("dir","ltr"),(0,s.AH)(v==null?void 0:v.id),u}static formats(v){return{id:v.getAttribute("data-id"),label:v.getAttribute("data-label"),mention:v.classList.contains("c-member_slug--mention"),unverified:v.classList.contains("c-member_slug--unverified")}}},"SlackMention");return l.blotName="slackmention",l.tagName="ts-mention",l}c(o,"getSlackMentionFormat")},9475882758:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/inline");let o=c(class extends d{static create(i){const m=super.create(i);return m.setAttribute("data-name",i.name),m}static formats(i){return{name:i.getAttribute("data-name")}}},"SlackSearchTokenModifier");return o.blotName="slacksearchtokenmodifier",o.tagName="ts-searchtoken-modifier",o}c(n,"getSlackSearchTokenModifierFormat")},2024448144:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/inline");let o=c(class extends d{static create(i){const m=super.create(i);return m.setAttribute("data-text",i.text),m.setAttribute("data-ghost",i.ghost),m}static formats(i){return{text:i.getAttribute("data-text"),ghost:i.getAttribute("data-ghost")}}},"SlackSearchTokenValue");return o.blotName="slacksearchtokenvalue",o.tagName="ts-searchtoken-value",o}c(n,"getSlackSearchTokenValueFormat")},679304348:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("formats/bold");let o=c(class extends d{},"Strike");return o.blotName="strike",o.tagName=["S","STRIKE"],o}c(n,"getSlackStrikeFormat")},3225969796:(Q,C,e)=>{"use strict";e.d(C,{Dc:()=>v,Gs:()=>I,dc:()=>u,li:()=>y,tF:()=>p,x7:()=>A});var t=e(9524650809),n=e(3783303734),s=e(6958543140),r=e(735940183),d=e(6013332081),o=e(1993167390),a=e(2772407197),i=e(4737389068),m=e(9678184769),l=e(2508519639);const _=new r.Ay("workflow_builder"),v="c-texty_workflow_token__content",u="c-texty_workflow_token__label",h="c-texty_workflow_token__property",f="c-texty_workflow_token__customize_dropdown",p="c-texty_workflow_token__variable_icon";function E(P){let{isClickable:L,variableData:k,baseDomNode:G,showErrorState:b,...W}=P;const B=k&&(0,a.Ei)(k)?k.source_type:k==null?void 0:k.sourceType;G.setAttribute("data-id",W.id),G.setAttribute("data-type",W.type),G.setAttribute("data-label",W.label);var R;G.setAttribute("data-property",(R=W.property)!==null&&R!==void 0?R:"");var j;return G.setAttribute("data-property-label",(j=W.propertyLabel)!==null&&j!==void 0?j:""),G.setAttribute("data-is-available",W.isAvailable?"true":""),G.setAttribute("data-is-clickable",L?"true":""),B&&G.setAttribute("data-source-type",String(B)),k&&!(0,a.Ei)(k)&&G.setAttribute("data-name",k.name),G.setAttribute("title",W.sourceLabel),L||G.classList.add("is-not-clickable"),b&&G.classList.add("has-error"),G}c(E,"convertFromTokenDataToDomNode");function g(P){const L=P.getAttribute("data-type"),k=(0,o.X)(a.JD,L);var G;const b=(G=P.getAttribute("title"))!==null&&G!==void 0?G:"",W=P.getAttribute("data-is-available")==="true",B=P.getAttribute("data-source-type");if(k){var R,j;const X={id:(R=P.getAttribute("data-id"))!==null&&R!==void 0?R:"",type:k?L:"text",label:(j=P.getAttribute("data-label"))!==null&&j!==void 0?j:"",sourceLabel:b,isAvailable:W,source_type:B&&(0,o.X)(a.wr,B)?B:"message"};var w,N,K,J,Y;return{id:(w=P.getAttribute("data-id"))!==null&&w!==void 0?w:"",type:(N=X.type)!==null&&N!==void 0?N:"",label:(K=P.getAttribute("data-label"))!==null&&K!==void 0?K:"",property:(J=P.getAttribute("data-property"))!==null&&J!==void 0?J:"",propertyLabel:(Y=P.getAttribute("data-property-label"))!==null&&Y!==void 0?Y:"",sourceLabel:b,isAvailable:W,isClickable:P.getAttribute("data-is-clickable")==="true",variableData:X}}var q,H,ne,te;const le={id:(q=P.getAttribute("data-id"))!==null&&q!==void 0?q:"",type:(0,o.X)(l.EF,L)?L:"string",label:(H=P.getAttribute("data-label"))!==null&&H!==void 0?H:"",sourceLabel:(ne=P.getAttribute("title"))!==null&&ne!==void 0?ne:"",isAvailable:P.getAttribute("data-is-available")==="true",name:(te=P.getAttribute("data-name"))!==null&&te!==void 0?te:"",sourceType:B&&(0,o.X)(a.Do,B)?B:"function"};var he,Ie,Ee,me,ce;return{id:(he=P.getAttribute("data-id"))!==null&&he!==void 0?he:"",type:(Ie=le.type)!==null&&Ie!==void 0?Ie:"",label:(Ee=P.getAttribute("data-label"))!==null&&Ee!==void 0?Ee:"",property:(me=P.getAttribute("data-property"))!==null&&me!==void 0?me:"",propertyLabel:(ce=P.getAttribute("data-property-label"))!==null&&ce!==void 0?ce:"",sourceLabel:b,isAvailable:W,isClickable:P.getAttribute("data-is-clickable")==="true",variableData:le}}c(g,"convertFromDomNodeToTokenData");function A(P,L){const k=_.t("Missing Data");return{id:(0,t.A)(P),name:k,source_id:"",source_type:"function",sourceLabel:"",type:L,label:k,defaultLabel:k,isTombstone:!0,isAvailable:!1,canCustomizeLabel:!1}}c(A,"createHermesTombstoneToken");const y="c-texty_workflow_token",T={id:"",type:"string",label:"",sourceLabel:"",propertyLabel:"",isAvailable:!1},M={id:"",type:"text",label:"",sourceLabel:"",source_type:"message",isAvailable:!1},O={id:"",type:"string",label:"",sourceLabel:"",sourceType:"function",name:"",isAvailable:!1};function I(P){const L=(0,s.A)(P),k=P||window,G=L.import("blots/embed");let b=c(class qr extends G{static create(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;const{variableData:R=(0,o.X)(a.JD,B.type)?M:O,...j}=B,w=(0,a.L4)(R),N=(0,a.Ei)(R),K=j.id,J=j.type,Y=j.property,q=R.label,H=R.sourceLabel,ne=R.isAvailable;let te=!ne,le=j.propertyLabel,he=!1,Ie;if(N&&(Ie=R.properties,he=!!R.canCustomizeLabel,Y&&!j.propertyLabel&&(Ie!=null&&Ie.length))){const V=Ie.find(x=>x.name===Y);V&&(le=V.label)}let Ee=!1;if(w){var me;Ee=(0,d.ND)(j.id)&&!(0,m.Jx)(j.id)||(0,d.R$)({type:R.type,arrayItemType:(me=R.items)===null||me===void 0?void 0:me.type,id:R.id}),te=te||!(0,i.z)(j,R),Ee=Ee||te}const ce=ne&&(!!he||(0,n.A)(Ie)>1||Ee);return E({id:K,label:q,type:J,property:Y,propertyLabel:le||"",isAvailable:ne,isClickable:ce,sourceLabel:H,baseDomNode:super.create(q),variableData:R,showErrorState:te})}static value(B){return g(B)}static formats(B){return g(B)}constructor(...B){super(...B);const[R]=B,{label:j,propertyLabel:w}=qr.value(R);this.contentNode.classList.add(v);const N=k.document.createElement("i");N.classList.add(p,"c-icon"),this.contentNode.appendChild(N);const K=k.document.createElement("span");if(K.textContent=j!=null&&j.length?j:_.t("Missing Data"),K.classList.add(u),this.contentNode.appendChild(K),w){const Y=k.document.createElement("span");Y.textContent=w,Y.classList.add(h),this.contentNode.appendChild(Y)}const J=k.document.createElement("i");J.classList.add(f,"c-icon","c-icon--chevron-down"),this.contentNode.appendChild(J)}},"WorkflowToken");return b.blotName="workflowtoken",b.tagName="button",b.className=y,b}c(I,"getWorkflowTokenFormat");const D={convertFromTokenDataToDomNode:E,convertFromDomNodeToTokenData:g}},6202619371:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("blots/inline");let o=c(class extends d{static create(i){return super.create(i)}static formats(i){return i.tagName==="TS-UNLINKED"}},"SlackUnlinked");return o.blotName="unlink",o.tagName=["ts-unlinked"],o}c(n,"getSlackUnlinkedFormat")},3344982765:(Q,C,e)=>{"use strict";e.d(C,{A:()=>D});var t=e(6626377467),n=e(1112336375),s=e(362134992),r=e(6027162153),d=e(9268023148),o=e(6958543140),a=e(4291335534),i=e(9884588328),m=e(6533394955),l=e(2229186),_=e(411655882),v=e(2453977996),u=e(6292063345),h=e(6102481218),f=e(9410394460),p=e(7841516218),E=e(1089076149),g=e(1632207548),A=e(8581994840),y=e(4797500022),T=e(6859521351);const O=["'",".","_","-","\u2018","\u2019"].map(P=>`\\${P}`).join(""),I=new RegExp(`^[${O}]+$`,"g");function D(P){const k=(0,o.A)(P).import("core/module");return c(class extends k{unload(){this.processPotentionalMentionsDebounced.cancel()}afterTextChangeQueue(){this.processPotentionalMentionsDebounced(this.quill)}processPotentialMentions(){if(this.options.isAutocompleteOpen())return;const W=this.quill.getContents(),B=this.quill.getSelection(),R=B?B.index:0;if(W.length()<=1)return;let j=[];if(this.options.enableBroadcastKeywords){if(this.options.includeAllBroadcastKeywords)j=(0,_.A)();else if(this.options.getTeamId()&&this.options.getChannelId()){const Y=(0,m.getStateByTeamId)(this.options.getTeamId());j=(0,l.A)(Y,this.options.getChannelId())}}const w=[],N=[];(0,v.A)(W,{useChannelTagging:this.options.useChannelTagging}).forEach(Y=>{const q=Y.labelWithoutPrefix;if(!q.length)return;const H=this.options.useWysiwyg&&!this.options.usePlainTextMode,ne=H?!1:(0,T.A)((0,E.A)(W,0,Y.globalIndex)),te=H?[]:(0,g.A)((0,y.A)({contents:W.ops}));if(!((H?!1:(0,A.A)(Y.globalIndex,te))&&Y.type==="emoji")&&(Y.type==="emoji"||!(R>Y.globalIndex&&R<=Y.globalIndex+Y.matchLength)&&q.search(I)===-1&&!ne)){const Ie=Y.type==="member"&&(0,a.dx)(j,q);if(Ie){const Ee=this.quill.getFormat(Y.globalIndex,Y.matchLength);if(Ee.slackmention&&delete Ee.slackmention,Ee.code||Ee["code-block"]||Ee.link)return;const me=(0,u.A)({results:[Ie],formats:Ee,...Y});w.push(me)}else N.push({type:Y.type,label:Y.label,labelWithoutPrefix:q})}});const K=N.filter(Y=>!(this.searchesInFlight.indexOf(Y.label)!==-1||this.searchesWithoutResults.indexOf(Y.label)!==-1)),J=(0,t.A)(K,"label");this.asyncResultCount=J.length,this.replacePotentialMentions({replacements:w,hasPendingReplacements:this.asyncResultCount>0||w.length>1}),this.searchAndReplaceMentions(J)}replacePotentialMentions(W){let{replacements:B,hasPendingReplacements:R}=W;if(!B.length)return;const j=this.options.getUserHighlightWords(),w=!this.options.inlineEmojiIsEnabled(),N=(0,p.A)(B,j,w);this.quill.updateContents(N),this.options.onMentionReplace({replacements:B,isLastReplacement:this.asyncResultCount===1&&!R})}clearSearchCache(){this.searchesInFlight=[],this.searchesWithoutResults=[]}searchAndReplaceMentions(W){if(!W||!W.length)return;const B=(0,n.A)(W,"type");B.member&&B.member.forEach(R=>{this.searchesInFlight.push(R.label),this.options.promiseToSearchMembers(R.label).then(j=>{this.processSearchResults(R,j)})}),B.emoji&&B.emoji.forEach(R=>{this.searchesInFlight.push(R.label),this.options.promiseToSearchEmoji(R.label,!1).then(j=>{j.promise&&j.promise.then(N=>{const K=N.filter(J=>J.isEmojiExactMatch);this.processSearchResults(R,K)});const w=j.filter(N=>N.isEmojiExactMatch);this.processSearchResults(R,w)})}),this.options.useChannelTagging&&B.channel&&B.channel.forEach(R=>{this.searchesInFlight.push(R.label),this.options.promiseToSearchChannels(R.label).then(j=>{const w=j.filter(N=>(0,i.mG)(N)===R.labelWithoutPrefix);this.processSearchResults(R,w)})})}processSearchResults(W,B){if(!B.length){this.searchesWithoutResults.push(W.label);return}const R=B.map(Y=>Y.item),j=this.quill.getContents(),w=this.quill.getSelection(),N=w?w.index:0;if(j.length()<=1)return;const K=(0,v.A)(j,{useChannelTagging:this.options.useChannelTagging}).map(Y=>{if(Y.label!==W.label||!W.labelWithoutPrefix.length||!(this.options.useWysiwyg&&!this.options.usePlainTextMode)&&(0,T.A)((0,E.A)(j,0,Y.globalIndex))||Y.type!=="emoji"&&N>Y.globalIndex&&N<=Y.globalIndex+Y.matchLength)return null;const H=this.quill.getFormat(Y.globalIndex,Y.matchLength);return H.slackmention&&delete H.slackmention,H.code||H["code-block"]||H.link?null:W.type==="channel"?(0,h.A)({results:R,formats:H,...Y}):W.type==="emoji"?(0,f.A)({results:R,formats:H,...Y}):(0,u.A)({results:R,formats:H,...Y})}),J=!(this.searchesInFlight.length===1&&this.searchesInFlight.indexOf(W.label)!==-1);this.replacePotentialMentions({replacements:(0,s.A)(K),hasPendingReplacements:J}),this.searchesInFlight=(0,r.A)(this.searchesInFlight,W.label),J||(this.asyncResultCount=0)}constructor(W,B){super(W,B),this.options=B,this.quill=W,this.processPotentionalMentionsDebounced=(0,d.A)(this.processPotentialMentions,100),this.asyncResultCount=0,this.searchesInFlight=[],this.searchesWithoutResults=[]}},"SlackAutoSlugModule")}c(D,"getSlackAutoSlugModule")},9973095253:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6958543140);function n(s){const d=(0,t.A)(s).import("core/module");return c(class extends d{},"CanvasVariableModule")}c(n,"getCanvasVariableModule")},8112654178:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(4711108074),n=e.n(t),s=e(6958543140),r=e(6717607339),d=e(5382342064);function o(i){const l=(0,s.A)(i).import("core/module");return c(class extends l{buildTextChangeDelta(u){const h=(0,r.A)(u,{removeEmbedsFromCode:!0,stripAllInlineFormatting:!1,stripInlineFormattingFromCodeBlock:!0});return h.ops.length===1&&(0,d.A)(h.ops[0])&&!h.ops[0].attributes?new(n()):h}},"CleanEmbedsInCodeModule")}c(o,"getCleanEmbedsInCodeModule");const a=o(window)},7254545653:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(4711108074),n=e.n(t),s=e(6958543140),r=e(9592753406);function d(a){const m=(0,s.A)(a).import("core/module");return c(class extends m{buildTextChangeDelta(v,u){let{initialTextChangeDelta:h=void 0,useWysiwyg:f=!1,formattingOnly:p=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!f||p)return new(n());const E=h&&h.ops;if(!E||E.length!==1)return new(n());const g=E[0];return!g||!g.delete||g.delete<=1?new(n()):(0,r.Fr)(v)?new(n())().delete(1):new(n())}},"CleanEmptyInputModule")}c(d,"getCleanEmptyInputModule");const o=d(window)},7991260153:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>f});var t=e(4711108074),n=e.n(t),s=e(6958543140),r=e(8405695339),d=e(3904348617),o=e(5591756507),a=e(3183335528),i=e(4029059089),m=e(3726677001),l=e(9113979368),_=e(5354964300),v=e(2508519639);const u=`
`;function h(E){return{...E.attributes||{},bold:!1,italic:!1,strike:!1,link:!1,underline:!1,code:!1,"code-block":!1}}c(h,"getCleanedAttributes");function f(E){const A=(0,s.A)(E).import("core/module");return c(class extends A{buildTextChangeDelta(M){const O=M.ops;if(!O||O.length===0)return new(n());let I=!0,D=null;const P=new(n()),L=[];(0,r.A)(M,(G,b)=>{const W=(0,m.A)(G),B=(0,d.sR)(G);if((0,d.Ay)(G)&&(B===v.TE.SlackTypesRichText||B===v.TE.SlackTypesExpandedRichText)){const j=h(G);(0,o.A)(b)||(0,a.A)(b)||(0,i.A)(b)?(I=!1,P.delete(W),L.push({...G,attributes:j})):(D&&!(0,_.A)(D).includes(u)&&(I=!1,P.insert(u)),P.retain(W,j)),D=G;return}if(D&&(0,d.Ay)(D)&&((0,d.sR)(D)===v.TE.SlackTypesRichText||(0,d.sR)(D)===v.TE.SlackTypesExpandedRichText)&&(0,_.A)(G)!==u&&(I=!1,P.insert(u)),L.length&&G.insert===u&&(0,l.A)(G.attributes)&&k(),W){var R;P.retain(W,(R=G.attributes)!==null&&R!==void 0?R:{})}D=G}),k();function k(){for(;L.length;){const b=L.shift();if(b!=null&&b.insert){I=!1;var G;P.insert(b==null?void 0:b.insert,(G=b==null?void 0:b.attributes)!==null&&G!==void 0?G:{})}}}return c(k,"reinsertTokens"),I?new(n()):P}},"CleanWorkflowTokensModule")}c(f,"getCleanWorkflowTokensModule");const p=f(window)},9608867179:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ve});var t=e(2208015175),n=e(7715417323),s=e(166097325),r=e(4103274853),d=e(3750057149),o=e(3078252698),a=e(5797466484),i=e(8086952004),m=e(1632011761),l=e(8207536819),_=e(3961021150),v=e(7022562862),u=e(2322735331),h=e(4711108074),f=e.n(h),p=e(56548687),E=e(6244014364),g=e(6533394955),A=e(7174777686),y=e(1703559452),T=e(1031947056),M=e(8276911661),O=e(9101533895),I=e(1835177371),D=e(4897863105),P=e(2229186),L=e(8170643398),k=e(1407713935),G=e(2023092677),b=e(497761763),W=e(937317117),B=e(8393662842);const R=(0,T.Ay)("Determine whether a mention id (member, broadcast, user group) is valid",function(be,xe){let{id:Le,channelId:Ke,threadTs:He,useChannelTagging:Ye,isCanvasListTaggingEnabled:Xe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Le)return!1;const et=xe(),st=!1,ot=(0,M.nv)(et,Le,{preferNonExistentToNull:!1,fetchIfMissing:st});if(ot&&!(0,L.Zx)(ot))return!0;if(Ye){const At=(0,O.OL)(et,Le,!1);if(At&&!(0,k.Zx)(At))return!0}const ct=(0,I.lJ)(et,Le);if(ct&&!(0,G.Zx)(ct))return!0;if((0,A.A)((0,D.c)(),Le)){if(He)return!1;const at=(0,P.A)(et,Ke||"");return(0,y.A)(at,{id:Le})}if(Xe&&(0,b.A)(Le)){const at=(0,W.Lp)(et,Le);if(at&&((0,B.l7)(at)||(0,B.DQ)(at)))return!0}return!1});R.meta={name:"createThunk",key:"createThunkgetIsValidMentionId",description:"Determine whether a mention id (member, broadcast, user group) is valid"};const j=R;var w=e(1521013946),N=e(9884588328),K=e(9262712126),J=e(796111729),Y=e(9236644324),q=e(9470581768),H=e(4797500022),ne=e(7136729150),te=e(4071871748),le=e(3571452446),he=e(9113979368),Ie=e(6696292586),Ee=e(3339229351);function me(be){return be?new(f())(be.map(xe=>{if(xe.attributes){var Le,Ke;const He=(0,le.A)(xe.attributes,["bold","italic","strike","code","link","underline","code-block","list","blockquote","slackmention","indent"]);let Ye={...xe,attributes:(0,he.A)(He)?void 0:He};return(0,Ie.A)((Le=Ye.attributes)===null||Le===void 0?void 0:Le.indent)&&((Ke=Ye.attributes)===null||Ke===void 0?void 0:Ke.indent)>=Ee.Az&&(Ye={...Ye,attributes:{...Ye.attributes,indent:Ee.Az-1}}),Ye}return xe})):new(f())}c(me,"cleanStyleFromHtmlDelta");var ce=e(796745801),X=e(8840779375),V=e(2394306156),x=e(8289365785),S=e(8786006583),U=e(1747222889);function F(be,xe){var Le,Ke,He;const Ye=(0,X.A)(xe==null?void 0:xe.ops,V.A),Xe=(0,x.A)(Ye),et=(0,S.A)(Ye);if(!(Xe!=null&&Xe.insert)||!(et!=null&&et.insert)||typeof(Xe==null?void 0:Xe.insert)!="string")return xe;Xe.insert=(0,U.A)(Xe==null?void 0:Xe.insert);const st=Xe.insert.match(/^(\S+?)\s+?/);if(!st)return xe;Xe.insert=(0,U.A)(Xe.insert.substring(st[0].length,Xe.insert.length));const ct=st[1].match(/\S+?\./)?"ordered":"bullet",at=(Le=be==null?void 0:be.getAttribute("style"))===null||Le===void 0?void 0:Le.replace(/\n+?/g,""),At=(Ke=at==null?void 0:at.match(/level(\d+?)/))===null||Ke===void 0?void 0:Ke[1],Ct=(He=at==null?void 0:at.match(/margin:\s\din\s\din\s\din\s(\d[.]?([\d]+?)?)?in;/))===null||He===void 0?void 0:He[1];let Tt;return Tt=At?parseInt(At,10)-1:Tt,!Tt&&Ct&&et.insert.slice(-1)===`
`&&(et.insert=et.insert.substring(0,et.insert.length-1)),!Tt&&Ct&&(Ct==="0.25"||Ct==="0.5"?Tt=0:Ct==="0.75"||Ct==="1"?Tt=1:Ct==="1.25"||Ct==="1.5"?Tt=2:Ct==="1.75"||Ct==="2"?Tt=3:Ct==="2.25"||Ct==="2.5"?Tt=4:(Ct>="2.75"||Ct==="3")&&(Tt=5)),Tt=Tt&&Tt>=Ee.Az?Ee.Az:Tt,Ye.push({insert:`
`,attributes:{list:ct,indent:Tt}}),new(f())(Ye)}c(F,"matchMicrosoftWordContents");var Z=e(4244114639),z=e(4504227813),$=e(9592753406);function ee(be){if(!be||!be.clipboardData)return null;const xe=be.clipboardData.getData("slack/texty");if(xe)try{return{type:"slack/texty",contents:JSON.parse(xe).ops}}catch{(0,J.Wo)().error("PASTE",`found ${xe.length} chars in "slack/texty", but couldn't parse it`)}const Le=be.clipboardData.getData("text/plain")?"text/plain":"Text",Ke=be.clipboardData.getData(Le);return Ke?{type:Le,contents:[{insert:Ke}]}:null}c(ee,"getContentsFromClipboard");var de=e(4200148118),ie=e(4547907890),ue=e(117342833),fe=e(308057085),re=e(5939082889),_e=e(6958543140),Ue=e(8088280230),ye=e(8841789548),Te=e(9932296884);function ge(be,xe){const Le=(0,w.$N)(be,xe);if(Le&&(Le.type===w.im.LIST||Le.type===w.im.QUIP)){const Ke=Le.fileId?(0,W.Lp)(be,Le.fileId):null;if(!Ke)return null;const He=(0,B.V)(Ke);return new(f())().insert(`+${He}`,{slackmention:(0,ne.A)(Ke.id,`+${He}`)}).insert(" ")}return null}c(ge,"getSluggablePermalink");function Ae(){}c(Ae,"convertPermalinkToSlug");function Re(be){const Le="	",Ke=(be||"").split(`
`,5),He=[];for(let Xe=0;Xe<5&&Ke[Xe]!==void 0;Xe++){const et=Ke[Xe].split(Le);He.push(et.length)}const Ye=new Set(He);return He.length>0&&Ye.size===1&&He[0]>1}c(Re,"isTsv");function Be(be){return be.nodeType===Node.ELEMENT_NODE&&be.hasAttribute("data-stringify-type")}c(Be,"hasStringifyTransforms");function ke(be){let xe=0;return Be(be)?xe+=1:be.hasChildNodes()?(0,t.A)(be.childNodes,Le=>{xe+=ke(Le)}):be.textContent.trim()&&(xe+=1),xe}c(ke,"getNumContentfulChildren");const se={getChannelId:n.A,getThreadTs:n.A,getUserHighlightWords:n.A,logger:{info:n.A},onPaste:n.A,onPasted:n.A,onPasteLimit:n.A,shouldFocusOnPaste:n.A,getCsvTsvPastingEnabled:n.A};function ve(be){const xe=(0,_e.A)(be),Le=be||window,Ke=xe.import("modules/clipboard");return c(class extends Ke{getState(){return(0,g.getStoreInstanceByTeamId)(this.options.teamId).getState()}unload(){this.quill.container.removeEventListener("copy",this.onCopy),this.quill.container.removeEventListener("cut",this.onCopy),Le.removeEventListener("paste",this.onGlobalPaste)}isPastingMultipleNodes(){return ke(this.quill.clipboard.container)>1}onCopy(Xe){if(this.options.logger.info("COPY",`handling "${Xe.type}" event`),Xe.type==="cut"&&!this.quill.isEnabled()){Xe.preventDefault(),Xe.stopPropagation();return}const et=this.quill.getSelection();if(!et||et.length===0){this.options.logger.info("COPY","no selection");return}Xe.preventDefault(),Xe.stopPropagation();const st=this.correctCopyRange(et),ot=this.quill.getContents(st),ct=(0,H.A)({contents:ot.ops});if(this.options.logger.info("COPY",`found ${ct.length} chars`),(0,Y.FW)(Xe,{"text/plain":ct,text:ct,"public.utf8-plain-text":ct,"slack/texty":JSON.stringify(ot)}),this.options.logger.info("COPY",`copied ${ct.length} chars`),Xe.type==="cut"){const at=this.options.texty.getBlockFormat(et.index),At=this.options.texty.getBlockFormat(et.index+et.length-1);this.quill.deleteText(et.index,et.length),this.quill.setSelection(et.index),At&&!(0,s.A)(at,At)&&(at?this.quill.formatLine(et.index,1,at):this.quill.formatLine(et.index,1,(0,r.A)(At,()=>!1))),this.options.logger.info("COPY","deleted selection")}}onGlobalPaste(Xe){this.options.shouldFocusOnPaste()&&((0,q.A)(Le.document.activeElement)||this.quill.hasFocus()||Xe.defaultPrevented||(this.quill.focus(),this.onPaste(Xe)))}onPaste(Xe){if(!(Xe.defaultPrevented||!this.quill.isEnabled()||!this.quill.getSelection())){this.hasFixedPastedNodes=!1;try{if(this.options.onPaste(Xe))return;this.handleOnPaste(Xe)}catch(st){const ot=st instanceof Error?st.message||st.description:JSON.stringify(st);(0,J.Wo)().error(`Error on paste: ${ot}`)}}}shouldSkipOnPaste(Xe){if(!Xe||!Xe.clipboardData||Xe.defaultPrevented||!this.quill.isEnabled())return!0;const et=Xe.clipboardData.getData("text/plain")?"text/plain":"Text";return!Xe.clipboardData.getData(et)&&!this.options.useCustomMatchers?(Xe&&Xe.preventDefault&&Xe.preventDefault(),!0):!1}handleOnPaste(Xe){if(!Xe)return;function et(sn){return sn.map(zt=>{const Yt=zt.attributes?(0,r.A)(zt.attributes,Qe=>(0,d.A)(Qe)?Qe:!!Qe):{};if(!zt.insert)return{...zt,attributes:{...Yt}};let hn;return(0,o.A)(zt.insert)?hn=zt.insert.length:(0,a.A)(zt.insert)&&(hn=Object.keys(zt.insert).join(",")),{insert:hn,attributes:{...Yt}}})}if(c(et,"redactDelta"),this.shouldSkipOnPaste(Xe))return;const st=Xe.clipboardData.getData("slack/texty");if(this.options.useCustomMatchers&&!st){super.onPaste(Xe),setTimeout(this.options.onPasted,0);return}const ot=this.options.texty,ct=ot&&ot.getSelection(),at=ct?ot&&ot.getFormats(ct.index):{},At=ot.getLineAtCursor(),Ct=this.options.useWysiwyg&&!this.options.usePlainTextMode&&!at["code-block"],Tt=this.quill.getContents(ct),Rt=(0,i.A)(Tt.ops,sn=>(0,de.A)(sn)||(0,ue.Ay)(sn)),It=(0,ye.A)(Tt.ops),Mt=(0,Ue.A)({input:It}),nn=Mt&&Mt.length===1&&Mt[0].url===Mt[0].text&&Mt[0].text===It,Ot=this.options.useWysiwyg&&this.options.supportsAnchorText&&!this.options.usePlainTextMode&&!at.code&&!at["code-block"]&&!Rt&&!nn,{pastedDelta:bt,type:Jt,hasExternalHtml:en}=this.getPastedDelta(Xe,{acceptExternalHtml:Ct,acceptSingleUrl:Ot&&ct.length>0,acceptSingleSluggableUrl:Ot&&this.options.getCanvasListTaggingEnabled&&this.options.getCanvasListTaggingEnabled()&&!ct.length});if(!en&&(!bt||!(bt!=null&&bt.length()))){Xe.preventDefault();return}if(en||Xe.preventDefault(),!st&&en)this.container.focus(),setTimeout(()=>{this.convertActionIsExternalHtml=!0;const sn=this.convert();let zt;try{zt=me(sn)}catch{(0,J.Wo)().error(new Error("External HTML cleaning error.").stack),zt=sn}const Yt=(0,ce.A)({delta:zt});this.convertActionIsExternalHtml=!1;const hn=this.preparePastedDelta({pastedDelta:Yt,type:Jt,formats:at,lineAtCursor:At});if(hn&&!this.options.onPasteLimit(Xe,hn)){try{this.insertPastedDelta(hn)}catch(Qe){throw(0,J.Wo)().error(`External HTML paste error (redacted). HTML delta: ${JSON.stringify(et(Yt))}; Prepared delta: ${JSON.stringify(et(hn))}`),Qe}this.maybeShowMarkdownToast({preparedDelta:hn,clipboardHasTextyContents:st}),setTimeout(this.options.onPasted,0)}},1);else{const sn=this.quill.getContents(),zt=this.preparePastedDelta({pastedDelta:bt,type:Jt,formats:at,lineAtCursor:At});if(!zt||this.options.onPasteLimit(Xe,zt))return;const Yt=zt.ops[0];if(Jt==="text/uri-list"&&Yt&&(0,ie.A)(Yt)){this.quill.formatText(ct.index,ct.length,"link",zt.ops[0].insert);const hn=this.getState();hn&&(0,p.e)({state:hn}).track(E.EventId.MSG_FORMATTING_ADDED,{input_context:E.MsgFormattingInputContext.MESSAGE,input_source:E.MsgFormattingInputSource.KEYBOARD,input_format:E.MsgFormattingInputFormat.LINK,is_selection:!0})}else this.insertPastedDelta(zt);if(this.options.getCsvTsvPastingEnabled()){const hn=(0,ye.A)(bt.ops);if(Re(hn)){const Wt=sn.compose(new(f())().retain(ct.index).delete(ct.length));this.mayBeShowCsvTsvToast(hn,Wt,ct),setTimeout(this.options.onPasted,0);return}}this.maybeShowMarkdownToast({preparedDelta:zt,clipboardHasTextyContents:st}),setTimeout(this.options.onPasted,0)}}mayBeShowCsvTsvToast(Xe,et,st){const{showCsvTsvPasteToast:ot}=this.options;ot&&ot({contentType:"tsv",openCsvTsvSnippetDialog:()=>this.options.openCsvTsvSnippetDialog(Xe,et),clearText:()=>{this.options.getBlockUnfurlsEnabled()?(this.quill.setContents(et),this.quill.setSelection(st.index),this.quill.focus()):this.quill.setContents(new(f())().insert(`
`))}})}getPastedDelta(Xe){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{acceptExternalHtml:!0,acceptSingleUrl:!1,acceptSingleSluggableUrl:!1};if(!Xe)return{pastedDelta:new(f()),type:"text/plain",hasExternalHtml:!1};const st=et.acceptExternalHtml,ot=et.acceptSingleUrl,ct=et.acceptSingleSluggableUrl,{type:at,contents:At}=ee(Xe)||{};if(!At||!At.length)return{pastedDelta:new(f()),type:"text/plain",hasExternalHtml:!1};let Ct=new(f())(At),Tt=at;const Rt=Tt==="text/plain"||Tt==="Text"||Tt==="slack/texty";let It=!1;if(ot&&Rt)if(Tt==="slack/texty"){if(At&&At.length===1&&(0,fe.Ay)(At[0])&&At[0].insert===At[0].attributes.link)return{pastedDelta:Ct,type:"text/uri-list",hasExternalHtml:It}}else{const bt=(0,Ue.A)({input:At[0].insert});if(bt.length===1&&bt[0].url===bt[0].text&&bt[0].text===At[0].insert)return{pastedDelta:Ct,type:"text/uri-list",hasExternalHtml:It}}if(ct&&Rt){const bt=this.getState();if(bt&&Tt==="slack/texty"){if(At&&At.length===1&&(0,fe.Ay)(At[0])&&At[0].insert===At[0].attributes.link){const Jt=ge(bt,At[0].attributes.link);if(Jt)return{pastedDelta:Jt,type:"slack/texty",hasExternalHtml:It}}}else if(bt){const Jt=(0,Ue.A)({input:At[0].insert});if(Jt.length===1&&Jt[0].url===Jt[0].text&&Jt[0].text===At[0].insert){const en=ge(bt,Jt[0].url);if(en)return{pastedDelta:en,type:"slack/texty",hasExternalHtml:It}}}}if(Tt==="slack/texty")return{pastedDelta:Ct,type:Tt,hasExternalHtml:It};const Mt=Xe.clipboardData.getData("text/html"),nn=Mt&&Mt.indexOf("data-stringify-")!==-1,Ot=Mt&&Mt.match(/<\/table>(?:\s*<\/body>\s*<\/html>)?\s*$/);if(st&&Mt&&!nn&&!Ot){const bt=(0,Ue.A)({input:At[0].insert});if(Rt&&bt.length===1&&bt[0].url===bt[0].text&&bt[0].text===At[0].insert&&RegExp(`^<html>\\s*<body>\\s*<!--StartFragment--><a href=("|')${(0,m.A)((0,l.A)(At[0].insert))}("|')>.+<\\/a><!--EndFragment-->\\s*<\\/body>\\s*<\\/html>\\s*$`).test(Mt))return{pastedDelta:Ct,type:Tt,hasExternalHtml:!1};It=!0,Tt="text/html",Ct=new(f())}else if(nn){const bt=this.convert(Mt);bt&&(Ct=(0,ce.A)({delta:bt}),Tt="text/html")}return{pastedDelta:Ct,type:Tt,hasExternalHtml:It}}preparePastedDelta(){let{pastedDelta:Xe,type:et="",formats:st={},lineAtCursor:ot}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,Te.W)(Xe,et,st,ot,this.options,this.getIsValidMentionIdDispatched,ct=>{this.blockquote=ct},this.quill)}insertPastedDelta(Xe){const et={contents:Xe.ops},st=!0,ot="user",ct=this.options.useWysiwyg&&!this.options.usePlainTextMode&&this.matchBlockFormat;this.options.texty.insertContentsAtCursor(et,st,ot,{matchBlockFormat:ct})}maybeShowMarkdownToast(Xe){let{preparedDelta:et,clipboardHasTextyContents:st}=Xe;!this.options.showMarkdownPasteToast||this.options.usePlainTextMode||st||(0,Z.A)(et).length()===0||this.options.showMarkdownPasteToast({applyFormatting:()=>{[z.A,Z.A].forEach(ct=>{const at=this.quill.getContents(),At=ct(at);this.quill.updateContents(At)})}})}correctCopyRange(Xe){if(!Xe||!this.options.useWysiwyg)return Xe;const et=Xe.index+Xe.length,st=this.quill.getContents(et,1);if((0,$.Fr)(st)){this.options.logger.info("COPY","extending selection range to include block formatting char");const ot=Xe.length+1;return{index:Xe.index,length:ot}}return Xe}constructor(Xe,et){super(Xe,et),this.options=(0,_.A)({},se,et),this.hasFixedPastedNodes=!1;const st=this.options.teamId,ot=(0,g.getStoreInstanceByTeamId)(st);this.convertActionIsExternalHtml=!1,this.matchBlockFormat=!0,this.addMatcherSafely=(ct,at)=>{let At;if((0,o.A)(ct))try{Le.document.querySelectorAll(ct)}catch(Ct){At=Ct,this.options.logger.error("QUILL MATCHERS",`You have an unsafe matcher in PlainClipboardModule: "${ct}"`)}At||this.addMatcher(ct,at)},this.getIsValidMentionIdDispatched=ct=>{let{id:at}=ct;return(0,g.dispatchForTeamId)(st,j({id:at,channelId:this.options.getChannelId(),threadTs:this.options.getThreadTs(),useChannelTagging:this.options.useChannelTagging,isCanvasListTaggingEnabled:this.options.getCanvasListTaggingEnabled&&this.options.getCanvasListTaggingEnabled()}))},(0,u.v)(this,["onCopy","onGlobalPaste"]),Xe.container.addEventListener("copy",this.onCopy),Xe.container.addEventListener("cut",this.onCopy),Le.addEventListener("paste",this.onGlobalPaste),this.addMatcherSafely("p.MsoListParagraphCxSpFirst",F),this.addMatcherSafely("p.MsoListParagraphCxSpMiddle",F),this.addMatcherSafely("p.MsoListParagraphCxSpLast",F),this.addMatcherSafely("*",(ct,at)=>{if(this.hasFixedPastedNodes)return at;this.hasFixedPastedNodes=!0,(0,v.A)(this.quill.clipboard.container.childNodes,Tt=>ke(Tt)?!1:(this.quill.clipboard.container.removeChild(Tt),!0));const At=this.quill.clipboard.container.querySelectorAll('[data-stringify-type="replace"]'),Ct=this.isPastingMultipleNodes();return(0,t.A)(At,Tt=>{if(Tt.hasAttribute("data-stringify-requires-siblings")&&!Ct)return;const Rt=Tt.getAttribute("data-stringify-text");let It;Tt.classList.contains("c-message__sender")?(It=Le.document.createElement("b"),It.appendChild(Le.document.createTextNode(Rt))):It=Le.document.createTextNode(Rt),Tt.parentNode.replaceChild(It,Tt)}),at}),this.addMatcherSafely("img",()=>new(f())),this.addMatcherSafely("[data-stringify-ignore]",()=>new(f())),this.addMatcherSafely("[data-stringify-link]",(ct,at)=>{if(this.convertActionIsExternalHtml||!this.options.supportsAnchorText)return at;const At=new(f())().insert(ct.textContent,{link:ct.getAttribute("data-stringify-link")});return this.options.usePlainTextMode&&(0,fe.uK)(At.ops[0])?new(f())().insert(ct.getAttribute("data-stringify-link")):At}),this.addMatcherSafely(Node.TEXT_NODE,(ct,at)=>this.convertActionIsExternalHtml||this.options.useCustomMatchers?at:new(f())().insert(ct.textContent)),this.addMatcherSafely("span",(ct,at)=>!(ct!=null&&ct.style)||!this.convertActionIsExternalHtml?at:ct.style.textDecorationLine==="line-through"||ct.style.textDecoration==="line-through"?at.compose(new(f())().retain(at.length(),{strike:!0})):at),this.options.useWysiwyg&&this.addMatcherSafely("span.inline-code",(ct,at)=>this.convertActionIsExternalHtml?at.compose(new(f())().retain(at.length(),{code:!0})):at),this.addMatcherSafely("[data-stringify-indent], li[data-stringify-border]",(ct,at)=>{if((0,re.A)(at))return at;const At=ct.getAttribute("data-stringify-indent"),Ct=parseInt(At,10)||0;let Tt=0;const Rt=ct.getAttribute("data-stringify-border");Tt=parseInt(Rt,10)||0;const It=this.quill.getSelection(),Mt=It&&this.quill.getFormat(It);return Mt!=null&&Mt.blockquote&&(Tt=1),at.compose(new(f())().retain(at.length()-1).retain(1,{indent:Ct,border:Tt}))}),this.addMatcherSafely('[data-stringify-type="pre"]',(ct,at)=>{if((0,re.A)(at))return at;let At=0;const Ct=ct.getAttribute("data-stringify-border");At=parseInt(Ct,10)||0;let Tt=new(f());return at.forEach(Rt=>{Tt=Tt.insert(Rt.insert||"",{...Rt.attributes,border:At})}),Tt}),this.addMatcherSafely('blockquote[data-stringify-border="1"]',(ct,at)=>{if((0,re.A)(at))return at;let At=0;const Ct=ct.getAttribute("data-stringify-border");At=parseInt(Ct,10)||0;let Tt=new(f());return at.forEach(Rt=>{Tt=Tt.insert(Rt.insert||"",{...Rt.attributes,border:At})}),Tt}),this.addMatcherSafely('blockquote[type="cite"]',(ct,at)=>{if((0,re.A)(at))return at;const At=this.quill.getSelection(),Ct=At&&this.quill.getFormat(At);let Tt=new(f());return Ct!=null&&Ct.blockquote&&!(Ct!=null&&Ct.border)?(this.quill.format("blockquote",!1,"silent"),at.forEach(Rt=>{Tt=Tt.insert(Rt.insert||"",{...Rt.attributes,border:1})}),Tt):at}),this.addMatcherSafely('[data-stringify-type="emoji"]',ct=>{const at=ct.getAttribute("data-stringify-emoji");return new(f())().insert({slackemoji:{text:at}})}),this.addMatcherSafely(".c-message_kit__gutter__left",(ct,at)=>ct.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?new(f())().insert(`${ct.textContent} `):at),this.addMatcherSafely(".c-message_kit__message",(ct,at)=>ct.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?at:new(f())().insert(`
`).concat(at)),this.addMatcherSafely(".c-message_actions__container",()=>new(f())),this.addMatcherSafely("#unreadDivider",()=>new(f())),this.addMatcherSafely('[data-stringify-type="paragraph-break"]',()=>new(f())().insert(`

`)),this.addMatcherSafely('[data-stringify-type="pre"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(f())().insert(`
`)),this.addMatcherSafely('[data-stringify-type="unordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(f())().insert(`
`)),this.addMatcherSafely('[data-stringify-type="ordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(f())().insert(`
`)),this.addMatcherSafely('[data-list-tree="true"]:not([data-indent="0"])',(ct,at)=>{const At=+ct.dataset.stringifyIndent;return at.insert(`
`,{indent:At})}),this.addMatcherSafely('[data-list-tree="true"]',(ct,at)=>{const At=+ct.dataset.indent,Ct=structuredClone(at.ops);return Ct.unshift({insert:`
`}),Ct.push({insert:`
`,attributes:{indent:At,list:"ordered"}}),new(f())(at.ops)}),this.addMatcherSafely('[data-list-tree="true"] li',(ct,at)=>{var At;const Ct=+ct.dataset.stringifyIndent;return((At=at.ops[at.ops.length-1].attributes)===null||At===void 0?void 0:At.indent)!==Ct?new(f())(at.ops).insert(`
`,{indent:Ct}):at}),this.addMatcherSafely('[data-list-tree="true"]',(ct,at)=>{const At=+ct.dataset.indent,{ops:Ct}=new(f())().insert(`
`,{indent:At-1||0}).concat(at);return new(f())(Ct)}),this.addMatcherSafely('[data-list-tree="true"][data-indent="0"]',(ct,at)=>{const At=[],Ct=`
`;for(let It=0;It<at.ops.length;It+=1){var Tt,Rt;const Mt=at.ops[It],nn=at.ops[It+1];Mt.insert===Ct&&(nn==null?void 0:nn.insert)===Ct&&(nn==null||(Tt=nn.attributes)===null||Tt===void 0?void 0:Tt.indent)!==((Rt=Mt.attributes)===null||Rt===void 0?void 0:Rt.indent)&&(It+=1),At.push(Mt)}return new(f())(At)}),this.addMatcherSafely('[data-stringify-type="quote"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new(f())().insert(`
`)),this.addMatcherSafely('[data-stringify-type="mention"]',ct=>{const at=ct.getAttribute("data-stringify-id"),At=ct.getAttribute("data-stringify-label");return new(f())().insert(At,{slackmention:(0,ne.A)(at,At,this.options.getUserHighlightWords())})}),this.addMatcherSafely('a[data-stringify-type="channel"]',ct=>{if(this.options.useChannelTagging){const at=ct.getAttribute("data-channel-id"),At=ct.getAttribute("data-channel-name");return At?new(f())().insert(At,{slackmention:(0,ne.A)(at,At)}):new(f())().insert(ct.textContent)}return new(f())().insert(ct.textContent)}),this.addMatcherSafely("a",(ct,at)=>{if(!this.options.supportsAnchorText)return at;const At=ct.getAttribute("data-stringify-type"),Ct=ct.textContent;if(At==="mention"||At==="channel")return at;const Tt=ct.getAttribute("href");if(this.convertActionIsExternalHtml){let It;try{It=new URL(Tt)}catch{}if(!It||!It.protocol||It.protocol.toLowerCase()==="javascript:")return new(f())().insert(Ct)}const Rt=ot&&ot.getState();if(Ct.match(/^[#\uFF03][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*$/i)){const It=(0,w.$N)(Rt,Tt);if(It&&It.type==="message"&&!It.ts){const Mt=(0,O.OL)(Rt,It.channelId);if(Mt&&(0,N.Mn)(Mt)===Ct.substr(1))return new(f())().insert(Ct)}}if(Ct.match(/^(?:@|\uFF20)[^\n@\uFF20]*$/)){const It=(0,w.$N)(Rt,Tt);if(It&&It.type==="member"){const Mt=(0,M.nv)(Rt,It.memberId),nn=(0,K.Gt)(Mt);return Mt&&nn===Ct.substr(1)?new(f())().insert(Ct,{slackmention:(0,te.A)(Mt,this.options.getUserHighlightWords())}):new(f())().insert(Ct)}}return at})}},"PlainClipboard")}c(ve,"getPlainClipboardModule");const Me=ve(window)},3448755266:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(6087439017),n=e(4505564445);const r=(0,t.A)().import("core/module");let d=c(class extends r{findCheckboxBehind(a){if(a){if(a&&a.length>0)return this.quill.setSelection(a.index,0),!1;const i=this.quill.getFormat(a);if(i&&i.list&&(i.list==="checked"||i.list==="unchecked")){const[m,l]=this.quill.getLeaf(a.index);if(l===0){const _=m&&m.parent;if(_){const v=_.domNode.querySelector(".slack-docs-list-item-checkbox");if(v&&document.activeElement!==v)return v.focus(),!1}}}}return!0}findCheckboxAhead(a){if(a){const i=this.quill.getFormat(a);i&&i.list&&(i.list==="checked"||i.list==="unchecked")&&setTimeout(()=>{const[m,l]=this.quill.getLeaf(a.index+1);if(l===0){const _=m&&m.parent;if(_){const v=_.domNode.querySelector(".slack-docs-list-item-checkbox");if(v&&document.activeElement!==v)return v.focus(),!1}}return!0},0)}return!0}constructor(a,i){super(a,i),this.quill.keyboard.addBinding({key:n.UQ},this.findCheckboxBehind),this.quill.keyboard.addBinding({key:n.LE},this.findCheckboxAhead)}},"SlackDocsListModule")},3409151135:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M});var t=e(4711108074),n=e.n(t),s=e(3078252698),r=e(3339229351),d=e(2354051480),o=e(9936232041),a=e(3829348308),i=e(4547907890),m=e(2827252833),l=e(117342833),_=e(6533394955),v=e(6859521351),u=e(1632207548),h=e(8581994840),f=e(6958543140),p=e(4206015041),E=e(8792003313);function g(I){if(!I)return 2;const D=I+1;return D>6?1:D}c(g,"increment");function A(I,D,P){let{emojiSupportsMultiSkinTones:L}=P;if(L&&D.length!==I.length-2){const k=I.substr(D.length+2).match(E.x);if(k){let G=parseInt(k[2],10)||1,b=parseInt(k[3],10)||G;return b===6?(G=g(G),b=g(b)):b&&(b=g(b)),G===1?"":G===b?`:skin-tone-${G}:`:`:skin-tone-${G}-${b===1?2:b}:`}}else if(D.length!==I.length-2){const k=I.substr(D.length+2).match(E.S);return k&&k[2]!=="6"?`:skin-tone-${parseInt(k[2],10)+1}:`:""}return":skin-tone-2:"}c(A,"generateNextSkinTone");const y=/\S/,T=/^\s*:\S*\n$/;function M(I){const D=(0,f.A)(I),P=D.import("core/module"),L=D.import("parchment");return c(class extends P{unload(){this.quill.root.removeEventListener("click",this.onEmojiClick),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{link:!1,code:!1,"code-block":!1}},this.onSpace),this.quill.root.addEventListener("click",this.onEmojiClick,!1),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1}maybeConvertEmoticonFromKeyboardBinding(b,W,B){if(this.isInComposition||!this.options.convertEmoticonsIsEnabled())return!1;const R=W.prefix;if(!R)return!1;const j=(0,d.A)();if(!j)return!1;let w=-1,N="";R.replace(j,(J,Y,q,H)=>{w=H+Y.length,N=q});const K=b.index-R.length+w;if(!r.dq[N]||this.options.useWysiwyg&&W.format&&(W.format.link||W.format.code||W.format["code-block"]))return!1;if(!this.options.useWysiwyg||this.options.usePlainTextMode){if((0,v.A)(this.quill.getText(0,K)))return!1;const J=(0,u.A)(R);if((0,h.A)(K,J))return!1}if(N==="8)"&&K>3&&this.quill.getText(K-1,1)===`
`){const J=this.quill.getText(0,K-1);if(J.substr(J.lastIndexOf(`
`)+1,2)==="7)")return!1}if(this.options.useWysiwyg&&K>0){const Y=this.quill.getContents(K-1,1).ops[0];if(!((0,i.A)(Y)&&Y.insert.match(/\s/)||(0,m.Ay)(Y)))return!1}return this.quill.deleteText(K,N.length),this.quill.insertEmbed(K,"slackemoji",{text:`:${r.dq[N]}:`}),B?(this.quill.insertText(K+1,B),this.quill.setSelection(K+2)):this.quill.setSelection(K+1),!0}onEnter(b,W){let{range:B,context:R}=W;return this.maybeConvertEmoticonFromKeyboardBinding(B,R),!1}onSpace(b,W){return!this.maybeConvertEmoticonFromKeyboardBinding(b,W," ")}onEmojiClick(b){const W=b.target;if(!(W!=null&&W.classList.contains("emoji")&&(W!=null&&W.hasAttribute("data-has-skin-tone"))))return!0;const R=L.find(b.target).offset(this.quill.scroll),j=this.quill.getContents(R,1);if(j.ops[0]&&(0,m.Ay)(j.ops[0])){const w=j.ops[0].insert.slackemoji.text,N=(0,o.A)(w)||{name:""},K=this.options.teamId&&(0,_.getStateByTeamId)(this.options.teamId),J=(0,a.Fm)(K,{text:N.name,teamId:this.options.teamId}),Y=(0,a.pA)(K,{text:N.name,teamId:this.options.teamId});if(!J&&!Y)return!0;const q=A(w,N.name,{emojiSupportsMultiSkinTones:Y}),H=new(n());H.retain(R).delete(1).insert({slackemoji:{text:`:${N.name}:${q}`}}),this.quill.updateContents(H)}return!0}toggleJumbomoji(b){if(!this.options.isJumbomojiEnabled)return;if(!this.options.isJumbomojiEnabled()||b.length()<=1){this.updateJumbomojiClass(!1);return}let W=!0,B=0;const R=b.ops.length-1;b.forEach((j,w)=>{if((0,m.Ay)(j)){B+=1;return}(0,l.Ay)(j)||!(0,i.A)(j)?W=!1:R===w&&W?W=!y.test((0,s.A)(j.insert)?j.insert:"")||T.test((0,s.A)(j.insert)?j.insert:""):y.test((0,s.A)(j.insert)?j.insert:"")&&(W=!1)}),this.updateJumbomojiClass(W&&B>0&&B<=r.kf)}buildTextChangeDelta(b,W){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1,formattingOnly:!1};return(0,p.A)(b,{useWysiwyg:B.useWysiwyg,usePlainTextMode:B.usePlainTextMode,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled(),emojiNames:this.options.getEmojiNames?this.options.getEmojiNames():[],locale:this.options.getLocale?this.options.getLocale():void 0,replaceNativeEmoji:this.options.replaceNativeEmoji,teamId:this.options.teamId})}afterTextChangeQueue(b){this.toggleJumbomoji(b)}constructor(b,W){super(b,W),this.onSpace=this.onSpace.bind(this),this.onEnter=this.onEnter.bind(this),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onEmojiClick=this.onEmojiClick.bind(this),this.toggleJumbomoji=this.toggleJumbomoji.bind(this),this.updateJumbomojiClass=W.updateJumbomojiClass,this.isInComposition=!1,this.options.inlineEmojiIsEnabled||(this.options.inlineEmojiIsEnabled=()=>!1),this.options.convertEmoticonsIsEnabled||(this.options.convertEmoticonsIsEnabled=()=>!1),this.listen()}},"SlackEmoji")}c(M,"getSlackEmojiModule");const O=M(window)},6299559191:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(4505564445),n=e(6958543140);function s(r){const d=(0,n.A)(r),o=r||window,a=d.import("core/module");return c(class extends a{listen(){o.document.addEventListener("keydown",this.muteKeyEventsOnHrEmbed)}unload(){o.document.removeEventListener("keydown",this.muteKeyEventsOnHrEmbed)}muteKeyEventsOnHrEmbed(l){const _=this.quill.getSelection();if(_){const v=this.quill.getFormat(_);if(v&&v.slackhorizontalrule){if(l.keyCode===t.Fm||l.keyCode===t.n6||l.keyCode===t.i7||l.keyCode===t.UQ||l.keyCode===t.LE)return!0;l.preventDefault()}}return!0}constructor(l,_){super(l,_),this.muteKeyEventsOnHrEmbed=this.muteKeyEventsOnHrEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"SlackHorizontalRuleModule")}c(s,"getSlackHorizontalRuleModule")},8239411787:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>Ee});var t=e(7715417323),n=e(3750057149),s=e(9087248458),r=e(9113979368),d=e(8786006583),o=e(6027162153),a=e(3571452446),i=e(1649982175),m=e(3961021150),l=e(6696292586),_=e(4711108074),v=e.n(_),u=e(6533394955),h=e(7757435370),f=e(56548687),p=e(571104883),E=e(6564475562),g=e(6551836451),A=e(2827252833),y=e(8315518813);function T(me){if(!me)return!1;const ce=me.getSelection();return ce?ce.index+ce.length===me.getLength()-1:!1}c(T,"isSelectionAtEnd");var M=e(4244114639),O=e(4504227813),I=e(8369963377),D=e(9474987151),P=e(6958543140),L=e(6244014364),k=e(4505564445),G=e(3339229351),b=e(512148710);const W=G.Az-1,B={bindings:{},onEnter:t.A,onEscape:t.A,onTab:t.A,featureReactMessages:!0,shouldInsertNewline:t.A},R=c(me=>{let{quill:ce,texty:X,range:V,context:x,shiftKey:S}=me;return!X.isEnabled()||X.getModules().some(F=>F.onHome?F.onHome({context:x}):!1)?!1:(0,p.cX)()?S?(ce.setSelection(0,V.index+V.length),!1):(ce.setSelection(0,0),!1):!0},"onHome"),j=c(me=>{let{quill:ce,texty:X,range:V,context:x,shiftKey:S}=me;return!X.isEnabled()||X.getModules().some(F=>F.onEnd?F.onEnd({context:x}):!1)?!1:(0,p.cX)()?S?(ce.setSelection(V.index,ce.getLength()-V.index),!1):(ce.setSelection(ce.getLength(),0),!1):!0},"onEnd"),w=c(me=>{let{texty:ce,range:X,context:V,onBackspaceExternal:x}=me;if(!ce.isEnabled()||ce.getModules().some(U=>U.onBackspace?U.onBackspace({range:X,context:V}):!1))return!1;if(x){const U=x();return(0,n.A)(U)?U:!0}return!0},"onBackspace"),N=c(me=>{let{modifiers:ce={},range:X,context:V,onEnterExternal:x,quill:S,texty:U,singleLineInput:F,shouldInsertNewline:Z=t.A,useWysiwyg:z}=me;if(!U.isEnabled()||U.getModules().some(ue=>ue.onEnter?ue.onEnter(ce,{range:X,context:V,shouldInsertNewline:Z}):!1))return!1;if(!F&&Z(ce)||x(ce)){var ee,de;let ue=[];if(z&&V){var ie;if(ue=(0,s.A)(Object.keys(V.format||{}),["bold","italic","underline","strike","code"]),V&&!(0,r.A)(V.format)&&V.format.header&&V.offset===0)return S.setSelection(X.index,"silent"),S.insertText(X.index,`
`,"user"),S.setSelection(X.index+1,"silent"),S.removeFormat(X.index),!1;if(V&&!(0,r.A)(V.format)&&V.format.header&&V.offset!==0&&!ce.shiftKey&&setTimeout(()=>{const re=S.getSelection();S.removeFormat(re.index)},0),V&&!(0,r.A)(V.format)&&V.format.slackhorizontalrule)return S.insertText(X.index+1,`
`,"user"),S.setSelection(X.index+1,"silent"),!1;if(V.collapsed&&V.format&&V.format["code-block"]&&(!V.suffix.length||V.suffix.match(/^\s+$/))){const re=X.index>1?S.getContents(X.index-2,2):null,_e=re&&re.ops&&re.ops.length===1&&re.ops[0];if(_e&&_e.insert===`

`&&_e.attributes&&_e.attributes["code-block"])return S.insertText(X.index,`
`),S.setSelection(X.index+1,0),S.removeFormat(X.index+1,0),S.deleteText(X.index-2,2,"user"),!1}if(!(V==null||(ie=V.format)===null||ie===void 0)&&ie["code-block"]&&setTimeout(()=>{const re=S.getFormat(X.index-1,1),_e=S.getFormat(X.index,1);(!(re!=null&&re.border)||_e!=null&&_e.border)&&S.formatLine(X.index-1,1,"border",re.border||_e.border)},0),(0,E.A)()&&V&&V.collapsed&&V.format&&V.format.list){const re=(0,d.A)(S.getContents().ops);return re&&re.attributes&&re.attributes.list&&S.insertText(S.getLength(),`
`,"silent"),!0}if(!(0,E.A)()&&V.format.list&&!V.prefix.length&&!V.suffix.length&&V.empty)return S.formatLine(X.index,1,{list:!1,indent:0},"silent"),!1;if(V&&V.collapsed&&V.format&&V.format.blockquote&&!V.prefix.length&&!V.suffix.length){const re=X.index>1?S.getContents(X.index-2,2):null,_e=re&&re.ops&&re.ops.length===1&&re.ops[0];if(_e&&_e.insert===`

`&&_e.attributes&&_e.attributes.blockquote)return S.insertText(X.index,`
`),S.setSelection(X.index+1,0),S.removeFormat(X.index+1,0),S.deleteText(X.index-2,2,"user"),!1}V&&V.format&&V.format.code&&V.prefix.length&&V.suffix.length&&(ue=(0,o.A)(ue,"code"),setTimeout(()=>(S.formatText(X.index,X.index+V.suffix.length,{code:!1},"silent"),!0),0))}const fe=(0,a.A)(V.format||{},["code-block","blockquote","list","header"]);!(V==null||(ee=V.format)===null||ee===void 0)&&ee.indent&&(fe.indent=V.format.indent),!(V==null||(de=V.format)===null||de===void 0)&&de.border&&(fe.border=V.format.border),U.insertContentsAtCursor({contents:new(v())().insert(`
`,fe).ops}),z&&ue.length&&ue.forEach(re=>{S.format(re,!0)}),S.selection.scrollIntoView(S.scrollingContainer),(0,g.A)(S.scrollingContainer)&&T(S)&&(S.scrollingContainer.scrollTop=Number.MAX_SAFE_INTEGER)}return!1},"onEnter"),K=c(me=>{let{onEscapeExternal:ce,quill:X,texty:V,useWysiwyg:x,range:S,context:U}=me;return V.getModules().some(Z=>Z.onEscape?Z.onEscape():!1)?!1:x&&(U.empty&&U.collapsed&&U.format.blockquote||U.collapsed&&U.format["code-block"]&&(U.empty||U.prefix.length&&U.prefix.substr(-1)===`
`))?(X.removeFormat(S),!1):ce?!ce():!0},"onEscape"),J=c(me=>{let{modifiers:ce={},onTabExternal:X,texty:V,context:x}=me;return V.getModules().some(U=>U.onTab?U.onTab(ce):!1)?!1:X?X({modifiers:ce,texty:V,context:x}):!0},"onTab");function Y(){let{quill:me,range:ce,context:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const V=new(v());let x=null;!X.collapsed&&ce.index>0&&(V.retain(ce.index),x=me.getContents(ce.index-1,1));const S=X.collapsed?me.getContents():me.getContents(ce.index,ce.length),U=(0,O.A)(S);let F=ce.length;X.collapsed||(F=S.compose(U).length()),me.updateContents(V.concat(U));const Z=X.collapsed?me.getContents():me.getContents(ce.index,F),z=(0,M.A)(Z,x);me.updateContents(V.concat(z))}c(Y,"convertMarkdown");const q=c(()=>({bold:{key:"B",shortKey:!0,handler(me){return this.applyFormattingFromShortcut("bold",me)}},italic:{key:"I",shortKey:!0,handler(me){return this.applyFormattingFromShortcut("italic",me)}},strike:{key:"x",shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("strike",me)}},code:{key:"c",shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("code",me)}},link:{key:"u",shiftKey:!0,shortKey:!0,handler(){return this.options.showLinkForm&&this.options.showLinkForm({source:L.MsgFormattingInputSource.KEYBOARD}),!1}},"bullet-list":{key:56,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("bullet-list",me)}},"ordered-list":{key:55,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("ordered-list",me)}},blockquote:{key:57,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("blockquote",me)}},"blockquote-alt":{key:190,shiftKey:!0,shortKey:!0,handler(me){return this.applyFormattingFromShortcut("blockquote",me)}},"code-block":{key:"c",shortKey:!0,shiftKey:!0,altKey:!0,handler(me){return this.applyFormattingFromShortcut("code-block",me)}}}),"getFormattingBindings"),H=c(()=>({"block code down arrow":{key:k.n6,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code-block"],handler(me,ce){if(!ce.suffix.length||ce.suffix===`
`){const X=this.quill.getLength()-1;ce.prefix.length&&me.index===X&&this.quill.insertText(me.index+1,`
`,"user")}return!0}},"up arrow out of code block":{key:k.i7,format:{"code-block":!0},collapsed:!0,handler(me,ce){const[X]=this.quill.getLine(me.index-1);return X&&!X.prev&&X.parent&&X.parent.statics&&X.parent.statics.blotName&&X.parent.statics.blotName==="scroll"&&ce.prefix.length===0&&me.index===0&&setTimeout(()=>(this.quill.insertText(0,` 
`,{"code-block":!1},"silent"),this.quill.setSelection(0,0,"silent"),!1),0),!0}},"inline code right arrow":{key:k.LE,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(me,ce){return this.quill.getText(me.index,1)===`
`&&ce.prefix.length&&!ce.suffix.length?(this.quill.insertText(me.index," ","user"),this.quill.formatText(me.index,1,"code",!1,"silent"),this.quill.setSelection(me.index+1,0,"silent"),!1):!0}},"delete on empty line to merge with code block":{key:k.SJ,empty:!0,handler(me){return setTimeout(()=>{const ce=this.quill.getFormat(me.index,0),X=this.quill.getFormat(me.index-1,0);!(ce!=null&&ce.border)&&(X==null?void 0:X.border)>0&&this.quill.formatLine(me.index,0,"border","1"),(ce==null?void 0:ce.border)>0&&!(X!=null&&X.border)&&this.quill.formatLine(me.index-1,0,"border","1")},0),!0}},"delete line after code block from within code block":{key:k.SJ,format:{"code-block":!0},handler(me){const ce=this.quill.getText(me.index,1)===`
`,X=this.quill.getFormat(me.index,0);return ce&&(X!=null&&X["code-block"])&&(this.quill.formatLine(me.index+1,0,"code-block",!0),X!=null&&X.border&&this.quill.formatLine(me.index+1,0,"border","1"),setTimeout(()=>{const V=this.quill.getFormat(me.index,0),x=this.quill.getFormat(me.index+1,0);!(V!=null&&V.border)&&(x==null?void 0:x.border)>0&&this.quill.formatLine(me.index,0,"border","1"),(V==null?void 0:V.border)>0&&!(x!=null&&x.border)&&this.quill.formatLine(me.index+1,0,"border","1")},0)),!0}},"backspace merging code blocks from empty line":{key:k.G_,empty:!0,format:{"code-block":!1,blockquote:!1},handler(me){return setTimeout(()=>{const ce=this.quill.getFormat(me.index-1,0),X=this.quill.getFormat(me.index,0);!(ce!=null&&ce.border)&&(X==null?void 0:X.border)>0&&this.quill.formatLine(me.index-1,0,"border","1"),(ce==null?void 0:ce.border)>0&&!(X!=null&&X.border)&&this.quill.formatLine(me.index,0,"border","1")},0),!0}},"backspace merging code blocks from within code block":{key:k.G_,offset:0,format:{"code-block":!0},handler(me){return setTimeout(()=>{const ce=this.quill.getFormat(me.index-1,0),X=this.quill.getFormat(me.index-2,0);ce!=null&&ce.border&&!(X!=null&&X.border)>0&&this.quill.formatLine(me.index-2,0,"border","1"),!(ce!=null&&ce.border)&&(X==null?void 0:X.border)>0&&this.quill.formatLine(me.index-1,0,"border","1")},0),!0}},"sanitize code block border information after undo":{key:"Z",shortKey:!0,format:{"code-block":!0,border:"1"},handler(){const me=this.quill.getSelection();return setTimeout(()=>{const ce=this.quill.getContents();this.quill.setContents(ce),this.quill.setSelection(me.index,0)},0),!0}},"sanitize quoted list border information after undo":{key:"Z",shortKey:!0,format:{list:!0,border:"1"},handler(me,ce){return setTimeout(()=>{var X;!(ce==null||(X=ce.format)===null||X===void 0)&&X.border&&this.quill.formatLine(me.index,me.length,{border:"0"})},0),!0}},"sanitize quoted blockquote border information after undo":{key:"Z",shortKey:!0,format:{blockquote:!0,border:"1"},handler(me,ce){return this.quill.formatLine(me.index,me.length,{border:"0"}),ce.empty?(this.quill.insertText(me.index,"> "),this.quill.setSelection(me.index+2,0)):(this.quill.insertText(0,"> "),this.quill.setSelection(me.index+2,0)),!1}},"backspace empty code block with border":{key:k.G_,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!0},handler(){return this.quill.format("border","0","user"),!0}},"backspace empty code block":{key:k.G_,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!1},handler(){return this.quill.format("code-block",!1,"user"),!0}},"backspace empty blockquote":{key:k.G_,collapsed:!0,empty:!0,offset:0,format:["blockquote"],handler(me,ce){var X;return(ce==null||(X=ce.format)===null||X===void 0?void 0:X.border)>=1?(this.quill.format("border","0","user"),!1):(this.quill.format("blockquote",!1,"user"),!1)}},"backspace non-empty single line blockquote":{key:k.G_,collapsed:!0,empty:!1,offset:0,format:["blockquote"],handler(me,ce){var X;const V=(ce==null||(X=ce.format)===null||X===void 0?void 0:X.border)>=1,x=ce==null?void 0:ce.suffix,S=this.quill.getFormat(me.index-1,0),U=this.quill.getFormat(me.index+x.length+1,0),F=S.blockquote||U.blockquote,Z=!U.blockquote&&me.index===0;return V&&(!F||Z)?(this.quill.format("border","0","silent"),!1):!V&&(!F||Z)?(this.quill.format("blockquote",!1,"silent"),!1):(x&&F&&this.quill.deleteText(me.index-1,1),!1)}},"convert markdown":!(0,E.A)()&&{key:"f",shortKey:!0,shiftKey:!0,handler(me,ce){Y({quill:this.quill,range:me,context:ce})}}}),"getWysiwygBindings"),ne=c(me=>{let{Quill:ce,localWindow:X}=me;return{"inline code spacebar":{key:k.I6,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(V,x){const S=(0,i.A)(x.format,["code"]);return x.prefix.length&&!x.suffix.length?(this.quill.setSelection(V.index,"silent"),this.quill.insertText(V.index," ","user"),this.quill.setSelection(V.index,1,"silent"),this.quill.removeFormat(V.index,1,"silent"),(0,r.A)(S)||this.quill.formatLine(V.index,V.length,S),this.quill.setSelection(V.index+1,0,"silent"),!1):!0}},"delete image":{key:k.SJ,handler(V){const x=this.quill.getFormat(V.index+1,1),S=this.quill.getFormat(V.index,1);return x&&x.imageSrc&&x.isPrivate!=="true"?(setTimeout(()=>{const U=X.document.querySelector(`docsblockembed[data-image-src="${x.imageSrc}"]`),F=ce.find(U);return(0,h.U)(F),this.quill.setSelection(V.index+1,0),S&&S.imageSrc&&S.isPrivate!=="true"&&S.isSelected==="true"?(this.quill.deleteText(V.index,1),!0):!1},0),!1):!0}},"backspace image":{key:k.G_,handler(V){const x=this.quill.getFormat(V.index-1,1),S=this.quill.getFormat(V.index,1);return x&&x.imageSrc&&x.isPrivate!=="true"?(setTimeout(()=>{const U=X.document.querySelector(`docsblockembed[data-image-src="${x.imageSrc}"]`),F=ce.find(U);return(0,h.U)(F),this.quill.setSelection(V.index-1,0),S&&S.imageSrc&&S.isPrivate!=="true"&&S.isSelected==="true"?(this.quill.deleteText(V.index,1),!0):!1},0),!1):(S&&S.imageSrc&&S.isPrivate!=="true"&&S.isSelected==="true"&&this.quill.deleteText(V.index,1),!0)}},"undo block format immediately":{key:"Z",metaKey:!0,collapsed:!0,empty:!0,offset:0,handler(V,x){return x.format&&x.format["code-block"]?(this.quill.formatLine(V.index,V.length,{"code-block":!1}),this.quill.insertText(V.index,"``` "),this.quill.setSelection(V.index+4,0),!1):!0}}}},"getDocsWysiwygBindings");function te(me){let{teamId:ce,isIndent:X,indentLevel:V}=me;const x=X?L.MsgFormattingInputFormat.INDENT:L.MsgFormattingInputFormat.DEDENT;(0,f.e)((0,u.getStoreInstanceByTeamId)(ce)).track(L.EventId.MSG_FORMATTING_ADDED,{input_context:(0,E.A)()?L.MsgFormattingInputContext.POST:L.MsgFormattingInputContext.MESSAGE,input_source:L.MsgFormattingInputSource.KEYBOARD,input_format:x,indent_level:V,is_selection:!1})}c(te,"clogListIndentFormatting");function le(me){let{teamId:ce,Quill:X}=me;return{indent:{key:k.wn,format:["indent","list"],handler(V,x){var S;if(x.collapsed&&x.offset!==0)return!0;this.quill.format("indent","+1",X.sources.USER);const F=((x==null||(S=x.format)===null||S===void 0?void 0:S.indent)||0)+1;return F<=W&&te({teamId:ce,isIndent:!0,indentLevel:F}),!1}},outdent:{key:k.wn,shiftKey:!0,format:["indent","list"],handler(V,x){var S;if(x.collapsed&&x.offset!==0)return!0;this.quill.format("indent","-1",X.sources.USER);const U=x==null||(S=x.format)===null||S===void 0?void 0:S.indent;if(U>0){const F=U-1;te({teamId:ce,isIndent:!1,indentLevel:F})}return!1}},"outdent backspace":{key:k.G_,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(V,x){var S;x.format.indent!=null?this.quill.format("indent","-1",X.sources.USER):x.format.list!=null&&this.quill.format("list",!1,X.sources.USER);const U=x==null||(S=x.format)===null||S===void 0?void 0:S.indent;if(U>0){const F=U-1;te({teamId:ce,isIndent:!1,indentLevel:F})}}}}}c(le,"getNestedListsBindings");const he=c((me,ce)=>{let{texty:X,singleLineInput:V,onEnterExternal:x,onBackspaceExternal:S,onTabExternal:U,inlineEmojiIsEnabled:F,useWysiwyg:Z,usePlainTextMode:z,shouldInsertNewline:$,teamId:ee,localWindow:de,Quill:ie}=ce;const ue=(0,p.cX)()?"metaKey":"ctrlKey",fe={...le({teamId:ee,Quill:ie}),underline:{key:"u",shortKey:!0,handler:re=>{var _e;if(!(X==null||(_e=X.options)===null||_e===void 0)&&_e.onPlusMenuShortcut)return X.options.onPlusMenuShortcut(),!1;if(me.options.formats.indexOf("underline")===-1)return!0;const Ue=me.getModule("keyboard");return Ue&&Ue.applyFormattingFromShortcut("underline",re),!0}},home:{key:k.yZ,handler:(re,_e)=>R({texty:X,quill:me,range:re,context:_e,shiftKey:!1})},shiftHome:{key:k.yZ,shiftKey:!0,handler:(re,_e)=>R({texty:X,quill:me,range:re,context:_e,shiftKey:!0})},end:{key:k.Kp,handler:(re,_e)=>j({texty:X,quill:me,range:re,context:_e,shiftKey:!1})},shiftEnd:{key:k.Kp,shiftKey:!0,handler:(re,_e)=>j({texty:X,quill:me,range:re,context:_e,shiftKey:!0})},backspace:{key:k.G_,handler:(re,_e)=>w({texty:X,range:re,context:_e,onBackspaceExternal:S})},enter:{key:k.Fm,context:{empty:!1},handler:(re,_e)=>N({range:re,context:_e,onEnterExternal:x,quill:me,texty:X,singleLineInput:V,shouldInsertNewline:$,useWysiwyg:Z})},shiftEnter:{key:k.Fm,shiftKey:!0,context:{empty:!1},handler:(re,_e)=>N({modifiers:{shiftKey:!0},range:re,context:_e,onEnterExternal:x,quill:me,texty:X,singleLineInput:V,shouldInsertNewline:$,useWysiwyg:Z})},metaEnter:{key:k.Fm,shiftKey:!1,shortKey:!0,handler:(re,_e)=>N({modifiers:{[ue]:!0},range:re,context:_e,onEnterExternal:x,quill:me,texty:X,singleLineInput:V,shouldInsertNewline:$,useWysiwyg:Z})},metaShiftEnter:{key:k.Fm,shiftKey:!0,shortKey:!0,handler:(re,_e)=>N({modifiers:{[ue]:!0,shiftKey:!0},range:re,context:_e,onEnterExternal:x,quill:me,texty:X,singleLineInput:V,shouldInsertNewline:$,useWysiwyg:Z})},optionEnter:{key:k.Fm,altKey:!0,handler:(re,_e)=>N({modifiers:{altKey:!0},range:re,context:_e,onEnterExternal:x,quill:me,texty:X,singleLineInput:V,shouldInsertNewline:$,useWysiwyg:Z})},ctrlEnter:{key:k.Fm,ctrlKey:!0,handler:(re,_e)=>N({modifiers:{ctrlKey:!0},range:re,context:_e,onEnterExternal:x,quill:me,texty:X,singleLineInput:V,shouldInsertNewline:$,useWysiwyg:Z})},tab:{key:k.wn,handler:(re,_e)=>J({onTabExternal:U,texty:X,context:_e})},shiftTab:{key:k.wn,shiftKey:!0,handler:(re,_e)=>J({modifiers:{shiftKey:!0},onTabExternal:U,texty:X,context:_e})},"indent code-block":{key:k.wn,shiftKey:!1,format:{"code-block":!0},handler:()=>!0},"outdent code-block":{key:k.wn,shiftKey:!0,format:{"code-block":!0},handler:()=>!0},"code exit":{key:k.Fm,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:c(function(){return!0},"handler")},"header enter":{key:k.Fm,collapsed:!0,format:["header"],suffix:/^$/,handler:()=>!0},"list autofill":Z&&!z&&{key:" ",collapsed:!0,format:{list:!1,code:!1,"code-block":!1},ctrlKey:null,shiftKey:null,altKey:null,prefix:/^\s*?(1(\.|\))|-|\*|\u2022|\[ ?\]|\[x\])$/,handler(re,_e){if(_e.prefix&&_e.prefix.startsWith("[")&&!this.quill.options.modules.slackdocslist)return!0;const Ue=_e.prefix.length,Te=this.quill.getLine(re.index)[1],ge=this.quill.getFormat();if(Te>Ue)return!0;let Ae,Re;switch(_e.prefix.trim()){case"[]":case"[ ]":Ae="unchecked",Re=L.MsgFormattingInputFormat.CHECK_LIST;break;case"[x]":Ae="checked",Re=L.MsgFormattingInputFormat.CHECK_LIST;break;case"-":case"*":case"\u2022":Ae="bullet",Re=L.MsgFormattingInputFormat.BULLET_LIST;break;default:Ae="ordered",Re=L.MsgFormattingInputFormat.ORDERED_LIST}const Be=(0,D.Xh)(this.quill,re),ke=ge!=null&&ge.blockquote?"1":"0";return(0,y.A)(this.quill,{format:{list:Ae,border:ke},range:re,replacementLength:Ue,charToInsert:" "}),(0,f.e)((0,u.getStoreInstanceByTeamId)(ee)).track(L.EventId.MSG_FORMATTING_ADDED,{input_context:(0,E.A)()?L.MsgFormattingInputContext.POST:L.MsgFormattingInputContext.MESSAGE,input_source:L.MsgFormattingInputSource.MARKDOWN,input_format:Re,is_selection:!1,input_prexisting_block_formats:Be}),!1}},"opt/ctrl shift left arrow":{key:k.UQ,shiftKey:!0,altKey:(0,p.cX)(),ctrlKey:!(0,p.cX)(),collapsed:!0,handler:c(function(_e){if(!F||!F()||!_e||_e.index<1)return!0;const Ue=this.quill.getContents(_e.index-1,1),ye=Ue&&Ue.ops&&Ue.ops[0];return(0,A.Ay)(ye)?(this.quill.setSelection(_e.index-1,1),!1):!0},"handler")},"opt/ctrl shift right arrow":{key:k.LE,shiftKey:!0,altKey:(0,p.cX)(),ctrlKey:!(0,p.cX)(),collapsed:!0,handler:c(function(_e){if(!F||!F())return!0;const Ue=this.quill.getLength();if(!_e||_e.index>=Ue-1)return!0;const ye=this.quill.getContents(_e.index,1),Te=ye&&ye.ops&&ye.ops[0];return(0,A.Ay)(Te)?(this.quill.setSelection(_e.index,1),!1):!0},"handler")}};return Z&&!z&&((0,m.A)(fe,H()),(0,m.A)(fe,q()),(0,E.A)()&&(0,m.A)(fe,ne({Quill:ie,localWindow:de}))),fe},"getEarlyBindings"),Ie=c((me,ce)=>{let{onCmdLeftWhenEmpty:X,onCmdRightWhenEmpty:V,onCmdKWhenSelected:x,onCmdZWhenEmpty:S,onDownArrowWhenEmpty:U,onEscapeExternal:F,onUpArrow:Z,onUpArrowCmd:z,onUpArrowShift:$,onDownArrow:ee,onDownArrowCmd:de,onDownArrowShift:ie,onRightArrow:ue,onLeftArrow:fe,onSelectAll:re,onPageUp:_e,onPageDown:Ue,texty:ye,useWysiwyg:Te}=ce;const ge=[{key:k._f,handler:(Ae,Re)=>K({onEscapeExternal:F,quill:me,texty:ye,useWysiwyg:Te,range:Ae,context:Re})}];return Z&&ge.push({key:k.i7,format:{"code-block":!1},handler(){return Z()}}),ee&&ge.push({key:k.n6,handler(){return ee()}}),ue&&ge.push({key:k.LE,handler(){const Ae=ue();return(0,n.A)(Ae)?Ae:!0}}),fe&&ge.push({key:k.UQ,handler(){const Ae=fe();return(0,n.A)(Ae)?Ae:!0}}),z&&ge.push({key:k.i7,shortKey:!0,handler(){return z(),!0}}),de&&ge.push({key:k.n6,shortKey:!0,handler(){return de(),!0}}),$&&ge.push({key:k.i7,shiftKey:!0,handler(){return $(),!0}}),ie&&ge.push({key:k.n6,shiftKey:!0,handler(){return ie(),!0}}),U&&ge.push({key:k.n6,handler(){return me.getLength()===1&&U(),!0}}),X&&ge.push({key:k.UQ,shortKey:!0,handler(){return me.getLength()===1&&X(),!0}}),V&&ge.push({key:k.LE,shortKey:!0,handler(){return me.getLength()===1&&V(),!0}}),S&&ge.push({key:"Z",shortKey:!0,handler(){return me.getLength()===1?!S():!0}}),x&&ge.push({key:"K",shortKey:!0,handler(){return me.getSelection().length&&x(),!0}}),re&&ge.push({key:"A",shortKey:!0,handler(){const Ae=re();return(0,n.A)(Ae)?Ae:!0}}),_e&&ge.push({key:k.w_,handler(){const Ae=_e();return(0,n.A)(Ae)?Ae:!0}}),Ue&&ge.push({key:k.dB,handler(){const Ae=Ue();return(0,n.A)(Ae)?Ae:!0}}),ge},"getLateBindings");function Ee(me){const ce=(0,P.A)(me),X=me||window,V=ce.import("modules/keyboard");return c(class extends V{applyFormattingFromShortcut(U,F){const Z=(0,D.Xh)(this.quill,F),{didHandle:z,addedFormatting:$,hadSelection:ee}=(0,I.A)(this.quill,{format:U,index:F.index,length:F.length},this.options.useExpandedRichText);return z&&(0,l.A)(b.Hm[U])&&(0,f.e)((0,u.getStoreInstanceByTeamId)(this.options.teamId)).track($?L.EventId.MSG_FORMATTING_ADDED:L.EventId.MSG_FORMATTING_REMOVED,{input_context:(0,E.A)()?L.MsgFormattingInputContext.POST:L.MsgFormattingInputContext.MESSAGE,input_source:L.MsgFormattingInputSource.KEYBOARD,input_format:b.Hm[U],is_selection:ee,input_prexisting_block_formats:Z}),!1}onKeydown(U){this.onLeftArrow&&U.keyCode===k.UQ&&this.quill.getLength()===1&&this.onLeftArrow()}unload(){this.quill.root.removeEventListener("keydown",this.onKeydown)}constructor(U,F){let Z=F;Z=(0,m.A)({},{localWindow:X,Quill:ce,...B},Z);const z=he(U,Z);Z.bindings=(0,m.A)({},Z.bindings,z),super(U,Z),this.onKeydown=this.onKeydown.bind(this),U.root.addEventListener("keydown",this.onKeydown),Ie(U,Z).forEach(ee=>this.addBinding(ee)),F.onLeftArrow&&(this.onLeftArrow=F.onLeftArrow)}},"SlackKeyboard")}c(Ee,"getSlackKeyboardModule")},2884895025:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>M});var t=e(129753175),n=e(8786006583),s=e(6696292586),r=e(4711108074),d=e.n(r);function o(D,P,L,k){if(!D||!k)return;const G=D.getFormat(P,L);G&&G[k]&&(G[k]=null,D.formatText(P,L,G))}c(o,"removeFormatFromRange");var a=e(3726677001),i=e(308057085),m=e(1615300784),l=e(4547907890),_=e(5382342064),v=e(3460983082),u=e(56548687),h=e(6564475562),f=e(8088280230),p=e(9935649141),E=e(6244014364),g=e(6958543140),A=e(6533394955);function y(D){if(!D)return"";const P=D.match(/\d+/g);return P!=null?P.join(""):""}c(y,"extractNumbersFromString");const T=c(D=>{if(!D||!D.attributes)return!1;const P=(0,t.A)(D.attributes.link),L=(0,t.A)(D.insert);if(!P||!L)return!1;if(P===L||P===`mailto:${L}`)return!0;const k=P.split(":")[0],G=`${k}://${L}`;if(P===G)return!0;const b=`${k}://www.${L}`;return P===b||P.substr(0,4)==="tel:"&&y(P)===y(L)},"isLabelGoodEnoughForLink");function M(D){const P=(0,g.A)(D),L=P.import("core/module"),k=P.import("formats/link");return c(class extends L{listen(){this.options.linkifyOnSpace||this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0},this.maybeLinkify)}onEnter(W,B){let{range:R,context:j,shouldInsertNewline:w}=B;if(!R||R.length>0||!w(W))return!1;const N=this.quill.getFormat(R),K=this.quill.getFormat(R.index+1),Y=this.quill.getLine(R.index)[1];if(N.link&&K.link&&N.link===K.link&&Y!==0&&j.prefix.trim().length!==0){const[q,H]=this.quill.getLeaf(R.index);q.text&&o(this.quill,R.index-H,q.domNode.length,"link")}else this.maybeLinkify(R,j);return!1}maybeLinkify(W,B){if(B&&B.format&&B.format["code-block"])return!0;const R=B.prefix.lastIndexOf(" "),j=R!==-1?B.prefix.substr(R+1):B.prefix,w=(0,f.A)({input:j}),N=(0,n.A)(w);if(!N)return!0;const{url:K,offset:J,text:Y}=N,q=Y.length,H=W.index-j.length+J,ne=this.quill.getFormat(H,q);if(ne&&ne.link||ne&&ne.code)return!0;if(this.options.convertImages&&(0,p.Zj)(K)&&!(0,p.AO)(K)){const te=new(d())().retain(H).delete(q).insert({slackdocimage:K});this.quill.updateContents(te,"silent")}else this.quill.formatText(H,q,"link",K),this.clogger.track(E.EventId.MSG_FORMATTING_ADDED,{input_context:(0,h.A)()?E.MsgFormattingInputContext.POST:E.MsgFormattingInputContext.MESSAGE,input_source:E.MsgFormattingInputSource.MARKDOWN,input_format:E.MsgFormattingInputFormat.LINK,is_selection:q>0});return!0}getChangeIndex(W){if(!W)return null;const B=W.ops;return!B||!B.length?null:(0,l.A)(B[0])||(0,v.A)(B[0])?0:B.length>1&&(0,_.A)(B[0])&&((0,l.A)(B[1])||(0,v.A)(B[1]))?B[0].retain:null}getRelevantOpData(W,B){const R=(0,l.A)(W),j=R?W.insert.substr(0,B):"",w=R?W.insert.substr(B):"",N=R&&j.match(/\s/g),K=R&&w.match(/\s/),J=(0,i.Ay)(W)||!(0,l.A)(W),Y=j.length===0&&w.length>0&&w[0].match(/\s/),q=J||!N||Y,H=J||!K;let ne=0;if(!R)return{shouldGetPreviousOp:q,shouldGetNextOp:H,offsetAdjustment:ne,opTextChanged:!1,relevantText:""};let te=j;!q&&N&&(ne=j.lastIndexOf(N[N.length-1]),te=j.substr(ne));let le=w;!H&&K&&(le=w.substr(0,K.index));const he=`${te}${le}`;return{shouldGetPreviousOp:q,shouldGetNextOp:H,offsetAdjustment:ne,opTextChanged:he!==W.insert,relevantText:he}}getRelevantDeltaAndOffsetWithLimitedScope(W,B){if(!W||!(0,s.A)(B))return null;const R=W.ops;if(!R||!R.length)return null;const j=[];let w,N=0;if(B===0){w=0;const J=R[0],{shouldGetNextOp:Y,relevantText:q,opTextChanged:H}=this.getRelevantOpData(J,0);H?j.push({...J,insert:q}):j.push(J),Y&&R.length>1&&j.push(R[1])}else R.forEach((J,Y)=>{const q=(0,a.A)(J),H=N+q;if(!(B>=N&&B<H)){N+=q;return}const ne=B-N,{shouldGetPreviousOp:te,shouldGetNextOp:le,relevantText:he,offsetAdjustment:Ie,opTextChanged:Ee}=this.getRelevantOpData(J,ne);te&&Y>0&&(j.push(R[Y-1]),w=N-(0,a.A)(R[Y-1])),Ee?he.length&&j.push({...J,insert:he}):j.push(J),(0,s.A)(w)||(w=N+Ie),le&&Y+1<R.length&&j.push(R[Y+1]),N+=q});if(B>0&&B===N){const J=R.length-1,Y=R[J],q=(0,a.A)(Y);w=N-q;const{shouldGetPreviousOp:H,relevantText:ne,opTextChanged:te,offsetAdjustment:le}=this.getRelevantOpData(Y,q);if(H&&J>0){const he=R[J-1];j.push(he),w=N-(0,a.A)(Y)-(0,a.A)(he)}te?j.push({...Y,insert:ne}):j.push(Y),H||(w+=le)}return{relevantDelta:new(d())(j),offset:w}}buildTextChangeDelta(W,B){let{initialTextChangeDelta:R,isSpaceInsertion:j,isDeletion:w,useWysiwyg:N,usePlainTextMode:K}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.skipNextTextChange)return this.skipNextTextChange=!1,new(d());if(!this.options.supportsAnchorText)return new(d());if(!W||!R)return new(d());if(!N||K)return new(d());const J=this.getChangeIndex(R);if(!(0,s.A)(J))return new(d());const{relevantDelta:Y,offset:q}=this.getRelevantDeltaAndOffsetWithLimitedScope(W,J)||{};if(!Y||!(0,s.A)(q))return new(d());let H=Y,ne,te=0;if(w||j)for(let Ee=0;Ee<H.ops.length;Ee++){const me=H.ops[Ee];te+=(0,a.A)(me),(0,i.Ay)(me)&&(ne=ne?void 0:me)}(w||j)&&(0,m.A)(ne,{userDidDelete:w,userDidInsertSpace:j})&&(H=H.compose(new(d())().retain(te,{link:!1})));const le=this.options.supportsAnchorText?(0,p.L2)(H):(0,p.xN)(H);if(!le)return new(d());const he=H.reduce((Ee,me)=>Ee+(0,a.A)(me),0),Ie=new(d())().retain(q).delete(he).concat(le);return W.diff(W.compose(Ie)).length()>0?Ie:new(d())}constructor(W,B){super(W,B),this.maybeLinkify=this.maybeLinkify.bind(this);const R=(0,A.getStoreInstanceByTeamId)(this.options.teamId);this.skipNextTextChange=!1,this.clogger=(0,u.e)(R),k.sanitize=j=>j,this.listen()}},"SlackLinkModule")}c(M,"getSlackLinkModule");const O={isLabelGoodEnoughForLink:T},I=M(window)},1306263562:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>Ie});var t=e(4711108074),n=e.n(t),s=e(2322735331),r=e(235108050),d=e(897091071),o=e(6696292586),a=e(8571983633),i=e(6533394955),m=e(56548687),l=e(6564475562),_=e(6244014364),v=e(8315518813),u=e(3078252698),h=e(4547907890),f=e(5382342064),p=e(2048590538);const E=Object.keys(p.Ru),A=c(me=>{if(!me)return null;const ce=me.ops;if(!ce||!ce.length)return null;let X,V;return ce.length===1&&(0,h.A)(ce[0])?(V=0,X=(0,u.A)(ce[0].insert)?ce[0].insert:""):ce.length===2&&(0,f.A)(ce[0])&&(0,h.A)(ce[1])&&(V=ce[0].retain,X=(0,u.A)(ce[1].insert)?ce[1].insert:""),!X||!(0,o.A)(V)||!E.includes(X)?null:{delimiter:X,position:V}},"getMarkdownDelimiterData");var y=e(9283953805),T=e(4404059078);function M(me){let{lineText:ce,delimiter:X,position:V}=me;if(!ce||!X||!(0,o.A)(V))return null;let x;for(let z=V-1;z>=0;z--)if(ce[z]===X){x=z;break}if(!(0,o.A)(x)){for(let z=V+1;z<ce.length;z++)if(ce[z]===X){x=z;break}}if(!(0,o.A)(x))return null;const S=Math.min(V,x),U=Math.max(V,x),F=S>0?S-1:S,Z=(0,T.A)(U+2,U,ce.length);return{matchStart:F,matchEnd:Z}}c(M,"findPotentialMatchBounds");function O(me,ce){if(!me||!ce)return new(n());const{delimiter:X,position:V}=A(ce)||{};if(!X||!(0,o.A)(V))return new(n());let x=new(n()),S=0;return me.eachLine((U,F)=>{const Z=U&&U.ops,z=(0,y.A)(Z),$=S+(z?z.length:0)+1,ee=V>=S&&V<$,de=F["code-block"];if(ee&&!de){const ie=V-S,{matchStart:ue,matchEnd:fe}=M({lineText:z,delimiter:X,position:ie})||{},re=z&&z.substring(ue||0,fe);if(re){const _e=p.hJ[X],Ue=p.Ru[X];re.replace(_e,(ye,Te,ge)=>{x=new(n())().retain(S).retain(ue||0).retain(Te.length-1).delete(1).retain(ge.length,{[Ue]:!0}).delete(1)})}}S=$}),x}c(O,"buildLocalMarkdownChangeDelta");var I=e(8841789548),D=e(8967399401);function P(me,ce){const X={action:"noop",delta:new(n())};if(!me||!ce)return X;const{delimiter:V,position:x}=A(ce)||{};if(!V||!(0,o.A)(x)||V!=="`"&&V!=="\uFF40")return X;const S=x,U=S-2,F=S+1,Z=(0,I.A)(me.ops),z=Z.substring(U,F);if(z!=="```"&&z!=="\uFF40\uFF40\uFF40")return X;const $=(0,D.A)(me,S),ee=(0,D.A)(me,U-1),de=$!=null&&$.blockquote||ee!=null&&ee["code-block"]&&((ee==null?void 0:ee.border)||0)>=1?1:void 0;if($!=null&&$.code)return X;const ie=$&&$["code-block"],ue=Z.charAt(U-1),fe=Z.charAt(F),re=new(n())().retain(U).delete(3);if(ie)return ie&&fe===`
`?(re.retain(1).insert(`
`),{action:"remove",delta:re}):X;ue!==`
`&&U!==0&&re.insert(`
`,{...$});const Ue=Z.indexOf(`
`,S),ye={"code-block":!0};if((0,o.A)(de)&&(ye.border=de),Ue!==-1){const ge=Ue-S-1;return re.retain(ge).delete(1).insert(`
`,ye),{action:"insert",delta:re}}const Te=Z.length-S;return re.retain(Te-1).insert(`
`,ye),{action:"insert",delta:re}}c(P,"buildLocalCodeBlockMarkdownChangeDelta");var L=e(9592753406);function k(me,ce){if(!me||!ce)return new(n());const{delimiter:X,position:V}=A(ce)||{};if(!X||!(0,o.A)(V))return new(n());if(X!==">"&&X!=="\uFF1E")return new(n());const x=(0,I.A)(me.ops);if(x.charAt(V-1)!==`
`&&V!==0)return new(n());const U=(0,D.A)(me,V),F=(U==null?void 0:U.blockquote)&&!(U!=null&&U.border);if((0,L.Zz)(U||{})&&!F)return new(n());const Z=new(n())().retain(V).delete(1),z=x.indexOf(`
`,V),$={blockquote:!0};if(F&&($.border=1),z!==-1){const de=z-V-1;return Z.retain(de).delete(1).insert(`
`,$)}const ee=x.length-V;return Z.retain(ee-1).insert(`
`,$)}c(k,"buildLocalBlockQuoteMarkdownChangeDelta");var G=e(1703559452),b=e(9017940688),W=e(4029059089);function B(me){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(!me||ce!=="code-block"&&ce!=="blockquote")return!1;const X=me.ops;if(!X)return!1;const V=ce==="code-block"?b.A:W.A;return(0,G.A)(X,x=>V(x))}c(B,"shouldClogBlockFormattingEvent");var R=e(1026899594);function j(me){if(!me)return null;const ce=me.ops;if(!ce)return null;if(ce.length===2&&(0,f.A)(ce[0])&&(0,h.A)(ce[1])){const X=ce[0].retain,V=(0,u.A)(ce[1].insert)?ce[1].insert:"",x=V&&V.length;return{position:X,insert:V,insertLength:x}}return null}c(j,"getChangeDeltaInsertData");const N=c((me,ce)=>{if(!me||!ce)return new(n());const{position:X,insert:V,insertLength:x}=j(ce)||{};if(!(0,o.A)(X)||!V)return new(n());const{op:S,opIndex:U}=(0,R.A)(me,X)||{};if(!S||!(0,o.A)(U)||!(0,h.A)(S))return new(n());const F=X-U,Z=(0,u.A)(S.insert)?S.insert:"",z=F-1,$=F+((0,o.A)(x)?x:0),ee=Z.charAt(z),de=Z.charAt($);if(ee!==de)return new(n());if(!E.includes(ee))return new(n());const ie=ee;if(V.indexOf(ie)!==-1)return new(n());const ue=Z.substring(z-1,$+1),fe=p.hJ[ie];if(!ue.match(fe))return new(n());const re=(0,D.A)(me,X)||{};if(re["code-block"]||re.code)return new(n());const Ue=p.Ru[ie];return new(n())().retain(U).retain(z).delete(1).retain((0,o.A)(x)?x:0,{[Ue]:!0}).delete(1)},"handleDoubleDelimeterInserts");var K=e(9474987151),J=e(6958543140);const Y=/(^|\s)\*[^*]*\S\*$/,q=/(^|\s)_[^_]*\S_$/,H=/(^|\s)(?:`|\uFF40)[^`\uFF40]*\S(?:`|\uFF40)$/,ne=/(^|\s)~[^~]*\S~$/,te={bold:_.MsgFormattingInputFormat.BOLD,italic:_.MsgFormattingInputFormat.ITALIC,strike:_.MsgFormattingInputFormat.STRIKE,code:_.MsgFormattingInputFormat.CODE,"code-block":_.MsgFormattingInputFormat.CODE_BLOCK,blockquote:_.MsgFormattingInputFormat.BLOCKQUOTE,hr:_.MsgFormattingInputFormat.HR,h1:_.MsgFormattingInputFormat.H1,h2:_.MsgFormattingInputFormat.H2};function le(me){return!!{[_.MsgFormattingInputFormat.BOLD]:!1,[_.MsgFormattingInputFormat.ITALIC]:!1,[_.MsgFormattingInputFormat.STRIKE]:!1,[_.MsgFormattingInputFormat.CODE]:!1,[_.MsgFormattingInputFormat.UNDERLINE]:!1,[_.MsgFormattingInputFormat.LINK]:!1,[_.MsgFormattingInputFormat.H1]:!1,[_.MsgFormattingInputFormat.H2]:!1,[_.MsgFormattingInputFormat.HR]:!1,[_.MsgFormattingInputFormat.CHECK_LIST]:!1,[_.MsgFormattingInputFormat.BULLET_LIST]:!0,[_.MsgFormattingInputFormat.ORDERED_LIST]:!0,[_.MsgFormattingInputFormat.CODE_BLOCK]:!0,[_.MsgFormattingInputFormat.BLOCKQUOTE]:!0,[_.MsgFormattingInputFormat.DEDENT]:!0,[_.MsgFormattingInputFormat.INDENT]:!0}[me]}c(le,"isClogFormatComposerBlockLevelFormat");function he(me){const ce=[];return me.length()&&(me.ops||[]).forEach(x=>{!x.retain||!x.attributes||ce.push(Object.keys(x.attributes))}),(0,r.A)((0,d.A)(ce))}c(he,"getAppliedFormatsFromDelta");function Ie(me){const X=(0,J.A)(me).import("core/module");return c(class extends X{unload(){this.quill.root.removeEventListener("compositionstart",this.resetFormatsToRestore)}listen(){this.quill.on("selection-change",this.onSelectionChange),this.quill.on("text-change",this.resetFormatsToRestore),this.quill.root.addEventListener("compositionstart",this.resetFormatsToRestore),this.options.convertHorizontalRule&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:/^---$/,offset:3},this.formatHorizontalRule),this.options.convertHeaders&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{header:!1,"code-block":!1,code:!1},prefix:/^#{1,2}$/},this.formatHeader)}onSelectionChange(S,U){this.formatsToRestoreOnBackspace&&(S?S&&(0,o.A)(this.wasBlurredAtIndex)?(this.wasBlurredAtIndex!==S.index&&this.resetFormatsToRestore(),this.wasBlurredAtIndex=null):(0,o.A)(this.wasBlurredAtIndex)||this.resetFormatsToRestore():this.wasBlurredAtIndex=U.index)}onBackspace(){return this.formatsToRestoreOnBackspace&&this.formatsToRestoreOnBackspace.length&&(this.formatsToRestoreOnBackspace.forEach(S=>{this.quill.format(S,!0)}),this.formatsToRestoreOnBackspace=null),!1}resetFormatsToRestore(){this.formatsToRestoreOnBackspace=null}clogMarkdownFormattingEvent(S){let{format:U,range:F}=S;if(!this.clogger)return;const Z=te[U];if((0,a.A)(Z))return;const z={input_context:(0,l.A)()?_.MsgFormattingInputContext.POST:_.MsgFormattingInputContext.MESSAGE,input_source:_.MsgFormattingInputSource.MARKDOWN,input_format:Z,is_selection:!1};if(le(Z)&&F){const $=(0,K.Xh)(this.quill,F);z.input_prexisting_block_formats=$}this.clogger.track(_.EventId.MSG_FORMATTING_ADDED,z)}formatHorizontalRule(S){const U=S.index-3;this.quill.deleteText(U,3),this.quill.insertEmbed(U,"slackhorizontalrule",!0),this.quill.setSelection(U+1,"silent"),this.quill.removeFormat(U+1),this.clogMarkdownFormattingEvent({format:"hr"})}formatHeader(S,U){if(U.offset>2)return!0;(0,v.A)(this.quill,{format:{header:U.offset},range:S,replacementLength:U.offset,charToInsert:" "});const F=U.offset===1?"h1":"h2";return this.clogMarkdownFormattingEvent({format:F}),!1}afterTextChangeQueue(){if(this.formatsAppliedInQueue){this.formatsToRestoreOnBackspace=this.formatsAppliedInQueue;const U=this.quill.getFormat()||{};var S;for(let F=0;F<((S=this.formatsToRestoreOnBackspace)!==null&&S!==void 0?S:[]).length;F++){const Z=this.formatsToRestoreOnBackspace[F];U[Z]?(this.quill.format(Z,!1),this.clogMarkdownFormattingEvent({format:Z})):(this.formatsToRestoreOnBackspace.splice(F,1),F-=1)}}this.formatsAppliedInQueue=null}buildTextChangeDelta(S,U){let{initialTextChangeDelta:F,useWysiwyg:Z=!1,formattingOnly:z=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S||!F)return new(n());if(!Z)return new(n());if(z)return new(n());let $=O(S,F);if($.length()!==0){const ee=he($);this.formatsAppliedInQueue=ee.length?ee:null}if($.length()===0&&($=N(S,F),he($).forEach(de=>{this.clogMarkdownFormattingEvent({format:de})})),$.length()===0){const{delta:ee}=P(S,F);$=ee;const de="code-block";B($,de)&&this.clogMarkdownFormattingEvent({format:de,range:U})}if($.length()===0){$=k(S,F);const ee="blockquote";B($,ee)&&this.clogMarkdownFormattingEvent({format:ee,range:U})}return $}constructor(S,U){super(S,U),(0,s.v)(this,["formatHorizontalRule","formatHeader","resetFormatsToRestore","onSelectionChange","onBackspace"]);const F=this.options.teamId,Z=(0,i.getStoreInstanceByTeamId)(F);this.clogger=(0,m.e)(Z),this.formatsToRestoreOnBackspace=null,this.formatsAppliedInQueue=null,this.listen()}},"SlackMarkdown")}c(Ie,"getSlackMarkdownModule");const Ee=Ie(window)},9899103555:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(4711108074),n=e.n(t),s=e(362134992),r=e(2827252833),d=e(117342833);function o(A){return(0,d.Ay)(A)?(0,d.zv)(A)!==A.insert:!1}c(o,"isOpMentionAndInvalid");function a(A){if(!(0,d.Ay)(A))return!1;const y=(0,d._z)(A),T=(0,d.I4)(A),M=(0,d.zv)(A);if(!T||!M)return!1;const O=y.substr(0,M.length);return y.length>M.length&&O===M}c(a,"isOpMentionWithAppendedText");function i(A){if(!(0,d.Ay)(A))return!1;const y=(0,d.I4)(A),T=(0,d.zv)(A),M=(0,d._z)(A);if(!y||!T)return!1;const O=M.substr(T.length*-1);return M.length>T.length&&O===T}c(i,"isOpMentionWithPrependedText");var m=e(3904348617),l=e(6096763876),_=e(3726677001),v=e(1089076149),u=e(6958543140);const h=c(A=>A.attributes&&A.attributes.background,"hasBackgroundAttr"),f=c((A,y)=>{const T=y.ops[0];return o(T)?new(n())().insert((0,d._z)(T)):y},"handleMention"),p=c((A,y)=>y.length()===0&&A.textContent.length>0&&/^ +$/.test(A.textContent)?new(n())().insert(A.textContent):y,"maybeHandleSpaces");function E(A){const y=new(n());let T=0,M=0;return A.forEach(O=>{let I=0,D=T,P="";const L=(0,_.A)(O);if(T+=L,!(!(0,d.Ay)(O)||!o(O))){if((0,r.Ay)(O))y.retain(D-M).delete(L).insert({slackemoji:(0,r.MU)(O)},{...O.attributes,slackmention:null});else if((0,m.Ay)(O))y.retain(D-M).delete(L).insert({workflowtoken:(0,m.zy)(O)},{...O.attributes,slackmention:null});else if(a(O)){if(D+=(0,d.zv)(O).length,y.retain(D-M),I=L-(0,d.zv)(O).length,P=(0,v.A)(A,D,I),P.length>=(0,d.zv)(O).length)for(;P.length>=(0,d.zv)(O).length&&P.length;){const k=P.substr(0,(0,d.zv)(O).length);if(k===(0,d.zv)(O))y.delete(k.length).insert(k,O.attributes),P=P.substr(k.length);else break}P.length&&y.delete(P.length).insert(P,{...O.attributes,slackmention:null})}else if(i(O)){P=(0,v.A)(A,D,L).replace(/\n$/,"");const k=P.length,G=(0,d.zv)(O);let b=0;for(;P.length>G.length&&P.substr(G.length*-1)===G;)b+=1,P=P.substr(0,P.length-G.length);y.retain(D-M),y.delete(k),y.insert(P);for(let W=0;W<b;W++)y.insert(G,O.attributes)}else P=(0,v.A)(A,D,L),y.retain(D-M).delete(L).insert(P,{...O.attributes,slackmention:null});M=T}}),y}c(E,"buildUnformatBrokenMentionsChanges");function g(A){const T=(0,u.A)(A).import("core/module");return c(class extends T{listen(){this.quill.on("text-change",this.onTextChange),this.quill.clipboard.addMatcher(".c-member_slug",f),this.quill.clipboard.addMatcher("ts-mention",f),this.quill.clipboard.addMatcher(Node.TEXT_NODE,p)}onTextChange(I){(0,l.A)(I)||(this.fixMultipleBrokenMentionsAttempt||this.fixMultipleBrokenMentions(I),this.fixLeakingMentions())}buildTextChangeDelta(I){return E(I)}fixMultipleBrokenMentions(I){const D=I==null?void 0:I.ops,P=this.quill.getContents();let L=D.map(W=>{var B;return W==null||(B=W.attributes)===null||B===void 0?void 0:B.slackmention});if(L=(0,s.A)(L),!L.length||this.fixMultipleBrokenMentionsAttempt)return;const k=2;let G=0,b=L[0];for(let W=1;W<L.length;W++){const B=L[W];if(B.label===b.label&&(G+=1),B.label!==b.label&&(G=0),G>=k){this.quill.setContents(P),this.fixMultipleBrokenMentionsAttempt=!1;return}b=B,this.fixMultipleBrokenMentionsAttempt=!0}}fixLeakingMentions(){this.quill.getContents().filter(P=>h(P)).length>0&&setTimeout(()=>{const P=this.quill.getContents().map(k=>h(k)?{insert:k.insert}:k),L=this.quill.getSelection();this.quill.setContents({ops:P},"silent"),L&&this.quill.setSelection(L)},0)}constructor(I,D){super(I,D),this.onTextChange=this.onTextChange.bind(this),this.fixMultipleBrokenMentionsAttempt=!1,this.listen()}},"SlackMentionModule")}c(g,"getSlackMentionModule")},1296559413:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(7715417323),n=e(6696292586),s=e(2774532222),r=e(9026461287),d=e(3783303734),o=e(3961021150),a=e(4711108074),i=e.n(a),m=e(735940183),l=e(2322735331),_=e(3829348308),v=e(6533394955),u=e(9936232041),h=e(4547907890),f=e(2827252833),p=e(6096763876),E=e(6958543140),g=e(5177671990),A=e(4505564445),y=e(9293534148),T=e(512148710),M=e(6859521351),O=e(571104883);const I="TABCOMPLETE",D=/^\/[a-zA-Z]*?/i,P={getMatch:t.A,search:t.A,onSelect:t.A,getInsertDataFromActiveResult:t.A,shouldDisplayResults:()=>!0,getMatchText:t.A,getMatchIndex:t.A,getMatchResults:t.A,clearMatchState:t.A,setSearchInFlight:t.A,getSearchInFlight:t.A,getSelectedIndex:t.A,onRequestOpen:t.A,onRequestClose:t.A,onInit:t.A,isOpen:t.A,positionMenu:t.A,logger:{error:t.A,info:t.A,warn:t.A}},L=c(j=>j.reduce((w,N)=>N.insert?w+N.insert:w,""),"combineByInserts"),k=[":","*","_","~"],G=c((j,w,N)=>{if(N.indexOf(w)!==-1)return"";const K=j.exec(w);return K?K[0]:""},"trailingPunctuation");function b(j,w,N){const K=N.concat([" "]);if(w&&w.index>=4){const J=j.getText(w.index-2,2),Y=j.getFormat(w.index-3),q=J.charAt(1);if(k.indexOf(q)===-1&&(K.indexOf(q)!==-1||(0,m.Uq)(q))&&J.charAt(0)===" "&&Y&&Y.slackmention&&!Y.slackmention.unverified)return!0}return!1}c(b,"hasSpaceAndPunctuationAfterMention");function W(j,w){if(w&&w.index>=5){const N=j.getText(w.index-3,3),K=j.getFormat(w.index-4);if(N===" : "&&K&&K.slackmention&&!K.slackmention.unverified)return!0}return!1}c(W,"hasSpaceAndColonAfterMention");function B(j,w){if(w&&w.index>=6){const N=j.getText(w.index-4,4),K=j.getFormat(w.index-5);if(N.search(/ ['\u2018\u2019]s /)!==-1&&K&&K.slackmention&&!K.slackmention.unverified)return!0}return!1}c(B,"hasSpaceAndApostropheAfterMention");function R(j){const N=(0,E.A)(j).import("core/module");return c(class extends N{unload(){this.isUnmounted=!0,this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.hideMenu(),setTimeout(()=>{this.state=null},0)}listen(){this.quill.on("text-change",this.onTextChange),this.quill.on("selection-change",this.onSelectionChange),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd),[A.i7,A.n6].forEach(Y=>{this.quill.keyboard.addBinding({key:Y,handler:()=>this.onUpDownArrow(Y)})}),[A.UQ,A.LE].forEach(Y=>{this.quill.keyboard.addBinding({key:Y,handler:(q,H)=>this.onLeftRightArrow(H)})})}ariaExpand(Y){const q=this.quill.root;if(!q)return;const H=q.getAttribute("role");if(this.options.experimentTextyAutocompleteChangeGroupOn){H==="combobox"&&q.setAttribute("aria-expanded",Y),Y||q.removeAttribute("aria-activedescendant");return}H==="combobox"&&q.setAttribute("aria-expanded","true"),q.setAttribute("aria-activedescendant",(0,g.An)(this.options.getSelectedIndex()))}ariaCollapse(){const Y=this.quill.root;if(!Y)return;Y.getAttribute("role")==="combobox"&&Y.setAttribute("aria-expanded","false"),Y.removeAttribute("aria-activedescendant")}ariaActiveDescendant(Y){const q=this.quill.root;if(q){if(!(0,n.A)(Y)){q.removeAttribute("aria-activedescendant");return}q.setAttribute("aria-activedescendant",(0,g.An)(Y))}}onUpDownArrow(Y){return this.options.isOpen()?this.options.onArrowKey(Y):!0}onLeftRightArrow(Y){var q;return!((q=Y.format)===null||q===void 0)&&q.slackmention&&(this.options.experimentTextyAutocompleteChangeGroupOn?this.options.clearSelectedIndex():this.quill.root.removeAttribute("aria-activedescendant")),!0}onHome(Y){let{context:q}=Y;var H;return!((H=q.format)===null||H===void 0)&&H.slackmention&&(this.options.experimentTextyAutocompleteChangeGroupOn?this.options.clearSelectedIndex():this.quill.root.removeAttribute("aria-activedescendant")),!1}onEnd(Y){let{context:q}=Y;var H;return!((H=q.format)===null||H===void 0)&&H.slackmention&&(this.options.experimentTextyAutocompleteChangeGroupOn?this.options.clearSelectedIndex():this.quill.root.removeAttribute("aria-activedescendant")),!1}onEscape(){return this.options.isOpen()?(this.hideMenu(),!0):!1}onTab(Y){if(Y!=null&&Y.shiftKey)return!1;if(this.options.isOpen())return this.options.possiblySelectFirstItem(),setTimeout(()=>{this.onEnter(null)},0),!0;if(this.options.setSearchInFlight(null),this.quill.getLength()===1)return!1;const q=!0,H=this.options.getMatchText(),ne=this.getCurrentMatchAtCursor(q);return ne&&H===ne.text||this.completeAtCursor({isUserSolicited:q},ne),!1}onCompositionStart(){this.state.isInComposition=!0,this.state.compositionTimer&&clearTimeout(this.state.compositionTimer)}onCompositionEnd(){this.state.compositionTimer=setTimeout(()=>{this.state.isInComposition=!1,this.options.isOpen()||this.maybeCompleteAtCursor("user")},0)}onTextChange(Y,q,H){if(!this.state||(0,p.A)(Y))return;const ne=this.quill.getSelection();if(Y.length()===1&&Y.ops[0].insert&&setTimeout(()=>{const te=this.quill.getSelection();if(te&&te.index===0&&te.length===0){const le=this.quill.getLength()-1;le===1&&(this.quill.setSelection(le,0),this.options.logger.info(I,"manually adjusted index for Safari"))}},0),this.state.selectionJustHappened&&!this.state.isInComposition&&(this.state.selectionJustHappened=!1,b(this.quill,ne,T.Nb))){setTimeout(()=>{this.quill.deleteText(ne.index-2,1),this.quill.setSelection(ne.index-1,0),this.hideMenu()},0);return}if(W(this.quill,ne)){setTimeout(()=>{this.quill.deleteText(ne.index-3,1),this.quill.setSelection(ne.index-1,0),this.hideMenu()},0);return}if(B(this.quill,ne)){setTimeout(()=>{this.quill.deleteText(ne.index-4,2),this.quill.insertText(ne.index-4,"\u2019"),this.quill.setSelection(ne.index-1,0),this.hideMenu()},0);return}this.state.isSelectingOption||setTimeout(()=>{this.maybeCompleteAtCursor(H)},0)}maybeCompleteAtCursor(Y){if(!this.isUnmounted){if(this.options.setSearchInFlight(null),this.quill.getLength()<=1){this.hideMenu();return}Y==="user"&&this.completeAtCursor({isUserSolicited:!1})}}isCursorWithinMention(Y){if(!Y||Y.length>0||Y.index===0)return!1;const q=this.quill.getFormat(Y).slackmention;if(q&&Y.index!==0&&Y.index<this.quill.getLength()-1&&this.quill.getFormat(Y.index+1).slackmention)return!0;const H=this.quill.getFormat(Y.index+1).slackmention;return!!(q&&H&&q.id===H.id)}isSlashCommand(Y){if(!Y||Y.length>0||Y.index===0)return!1;const q=this.quill.getText();return D.test(q)}maybeShowTooltip(Y,q){if(this.options.isOpen())return;const H=this.isCursorWithinMention(Y);if(!H&&this.options.tooltipIsShowing()){this.options.tooltipHide();return}const ne=this.quill.selection.getNativeRange(),te=ne&&ne.start&&ne.start.node&&ne.start.node.parentNode,le=te&&te.classList;if(le&&le.contains("c-member_slug--unverified")&&Y.length===0){this.maybeCompleteAtCursor(q);return}const Ie=le&&le.contains("ts_tip_texty");H&&Ie&&!this.options.tooltipIsShowing()&&this.options.tooltipShow(te)}hideAndReset(){this.onEscape(),this.resetPrevMatchState()}isMenuOpen(){return this.options.isOpen()}onSelectionChangeExp(Y,q,H){if(!this.state)return;const ne=Y&&Y.length>1,te=this.isCursorWithinMention(Y),le=this.state.isSelectingOption,he=this.isSlashCommand(Y);if((!te||ne)&&!he&&!this.state.isInComposition&&!le&&(this.options.setSearchInFlight(null),this.hideMenu({fromSelection:!0})),!le&&Y){this.maybeShowTooltip(Y,H);return}Y||(this.onEscape(),this.resetPrevMatchState())}onSelectionChange(Y,q,H){if(this.options.experimentTextyAutocompleteChangeGroupOn){this.onSelectionChangeExp(Y,q,H);return}if(!this.state)return;const ne=this.state.isSelectingOption;if(!ne&&Y){this.maybeShowTooltip(Y,H);return}Y&&!this.state.isInComposition&&!ne&&(this.options.setSearchInFlight(null),this.hideMenu()),Y||(this.onEscape(),this.resetPrevMatchState())}getCurrentMatchAtCursor(Y){const q=this.quill.getSelection();if(!q)return;let H=q.index+q.length;if(q.index>0&&q.length===0&&this.quill.getFormat(q).slackmention&&this.quill.getText(q.index-1,1)!==`
`){const Ee=this.quill.getText(q.index-1,1)===" ",me=q.index===1||!this.quill.getFormat(q.index-2,0).slackmention;if(!(Ee&&me)){const X=this.quill.getFormat(q).slackmention.label;for(;this.quill.getFormat(H).slackmention&&this.quill.getFormat(H).slackmention.label===X;)H+=1;H-=1}}const{searchText:ne,searchTextIndex:te}=this.textBetweenLastTokenAndIndex(H),he={insert:`
`,attributes:this.quill.getFormat(q)};return this.getMatch(ne,te,Y,he)}completeAtCursor(Y,q){let{isUserSolicited:H=!1}=Y;const ne=q||this.getCurrentMatchAtCursor(H);if(!ne){this.resetPrevMatchState(),this.hideMenu();return}this.search({match:ne,isUserSolicited:H})}search(Y){let{match:q,isUserSolicited:H=!1}=Y;if(this.options.getSearchInFlight()===q.text){this.options.logger.info(I,`duplicate search for ${q.text.length} char query`);return}this.state.prevInsertObject=null,this.options.setSearchInFlight(q.text),this.options.logger.info(I,`start search with ${q.text.length} char query`),this.options.search(q.text,()=>{this.state&&this.handleSearchResults(H)})}handleSearchResults(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const q=this.options.getMatchText()||"";if(!this.hasResults()||!q.length){this.hideMenu();return}if(this.options.logger.info(I,`received ${this.getNumResults().length} results for ${q.length} char query`),!this.options.shouldDisplayResults(Y)){this.options.logger.info(I,"completer decided to hide results"),this.hideMenu();return}this.showMenu()}onEnter(Y){return Y&&Y.shiftKey||!this.options.isOpen()?!1:(this.state.isInComposition||(this.options.experimentTextyAutocompleteChangeGroupOn&&this.options.possiblySelectFirstItem(),this.performSelection({fromKeyboard:!0})),!0)}onOptionSelected(){const Y=this.options.getInsertDataFromActiveResult();if(!Y){this.options.logger.error("onOptionSelected could not get insert data");return}if(!this.hasResults()){this.options.logger.error("onOptionSelected missing previous match");return}if(this.options.logger.info(I,`selected index ${this.options.getSelectedIndex()}`),Y.contents){this.state.isSelectingOption=!0,this.quill.setContents(Y.contents),this.state.prevInsertObject={text:this.quill.getText()},this.quill.setSelection(this.state.prevInsertObject.text.length,0),this.state.isSelectingOption=!1,this.options.setSearchInFlight(null);return}let q=Y.slackemoji,H=Y.text;q&&(H=`${Y.text}${Y.slackemoji.text}`);let ne=this.options.getSearchInFlight()||this.options.getMatchText(),te=ne.length;!this.options.getSearchInFlight()&&this.state.prevInsertObject&&(ne=this.state.prevInsertObject.text,te=this.state.prevInsertObject.length||this.state.prevInsertObject.text.length);const le=this.options.getMatchText(),he=G(T.Sf,le,H);(0,s.A)(Y.text,le)||(H+=he);const Ie=this.options.getMatchIndex()+te,Ee=this.quill.getText(Ie,1),ce=T.Nb.concat([" "]).indexOf(Ee)===-1,X=this.quill.getText(this.options.getMatchIndex()-1,1),V=this.options.getMatchIndex()>0&&Y.ensure_preceding_space&&(0,m.Uq)(X),x=new(i());let S=this.options.getMatchIndex();const U=this.quill.getFormat(S+1);U.slackmention&&delete U.slackmention;const F=this.options.useWysiwyg?U.code||U["code-block"]:(0,M.A)(this.quill.getText(0,S)),Z=this.options.useWysiwyg&&U.link;if(q&&(F||Z)&&(q=null),this.options.getMatchIndex()>0&&!V&&!Y.text&&q&&q.text.match(/^(:skin-tone-[2-6]:)$/)){const Ue=this.quill.getContents(this.options.getMatchIndex()-1,1);if(Ue.ops&&(0,f.Ay)(Ue.ops[0])){const ye=(0,u.A)(Ue.ops[0].insert.slackemoji.text),Te=this.options.teamId&&(0,v.getStateByTeamId)(this.options.teamId);(0,_.Fm)(Te,{text:ye.name,teamId:this.options.teamId})&&(S-=1,te+=1,q.text=`:${ye.name}:${q.text}`)}}x.retain(S);const z=this.options.getMatchIndex()||0,$=H.toLowerCase(),ee=ne.toLowerCase(),de=this.quill.getText(z,H.length).toLowerCase();!q&&$!==ee&&de===$?x.delete(Math.max(H.length,te)):x.delete(te),V&&x.insert(" ",U);const ie=!!(Y.format&&Y.format.overrideLink);if(q){if(Y.text&&x.insert(Y.text),q!=null&&q.text){const Ue=q.text.substr(1,q.text.indexOf(":",1)-1);(0,y.ef)(Ue)}x.insert({slackemoji:q},U)}else if(this.options.useWysiwyg&&(F||Z&&!ie))x.insert(H,{...U});else{var ue,fe;const Ue=Y==null||(ue=Y.format)===null||ue===void 0||(fe=ue.slackmention)===null||fe===void 0?void 0:fe.id;(0,y.WR)(Ue),x.insert(H,{...U,...Y.format})}ce&&(ie?x.insert(" ",{...U,...Y.format}):x.insert(" ",U)),this.state.isSelectingOption=!0,this.quill.updateContents(x,"user");let re=1;!V&&!ce&&Ee!==" "?re=0:V&&(ce||Ee===" ")&&(re=2);const _e=Y.text?Y.text.length:0;this.quill.setSelection(z+(q?_e+1:H.length)+re,0),this.state.isSelectingOption=!1,this.options.setSearchInFlight(null),this.state.prevInsertObject={text:H},q&&(this.state.prevInsertObject.length=_e+1),this.state.selectionJustHappened=!0}textBetweenLastTokenAndIndex(Y){let q;const{ops:H}=this.quill.getContents(0,Y);this.quill.getFormat(Y).slackmention?q=H.slice(-1):q=(0,r.A)(H,he=>(0,h.A)(he));const ne=L(q),te=this.quill.getLength()-Y-1,le=this.quill.getLength()-new(i())(q).length()-te-1;return{searchText:ne,searchTextIndex:le}}getMatch(Y){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ne=arguments.length>3?arguments[3]:void 0;if(!Y)return;const te=this.options.getMatch(Y,H,q,ne);if(te)return{text:te.match,index:te.index+q}}showMenu(){this.options.tooltipHide(),this.options.isOpen()||this.options.logger.info(I,"opening menu"),this.options.onRequestOpen();const Y=this.options.getMatchIndex(),q=this.quill.getBounds(Y),H=this.quill.container.getBoundingClientRect(),ne=q.left+H.left,te=q.top+H.top,le=te+q.height;this.options.positionMenu({top:te,left:ne,bottom:le,right:ne},H),this.options.experimentTextyAutocompleteChangeGroupOn||this.ariaExpand()}hideMenu(){let{fromSelection:Y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.options.isOpen())return;this.options.logger.info(I,"closing menu"),this.options.onRequestClose();const q=this.options.experimentTextyAutocompleteChangeGroupOn;if(q||this.ariaCollapse(),!(q&&Y)&&!this.state.isInComposition&&this.quill.hasFocus()){const H=this.quill.getSelection();this.quill.blur(),this.quill.focus(),this.quill.setSelection(H)}}resetPrevMatchState(){this.clearPrevMatch(),this.options.setSearchInFlight(null),this.state.prevInsertObject=null}clearPrevMatch(){this.options.clearMatchState()}performSelection(){let{fromKeyboard:Y=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.onOptionSelected(),this.options.onSelect({fromKeyboard:Y}),this.clearPrevMatch(),this.hideMenu()}getNumResults(){return(0,d.A)(this.options.getMatchResults())}hasResults(){return this.getNumResults()>0}getResultElementIndex(Y){if(!Y)return;const q=parseInt(Y.getAttribute("data-index"),10);if(!(0,n.A)(q)){this.options.logger.warn(I,'missing "data-index" attribute');return}return q}constructor(Y,q){const H=(0,o.A)({},P,q);super(Y,H),(0,l.v)(this,["onEscape","onCompositionStart","onCompositionEnd","onTextChange","onSelectionChange","onTab","maybeCompleteAtCursor","hideMenu","ariaExpand","ariaActiveDescendant","performSelection"]),this.state={prevInsertObject:null,isInComposition:!1,isSelectingOption:!1,selectionJustHappened:!1,compositionTimer:null},(0,O.cX)()&&(0,O.X5)()===O.h5.SAFARI&&this.quill.root.setAttribute("aria-owns",g.E),this.listen(),this.options.onInit({hideMenu:this.hideMenu,ariaExpand:this.ariaExpand,ariaActiveDescendant:this.ariaActiveDescendant,performSelection:this.performSelection})}},"TabComplete")}c(R,"getTabCompleteModule")},2557000613:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(4711108074),n=e.n(t),s=e(6533394955),r=e(796111729),d=e(6096763876),o=e(4547907890),a=e(5382342064),i=e(3460983082);function m(f){return!f||!f.length()?!1:!!(f.ops.length===1&&(0,o.A)(f.ops[0])&&f.ops[0].insert===" "||f.ops.length===2&&(0,a.A)(f.ops[0])&&!f.ops[0].attributes&&(0,o.A)(f.ops[1])&&f.ops[1].insert===" "||f.ops.length===3&&(0,a.A)(f.ops[0])&&!f.ops[0].attributes&&(0,o.A)(f.ops[1])&&f.ops[1].insert===" "&&(0,i.A)(f.ops[2]))}c(m,"isDeltaSpaceInsertion");function l(f){return!f||!f.length()?!1:!!(f.ops.length===1&&(0,i.A)(f.ops[0])||f.ops.length===2&&(0,a.A)(f.ops[0])&&!f.ops[0].attributes&&(0,i.A)(f.ops[1]))}c(l,"isDeltaDeletion");var _=e(6958543140);const v="TEXT-CHANGE-QUEUE";function u(f){const E=(0,_.A)(f).import("core/module");return c(class extends E{unload(){this.quill.root.removeEventListener("compositionstart",this.startComposition),this.quill.root.removeEventListener("compositionend",this.endComposition)}listen(){this.quill.on("text-change",this.onTextChange)}onTextChange(y){if(this.skipNextTextChange){this.skipNextTextChange=!1;return}this.maybeUpdateCompositionDelta(y),this.processChanges(y)}startComposition(){this.isInsideComposition=!0,this.compositionDelta=new(n())}endComposition(){this.isInsideComposition=!1;const y=this.compositionDelta;this.processChanges(y)}isInComposition(){return!!this.isInsideComposition}maybeUpdateCompositionDelta(y){if(!this.isInComposition())return;const T=this.compositionDelta;if(!T)return;const M=T.compose(y);this.compositionDelta=M}shouldProcessChange(){return!this.isInComposition()}processChanges(y){this.isMidProcessingChanges&&this.logger&&this.logger.error(v,"Side effect from processChanges caused TextChangeQueue to rerun unexpectedly (non-fatal)"),this.isMidProcessingChanges=!0;const T=this.options.getTextChangeModules(),M=this.quill.getContents();let O=M;if(this.shouldProcessChange()){let I=M;const D=[];T.forEach(L=>{if(L&&L.buildTextChangeDelta){const k=(0,d.A)(y),G=m(y),b=l(y),W=L.buildTextChangeDelta(I,this.quill.getSelection(),{initialTextChangeDelta:y,useWysiwyg:this.options.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,formattingOnly:k,isSpaceInsertion:G,isDeletion:b});W.length()>0&&(D.push(L),I=I.compose(W))}});const P=M.diff(I);if(P.length()>0){setTimeout(()=>{const L=this.quill.getModule("slackmarkdown");if(this.quill.getContents().diff(M).length()>0&&!(L&&D.includes(L)))return;const k=L&&D.includes(L),G=this.quill.history.options.delay;k&&(this.quill.history.options.delay=0),this.skipNextTextChange=!0,this.quill.updateContents(P,"user"),k&&(this.quill.history.options.delay=G),O=this.quill.getContents(),T.forEach(b=>{b&&b.afterTextChangeQueue&&b.afterTextChangeQueue(O)})},0),this.isMidProcessingChanges=!1;return}}T.forEach(I=>{I&&I.afterTextChangeQueue&&I.afterTextChangeQueue(O)}),this.isMidProcessingChanges=!1}constructor(y,T){super(y,T),this.options=T,this.quill=y;const M=T&&T.teamId,O=M&&(0,s.getStoreInstanceByTeamId)(M),I=O&&O.getState();this.logger=(0,r.Ay)({state:I,label:v}),this.onTextChange=this.onTextChange.bind(this),this.startComposition=this.startComposition.bind(this),this.endComposition=this.endComposition.bind(this),this.skipNextTextChange=!1,this.isInsideComposition=!1,this.compositionDelta=new(n()),y.root.addEventListener("compositionstart",this.startComposition),y.root.addEventListener("compositionend",this.endComposition),this.isMidProcessingChanges=!1,this.listen()}},"TextChangeQueueModule")}c(u,"getTextChangeQueueModule");const h=u(window)},7363468123:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(7174777686),n=e(3078252698),s=e(4711108074),r=e.n(s),d=e(6958543140);const o=/(\u2028|\u2029)/g,a=`
`,i=/^[\u200b\uFEFF]+|[\u200b\uFEFF]+$/gm,m=/(\u00AD)/g,l=/\u00A0/g,_=c(g=>{const A=g.map((y,T)=>{if((0,t.A)(y.insert,`
`)){const M=T===g.ops.length-1;return{...y,insert:((0,n.A)(y.insert)?y.insert:"").replace(/( ?)\n+/g,(O,I,D,P)=>{const k=D+O.length===P.length;return M&&k?`${I}
`:" "})}}return y});return g.diff(new(r())(A))},"removeDeltaNewlines"),v=c(g=>{const A=g.map(y=>(0,n.A)(y.insert)&&y.insert.match(i)?{...y,insert:y.insert.replace(i,"")}:y);return g.diff(new(r())(A))},"removeDeltaZeroWidthCharacters"),u=c(g=>{const A=g.map(y=>(0,n.A)(y.insert)&&y.insert.match(m)?{...y,insert:y.insert.replace(m,"")}:y);return g.diff(new(r())(A))},"removeDeltaUnwantedCharacters"),h=c(g=>{const A=g.map(y=>(0,n.A)(y.insert)&&y.insert.match(l)?{...y,insert:y.insert.replace(l," ")}:y);return g.diff(new(r())(A))},"replaceNonBreakingSpacesWithRegularSpaces"),f=c(g=>{const A=g.map(y=>(0,n.A)(y.insert)&&y.insert.match(o)?{...y,insert:y.insert.replace(o,a)}:y);return g.diff(new(r())(A))},"normalizeDeltaNewlines");function p(g){const y=(0,d.A)(g).import("core/module");return c(class extends y{buildTextChangeDelta(O,I){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,formattingOnly:!1}).formattingOnly)return new(r());let P=O;return P=P.compose(f(P)),P=P.compose(v(P)),P=P.compose(u(P)),P=P.compose(h(P)),this.options.stripNewlines&&(P=P.compose(_(P))),O.diff(P)}},"TextSanitization")}c(p,"getTextSanitizationModule");const E=p(window)},4657029696:(Q,C,e)=>{"use strict";e.d(C,{A:()=>I});var t=e(7174777686),n=e(7715417323),s=e(4711108074),r=e.n(s),d=e(117342833),o=e(4200148118),a=e(308057085),i=e(3183335528),m=e(4547907890),l=e(9017940688),_=e(8312061152),v=e(5701872082),u=e(8405695339),h=e(1842363787),f=e(2354051480);function p(P){return P.replace(/([^A-Za-z0-9]|^)"(\S)/g,"$1\u201C$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1\u201D$2").replace(/([^0-9])"/g,"$1\u201D").replace(/([^A-Za-z0-9]|^)'(\S)/g,"$1\u2018$2").replace(/([a-z])'([a-z])/gi,"$1\u2019$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1\u2019$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"\u2019$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1\u2019").replace(/'/g,"\u2032")}c(p,"createSmartQuotes");function E(P){let L=P;L=L.replace(/[\u2018|\u2019]/g,"'"),L=L.replace(/[\u201c|\u201d]/g,'"');const k=[];L=(0,h.kW)(k,L,{replace_pre:!0,replace_code:!0,replace_url:!0});const G=[];return L=L.replace((0,f.A)(),b=>{const W=`<emoticon-placeholder-${Date.now()}>`;return G.push({emoticon:b,placeholder:W}),W}),L=p(L),G.forEach(b=>{L=L.replace(b.placeholder,b.emoticon)}),L=(0,h.Ki)(k,L),L}c(E,"replaceSmartQuotes");var g=e(6958543140),A=e(2005467377),y=e(3726677001),T=e(6859521351);const M=["'",'"',"\u201C","\u201D","\u2018","\u2019"];function O(P){return P.reduce((L,k)=>{if((0,o.A)(k))return(0,_.A)(k)?`${L} `:(0,v.A)(k)?`${L} `:`${L}a`;if((0,d.Ay)(k)||(0,a.Ay)(k)){const b=((0,d.Ay)(k)?(0,d._z)(k):(0,a.AQ)(k)).replace(/./g,"a");return L+b}if((0,m.A)(k)){let G=(0,m.$)(k).replace(A.i$,b=>b.replace(/./g,"a"));return G=G.replace(/:'\(/g,"aaa"),L+G}return L+k.insert},"")}c(O,"convertDeltaToTextForSmartQuotes");function I(P){const k=(0,g.A)(P).import("core/module");return c(class extends k{shouldDoSubstitutions(W){if(!W||!this.options.getTextPreferences())return!1;if(this.options.useWysiwyg&&!this.options.usePlainTextMode)return!0;const B=this.quill.getText(0,W.index+W.length);return!(0,T.A)(B)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{code:!1,"code-block":!1}},this.onSpace),this.quill.keyboard.addBinding({key:190,collapsed:!0,format:{code:!1,"code-block":!1},prefix:/\.\.$/},this.onEllipsis)}onSpace(W,B){if(this.options.isInComposition()||!this.shouldDoSubstitutions(W))return!0;const R=this.options.getTextPreferences(),j=B.prefix.substring(B.prefix.lastIndexOf(" ")+1);if(this.shouldStartSubstitution(j,R)){const w=W.index-j.length,N=this.quill.history.options.delay;return this.quill.history.options.delay=0,this.quill.updateContents(new(r())().retain(w).delete(j.length).insert(`${R.substitutions[j]} `,B.format)),this.quill.history.options.delay=N,this.lastSubstitutionMade=j,!1}return this.lastSubstitutionMade=null,!0}onEllipsis(W,B){if(this.options.isInComposition()||!this.shouldDoSubstitutions(W)||!this.options.getTextPreferences().useSmartDashes)return!0;const R=W.index-2;return this.quill.updateContents(new(r())().retain(R).delete(2).insert("\u2026",B.format)),!1}shouldBuildSmartQuotes(){const W=this.options.getTextPreferences();return!(!W||!W.useSmartQuotes)}shouldStartSubstitution(W,B){return!(this.lastSubstitutionMade===W||!Object.prototype.hasOwnProperty.call(B.substitutions,W)||!B.substitutions[W])}buildWysiwygSafeTextChangeDelta(W){const B=new(r()),R=O(W),j=R.replace(/[\u2018|\u2019]/g,"'").replace(/[\u201c|\u201d]/g,'"');if(!(0,t.A)(j,"'")&&!(0,t.A)(j,'"'))return B;const w=p(j),N=[];for(let Y=0;Y<R.length;Y++)M.indexOf(R[Y])!==-1&&M.indexOf(w[Y])!==-1&&N.push(Y);if(!N.length)return B;let K=0,J=0;return(0,u.A)(W,(Y,q)=>{const H=(0,l.A)(q),ne=(0,y.A)(Y);if(J+ne<N[0]||!(0,m.A)(Y)){J+=ne;return}N.filter(le=>le>=J&&le<J+ne).forEach(le=>{let he=w[le];if(H||(0,i.A)(Y)||(0,a.Ay)(Y))he==="\u201C"||he==="\u201D"?he='"':(he==="\u2018"||he==="\u2019")&&(he="'");else if(!this.shouldBuildSmartQuotes())return;R[le]!==he&&(B.retain(le-K).delete(1).insert(he,Y.attributes),K=le+1)}),J+=ne}),B}buildTextChangeDelta(W,B){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1};if(R.useWysiwyg&&!R.usePlainTextMode)return this.buildWysiwygSafeTextChangeDelta(W);const j=new(r());let w=0;if(!this.shouldBuildSmartQuotes())return j;const N=W.reduce((J,Y)=>{if((0,o.A)(Y))return`${J}a`;if((0,d.Ay)(Y)){const q=(0,d._z)(Y).replace(/./g,"a");return J+q}return J+Y.insert},""),K=E(N);if(N===K)return j;for(let J=0;J<N.length;J++)N[J]!==K[J]&&M.indexOf(N[J])!==-1&&M.indexOf(K[J])!==-1&&(j.retain(J-w).delete(1).insert(K[J]),w=J+1);return j}constructor(W,B){super(W,B),this.lastSubstitutionMade=null,this.options.getTextPreferences=B.getTextPreferences||n.A,this.onSpace=this.onSpace.bind(this),this.onEllipsis=this.onEllipsis.bind(this),this.shouldDoSubstitutions=this.shouldDoSubstitutions.bind(this),this.listen()}},"TextSubstitutionsModule")}c(I,"getTextSubstitutionsModule");const D=I(window)},1316182475:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(6958543140),n=e(3904348617),s=e(3225969796);function r(d){const o=(0,t.A)(d),a=o.import("core/module"),i=o.import("parchment");return c(class extends a{unload(){this.onClickOption&&this.quill.root.removeEventListener("click",this.onTokenClick)}listen(){this.onClickOption&&this.quill.root.addEventListener("click",this.onTokenClick,!1)}onTokenClick(_){if(!this.onClickOption)return!0;const v=_.target.closest(`.${s.li}`);if(v===null)return!0;const h=i.find(v).offset(this.quill.scroll),f=this.quill.getContents(h,1);if(f.ops[0]&&(0,n.Ay)(f.ops[0])){_.preventDefault(),_.stopPropagation();const p=f.ops[0].insert.workflowtoken;if(!p.isAvailable||!p.isClickable)return!0;this.onClickOption({token:p,element:v,index:h})}return!0}constructor(_,v={}){super(_,v),this.onClickOption=v.onClick,this.onTokenClick=this.onTokenClick.bind(this),this.listen()}},"WorkflowTokenModule")}c(r,"getWorkflowTokenModule")},5924356270:(Q,C,e)=>{"use strict";e.d(C,{A:()=>N});var t=e(8383907204),n=e(6958543140),s=e(3344982765),r=e(1296559413),d=e(9608867179),o=e(8239411787),a=e(4657029696),i=e(2884895025),m=e(9475882758),l=e(2024448144),_=e(9899103555),v=e(1957236872),u=e(6202619371),h=e(3409151135),f=e(8653415088),p=e(5998917644),E=e(6299559191),g=e(2557000613),A=e(7363468123),y=e(8112654178),T=e(7254545653),M=e(1306263562),O=e(1316182475),I=e(7991260153),D=e(3225969796),P=e(679304348),L=e(5960264416),k=e(7293800748),G=e(3448755266),b=e(9973095253),W=e(4587547882);const B=new WeakMap,R=c(K=>!!B.get(K),"isQuillInitialized"),j=c(K=>{B.set(K,!0)},"setQuillInitialized");function w(K){const J=(0,n.A)(K);if(R(J))return J;J.register({"modules/tabcomplete":(0,r.A)(K),"modules/textsubstitutions":(0,a.A)(K),"modules/cleanembedsincode":(0,y.A)(K),"modules/cleanemptyinput":(0,T.A)(K),"modules/clipboard":(0,d.A)(K),"modules/keyboard":(0,o.Ay)(K),"modules/slackmention":(0,_.A)(K),"modules/slackemoji":(0,h.A)(K),"modules/textchangequeue":(0,g.A)(K),"modules/textsanitization":(0,A.A)(K),"modules/autoslug":(0,s.A)(K),"modules/slacklink":(0,i.Ay)(K),"modules/slackmarkdown":(0,M.Ay)(K),"modules/slackhorizontalrule":(0,E.A)(K),"modules/workflowtoken":(0,O.A)(K),"modules/cleanworkflowtokens":(0,I.Ay)(K),"modules/slackdocslist":G.A,"modules/canvasvariable":(0,b.A)(K),"formats/slacksearchtokenmodifier":(0,m.A)(K),"formats/slacksearchtokenvalue":(0,l.A)(K),"formats/slackmention":(0,v.A)(K),"formats/slackemoji":(0,f.A)(K),"formats/unlink":(0,u.A)(K),"formats/slackhorizontalrule":(0,p.A)(K),"formats/workflowtoken":(0,D.Gs)(K),"formats/strike":(0,P.A)(K),"formats/border":(0,L.Ay)(K),"formats/canvasvariable":(0,W.Ay)(K)},!0);const{CodeBlock:Y}=(0,k.Ay)(K),q=J.import("blots/inline"),H=J.import("formats/bold"),ne=J.import("formats/italic"),te=J.import("formats/strike"),le=J.import("formats/code"),he=J.import("formats/link"),Ie=J.import("formats/unlink"),Ee=J.import("formats/slackemoji"),me=J.import("formats/slackmention"),ce=J.import("formats/workflowtoken");return Y.allowedChildren.push(q),Y.allowedChildren.push(H),Y.allowedChildren.push(ne),Y.allowedChildren.push(te),Y.allowedChildren.push(le),Y.allowedChildren.push(he),Y.allowedChildren.push(Ie),Y.allowedChildren.push(Ee),Y.allowedChildren.push(me),Y.allowedChildren.push(ce),J.register({"formats/code":Y},!0),j(J),J}c(w,"initQuill");let N=c(class extends t.A{constructor(J,Y){super(J,Y,w)}},"TextyClass")},5694593130:(Q,C,e)=>{"use strict";e.d(C,{A:()=>yn});var t=e(862210999),n=e(8786006583),s=e(9113979368),r=e(3078252698),d=e(3750057149),o=e(166097325),a=e(6696292586),i=e(7715417323),m=e(2322735331),l=e(3134334389),_=e(4332857818),v=e(5255740490),u=e(9391594207),h=e(1591473708),f=e(6422693406),p=e(8212623464),E=e(1609120853),g=e(6533394955);function A(Xt,nt,pt){if(!Xt)throw new Error('mountTextyPlaceholder missing required "teamId" parameter');if(!nt)return;const Dt=(0,g.getStoreInstanceByTeamId)(Xt);(0,E.A)(l.createElement(p.Kq,{store:Dt},pt),nt)}c(A,"mountTextyPlaceholder"),A.displayName="mountTextyPlaceholder";function y(Xt){Xt&&_.unmountComponentAtNode(Xt)}c(y,"unmountTextyPlaceholder");var T=e(796111729),M=e(3339229351),O=e(6979898962),I=e(4171528081),D=e(728937959),P=e(2574761851),L=e(3926774068),k=e(5261636424),G=e(8873262110),b=e(5924356270),W=e(6260303329),B=e(4761125736),R=e(8847766420),j=e(2047021170),w=e(6866036454),N=e(3829348308),K=e(9846149684),J=e(4797500022),Y=e(1389436147),q=e(8430184522),H=e(9599231336),ne=e(6389671326),te=e(1596328926),le=e(8232660909),he=e(2567914105),Ie=e(2375333597),Ee=e(720935990),me=e(735940183),ce=e(4227536814),X=e(7534004035),V=e(2232906703),x=e(1031947056),S=e(5060694341),U=e(387484329),F=e(9781408031),Z=e(4275787242),z=e(2036354333),$=e(9190452268);const ee=new me.Ay("markdown_paste_toast");var de;(function(Xt){Xt[Xt.DONT_SHOW=-1]="DONT_SHOW",Xt[Xt.UNSEEN=0]="UNSEEN",Xt[Xt.SEEN=1]="SEEN"})(de||(de={}));let ie=c(class extends l.Component{onApplyFormattingClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_apply"),this.props.hasSeenToastValue===de.UNSEEN&&this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:de.SEEN}),this.props.dismissCurrentToast(),this.props.applyFormatting()}onDontShowClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_dont_show"),this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:de.DONT_SHOW}),this.props.dismissCurrentToast()}renderContent(){const nt=l.createElement(z.A,{className:"underline",onClick:this.onDontShowClick},ee.t("Don\u2019t ask again"));if(this.props.hasSeenToastValue===de.UNSEEN){const Qt=l.createElement(z.A,{className:"underline",onClick:this.onApplyFormattingClick},ee.t("Apply formatting")),tn=ee.t("Looks like your content contains markdown.");return l.createElement("div",null,tn,l.createElement("br",null),Qt," ",nt)}const pt=l.createElement(z.A,{className:"underline",onClick:this.onApplyFormattingClick},ee.t("Apply")),Dt=ee.t("Apply formatting?");return l.createElement("div",null,Dt," ",pt," ",nt)}render(){if(this.props.hasSeenToastValue===de.DONT_SHOW)return null;this.props.telemeter.count("wysiwyg_markdown_paste_toast_shown");const nt=this.renderContent();return l.createElement(Z.A,{duration:1e3*10},l.createElement("div",null,nt))}constructor(nt){super(nt),(0,m.v)(this,["onApplyFormattingClick","onDontShowClick"])}},"MarkdownPasteToast");ie.displayName="MarkdownPasteToast",ie.defaultProps={hasSeenToastValue:de.DONT_SHOW};const ue=(0,u.N)(Xt=>({telemeter:(0,$.Cy)({state:Xt}),hasSeenToastValue:(0,j.ty)(Xt,"seen_markdown_paste_toast")}),{dismissCurrentToast:()=>(0,F.Z)(),setUserPrefByApi:Xt=>{let{pref:nt,value:pt}=Xt;return(0,U.AZ)({pref:nt,value:pt})}})(ie);var fe=e(571104883),re=e(5733135148);const _e=new me.Ay("markdown_paste_toast");let Ue=c(class extends l.Component{render(){this.props.telemeter.count("wysiwyg_markdown_paste_shortcut_toast_shown");const nt=_e.rt("You can do this any time with <span>Ctrl Shift F</span>"),pt=_e.rt("You can do this any time with <span>\u2318 Shift F</span>");return l.createElement(re.Ay,{fadeDelay:1e3*5},l.createElement("div",null,(0,fe.cX)()?pt:nt))}},"MarkdownPasteShortcutToast");Ue.displayName="MarkdownPasteShortcutToast";const ye=(0,u.N)(Xt=>({telemeter:(0,$.Cy)({state:Xt})}))(Ue),Te=(0,x.Ay)("Show markdown paste toast",(Xt,nt,pt)=>{let{applyFormatting:Dt}=pt;const Qt=nt();return Xt((0,S.M)({element:l.createElement(ue,{applyFormatting:()=>{const tn=(0,j.ty)(Qt,"seen_markdown_paste_shortcut");tn<3&&(Xt((0,S.M)({element:l.createElement(ye)})),Xt((0,U.AZ)({pref:"seen_markdown_paste_shortcut",value:tn+1}))),Dt()}})}))});Te.meta={name:"createThunk",key:"createThunkshowMarkdownPasteToast",description:"Show markdown paste toast"};const ge=Te;var Ae=e(1026029255),Re=e(7549504934);const Be=new me.Ay("csv_tsv_paste_toast");var ke;(function(Xt){Xt.CSV="CSV",Xt.TSV="TSV"})(ke||(ke={}));let se=c(class extends l.Component{hideToast(){const{dispatchDismissCurrentToast:nt}=this.props;nt()}onConvertToSnippet(){const{dispatchDismissCurrentToast:nt,openCsvTsvSnippetDialog:pt,clearText:Dt}=this.props;nt(),pt(),Dt()}renderContent(){const{experimentCsvTsvAutocaptureGroupOn:nt,experimentBlockUnfurlsGroupOn:pt}=this.props,Dt=l.createElement(z.A,{"data-qa":"toast-do-nothing-btn",className:"underline",onClick:this.hideToast},nt?Be.t("No, do nothing"):""),Qt=l.createElement(z.A,{"data-qa":"toast-open-snippet-modal-btn",className:"underline",onClick:this.onConvertToSnippet},nt&&!pt?Be.t("Yes, convert to snippet"):"",pt?Be.t("Yes, convert to table"):"");let tn=nt?Be.t("Looks like you\u2019ve pasted {contentType} data. Convert it to a snippet so it looks like a table?",{contentType:this.props.contentType.toUpperCase()}):"";return pt&&(tn=Be.t("Looks like you\u2019ve pasted {contentType} data. Convert it to a table?",{contentType:this.props.contentType.toUpperCase()})),l.createElement("div",null,tn,l.createElement("br",null),Qt," ",Dt)}render(){const nt=this.renderContent();return l.createElement(re.Ay,{fadeDelay:1e3*10},l.createElement("div",null,nt))}constructor(nt){super(nt),(0,m.v)(this,["onConvertToSnippet","hideToast"])}},"BaseCsvTsvPasteToast");se.displayName="BaseCsvTsvPasteToast",se.defaultProps={contentType:ke.TSV,experimentCsvTsvAutocaptureGroupOn:!1,experimentBlockUnfurlsGroupOn:!1,openCsvTsvSnippetDialog:i.A,clearText:i.A,dispatchDismissCurrentToast:i.A};const ve=c(Xt=>({experimentCsvTsvAutocaptureGroupOn:(0,B._Z)(Xt,"csv_tsv_autocapture")==="on",experimentBlockUnfurlsGroupOn:(0,B._Z)(Xt,"block_unfurls")==="on"}),"mapStateToProps"),Me=c(Xt=>({dispatchDismissCurrentToast:()=>Xt((0,F.Z)())}),"mapDispatchProps"),be=(0,Re.N)(ve,Me)(se),xe=null,Le=(0,x.Ay)("Show Csv Tsv paste toast message",(Xt,nt,pt)=>{let{contentType:Dt,openCsvTsvSnippetDialog:Qt,clearText:tn}=pt;return(0,Ae.xD)(nt())&&Xt((0,F.Z)()),Xt((0,S.M)({element:l.createElement(be,{contentType:Dt,openCsvTsvSnippetDialog:Qt,clearText:tn})}))});Le.meta={name:"createThunk",key:"createThunkshowCsvTsvPasteToast",description:"Show Csv Tsv paste toast message"};const Ke=Le;var He=e(3849593061),Ye=e(4327331459),Xe=e(4862221402),et=e(8040098042),st=e(6244014364),ot=e(9205400085),ct=e(588672655),at=e(8289365785);let At={index:0,length:0};function Ct(Xt){let{quill:nt,line:pt,blockType:Dt}=Xt;var Qt,tn,an,ht;return(!(pt!=null&&pt.prev)||(pt==null||(Qt=pt.prev)===null||Qt===void 0||(tn=Qt.statics)===null||tn===void 0?void 0:tn.blotName)!==Dt)&&(At.index=nt.getIndex(pt)),pt!=null&&pt.prev&&(pt==null||(an=pt.prev)===null||an===void 0||(ht=an.statics)===null||ht===void 0?void 0:ht.blotName)===Dt?Ct({quill:nt,line:pt.prev,blockType:Dt}):At}c(Ct,"adjustRangeIndex");function Tt(Xt){let{quill:nt,line:pt,blockType:Dt}=Xt;var Qt,tn,an,ht;const yt=nt.getIndex(pt);if(!(pt!=null&&pt.next)||(pt==null||(Qt=pt.next)===null||Qt===void 0||(tn=Qt.statics)===null||tn===void 0?void 0:tn.blotName)!==Dt){var Ut;At.length=yt+(pt==null||(Ut=pt.cache)===null||Ut===void 0?void 0:Ut.length)-At.index}return pt!=null&&pt.next&&(pt==null||(an=pt.next)===null||an===void 0||(ht=an.statics)===null||ht===void 0?void 0:ht.blotName)===Dt&&Tt({quill:nt,line:pt.next,blockType:Dt}),At}c(Tt,"adjustRangeLength");function Rt(Xt){let{blockType:nt,quill:pt,range:Dt}=Xt;var Qt;const tn=Dt==null?void 0:Dt.index,an=Dt==null?void 0:Dt.length,[ht]=pt.getLine(tn);if(At={index:tn,length:0},(ht==null||(Qt=ht.statics)===null||Qt===void 0?void 0:Qt.blotName)===nt){if(Ct({quill:pt,line:ht,blockType:nt}),Tt({quill:pt,line:ht,blockType:nt}),an>0&&nt==="list-item"){const yt=pt.getLines(tn,an);if(yt!=null&&yt.length){const Ut=(0,at.A)(yt);if(Ut!=null&&Ut.prev&&Ct({quill:pt,line:Ut.prev,blockType:nt}),(yt==null?void 0:yt.length)>1){const Gt=(0,n.A)(yt);Gt!=null&&Gt.next?Tt({quill:pt,line:Gt.next,blockType:nt}):Tt({quill:pt,line:Gt,blockType:nt})}}}return At}return Dt}c(Rt,"adjustSelectionToCoverBlock");var It=e(5543919295),Mt=e(4518410378),nn=e(1563996154),Ot=e(2312625946),bt=e(7765212398),Jt=e(8841789548);function en(Xt){let{enableComposerButton:nt,enableEmojiButton:pt,enableFileButton:Dt,enableMentionButton:Qt,enableSendButton:tn,enableStickyComposer:an,enableStoryButton:ht,enableAudioButton:yt,isExpanded:Ut,isPlainTextModeEnabledPref:Gt}=Xt,mn=0;const Oe=an&&!Gt;return Ut||Oe?mn+=1:Oe||(pt&&(mn+=1),Qt&&(mn+=1),nt&&!Gt&&(mn+=1),tn&&(mn+=1),Dt&&(mn+=1),ht&&(mn+=1),yt&&(mn+=1)),mn}c(en,"getNumInsetButtons");var sn=e(2418895410),zt=e(698347924);const Yt=new me.Ay("share-dialog");function hn(Xt){let{numCharsOverLimit:nt=0}=Xt;return nt<=0?null:l.createElement(nn.Ay,{tip:Yt.rt("Your message is {count, plural, =1 {# character} other {# characters}} too long",{count:nt}),zIndex:"menu",position:"top-right"},l.createElement("div",{className:"c-texty_input_unstyled__warning"},"-",(0,zt.ZV)(nt)))}c(hn,"TextyLengthWarning"),hn.displayName="TextyLengthWarning";const Qe=l.memo(hn);var Wt=e(7394828365),gn=e(3862871806),rn=e(2664504268),ut=e(1703559452);const Pt=c(Xt=>{const nt=Xt.split(`
`).map(Dt=>Dt.split("	"));if(nt.length>10||(0,ut.A)(nt,Dt=>!!(Dt.length>10||(0,ut.A)(Dt,Qt=>Qt.length>120))))return null;const pt=nt.map((Dt,Qt)=>Dt.map(tn=>({type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:tn,style:{bold:Qt===0}}]}]})));return{type:"table",block_id:(0,rn.A)(),rows:pt}},"convertTsvToTableBlock");function Bt(){return Bt=Object.assign||function(Xt){for(var nt=1;nt<arguments.length;nt++){var pt=arguments[nt];for(var Dt in pt)Object.prototype.hasOwnProperty.call(pt,Dt)&&(Xt[Dt]=pt[Dt])}return Xt},Bt.apply(this,arguments)}c(Bt,"_extends");const Ft=new me.Ay("msg_input"),un={LARGE:"large",MEDIUM:"medium"},Sn={numCharsOverLimit:0,tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0,indicateTopScroll:!1,indicateBottomScroll:!1};let Un=c(class extends O.I{componentDidMount(){var nt,pt;const{initialText:Dt,focusOnMount:Qt,teamId:tn,onMount:an,useExpandedRichText:ht}=this.props;if(ht?this.instance=new W.A(this.container,this.getOptions()):this.instance=new b.A(this.container,this.getOptions()),this.setupInputListeners(),!this.instance){(0,T.Ay)({teamId:tn}).error("TextyInput: could not create instance");return}(pt=(nt=this).contextSetTextyInstance)===null||pt===void 0||pt.call(nt,this.instance),Dt&&(this.value(Dt,{isSilent:!0}),this.clearHistory()),this.onMountTimeout=Mt.J.setTimeout(()=>{Qt&&this.setCursorAtEnd(),an&&an()},0),this.handlePropChanges()}componentDidUpdate(nt){this.handlePropChanges(nt)}componentWillUnmount(){this.unmountPlaceholder(),this.removeInputListeners(),this.instance&&this.instance.unload(),this.onMountTimeout&&clearTimeout(this.onMountTimeout)}setupInputListeners(){this.setupScrollListener(),this.setupResizeListener()}removeInputListeners(){var nt,pt;const Dt=(nt=this.instance)===null||nt===void 0||(pt=nt.quill)===null||pt===void 0?void 0:pt.root;Dt&&(Dt.removeEventListener("scroll",this.scrollListenerRaf),this.resizeListener.disconnect())}calculateInputOffsetScroll(){var nt,pt;const Dt=(nt=this.instance)===null||nt===void 0||(pt=nt.quill)===null||pt===void 0?void 0:pt.root,Qt=Dt.scrollHeight>Dt.clientHeight,tn=Qt&&Dt.scrollTop>0,an=Qt&&Dt.scrollTop<Dt.scrollHeight-Dt.clientHeight;this.setState(()=>({indicateTopScroll:tn,indicateBottomScroll:an}))}setupResizeListener(){var nt,pt;const Dt=(nt=this.instance)===null||nt===void 0||(pt=nt.quill)===null||pt===void 0?void 0:pt.root;Dt&&(this.resizeListener=(0,G.A)(()=>{this.calculateInputOffsetScroll()},250),this.resizeListener.observe(Dt))}scrollListenerRaf(){if(!this.scrollTicking){var nt;(nt=this.windowRef.deref())===null||nt===void 0||nt.requestAnimationFrame(()=>{this.calculateInputOffsetScroll(),this.scrollTicking=!1}),this.scrollTicking=!0}}setupScrollListener(){var nt,pt;const Dt=(nt=this.instance)===null||nt===void 0||(pt=nt.quill)===null||pt===void 0?void 0:pt.root;Dt&&Dt.addEventListener("scroll",this.scrollListenerRaf)}onMouseOut(nt){const{showTextyTooltips:pt}=this.props;pt&&!this.mentionReplaceTimer&&(nt.target.classList.contains("c-member_slug")||nt.target.classList.contains("emoji"))&&this.hideTooltip()}onMouseOver(nt){const{showTextyTooltips:pt}=this.props;pt&&(nt.target.classList.contains("c-member_slug")||nt.target.classList.contains("emoji"))&&this.showTooltip(nt.target,nt)}onTextChange(nt,pt,Dt){_.unstable_batchedUpdates(()=>{const{onTextChange:Qt,useWysiwyg:tn,isPlainTextModeEnabledPref:an}=this.props,{tooltipShowing:ht}=this.state;this.updateActiveFormats(),this.updateToolbarPosition(),tn&&!an&&this.props.closeTextyModals(void 0),!this.mentionReplaceTimer&&ht&&this.hideTooltip(),(0,Ot.Ws)(),(0,nn.Ws)(this.windowRef.deref());const yt=c(()=>{const Gt=this.container.querySelector(".ql-editor");return Gt.clientHeight<Gt.scrollHeight},"getHasScrollbar"),Ut=this.getNumCharsOverLimit();this.setState(()=>({numCharsOverLimit:Ut})),this.hideToolbarOverflow(),Qt&&Qt(nt,yt,pt,Dt)})}hasWarning(){const{numCharsOverLimit:nt}=this.state;return nt>0}getNumCharsOverLimit(){const{maxLength:nt,useWysiwyg:pt}=this.props,Dt=nt||0;if(Dt<=0||Dt>200&&this.instance.getLength()<Dt/2)return 0;let Qt;const tn=this.instance.getDelta();return pt?Qt=(0,q.A)(tn):Qt=(0,J.A)({contents:tn.ops}).length,Math.max(0,Qt-Dt)}onSelectionChange(nt){_.unstable_batchedUpdates(()=>{const{onSelectionChange:pt,textyModalIsOpen:Dt}=this.props;this.updateActiveFormats(),this.preventToolbarOnNextSelection||Dt||!nt||!nt.length?(this.preventToolbarOnNextSelection=!1,this.resetToolbarPosition()):this.updateToolbarPosition(),this.hideToolbarOverflow(),pt&&pt(nt)})}onScrollOptimize(){this.updateActiveFormats(),this.updateToolbarPosition()}onResize(){this.updateToolbarPosition()}onDrop(nt){const pt=this.props.dragLinksToComposer({dragEvent:nt,inputProxy:this.instance});pt!=null&&pt.length&&this.insertContentsAtCursor({contents:{ops:pt.ops}})}onLinkClick(nt,pt,Dt,Qt){const{isPlainTextModeEnabledPref:tn,renderWorkflowBuilderEditLinkInput:an,renderUrlWithWorkflowBuilderVariable:ht}=this.props;if(tn)return;const yt=this.instance.getSelection(),Ut=(0,Jt.A)(Dt.ops,{embedReplacement:"\uE000"}),Gt=Ut.indexOf("\uE000")===-1;this.preventToolbarOnNextSelection=!0,this.instance.setSelection(Qt.index,Qt.length),this.props.openTextyEditLinkModal({initialRange:yt,adjustedRange:Qt,anchorElement:nt,initialText:Ut,initialUrl:pt,textIsEditable:Gt,initialContents:Dt,source:st.MsgFormattingInputSource.TOOLBAR,quill:this.instance.quill,renderWorkflowBuilderEditLinkInput:an,renderUrlWithWorkflowBuilderVariable:ht})}onMentionReplace(nt){let{replacements:pt,isLastReplacement:Dt}=nt;var Qt;if(!Dt||pt.length!==1||pt[0].id==="UNVERIFIED")return;const tn=this.container.querySelectorAll(`ts-mention[data-id=${pt[0].id}]`);if(tn.length!==1||tn[0].offsetTop<this.container.offsetTop)return;const an=pt[0].id,ht=(0,Ye.A)(an)?an:void 0,yt=(0,Xe.A)(an)?an:void 0,Ut=(0,et.A)(an)?an:void 0;this.setState(()=>({tooltipShowing:!0,tooltipMemberId:ht,tooltipUserGroupId:yt,tooltipChannelId:Ut,tooltipTitle:void 0,tooltipTargetBounds:tn[0].getBoundingClientRect()})),this.mentionReplaceTimer=((Qt=this.windowRef.deref())===null||Qt===void 0?void 0:Qt.setTimeout(()=>{this.mentionReplaceTimer=null,this.hideTooltip()},1500))||null}getOptions(){const{id:nt,ariaLabel:pt,ariaLabelledBy:Dt,ariaDescribedBy:Qt,ariaInvalid:tn,ariaAutocomplete:an,ariaControls:ht,ariaExpanded:yt,ariaActiveDescendant:Ut,inputMetricBoundary:Gt,onEnter:mn,onPlusMenuShortcut:Oe,onEscape:we,onTab:Fe,isSingleLine:qe,enableBroadcastKeywords:ze,includeAllBroadcastKeywords:Ge,showTextyTooltips:Ze,teamId:_t,isPlainTextModeEnabledPref:Et,useWorkflowTokens:je,useExpandedRichText:oe,workflowTokenClick:pe,useWysiwyg:Se,enableStickyComposer:Ne,onBackspace:lt,forceChannelTaggingDisabled:dt,forceAutoslugginEnabled:it,role:kt,windowRef:$t,isMultiverseQuillEnabled:ln}=this.props;return{id:nt,modules:{keyboard:this.getKeyboardModule(),slackmention:!0,textsubstitutions:this.getTextSubstitutionsModule(),clipboard:this.getClipboardModule(),tabcomplete:this.getTabCompleteModule(),cleanembedsincode:!0,cleanemptyinput:!0,cleanworkflowtokens:je,slackhorizontalrule:oe,slackdocslist:oe,canvasvariable:oe},onBlur:()=>{var An,In,Nn,kn;this.hideToolbarOverflow(),(In=(An=this).contextSetIsFocused)===null||In===void 0||In.call(An,!1),(kn=(Nn=this.props).onBlur)===null||kn===void 0||kn.call(Nn)},onFocus:()=>{var An,In,Nn,kn;(In=(An=this.props).onFocus)===null||In===void 0||In.call(An),(kn=(Nn=this).contextSetIsFocused)===null||kn===void 0||kn.call(Nn,!0)},onEnter:mn?An=>{var In,Nn;return(Nn=(In=this.props).onEnter)===null||Nn===void 0?void 0:Nn.call(In,An)}:void 0,onBackspace:lt?()=>{var An,In;return(In=(An=this.props).onBackspace)===null||In===void 0?void 0:In.call(An)}:void 0,onEscape:()=>{if(this.contextRequestFloatingToolbarClose&&this.contextRequestFloatingToolbarClose(),we)return this.props.onEscape?this.props.onEscape():void 0},onTab:Fe?An=>{var In,Nn;return(Nn=(In=this.props).onTab)===null||Nn===void 0?void 0:Nn.call(In,An)}:void 0,onTextChange:this.onTextChange,onSelectionChange:this.onSelectionChange,onScrollOptimize:this.onScrollOptimize,onCompositionEnd:this.props.onCompositionEnd,onResize:this.onResize,onLinkClick:this.onLinkClick,showLinkForm:this.showLinkForm,singleLineInput:qe,enableBroadcastKeywords:ze,includeAllBroadcastKeywords:Ge,isJumbomojiEnabled:()=>(0,t.A)(this.props.enableJumbomoji)?this.props.enableJumbomoji():this.props.enableJumbomoji,convertEmoticonsIsEnabled:()=>this.props.enableEmoticons,replaceNativeEmoji:!0,usePlainTextMode:Et,inlineEmojiIsEnabled:()=>!this.props.isEmojiDisplayedAsText,getLocale:()=>this.props.locale,getTeamId:()=>this.props.teamId,getChannelId:()=>this.props.channelId,getUserHighlightWords:()=>this.props.userHighlightWords,isAutocompleteOpen:()=>this.props.isAutocompleteOpen,promiseToSearchMembers:this.promiseToSearchMembers,promiseToSearchChannels:this.promiseToSearchChannels,promiseToSearchEmoji:this.promiseToSearchEmoji,onMentionReplace:this.onMentionReplace,className:"c-texty_input_unstyled",inputMetricBoundary:Gt,ariaLabel:pt,ariaLabelledBy:Dt,ariaDescribedBy:Qt,ariaInvalid:tn,ariaAutocomplete:an,ariaControls:ht,ariaExpanded:yt,ariaActiveDescendant:Ut,tabIndex:"0",showTextyTooltips:Ze,getEmojiNames:()=>this.props.emojiNames,logger:(0,T.Ay)({teamId:_t}),useWorkflowTokens:je,useExpandedRichText:oe,workflowTokenClick:pe,onPlusMenuShortcut:Oe,nestedListDepth:M.Az,useWysiwyg:Se,useStickyComposer:!1,enableStickyComposer:Ne,useChannelTagging:!dt,forceAutoslugginEnabled:it,scrollingContainerSelector:"c-texty_input_unstyled__container",role:kt,window:$t.deref(),isMultiverseQuillEnabled:ln}}getKeyboardModule(){const{featureReactMessages:nt,onCmdLeftWhenEmpty:pt,onCmdRightWhenEmpty:Dt,onCmdZWhenEmpty:Qt,onCmdKWhenSelected:tn,onDownArrowWhenEmpty:an,onUpArrow:ht,onDownArrow:yt,onRightArrow:Ut,onLeftArrow:Gt,onSelectAll:mn,onPageUp:Oe,onPageDown:we}=this.props,Fe={featureReactMessages:nt,onCmdLeftWhenEmpty:pt,onCmdRightWhenEmpty:Dt,onCmdZWhenEmpty:Qt,onCmdKWhenSelected:tn,onDownArrowWhenEmpty:an,shouldInsertNewline:(qe,ze)=>this.props.isSingleLine?!1:(0,He.A)({...qe,enterCreatesNewlinePref:this.props.enterCreatesNewlinePref,isCursorInPreBlock:this.instance.isCursorInPreBlock(),usePreNewlines:this.props.usePreNewlines,followsTripleBackticks:ze})};return ht&&(Fe.onUpArrow=()=>ht({}),Fe.onUpArrowCmd=()=>ht({cmdKey:!0}),Fe.onUpArrowShift=()=>ht({shiftKey:!0})),yt&&(Fe.onDownArrow=()=>yt({}),Fe.onDownArrowCmd=()=>yt({cmdKey:!0}),Fe.onDownArrowShift=()=>yt({shiftKey:!0})),Ut&&(Fe.onRightArrow=()=>Ut()),Gt&&(Fe.onLeftArrow=()=>Gt()),mn&&(Fe.onSelectAll=()=>mn()),Oe&&(Fe.onPageUp=()=>Oe()),we&&(Fe.onPageDown=()=>we()),Fe}getTabCompleteModule(){const{autocompleteConfig:nt}=this.props;return nt?{tooltipIsShowing:()=>this.state.tooltipShowing,tooltipShow:pt=>{this.showTooltip(pt)},tooltipHide:()=>{this.hideTooltip()},...nt}:null}getTextSubstitutionsModule(){return this.props.disableTextSubstitutions?null:{getTextPreferences:()=>this.props.isAutocompleteOpen?null:(0,le.Tp)()}}getContents(){return this.instance.getContents()}getText(){return this.instance.getText()}getContentsForRange(nt,pt){return this.instance.getContentsForRange(nt,pt)}getSelection(){return this.instance.getSelection()}getFormatForQuotedObjects(nt){var pt,Dt,Qt,tn,an,ht,yt;const Ut=this.instance.getFormat(nt),Gt=Rt({blockType:"list-item",quill:this.instance.quill,range:nt}),mn=Gt&&(Gt==null?void 0:Gt.length)>0&&this.instance.quill.getLines(Gt),Oe=(0,n.A)(mn);if((Oe==null||(pt=Oe.statics)===null||pt===void 0?void 0:pt.blotName)==="block"&&(Oe==null||(Dt=Oe.children)===null||Dt===void 0||(Qt=Dt.head)===null||Qt===void 0||(tn=Qt.statics)===null||tn===void 0?void 0:tn.blotName)==="break"&&(Oe==null||(an=Oe.children)===null||an===void 0||(ht=an.tail)===null||ht===void 0||(yt=ht.statics)===null||yt===void 0?void 0:yt.blotName)==="break"&&mn.pop(),mn!=null&&mn.length){let we=!1;if(we=(0,It.mj)(mn),we){const Fe=this.instance.getFormat(Gt);return{...Ut,...Fe,blockquote:!0}}}}getFormat(nt){return this.getFormatForQuotedObjects(nt)||this.instance.getFormat(nt)}getLength(){return this.instance.getLength()}getClipboardModule(){const{onPasteLimit:nt,openSnippetDialog:pt,isCsvTsvPastingEnabled:Dt,isCanvasListTaggingEnabled:Qt}=this.props;return{shouldFocusOnPaste:()=>this.props.focusOnPaste&&this.props.isAttentionOnChat,showMarkdownPasteToast:this.props.showMarkdownPasteToast,showCsvTsvPasteToast:this.props.showCsvTsvPasteToast,getChannelId:()=>this.props.channelId,getThreadTs:()=>this.props.threadTs,onPasteLimit:(tn,an)=>an&&an.length()>M.Sd?(tn.stopPropagation(),tn.preventDefault(),nt?nt(tn,an):this.props.openModal({element:this.renderPasteLimitDialog(),isStackable:!0}),!0):!1,onPaste:()=>this.props.onPaste?this.props.onPaste():!1,openCsvTsvSnippetDialog:(tn,an)=>{if(pt){if(this.props.experimentBlockUnfurlsGroupOn&&this.props.insertCsvTsvAsBlockUnfurl){const ht=Pt(tn);if(ht){this.props.insertCsvTsvAsBlockUnfurl(ht);return}}pt({initialText:tn,initialChannelId:this.props.channelId,threadTs:this.props.threadTs,viewContext:this.props.viewContext||"",initialType:"tsv",initialContents:{contents:an.ops}})}},getCsvTsvPastingEnabled:()=>Dt,getBlockUnfurlsEnabled:()=>this.props.experimentBlockUnfurlsGroupOn,getCanvasListTaggingEnabled:()=>Qt}}setContainerRef(nt){this.container=nt}setContents(nt){return this.instance.setContents(nt)}setCursorAtEnd(){this.instance.setSelectionAtEnd()}isCursorAtStart(){return this.instance.getSelection().index===0}maybeTriggerMentionAutocomplete(){this.instance.maybeTriggerMentionAutocomplete()}setCursor(nt){let pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.container&&this.instance.setSelection(nt,pt)}insertContentsAtCursor(nt){let pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user";this.container&&this.instance.insertContentsAtCursor(nt,pt,Dt)}clearHistory(){return this.instance.clearHistory()}isEnabled(){return this.instance.isEnabled()}prependContents(nt){return this.instance.prependContents(nt)}value(nt){let{isSilent:pt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{userHighlightWords:Dt,isEmojiDisplayedAsText:Qt,emojiNames:tn,locale:an,useWorkflowTokens:ht,workflowTokens:yt,tagChannelsAsSearchGeneric:Ut,forceChannelTaggingDisabled:Gt}=this.props;if(nt!==void 0){if((0,s.A)(nt))this.clear();else{let mn=nt;(0,r.A)(nt)&&(mn=(0,K.A)(nt,{highlightWords:Dt,shouldRenderEmojiAsText:Qt,emojiNames:tn,locale:an,workflowTokens:ht?yt:void 0,useChannelTagging:!Gt,tagChannelsAsSearchGeneric:Ut}));const Oe={};pt&&(Oe.source="silent"),this.instance.setContents(mn,Oe)}return}return(0,Y.A)(this.instance.getContents(),{tagChannelsAsSearchGeneric:Ut})}displayValue(){return(0,J.A)(this.instance.getContents(),this.props.userHighlightWords)}clear(){let{isSilent:nt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.instance.clear({is_silent:nt})}hasActiveDescendantChanged(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{ariaActiveDescendant:pt,experimentA11YOmniswitcherResetActiveDescendantGroupOn:Dt}=this.props,Qt=nt.ariaActiveDescendant,tn=Qt!==pt;return Dt||Qt&&pt?tn:!1}handlePropChanges(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{placeholder:pt,enableSpellCheck:Dt,isDisabled:Qt,isPlainTextModeEnabledPref:tn,overlayIsOpen:an,ariaLabel:ht,ariaDescribedBy:yt,ariaInvalid:Ut,enableBroadcastKeywords:Gt,ariaActiveDescendant:mn,teamId:Oe,useExpandedRichText:we}=this.props;if(nt.enableSpellCheck!==Dt&&this.container.querySelector("[contenteditable=true]").setAttribute("spellcheck",Dt),nt.isDisabled!==Qt&&(Qt?this.instance.disable():this.instance.enable()),nt.placeholder!==pt&&this.updatePlaceholder(),this.hasActiveDescendantChanged(nt)&&this.instance.setActiveDescendant(mn),nt.ariaLabel!==ht&&this.instance.setAriaLabel(ht),nt.ariaDescribedBy!==yt&&this.instance.setAriaDescribedBy(yt),nt.ariaInvalid!==Ut&&this.instance.setAriaInvalid(Ut),(0,d.A)(nt.isPlainTextModeEnabledPref)&&(0,d.A)(tn)&&nt.isPlainTextModeEnabledPref!==tn||(0,d.A)(nt.enableBroadcastKeywords)&&(0,d.A)(Gt)&&nt.enableBroadcastKeywords!==Gt&&nt.channelId===this.props.channelId){var Fe,qe;(0,T.Ay)({teamId:Oe}).info("Texty-Input",`Recreates the texty class instance for channelId ${this.props.channelId} `);const ze=this.getContents();this.instance&&this.instance.unload(),we?this.instance=new W.A(this.container,this.getOptions()):this.instance=new b.A(this.container,this.getOptions()),(qe=(Fe=this).contextSetTextyInstance)===null||qe===void 0||qe.call(Fe,this.instance),this.setContents(ze),an||this.setCursorAtEnd(),this.updatePlaceholder()}}focus(){this.instance.focus()}blur(){this.instance.blur()}selectAll(){this.instance.selectAll()}isEmpty(){let{doIgnoreWhitespace:nt=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pt=this.value();return pt&&nt&&(pt=pt.trim()),!pt}hasFocus(){var nt;return(nt=this.instance)===null||nt===void 0?void 0:nt.hasFocus()}resetToolbarPosition(){this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(void 0)}updateToolbarPosition(){var nt;const{enableStickyComposer:pt,useStickyComposer:Dt,useWysiwyg:Qt,isPlainTextModeEnabledPref:tn}=this.props;if(!Qt||tn||Dt&&pt)return;const an=this.getSelection();if(!an||!an.length){this.resetToolbarPosition();return}const ht=this.instance.quill.getBounds(an.index,an.length),yt=getComputedStyle(this.instance.quill.root),Ut=this.instance.quill.root.clientWidth-parseInt(yt.paddingLeft,10)-parseInt(yt.paddingRight,10),Gt=this.instance.quill.root.parentNode.getBoundingClientRect(),mn=(Gt==null?void 0:Gt.left)||0,Oe=(Gt==null?void 0:Gt.top)||0,we=(Gt==null?void 0:Gt.width)||0,Fe={rect:ht,editorWidth:Ut,containerLeftBound:mn,containerTopBound:Oe,containerWidthBound:we,viewportWidth:((nt=this.windowRef.deref())===null||nt===void 0?void 0:nt.document.documentElement.clientWidth)||0};this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(Fe)}hideToolbarOverflow(){this.contextSetToolbarOverflowVisible&&this.contextSetToolbarOverflowVisible(!1)}updateActiveFormats(){const nt=this.getSelection(),pt=nt?this.getFormat(nt):{},Dt=Object.keys(pt).map(Qt=>{if(Qt==="header")return`h${pt[Qt]}`;if(Qt==="list"){if(pt[Qt]==="bullet")return"bullet-list";if(pt[Qt]==="ordered")return"ordered-list";if(["unchecked","checked"].includes(pt[Qt]))return"check-list"}return Qt});this.contextSetActiveFormats&&this.contextSetActiveFormats(Qt=>(0,o.A)(Qt,Dt)?Qt:Dt)}showTooltip(nt,pt){if(this.getSelection().length>0)return;const Dt=nt.getAttribute("data-id"),Qt=Dt!=="UNVERIFIED"&&(0,Ye.A)(Dt)?Dt:null,tn=Dt!=="UNVERIFIED"&&(0,Xe.A)(Dt)?Dt:null,an=(0,et.A)(Dt)?Dt:null,ht=nt.getAttribute("data-title");if(!nt.classList.contains("emoji")&&!ht&&!(Qt||an||tn))return;this.mentionReplaceTimer&&(clearTimeout(this.mentionReplaceTimer),this.mentionReplaceTimer=null);const Ut=nt.getClientRects(),Gt=pt&&Array.from(Ut).find(mn=>pt.clientY>=mn.top&&pt.clientY<=mn.bottom&&pt.clientX>=mn.left&&pt.clientX<=mn.right)||Ut[0];this.setState(()=>({tooltipShowing:!0,tooltipMemberId:Qt,tooltipUserGroupId:tn,tooltipChannelId:an,tooltipTitle:ht,tooltipTargetBounds:Gt}))}hideTooltip(){this.setState(()=>({tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0}))}showLinkForm(nt){let{source:pt}=nt;this.preventToolbarOnNextSelection=!0,this.props.openTextyLinkFormBasedOnSelection({textyInstance:this.instance,source:pt})}promiseToSearchMembers(nt){const{channelId:pt,enableBroadcastKeywords:Dt,includeAllBroadcastKeywords:Qt}=this.props;return this.props.autocompleteMembers({query:nt,enableBroadcastKeywords:Dt,includeAllBroadcastKeywords:Qt,channelId:pt})}promiseToSearchChannels(nt){return this.props.autocompleteChannels({query:nt})}promiseToSearchEmoji(nt,pt){return this.props.autocompleteEmoji({query:nt,useSearcherSessions:pt})}renderPasteLimitDialog(){return l.createElement(Ee.Ay,{title:Ft.t("That\u2019s a bit too long to paste"),goButtonText:Ft.t("OK")},Ft.t("To keep things running smoothly, there\u2019s a limit on the number of characters you can paste into Slack."))}updatePlaceholder(){var nt;const{placeholder:pt,teamId:Dt}=this.props,Qt=(nt=this.container)===null||nt===void 0?void 0:nt.querySelector(".ql-placeholder");A(Dt,Qt,pt)}unmountPlaceholder(){var nt;const pt=(nt=this.container)===null||nt===void 0?void 0:nt.querySelector(".ql-placeholder");y(pt)}render(){var nt=this;const{className:pt,isExpanded:Dt,isInvalid:Qt,isSingleLine:tn,maxLines:an,minLines:ht,useFocusRing:yt,size:Ut,enableActionsButton:Gt,a11yUnderlineLinks:mn,noSingleLineStyling:Oe,todosFromComposerEnabled:we}=this.props,{numCharsOverLimit:Fe,tooltipShowing:qe,tooltipMemberId:ze,tooltipUserGroupId:Ge,tooltipChannelId:Ze,tooltipTitle:_t,tooltipTargetBounds:Et,indicateTopScroll:je,indicateBottomScroll:oe}=this.state,pe=(0,a.A)(ht)&&ht>0?ht:1,Se=(0,a.A)(an)&&an>0?an:void 0,Ne=(0,v.A)("c-texty_input_unstyled__container",`c-texty_input_unstyled__container--size_${Ut}`,{"c-texty_input_unstyled__container--multi_line":!tn,"c-texty_input_unstyled__container--single_line":tn&&!Oe,"c-texty_input_unstyled__container--use_focus_ring":yt,"c-texty_input_unstyled__container--expanded":Dt,"c-texty_input_unstyled__container--invalid":Qt,"c-texty_input_unstyled__container--no_actions":!Gt,"c-texty_input_unstyled__container--with_warning":this.hasWarning(),"c-texty_input_unstyled__container--with_underlined_links":mn,"c-texty_input_unstyled__container--multiline_overflow--top":!tn&&je,"c-texty_input_unstyled__container--multiline_overflow--bottom":!tn&&oe,"c-texty_input_unstyled__container--todos-from-composer":we});return l.createElement("div",{className:Ne,"data-buttons":en(this.props)},l.createElement("div",Bt({className:pt},(0,te.A)(this.props),{"data-min-lines":pe,"data-max-lines":Se,ref:this.setContainerRef,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onDrop:this.onDrop,onFocus:i.A,onBlur:i.A})),this.hasWarning()&&l.createElement(Qe,{numCharsOverLimit:Fe}),qe&&l.createElement(sn.A,{memberId:ze,userGroupId:Ge,channelId:Ze,title:_t,targetBounds:Et}),l.createElement(Wt.A.Consumer,null,function(){let{setTextyInstance:lt,setIsFocused:dt,setActiveFormats:it,setToolbarOverflowVisible:kt,setToolbarPositionData:$t,requestFloatingToolbarClose:ln}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt.contextSetTextyInstance=lt,nt.contextSetIsFocused=dt,nt.contextSetActiveFormats=it,nt.contextSetToolbarOverflowVisible=kt,nt.contextSetToolbarPositionData=$t,nt.contextRequestFloatingToolbarClose=ln}))}constructor(nt){super(nt),this.container=null,this.instance=null,this.resizeListener=null,this.setContainerRef=this.setContainerRef.bind(this),this.mentionReplaceTimer=null,this.toolbarRef=l.createRef(),this.preventToolbarOnNextSelection=!1,this.scrollTicking=!1,this.windowRef=nt.windowRef,(0,m.v)(this,["promiseToSearchMembers","promiseToSearchChannels","promiseToSearchEmoji","onMouseOver","onMouseOut","onTextChange","onSelectionChange","onScrollOptimize","onResize","onLinkClick","showLinkForm","onMentionReplace","displayValue","hideToolbarOverflow","resetToolbarPosition","calculateInputOffsetScroll","setupInputListeners","removeInputListeners","scrollListenerRaf","onDrop"]),this.state={...Sn}}},"TextyInput");Un.displayName="TextyInput",Un.defaultProps={onCompositionEnd:i.A,onMount:i.A,onFileMenuOpen:i.A,onFileMenuClose:i.A,forceFileMenuOpen:!1,sendMessage:i.A,openSnippetDialog:i.A,isSingleLine:!1,noSingleLineStyling:!1,isAttentionOnChat:!1,enableJumbomoji:!1,enableSpellCheck:!1,enableEmoticons:!1,enableStickyComposer:!1,overlayIsOpen:!1,isPlainTextModeEnabledPref:!1,autocompleteChannels:()=>f.S.resolve(),showMarkdownPasteToast:i.A,showCsvTsvPasteToast:i.A,enterCreatesNewlinePref:!1,forceEnterCreatesNewline:!1,isDisabled:!1,isExpanded:!1,isEmojiDisplayedAsText:!1,focusOnMount:!1,focusOnPaste:!1,minLines:1,maxLines:void 0,maxLength:void 0,openModal:i.A,autocompleteMembers:i.A,featureReactMessages:!0,showTextyTooltips:!0,isAutocompleteOpen:!1,enableBroadcastKeywords:!0,includeAllBroadcastKeywords:!1,usePreNewlines:!1,useFocusRing:!0,workflowTokens:[],workflowTokenClick:i.A,size:un.MEDIUM,isInvalid:!1,renderFileMenu:i.A,useWysiwyg:!1,useStickyComposer:!0,useWorkflowTokens:!1,useExpandedRichText:!1,enableActionsButton:!1,forceChannelTaggingDisabled:!1,forcePlainTextModeDisabled:!1,forceAutoslugginEnabled:!1,openTextyEditLinkModal:i.A,openTextyLinkFormModal:i.A,openTextyLinkFormBasedOnSelection:i.A,closeTextyModals:i.A,textyModalIsOpen:!1,onScheduleSend:i.A,autocompleteEmoji:i.A,isCsvTsvPastingEnabled:!1,tagChannelsAsSearchGeneric:!1,a11yUnderlineLinks:!1,dragLinksToComposer:i.A,experimentA11YOmniswitcherResetActiveDescendantGroupOn:!1,experimentBlockUnfurlsGroupOn:!1,todosFromComposerEnabled:!1};const Cn=c((Xt,nt)=>{const{isExpanded:pt,forcePlainTextModeDisabled:Dt,forceEnterCreatesNewline:Qt}=nt,tn=(0,bt.kx)(Xt),an=(0,ne.ZV)(Xt);return{teamId:(0,R.JY)(Xt),enableSpellCheck:!!(0,j.ty)(Xt,"webapp_spellcheck"),userHighlightWords:(0,w.A)(Xt),isEmojiDisplayedAsText:(0,H.P)(Xt),overlayIsOpen:an,enableEmoticons:!!(0,j.ty)(Xt,"convert_emoticons"),enableStickyComposer:tn,locale:(0,me.Yp)(),emojiNames:(0,N.CK)(Xt),enterCreatesNewlinePref:Qt?!0:(0,I.A)(Xt,pt),usePreNewlines:!!(0,j.ty)(Xt,"enter_is_special_in_tbt"),isPlainTextModeEnabledPref:Dt?!1:!!(0,j.ty)(Xt,"plain_text_mode"),isAttentionOnChat:(0,ne.xT)(Xt),textyModalIsOpen:(0,ot.A)((0,he.wc)(Xt).map(ht=>ht.name||"")),a11yUnderlineLinks:!!(0,j.ty)(Xt,"underline_links"),experimentA11YOmniswitcherResetActiveDescendantGroupOn:(0,B._Z)(Xt,"a11y_omniswitcher_reset_active_descendant")==="on",experimentBlockUnfurlsGroupOn:(0,gn.bb)(Xt),todosFromComposerEnabled:(0,h.J)(Xt)}},"texty_input_mapStateToProps"),Ln={openModal:Ie.q,autocompleteMembers:ce.A,autocompleteChannels:X.A,autocompleteEmoji:V.A,showMarkdownPasteToast:ge,showCsvTsvPasteToast:Ke,openTextyEditLinkModal:Xt=>(0,D.A)(Xt),openTextyLinkFormModal:Xt=>(0,P.A)(Xt),closeTextyModals:k.A,openTextyLinkFormBasedOnSelection:Xt=>(0,L.A)(Xt),dragLinksToComposer:Xt=>(0,ct.A)(Xt)},yn=(0,u.N)(Cn,Ln,null,{forwardRef:!0})(Un)},2418895410:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(9101533895),d=e(1407713935),o=e(5289504844),a=e(8661826718),i=e(5249175977),m=e(1926356522),l=e(82287009),_=e(8677230210),v=e(735940183),u=e(8300007136),h=e(1835177371),f=e(2433936990),p=e(5795074931),E=e(2023092677),g=e(2689960678),A=e(6989432693);const y=10,T=new v.Ay("channel_token"),M=c(L=>{let{userGroupId:k,targetBounds:G}=L;const b=(0,u.wA)(),[W,B]=(0,t.useState)(!1),R=(0,n.d4)(te=>(0,h.IM)(te,k)),j=(0,n.d4)(te=>(0,h.lJ)(te,k));var w;const N=(w=(0,n.d4)(p.WR))!==null&&w!==void 0?w:void 0,K=(0,E.t8)(j),J=!K&&!(0,E.V1)(j),Y=R===g.Ml,q=!K&&!J&&Y&&!W;if((0,t.useEffect)(()=>{q&&(b((0,f.A)({groupId:k,reason:"texty-tooltip"})),B(!0))},[b,k,q]),Y)return null;let H=R.map((te,le)=>t.createElement(A.A,{key:te,userId:te,isFirst:le===0,isSelf:N===te}));R.length>y+1&&(H=H.slice(0,y).concat(T.rt("{count} others",{count:R.length-y})));const ne=(0,v.jd)(H,{noEscape:!0,react:!0});return t.createElement(i.AM,{isOpen:!0,position:"top",targetBounds:G,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.createElement(m.A,{position:"top",className:"c-tooltip__tip--usergroup"},ne))},"TextyTooltipUserGroup");M.displayName="TextyTooltipUserGroup";const O=M,I=new v.Ay("channel_token"),D=c(L=>{let{memberId:k,userGroupId:G,channelId:b,title:W,targetBounds:B}=L;const R=(0,n.d4)(N=>(0,r.OL)(N,b));if((0,n.d4)(N=>(0,_.wC)(N,k)))return t.createElement(i.AM,{isOpen:!0,position:"top",targetBounds:B,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,offsetY:-12,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},(0,l.qk)({hideCoveragePlanLink:!0,memberId:k,hideButtons:!0}));let w=W;if(k)w=t.createElement(o.Ay,{id:k,showAvatar:!0,showPresence:!0,invert:!0});else if(b){const N=(0,d.t8)(R),K=(0,d.QR)(R);!N&&K?w=I.t("Private channel info"):w=t.createElement(a.A,{channelId:b,invert:!0})}else if(G)return t.createElement(O,{targetBounds:B,userGroupId:G});return t.createElement(i.AM,{isOpen:!0,position:"top",targetBounds:B,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.createElement(m.A,{position:"top",className:(0,s.A)({"c-tooltip__tip--member":k,"c-tooltip__tip--channel":b})},w))},"TextyTooltip");D.displayName="TextyTooltip";const P=D},6989432693:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(2562405183),s=e(8276911661),r=e(8921478798),d=e(8170643398),o=e(735940183),a=e(7576317051);const i=new o.Ay("channel_token"),m=c(_=>{let{userId:v,isFirst:u,isSelf:h}=_;var f;const p=(f=(0,n.d4)(g=>(0,s.nv)(g,v)))!==null&&f!==void 0?f:void 0;let E=(0,n.d4)(g=>(0,r.I)(g,v));return(0,d.t8)(p)?t.createElement(a.A,{type:"unknown",subtler:!0}):(0,d.QR)(p)?t.createElement(a.A,{type:"non-existent",subtler:!0}):(h&&(E=u?i.t("You"):i.t("you")),t.createElement(t.Fragment,null,E))},"TooltipMemberName");m.displayName="TooltipMemberName";const l=t.memo(m)},588672655:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(4711108074),n=e.n(t),s=e(1031947056),r=e(3719541926),d=e(1521013946),o=e(7136729150),a=e(8276911661),i=e(9262712126),m=e(9101533895),l=e(9884588328);const _=(0,s.Ay)("Support dragging links to texty inputs",(u,h,f)=>{let{dragEvent:p,inputProxy:E}=f;var g;const A=p==null||(g=p.dataTransfer)===null||g===void 0?void 0:g.getData("text/uri-list");if(!A||!E)return null;const y=(0,r.A)(A);if(!y.length)return null;const T=h(),M=y[0],O=(0,d.$N)(T,M.url);if(y&&y.length===1&&M.text===A){const I=E.getSelection(),D=new(n());if((I==null?void 0:I.index)>0&&(O||M!=null&&M.text&&(M!=null&&M.url))){const P=E.getText(I.index-1,1);P!==" "&&P!==`
`&&D.insert(" ")}if((O==null?void 0:O.type)===d.im.MEMBER){const P=(0,a.nv)(T,O==null?void 0:O.memberId);if(!(P!=null&&P.id))return D;const L=(0,o.A)(P.id,`@${(0,i.Gt)(P)}`,[]);L!=null&&L.label&&D.insert(L.label,L)}else if((O==null?void 0:O.type)===d.im.MESSAGE)if(O!=null&&O.ts)D.insert(`${M.text}`,{link:M.url});else{const P=(0,m.OL)(T,O==null?void 0:O.channelId);if(!(O!=null&&O.channelId))return D;const L=(0,o.A)(O==null?void 0:O.channelId,`#${(0,l.mG)(P)}`,[]);L!=null&&L.label&&D.insert(L.label,L)}else M!=null&&M.text&&(M!=null&&M.url)&&!O&&D.insert(`${M.text}`,{link:M.url});return(I==null?void 0:I.index)<E.getLength()&&(O||M!=null&&M.text&&(M!=null&&M.url))&&E.getText(I.index+1,1)!==" "&&D.insert(" "),D}return null});_.meta={name:"createThunk",key:"createThunkdragLinksToComposer",description:"Support dragging links to texty inputs"};const v=_},8011352381:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(1035168942);const r=t.forwardRef((o,a)=>{let{children:i,lines:m,breakWords:l=!0,withTooltip:_,shouldForceTooltipVisible:v,customTooltipText:u,tooltipClassName:h}=o;const f={"--lines":m},p=t.createElement("span",{className:(0,n.A)("c-truncate",{"c-truncate--break_words":l}),style:f,ref:a},i);return _?t.createElement(s.A,{tip:u||i,zIndex:"above_fs",shouldForceVisible:v,tipClassName:h},p):p});r.displayName="Truncate";const d=r},924300050:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ae});var t=e(3134334389),n=e(980293773),s=e(6820844347),r=e.n(s),d=e(5006029593),o=e.n(d),a=e(7749140866),i=e.n(a),m=e(7626894131),l=e.n(m),_=e(29804293),v=e.n(_),u=e(6636363964),h=e.n(u),f=e(5913806097),p=e.n(f),E=e(9916635837),g=e.n(E),A=e(555040584),y=e.n(A),T=e(8187362417),M=e.n(T),O=e(2005200212),I=e.n(O),D=e(2563333228),P=e.n(D),L=e(5760619139),k=e.n(L),G=e(668694090),b=e.n(G),W=e(6754250580),B=e.n(W),R=e(1714394002),j=e.n(R),w=e(6435768457),N=e.n(w),K=e(7417918922),J=e.n(K),Y=e(6869712815),q=e.n(Y),H=e(8089589194),ne=e.n(H),te=e(5748605292),le=e.n(te),he=e(4071181961),Ie=e.n(he),Ee=e(8071475775),me=e.n(Ee),ce=e(9733499682),X=e.n(ce),V=e(9753292423),x=e.n(V),S=e(3289703835),U=e.n(S),F=e(1347747715),Z=e.n(F),z=e(6050136004),$=e.n(z),ee=e(7949425452),de=e(2683115972),ie=e(5220162857),ue=e(4302969948),fe=e(1388835426),re=e(2664504268),_e=e(9598582073),Ue=e.n(_e);function ye(){return ye=Object.assign||function(Re){for(var Be=1;Be<arguments.length;Be++){var ke=arguments[Be];for(var se in ke)Object.prototype.hasOwnProperty.call(ke,se)&&(Re[se]=ke[se])}return Re},ye.apply(this,arguments)}c(ye,"_extends");const Te={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},ge=c(Re=>{let{featureList:Be,modalTitle:ke,modalSubtitle:se,buttonText:ve,onCTAClick:Me,customFooter:be,maxWidth:xe,onRequestClose:Le,UNSAFE_parentSelector:Ke,videoTitle:He,experimentPnpE2eGroupOn:Ye}=Re;const Xe=c(()=>t.createElement(ie.A,{listItems:Be}),"renderFeatureList"),et={closeModal:Le,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:xe,UNSAFE_parentSelector:Ke},{translation:st,enableMediaCaptions:ot}=(0,fe.S)({"de-DE":Ye?l():B(),"en-GB":Ye?v():j(),"en-US":Ye?i():N(),"es-ES":Ye?p():J(),"es-LA":Ye?h():q(),"fr-FR":Ye?g():ne(),"it-IT":Ye?k():le(),"ja-JP":Ye?b():Ie(),"ko-KR":Ye?y():me(),"pt-BR":Ye?M():X(),"zh-CN":Ye?I():x(),"zh-TW":Ye?P():U()}),ct=(0,re.A)(),at=(0,re.A)(),At=[ct,at].join(" "),Ct=(0,t.useMemo)(()=>{let Tt=o(),Rt=$();return Ye&&(Tt=r(),Rt=Z()),{video:Tt,videoPoster:Rt}},[Ye]);return t.createElement(n.dW,ye({closeButtonTone:"dark",className:Ue().modalBackground,labelledby:At},et),t.createElement(n.$m,{className:Ue().modalBackground},t.createElement("div",{className:Ue().bodyContainer},t.createElement("div",{className:Ue().listContainer},t.createElement(ee.Ay,{ariaHidden:!0,className:Ue().proBadge,size:ee.vj.Large}),t.createElement("h1",{id:ct,className:Ue().title},ke),t.createElement("h2",{id:at,className:Ue().subtitle},se),Xe(),be||t.createElement(de.Ay,{size:"medium",onClick:Me,className:Ue().ctaButton,autoClogProps:Te},ve)),t.createElement("div",{className:Ue().videoContainer},t.createElement("div",{className:Ue().videoPlayer},t.createElement(ue.A,{src:Ct.video,vtt:st,enableMediaCaptions:ot,videoPoster:Ct.videoPoster,enableControls:!0,autoPlay:!1,title:He}))))))},"Modal");ge.displayName="Modal";const Ae=ge},5220162857:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v,L:()=>m});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(8683010724),d=e(3801841745),o=e(6696573656),a=e.n(o);const i=new s.Ay("trial_expiration_modals"),m=c(function(){let{experimentFeatReverseTrialTranslationsGroupOn:u=!1,experimentPnpE2eGroupOn:h=!1,experimentSolutionsOnboardingTranslationsGroupOn:f=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E={...{history:{iconName:"search",title:i.t("Search"),text:i.t("Unlimited message and file history")},huddles:{iconName:"headphones",title:i.t("Huddles"),text:i.t("Group voice and video calls")},files:{iconName:"canvas",title:i.t("Canvas"),text:i.t("Unlimited documents to store and share information")},slackConnect:{iconName:"shared-channel",title:i.t("Slack Connect channels"),text:i.t("Work with people outside your organization")},workflows:{iconName:"bolt",title:i.t("Automation"),text:i.t("Automate repetitive tasks with apps and workflows")}}};return(f||u)&&(E={...E,history:{...E.history,iconName:"history",title:i.t("Unlimited message and file history"),text:i.t("Keep and find answers in your team\u2019s archive")},huddles:{...E.huddles,title:i.t("Group huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33"}),text:i.t("Voice and video conversations with your team",{fallbackHash:"8852d0974fc6e8d322e7bc7935936e054750b17a"})},files:{...E.files,title:i.t("Canvases and lists"),text:i.t("Share and track work in Slack")},slackConnect:{...E.slackConnect,text:i.t("Work with people from other organizations")},workflows:{...E.workflows,title:u?i.t("More apps and unlimited workflows",{fallbackHash:"a15fde5173db39a4c2c8783e4d7156b3ada81867"}):i.t("Unlimited apps and workflows",{fallbackHash:"a15fde5173db39a4c2c8783e4d7156b3ada81867"}),text:i.t("Connect tools to Slack and build no-code automations",{fallbackHash:"fbdf28abc006831f8126e0b7ab20e774cb83ff42"})}}),h&&(E={...E,history:{...E.history,iconName:"history",title:i.t("Unlimited message and file history"),text:i.t("Keep and find answers in your team\u2019s archive")},huddles:{...E.huddles,title:i.t("Huddles without time limits"),text:i.t("Voice and video conversations over 30 minutes")},files:{...E.files,title:i.t("Canvases and lists"),text:i.t("Share and track work in Slack")},slackConnect:{...E.slackConnect,title:i.t("Slack Connect"),text:i.t("Work with people from other organizations")},workflows:{...E.workflows,title:i.t("More apps and unlimited workflows"),text:i.t("Build no-code workflows and add up to 10 apps")}}),[E.history,E.huddles,E.files,E.slackConnect,E.workflows]},"getFeatureList"),l=c(u=>{let{iconClassName:h,iconName:f,title:p,text:E}=u;return t.createElement(d.A,{alignItems:"flex-start"},t.createElement("div",{className:(0,n.A)(a().icon,h)},t.createElement(r.A,{name:f,size:"20","aria-describedby":f,role:"img","data-qa":`icon-${f}`})),t.createElement(d.A,{flexDirection:"column"},t.createElement("div",{className:a().title},p),t.createElement("div",{className:a().text},E)))},"FeaturesListItem");l.displayName="FeaturesListItem";const v=c(u=>{let{className:h,iconClassName:f,listItems:p}=u;return t.createElement(d.A,{gap:12,flexDirection:"column",className:(0,n.A)(a().featuresListContainer,h)},p.map(E=>t.createElement(l,{key:E.title,iconClassName:f,iconName:E.iconName,title:E.title,text:E.text})))},"FeaturesList")},8108449081:(Q,C,e)=>{"use strict";e.d(C,{A:()=>L});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(735940183),d=e(4481313819),o=e(924300050),a=e(5360912544),i=e(6518038516),m=e(9003400431),l=e(6244014364),_=e(5220162857),v=e(6259241484),u=e(6323355797),h=e(3810478625),f=e(2683115972),p=e(8739505998),E=e(3677514771),g=e(7914553163),A=e(2612353366),y=e(8871937520);const T=new r.Ay("trials"),M={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},O={elementName:"view_all_pro_features_cta",onClick:{enableClogAction:!0}},I={elementName:"upgrade_to_pro_cta",onClick:{enableClogAction:!0}},D=u.ew.PAID_FEATURE_TRIAL,P=c(k=>{let{promoType:G,uiStep:b,freemiumVariant:W,trialExpirationDate:B}=k;const R=(0,s.wA)(),j=(0,n.d4)(h.g),w=(0,n.d4)(E.H7),N=(0,t.useCallback)(()=>{R((0,m.O)())},[R]),K=(0,t.useMemo)(()=>[v.xu.SIDEBAR_MENU_HEADER],[]),J=(0,t.useCallback)(()=>{R((0,m.O)())},[R]),Y=(0,t.useCallback)(()=>{R((0,m.O)()),R((0,A.A)())},[R]),q=c(()=>{if(j){if(W===g.MX.TrialEligible)return t.createElement(a.A,{autoClogProps:M,reason:"all_features_modal",onRequestComplete:J,promoType:G,megaphoneSpacesToRefresh:K},T.t("Start Pro Trial"));const te="all_features_modal";if(W===g.MX.TrialIneligible){const le=j?T.t("Upgrade to Pro"):"",he=j?T.t("View All Paid Features"):"";return t.createElement(t.Fragment,null,t.createElement(f.z9,{size:"medium",autoClogProps:I,href:(0,u.Qn)({team:w,entryPoint:te}),title:le},le),t.createElement(p.A,{autoClogProps:O,href:(0,u.hZ)({entryPoint:te}),title:he},he))}if(W===g.MX.TrialIneligibleUserCannotUpgrade){const le=j?T.t("View All Paid Features"):"";return t.createElement(f.z9,{size:"medium",autoClogProps:O,href:(0,u.hZ)({entryPoint:te}),title:le},le)}if(B){const le=j?T.t("Explore All Paid Features"):"";return t.createElement(f.Ay,{size:"medium",autoClogProps:O,onClick:Y,title:le},le)}return null}return t.createElement(t.Fragment,null,t.createElement(a.A,{autoClogProps:M,reason:"all_features_modal",onRequestComplete:J,promoType:G,megaphoneSpacesToRefresh:K},T.t("Start Pro Trial")),t.createElement(i.A,{buttonType:"outline",entryPoint:"global_trial_entrypoint",openInNewTab:!0,planLevel:u.i6.standard.name}))},"getCustomFooterButtons");q.displayName="getCustomFooterButtons";const H=c(()=>t.createElement("div",{className:"p-free_teams_showcase_all_features_modal__ctas"},q()),"getCustomFooter"),ne=j&&B?T.rt("Explore all the premium features of our most popular plan, Slack Pro, through {expirationDate}.",{expirationDate:(0,y.Pd)(B)}):T.rt("Explore the premium features of our most popular plan with a free {trialDuration}-day trial. No credit card required.",{trialDuration:D});return t.createElement(d.A,{eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.FREE_TEAMS_SHOWCASE_ALL_FEATURES_MODAL,uiStep:b},t.createElement(o.A,{featureList:(0,_.L)({experimentPnpE2eGroupOn:j}),experimentPnpE2eGroupOn:j,modalTitle:T.t("Do even more with Slack Pro"),modalSubtitle:ne,customFooter:H(),onRequestClose:N,maxWidth:832,videoTitle:T.t("Comparison of free vs. paid Slack Video for users on free teams",{fallbackHash:"9398938f8b7049969c93c2f18f103f217bd68228"})}))},"FreeTeamsAllFeaturesModal");P.displayName="FreeTeamsAllFeaturesModal";const L=P},1267040415:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(735940183),s=e(9391594207),r=e(6244014364),d=e(6323355797),o=e(2562405183),a=e(3677514771),i=e(7268021173),m=e(4481313819),l=e(2683115972),_=e(8739505998),v=e(2312625946);function u(){return u=Object.assign||function(A){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(A[M]=T[M])}return A},u.apply(this,arguments)}c(u,"_extends");const h=new n.Ay("plan_change"),f=c(A=>{let{children:y,planLevel:T,entryPoint:M,feature:O,hash:I,action:D,useLink:P,refToForward:L,productId:k,productLevel:G,team:b,isTeamInTrial:W,tooltipProps:B,...R}=A;const j=(0,o.d4)(K=>(0,d.m6)(K,{entryPoint:M,productId:k,productLevel:G,action:D,feature:O,hash:I,planLevel:T})),w=P?_.A:l.z9,N=t.createElement(w,u({ref:L},R,{href:j}),y);return t.createElement(m.A,{eventId:r.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},B?t.createElement(v.Ay,u({tip:h.t("Upgrade")},B),N):N)},"PlansPageCTABase");f.displayName="PlansPageCTABase";const p=c(A=>({team:(0,a.H7)(A),isTeamInTrial:(0,i.iH)(A)}),"mapStateToProps"),E=(0,s.N)(p)(f),g=t.forwardRef((A,y)=>t.createElement(E,u({},A,{refToForward:y})))},4177200783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(735940183),d=e(6244014364),o=e(4761125736),a=e(9003400431),i=e(4481313819),m=e(8719380546),l=e(5712872315),_=e(1743656885);const v=new r.Ay("msg_input"),u={elementName:"learn_more",onClick:{enableClogAction:!0}},h=c(y=>{let{isScheduledMessage:T}=y;const M=(0,n.wA)(),O=(0,t.useCallback)(()=>{M((0,a.O)())},[M]);if(!(0,s.d4)(L=>(0,o._Z)(L,"upgrd_5684")==="on"))return null;const D=T?v.t("Message not scheduled"):v.t("Message not sent"),P=v.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":L=>{let{text:k}=L;return t.createElement(_.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:u,forceOpenInBrowser:!0},k)}});return t.createElement(i.A,{eventId:d.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:d.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(m.A,{"data-qa":"message-limit-error-modal",title:D,titleIcon:"warning",bodyContent:P,onRequestClose:O,theme:l.B.ERROR}))},"MessageLimitErrorModal");h.displayName="MessageLimitErrorModal";const f=h;var p=e(1031947056),E=e(2375333597);const g=(0,p.Ay)("Open modal when a message send fails due to team having hit the message limit",function(y,T){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y((0,E.q)({element:t.createElement(f,M)}))});g.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const A=g},6518038516:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(9391594207),d=e(5255740490),o=e(735940183),a=e(2786906754),i=e(9790474759),m=e(9022734571),l=e(6839188756),_=e(6323355797),v=e(3554387543),u=e(3677514771),h=e(3559164431),f=e(8368515877),p=e(2222994823),E=e(6084388622),g=e(8739505998),A=e(8683010724),y=e(4761125736);function T(){return T=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var G=arguments[k];for(var b in G)Object.prototype.hasOwnProperty.call(G,b)&&(L[b]=G[b])}return L},T.apply(this,arguments)}c(T,"_extends");const M=new o.Ay("page_pricing");let O=c(class extends s.Component{getElementName(){const{isSmallFeaturesColumnButton:k,planLevel:G,activePlanLevel:b,isTeamOnTrial:W,isInvoiceCustomer:B,includeFreePlan:R}=this.props;let j;return G===_.i6.enterprise.name?j=`${G}_plan_contact_us`:B?j=`${G}_plan_contact_accounts`:!G&&R?j="free_plan_upgrade":k&&b===G&&!W?j=`${G}_get_slack_ai`:j=`${G}_plan_upgrade`,j}getHref(k){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=k+(0,m.iU)({...this.parsedUrlQueryParams,...G});return(0,l.Zl)(this.props.team,b)}navigateToCheckoutFlow(k){var G=this;return(0,t.coroutine)(function*(){const{isSlackAiSelected:b}=G.props;G.setState(()=>({isCTALoading:!0}));try{yield G.props.fetchConfigurationData({productId:k})}catch(R){var W;(R==null||(W=R.data)===null||W===void 0?void 0:W.error)==="invalid_request"?(0,i.A)(`/account/request?entry_point=${G.props.entryPoint}`):(0,i.A)("/admin/billing");return}if(G.props.redirectUrl&&(0,p.I)(G.props.redirectUrl)){G.props.redirectUrl&&(0,i.A)(G.props.redirectUrl);return}const B=(0,_.Qn)({team:G.props.team,entryPoint:G.props.entryPoint,productId:k,addonTypes:b?[_.wi.SlackAI]:void 0});(0,i.A)(B)})()}handleClick(){const{team:k,planLevel:G,activePlanLevel:b,isSmallFeaturesColumnButton:W,productId:B,slackAIAddonId:R,isTeamOnTrial:j,isSlackAiSelected:w}=this.props;if(W&&b===G&&!j){const N=(0,_.Qn)({team:k,entryPoint:"plans_page",addon:R,addonTypes:w?[_.wi.SlackAI]:void 0});(0,i.A)(N)}else B&&this.navigateToCheckoutFlow(B)}renderPlanCTA(){const{activePlanLevel:k,planLevel:G,productId:b,activeProductId:W,"data-qa":B,isInvoiceCustomer:R,clogStepId:j,useLink:w,buttonType:N,openInNewTab:K,entryPoint:J,isSmallFeaturesColumnButton:Y,isTeamOnTrial:q,discountPromoType:H,discountPromoSubtype:ne,discountPercent:te,experimentPnpDiscountsGroupOn:le,className:he}=this.props;let Ie="outline",Ee="",me;const ce=K?"_blank":"_self";if(G===_.i6.enterprise.name)Ee=M.t("Contact Sales"),me=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),Ie="primary";else if(R)Ee=M.t("Contact Accounts"),me=this.getHref("/help/requests/new");else{if(G===_.i6.free.name)return null;if(Ie="primary",Y)k===G&&!q?Ee=M.t("Get Slack AI"):H===_.k2.PricingAndPackagingPromo?Ee=(0,_.$K)({discountPromoSubtype:ne,activePlanLevel:k,discountPercent:te,planLevel:G,experimentPnpDiscountsGroupOn:le}):Ee=M.t("Upgrade");else{Ee=w?M.t("Upgrade now",{fallbackHash:"09a80c7a63cdefe5e5c7bccdc6bf4b894b15c07c",fallbackHashNs:"pro_price_change"}):M.t("Upgrade Now");const x=W?2:1;me=this.getHref(`/${_.nc}`,{s:x,entry_point:J})}}const X={className:(0,d.A)("p-upgrade_cta plan_page",he),type:N||Ie,"data-qa":B,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:N==="primary",onClick:{enableClogAction:!0},clogStepId:j,productId:b}};let V=s.createElement(E.z9,T({href:me,target:ce},X),Ee);return G!==_.i6.enterprise.name&&!R&&b&&!w?V=s.createElement(E.lV,T({onClick:this.handleClick,loading:this.state.isCTALoading},X),Ee):w&&(V=s.createElement(g.A,T({href:me,target:ce},X,{className:"p-upgrade_cta--link"}),Ee,s.createElement("span",{className:"margin_left_25"},s.createElement(A.A,{name:"arrow-right"})))),V}render(){return this.renderPlanCTA()}constructor(k){super(k),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,a.qN)(window.location.href)||{}}},"UpgradeCta");O.displayName="UpgradeCta",O.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"};const I=c((L,k)=>{const G=(0,v.EV)(L),b=(0,u.H7)(L),W=(0,v.$f)(L);return{team:b,productId:(0,v.UO)(L,k.planLevel,G),slackAIAddonId:(0,v.Zg)(L,W,G),activeProductId:(0,v.xU)(L),activePlanLevel:W,isTeamOnTrial:(0,v.yQ)(L),isInvoiceCustomer:(0,v.Nd)(L),redirectUrl:(0,h.oy)(L),nextPlanLevel:(0,v.Jf)(L),isSlackAiSelected:(0,v.qK)(L),discountPercent:(0,v.WG)(L),discountPromoType:(0,v.ZQ)(L),discountPromoSubtype:(0,v.$3)(L),experimentPnpDiscountsGroupOn:(0,y._Z)(L,"pnp_discounts")==="on"}},"mapStateToProps"),D=c(L=>({fetchConfigurationData:k=>L((0,f.l)(k))}),"mapDispatchToProps"),P=(0,r.N)(I,D)(O)},2279207117:(Q,C,e)=>{"use strict";e.d(C,{FK:()=>_,aD:()=>l,uY:()=>u,w9:()=>v});var t=e(7914553163),n=e(8193414630),s=e(6968387112),r=e(735940183),d=e(5267010247),o=e(8822892075),a=e(7940058138),i=e(6001125587);const m=new r.Ay("trials_highlight_paid_features");function l(h){switch(h){case t.MX.TrialTeam:return`https://${(0,s.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case t.MX.TrialIneligibleUserCannotUpgrade:return`https://${(0,s.Xk)()}/help/articles/115002422943`;default:(0,n.Kh)(h)}}c(l,"getHref");function _(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(h){case void 0:case null:case t.MX.TrialFetching:return"";case t.MX.TrialIneligible:return f?m.t("Upgrade Now"):m.t("See Upgrade Options");case t.MX.TrialEligible:return f?m.t("Try Slack Pro"):m.t("Start Free Trial");case t.MX.TrialIneligibleUserCannotUpgrade:case t.MX.TrialTeam:return f?m.t("Compare Plans"):m.t("Learn More");case t.MX.TrialExpiry:return m.t("Upgrade Now");default:(0,n.Kh)(h)}}c(_,"getDefaultCopy");function v(h,f,p,E){return()=>{h((0,i.A)({uiComponentVariant:E,promoSubtype:f,freemiumVariant:p}))}}c(v,"getTrialEligibleHandler");function u(h){return()=>h((0,d.o)((0,o.ZF)(a.c.PaidBenefits)))}c(u,"getTrialTeamHandler")},6005700845:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(1267040415),n=e(7914553163),s=e(6084388622),r=e(8739505998),d=e(6323355797),o=e(3134334389),a=e(8300007136),i=e(4096483543),m=e(2562405183),l=e(3810478625),_=e(2279207117),v=e(8193414630);const u={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},h={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},f={elementName:"learn_more_plans_and_features",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},p={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},E={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},g=c(y=>{let{variant:T,children:M,promoSubtype:O,modalVariant:I,useLink:D=!1,ctaClassName:P}=y;const L=(0,a.wA)(),k=(0,m.d4)(l.g),G=(0,i.A)();if(!T||T===n.MX.TrialFetching)return null;const b=D?r.A:s.z9,W=(0,_.FK)(T,k);switch(T){case n.MX.TrialIneligible:return o.createElement(t.A,{useLink:D,autoClogProps:p,className:P},M??W);case n.MX.TrialEligible:return o.createElement(b,{onClick:(0,_.w9)(L,O,T,I),autoClogProps:u,className:P},M??W);case n.MX.TrialIneligibleUserCannotUpgrade:return o.createElement(b,{href:(0,_.aD)(T),autoClogProps:h,className:P},M??W);case n.MX.TrialTeam:return o.createElement(b,{href:G?void 0:(0,_.aD)(T),autoClogProps:f,onClick:G?(0,_.uY)(L):void 0,className:P},M??W);case n.MX.TrialExpiry:return o.createElement(t.A,{useLink:D,action:d.um.CHECKOUT,autoClogProps:E},M??W);default:(0,v.Kh)(T)}},"FreemiumPrimaryCTA");g.displayName="FreemiumPrimaryCTA";const A=g},6001125587:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(9706240641),n=e(3134334389),s=e(1031947056),r=e(6323355797),d=e(2375333597),o=e(7268021173),a=e(2562405183),i=e(735940183),m=e(1267040415),l=e(5791262841),_=e(4761125736),v=e(9240394198),u=e(266169032),h=e(6244014364);const f=new i.Ay("trials_highlight_paid_features"),p=r.ew.PAID_FEATURE_TRIAL,E=c(L=>{let{isEligibleForTrial:k,promoType:G,promoSubtype:b,uiComponentVariant:W,uiPage:B}=L;const R=(0,a.d4)(te=>(0,_._Z)(te,"wfb_freemium")==="on"),j=(0,n.useMemo)(()=>R?[f.t("Automate repetitive, simple tasks"),f.t("Create code-free solutions"),f.t("Customize and share with your team")]:[],[R]),w=(0,n.useMemo)(()=>R?[f.t("Bring tools you already use into Slack"),f.t("Use apps just for you or with your whole team"),f.t("Streamline your work right from Slack")]:[],[R]);if(!R)return null;const N=c(te=>{let{text:le}=te;return n.createElement(m.A,{"data-qa":"workflow_builder_freemium_trial_offer_modal-plans_page_link",useLink:!0},le)},"renderPlansPageLink"),K=W===h.UiComponentVariant.UNLIMITED_WORKFLOWS_TRIAL_OFFER_MODAL;let J,Y,q,H,ne;return K?(J=f.t("Save time with unlimited workflows"),q=f.t("With workflows, you can:"),Y=k?f.rt(" You can also install unlimited apps, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:p,"<plansPageLink>":N}):f.rt("You can also install unlimited apps, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":N}),H=j,ne="/marketing/img/feature/workflow-builder/hero-wfb-lp.jpg"):(J=f.t("Bring all your tools into Slack"),q=f.t("With apps, you can:"),Y=k?f.rt(" You can also publish unlimited workflows, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:p,"<plansPageLink>":N}):f.rt("You can also install unlimited workflows, and get access to other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":N}),H=w,ne="/marketing/img/feature/workflow-builder/hero-wfb-apps.png"),n.createElement(l.A,{"data-qa":"workflow_builder_freemium_trial_offer_modal",imgSrc:ne,modalBannerBackgroundColor:"#4a144a",modalCloseButtonTheme:v.N.LIGHT,modalTitle:J,modalSubtitle:Y,modalChecklistHeading:q,modalChecklistItems:H,onSpeedbumpContinueLabel:B===h.UiPage.WORKFLOW_BUILDER_FREEMIUM_TRIAL_PUBLISH?f.t("Publish Workflow"):f.t("Continue"),promoType:G,promoSubtype:b,startTrialContext:u.M.workflowBuilderFreemiumTrialOfferModal,uiComponentVariant:W,isEligibleForTrial:k})},"WorkflowBuilderFreemiumTrialOfferModal");E.displayName="WorkflowBuilderFreemiumTrialOfferModal";const g=E;var A=e(8300630630),y=e(6422693406),T=e(1152226587),M=e(3810478625),O=e(8108449081);function I(){return I=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var G=arguments[k];for(var b in G)Object.prototype.hasOwnProperty.call(G,b)&&(L[b]=G[b])}return L},I.apply(this,arguments)}c(I,"_extends");const D=(0,s.Ay)("Open freemium trial offer modal",function(){var L=(0,t.coroutine)(function*(k,G,b){let W=r.ZO.GlobalEntrypointTrial;const{promoSubtype:B}=b,R=(0,M.g)(G());let j=null;switch(B){case r.zG.WorkflowBuilder:W=r.ZO.PaidFeatureTrial,j=g;break;case r.zG.Vhq:W=R?r.ZO.GlobalEntrypointTrial:r.ZO.PaidFeatureTrial,j=R?O.A:T.A;break;default:return y.S.resolve()}yield k((0,A.A)({campaignType:W,campaignSubType:B,reason:B}));const w=(0,o.hq)(G(),W,B);return k((0,d.q)({element:n.createElement(j,I({},b,{promoType:W,promoSubtype:B,isEligibleForTrial:w}))}))});return function(k,G,b){return L.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const P=D},7914553163:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>f,MX:()=>_});var t=e(7268021173),n=e(1384076438),s=e(6839188756),r=e(3134334389),d=e(2562405183),o=e(3677514771),a=e(8300007136),i=e(6323355797),m=e(8871937520),l=e(677609895);const _={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},v=c(p=>p===_.TrialFetching||p===_.TrialEligible||p===_.TrialIneligible||p===_.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),u=c(p=>p===_.TrialTeam||p===_.TrialExpiry,"isTrialVariant"),f=c(p=>{let{promoType:E=i.ZO.PaidFeatureTrial,promoSubtype:g,context:A,reason:y,isEligibleForTrial:T,trialEndDate:M,isEnabled:O=!0}=p;const I=(0,a.wA)(),D=(0,d.d4)(R=>(0,s.tc)((0,o.H7)(R))),P=(0,d.d4)(t.iH),L=(0,d.d4)(l.X),k=(0,d.d4)(R=>(0,t.hq)(R,E,g)),[G,b]=(0,r.useState)(D);if((0,r.useEffect)(()=>{O&&D&&I((0,n.A)({campaignType:E,campaignSubType:g,context:A,reason:y})).then(()=>{b(!1)})},[I,D,E,g,A,y,k,O]),!O||!(D||P))return null;const W=T!=null;if(G&&!W)return _.TrialFetching;if(P){const j=(0,m.qe)(M);return M!==void 0&&j<=7?_.TrialExpiry:_.TrialTeam}const B=W&&G?T:k;return!B&&!L?_.TrialIneligibleUserCannotUpgrade:B?_.TrialEligible:_.TrialIneligible},"useFreemium")},952756744:(Q,C,e)=>{"use strict";e.d(C,{s:()=>d});var t=e(3134334389),n=e(4902318931),s=e(6259241484);const r={[s.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8240993983)))}},d=c(()=>t.createElement(n.Ay,{spaceName:s.xu.HUDDLE_INVITE_MODAL,notifications:r}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");d.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8240993983:(Q,C,e)=>{"use strict";e.r(C),e.d(C,{HuddleInviteModalTrialBannerV2:()=>g,default:()=>A});var t=e(3134334389),n=e(735940183),s=e(6323355797),r=e(6244014364),d=e(4481313819),o=e(2562405183),a=e(6084388622),i=e(1267040415),m=e(7949425452),l=e(5641442783),_=e(7433432223),v=e(8112788848),u=e(8871937520),h=e(3810478625);const f=new n.Ay("guided_trials"),p={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},E={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},g=c(y=>{let{trialEndDate:T,canUserPurchase:M}=y;const O=(0,o.d4)(h.g),I=(0,o.d4)(P=>(0,s.m6)(P,{action:s.um.CHECKOUT,productLevel:s.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"})),D=c(()=>M?t.createElement(a.z9,{autoClogProps:p,href:I,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},O?f.t("Upgrade to Pro"):f.t("Upgrade Now")):t.createElement(i.A,{feature:s.c4.SLACK_HUDDLES,autoClogProps:E,size:"small",type:O?"primary":"outline"},O?f.t("Compare plans"):f.t("See Upgrade Options")),"getCTA");return D.displayName="getCTA",t.createElement(d.A,{eventId:r.EventId.UPGRDEXP_TRIAL,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(_.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:D(),withMargins:!0},t.createElement("div",null,O?f.rt("<strong>Huddles will soon have time limits</strong>"):f.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(l.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:r.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:v.m.MenuAboveFullScreen,badgeSize:m.vj.Small})),O?f.rt("Upgrade to continue using huddles longer than 30 minutes."):f.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,u.Pd)(T),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");g.displayName="HuddleInviteModalTrialBannerV2";const A=g},9953252450:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y,x:()=>g});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(735940183),d=e(6244014364),o=e(7268021173),a=e(8871937520),i=e(4481313819),m=e(3328083357),l=e(7433432223),_=e(3810478625),v=e(2481088989),u=e(8739505998),h=e(2612353366),f=e(9003400431);const p=new r.Ay("trials_highlight_paid_features"),E={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},g=c(T=>{let{trialEndTs:M,experimentPnpE2eGroupOn:O,viewAllProFeaturesLink:I,v2ClassName:D}=T;return O?t.createElement(i.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:D},t.createElement(l.A,{className:"padding_left_125"},(0,v.A)(p.rt("Huddles without limits is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,a.Pd)(M),"<viewAllProFeaturesLink>":I}),{position:v.D.LEFT_ALIGNED})))):t.createElement(i.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(m.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},p.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,a.Pd)(M)}))))},"HuddleInviteModalTrialBanner");g.displayName="HuddleInviteModalTrialBanner";const A=c(T=>{let{v2ClassName:M}=T;const O=(0,s.wA)(),I=(0,n.d4)(_.g),D=(0,n.d4)(o.Sk),P=(0,t.useCallback)(()=>{O((0,f.O)()),O((0,h.A)())},[O]),L=(0,t.useCallback)(k=>{let{text:G}=k;return t.createElement(u.A,{onClick:P,autoClogProps:E},G)},[P]);return t.createElement(g,{trialEndTs:D,experimentPnpE2eGroupOn:I,viewAllProFeaturesLink:L,v2ClassName:M})},"ConnectedHuddleInviteModalTrialBanner");A.displayName="ConnectedHuddleInviteModalTrialBanner";const y=A},1152226587:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(266169032),s=e(735940183),r=e(1267040415),d=e(5791262841),o=e(2670882607),a=e(6323355797);const i=new s.Ay("huddles"),m=a.ew.PAID_FEATURE_TRIAL,l=c(v=>{let{startTrialContext:u=n.M.huddlesTrialEntryPointModal,uiComponentVariant:h,onSpeedbumpContinue:f,promoType:p,promoSubtype:E,isEligibleForTrial:g}=v;const A=c(P=>{let{text:L}=P;return t.createElement(r.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},L)},"renderPlansPageLink"),y=i.t("Try huddles with more people"),T=g?i.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:m,"<plansPageLink>":A}):i.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":A}),M=i.t("With more people, you can:"),O=(0,t.useCallback)(()=>[i.t("Host a team brainstorm from anywhere"),i.t("Get the group\u2019s feedback with a live screenshare"),i.t("Touch base on the go, without all the typing")],[]),I=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),D=(0,t.useMemo)(()=>t.createElement(o.e,{getAnimationImport:I,autoplay:!0,loop:!0}),[I]);return t.createElement(d.A,{modalTitle:y,modalSubtitle:T,modalLottieAnimation:D,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:M,modalChecklistItems:O(),promoType:p,promoSubtype:E,startTrialContext:u,uiComponentVariant:h,onSpeedbumpContinue:f,isEligibleForTrial:g})},"HuddleTrialEntryPointModal");l.displayName="HuddleTrialEntryPointModal";const _=l},236241007:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(6323355797),o=e(2375333597),a=e(7268021173),i=e(1152226587),m=e(8300630630),l=e(398781533);function _(){return _=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},_.apply(this,arguments)}c(_,"_extends");const v=(0,r.Ay)("Open huddles trial entry point modal",function(){var h=(0,t.coroutine)(function*(f,p,E){const g=d.ZO.PaidFeatureTrial,A=d.zG.Vhq;f((0,l.Q)({campaignType:g,campaignSubType:A,reason:"huddle_trial_entry_point_modal"})),yield f((0,m.A)({campaignType:g,campaignSubType:A,reason:"huddle_trial_entry_point_modal"}));const y=(0,a.hq)(p(),g,A);return f((0,o.q)({element:s.createElement(i.A,_({},E,{promoType:g,promoSubtype:A,isEligibleForTrial:y}))}))});return function(f,p,E){return h.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const u=v},2612353366:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(1031947056),n=e(5267010247),s=e(7940058138),r=e(8822892075);const d=(0,t.Ay)("Navigates to paid benefits page",a=>{a((0,n.o)((0,r.ZF)(s.c.PaidBenefits)))});d.meta={name:"createThunk",key:"createThunkopenPaidBenefitsPage",description:"Navigates to paid benefits page"};const o=d},8300630630:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(1384076438),o=e(2375333597),a=e(124213367);const i=(0,r.Ay)("Display loading modal and fetch data for trial entry point modal",function(){var l=(0,t.coroutine)(function*(_,v,u){return _((0,o.q)({element:s.createElement(a.A,{className:"p-trial_entry_point_modal__loading_modal"})})),_((0,d.A)(u))});return function(_,v,u){return l.apply(this,arguments)}}());i.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const m=i},7949425452:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>u,Vu:()=>m,vj:()=>l});var t=e(3134334389),n=e(9113979368),s=e(5255740490),r=e(735940183),d=e(4481313819),o=e(6244014364);function a(){return a=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},a.apply(this,arguments)}c(a,"_extends");const i=new r.Ay("trials"),m={Purple:"purple",White:"white"},l={Small:"small",Medium:"medium",Large:"large"},_={eventId:o.EventId.UPGRDEXP_TRIAL,uiComponentName:o.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},v=c(h=>{let{ariaHidden:f=!1,className:p,autoClogProps:E,badgeTheme:g=m.Purple,size:A=l.Medium}=h;const y=f?{"aria-hidden":!0}:{"aria-label":i.t("Pro feature",{fallbackHash:"f3b218b5b69cf46f83217a4c553335005e49633f"}),role:"img"},T=t.createElement("div",a({className:(0,s.A)("p-pro_badge",`p-pro_badge--${g}`,`p-pro_badge--${A}`,p),"data-qa":"pro_badge"},y),i.t("PRO"));return(0,n.A)(E)?T:t.createElement(d.A,a({},_,E),T)},"ProBadge");v.displayName="ProBadge";const u=v},5641442783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(2562405183),d=e(6839188756),o=e(3677514771),a=e(7268021173),i=e(6323355797),m=e(7949425452),l=e(9371668729);function _(){return _=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var E=arguments[p];for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&(f[g]=E[g])}return f},_.apply(this,arguments)}c(_,"_extends");const v=new s.Ay("trials"),u=c(f=>{let{badgeTheme:p=m.Vu.Purple,badgeSize:E=m.vj.Medium,className:g,hideTooltip:A,uiComponentVariant:y,...T}=f;const M=(0,r.d4)(P=>(0,d.tc)((0,o.H7)(P))),O=(0,r.d4)(P=>(0,a.tu)(P)===i.i6.standard.id),I=(0,t.useMemo)(()=>({uiComponentVariant:y}),[y]);if(!(M||O))return null;const D=v.t("PRO");return A?t.createElement(m.Ay,{autoClogProps:I,badgeTheme:p,className:g,size:E}):t.createElement(l.A,_({ariaLabel:D,uiComponentVariant:y},T),t.createElement("span",{className:(0,n.A)("p-trial_pro_badge",g),"data-qa":"trial_pro_badge"},t.createElement(m.Ay,{autoClogProps:I,badgeTheme:p,size:E})))},"TrialProBadge");u.displayName="TrialProBadge";const h=u},3994181705:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u,G:()=>l});var t=e(3134334389),n=e(2562405183),s=e(8300007136),r=e(735940183),d=e(7268021173),o=e(1384076438),a=e(6323355797),i=e(3810478625);const m=new r.Ay("trials");var l;(function(h){h.HuddlesFreemiumDeprecated="huddles_freemium"})(l||(l={}));const _=a.ew.PAID_FEATURE_TRIAL,u=c(h=>{let{isFreemium:f,tooltipText:p,promoType:E,promoSubtype:g,variant:A}=h;const y=(0,s.wA)(),T=(0,n.d4)(i.g),M=(0,n.d4)(d.iH);(0,t.useEffect)(()=>{E&&y((0,o.A)({campaignType:E,campaignSubType:g,reason:"trial_tooltip"}))},[y,E,g]);const O=(0,n.d4)(k=>E?(0,d.bp)(k,E,g):!1),I=(0,n.d4)(k=>E?(0,d.hq)(k,E,g):!1),D=c(()=>{if(M)switch(A){case l.HuddlesFreemiumDeprecated:return T?void 0:m.t("Huddles with more than two people are a paid feature, available with your free trial");default:return m.t("This is a paid feature, available with your free trial")}if(I)switch(A){case l.HuddlesFreemiumDeprecated:return T?void 0:m.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:_});default:return m.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:_})}switch(A){case l.HuddlesFreemiumDeprecated:return T?void 0:m.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return m.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),P=c(()=>M?m.t("This feature is unlimited with your free trial"):I?m.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:_}):m.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(O)return{};const L=f?P():D();return p?{tooltipTitle:p,tooltipBody:L}:{tooltipTitle:L}},"useTrialProBadgeTooltipText")},2481088989:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o,D:()=>r});var t=e(3134334389),n=e(7949425452),s=e(5641442783);const r={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function d(a){let{position:i=r.RIGHT_ALIGNED,isTrialVariant:m,uiComponentVariant:l,size:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:r.RIGHT_ALIGNED,isTrialVariant:!1,uiComponentVariant:void 0,size:n.vj.Medium};const v=t.createElement("span",{className:`p-with_pro_badge__text--${i}`},a),u=m?t.createElement(s.A,{className:"p-with_pro_badge__badge",uiComponentVariant:l,badgeSize:_}):t.createElement(n.Ay,{className:"p-with_pro_badge__badge",size:_});let h;return i===r.RIGHT_ALIGNED?h=t.createElement(t.Fragment,null,v,u):h=t.createElement(t.Fragment,null,u,v),t.createElement("div",{className:"p-with_pro_badge"},h)}c(d,"WithProBadge"),d.displayName="WithProBadge";const o=d},5791262841:(Q,C,e)=>{"use strict";e.d(C,{A:()=>b});var t=e(9706240641),n=e(3134334389),s=e(8300007136),r=e(2562405183),d=e(735940183),o=e(6244014364),a=e(8871937520),i=e(9003400431),m=e(6259241484),l=e(5512605238),_=e(8719380546),v=e(267465465),u=e(8683010724);const f=c(W=>{let{checklistItems:B,checklistHeading:R}=W;return n.createElement("div",{className:"p-modal_content_checklist__checklist"},n.createElement("div",{className:"p-modal_content_checklist__heading"},R),B.map(j=>n.createElement("div",{key:j,className:"p-modal_content_checklist__checklist_item"},n.createElement("div",{className:"p-modal_content_checklist__checklist_check"},n.createElement(u.A,{name:"check",size:"16",variation:"filled"})),n.createElement("div",null,j))))},"ModalContentChecklist");var p=e(280819219),E=e(4481313819),g=e(1267040415),A=e(5360912544),y=e(2934784510),T=e(980293773),M=e(5267010247),O=e(8822892075),I=e(7940058138),D=e(2689960678);const P=new d.Ay("trials"),L={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},k={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},G=c(W=>{let{modalClassName:B,modalCloseButtonTheme:R,modalSubtitle:j,modalTitle:w,modalType:N=v.H.VERTICAL_BANNER,modalVideoClassName:K,modalVideoFileName:J,modalLottieAnimation:Y,modalVideoPosterExtension:q="",modalBannerBackgroundColor:H="",modalChecklistHeading:ne="",modalChecklistItems:te=D.Ml,promoType:le,promoSubtype:he,imgSrc:Ie,isEligibleForTrial:Ee,startTrialContext:me,uiPage:ce,uiComponentVariant:X,uiStep:V,onSpeedbumpContinue:x,onSpeedbumpContinueLabel:S,onTrialStart:U,skipSpeedbump:F,"data-qa":Z,omitSecondaryCTA:z=!1}=W;const $=(0,s.wA)(),ee=(0,r.d4)(l.F),[de,ie]=(0,n.useState)(!1),ue=(0,n.useRef)(""),fe=(0,n.useCallback)(()=>{$((0,i.O)())},[$]),re=(0,n.useCallback)((0,t.coroutine)(function*(){let{trialExpirationDate:Me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Me&&(ue.current=Me,U==null||U(),F?fe():ie(!0))}),[fe,U,F]),_e=(0,n.useCallback)(()=>{fe(),$((0,M.o)((0,O.ZF)(I.c.PaidBenefits)))},[$,fe]),Ue=(0,n.useCallback)(()=>{fe(),x==null||x()},[fe,x]),ye=n.createElement(f,{checklistHeading:ne,checklistItems:te}),Te=(0,n.useMemo)(()=>[m.xu.SIDEBAR_MENU_HEADER],[]),ge=n.createElement(A.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:L,reason:"start_trial_from_trial_entry_point_modal",context:me,promoType:le,promoSubtype:he,onRequestComplete:re,megaphoneSpacesToRefresh:Te},P.t("Start Free Trial")),Ae=n.createElement(g.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:k,onClick:fe},P.t("See Upgrade Options")),Re=Ee?ge:Ae,Be=v.H.HORIZONTAL_BANNER?"800px":"586px",ke=c(()=>{if(!ue.current)return null;const Me=n.createElement("div",{className:"display_flex"},n.createElement(p.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),P.t("Ta-da! Your team\u2019s on a free trial")),be=n.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},P.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,a.Pd)(ue.current)})),Le=c(()=>S||(x?P.t("Continue"):P.t("Find Out More")),"getContinueButtonLabel")();let Ke=P.t("Dismiss"),He=_e,Ye=fe,Xe="speedbump_learn_more",et="speedbump_dismiss";return x&&(Ke=P.t("Learn More"),He=Ue,Ye=_e,Xe="speedbump_continue",et="speedbump_learn_more"),n.createElement(T.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:Me,description:be,continueButtonLabel:Le,cancelButtonLabel:Ke,onCancel:z?void 0:Ye,onContinue:He,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:Xe,onClick:{enableClogAction:!0}},cancelButton:{elementName:et,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");ke.displayName="renderSpeedbump";const se=n.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},P.t("No credit card required.")),ve=n.createElement("div",{className:"p-trial_entry_point_modal__footer"},Re,Ee&&se,Ee&&n.createElement(y.A,{shouldShow:ee}),de&&ke());return n.createElement(E.A,{eventId:o.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:o.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:X,uiStep:V,uiPage:ce},n.createElement(_.A,{bannerBackgroundColor:H,"data-qa":Z,imgSrc:Ie,title:w,subtitle:j,bodyContent:ye,footerContent:ve,onRequestClose:fe,maxWidth:Be,className:B,closeButtonTheme:R,type:N,videoFilename:J,videoPosterExtension:q,videoClassName:K,lottieAnimation:Y}))},"TrialEntryPointModal");G.displayName="TrialEntryPointModal";const b=G},2934784510:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(3134334389),n=e(8300007136),s=e(2562405183),r=e(2670882607),d=e(2047021170),o=e(1939990292);const i=t.memo(m=>{let{shouldShow:l=!1}=m;const _=(0,n.wA)(),[v,u]=(0,t.useState)(),[h,f]=(0,t.useState)(!1),p=(0,t.useCallback)(A=>{A&&A.then(y=>u(y))},[u]),E=(0,s.d4)(A=>!(0,d.ty)(A,"a11y_animations")),g=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!l||E||h?null:(v&&v._cbs&&v.addEventListener("complete",()=>{_((0,o.DJ)(!1)),f(!0)}),t.createElement(r.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:g,ref:p}))})},5360912544:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(3134334389),n=e(8300007136),s=e(7715417323),r=e(735940183),d=e(6244014364),o=e(4585652590),a=e(1939990292),i=e(4481313819),m=e(6084388622),l=e(8739505998),_=e(5733135148),v=e(1655938719),u=e(6259241484),h=e(398781533);function f(){return f=Object.assign||function(T){for(var M=1;M<arguments.length;M++){var O=arguments[M];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(T[I]=O[I])}return T},f.apply(this,arguments)}c(f,"_extends");const p=new r.Ay("trials"),E={name:"warning"},g=c(T=>{let{children:M,reason:O,context:I,megaphoneSpacesToRefresh:D,promoType:P,promoSubtype:L,onClick:k,onRequestComplete:G=s.A,onRequestError:b=s.A,useLink:W,refToForward:B,...R}=T;const j=(0,n.wA)(),[w,N]=(0,t.useState)(!1),[K,J]=(0,t.useState)(!1),Y=(0,t.useCallback)(()=>{N(!0),J(!1),b()},[b]),q=(0,t.useCallback)(()=>{K||(J(!0),N(!1),j((0,o.a)({reason:O,campaignType:P,campaignSubType:L,context:I})).then(te=>{let{trial_expiration_date:le}=te;j((0,a.DJ)(!0)),G({trialExpirationDate:le}),D&&D.length>0&&j((0,v.iR)({event:{type:u.jo.REQUEST_SPACES,spaces:D}})),le||Y()}).catch(Y))},[K,j,O,P,L,I,Y,G,D]),H=(0,t.useCallback)(()=>{j((0,h.Q)({campaignType:P,campaignSubType:L,reason:"auto_charge_trial_check"})),q(),k==null||k()},[k,q,j,P,L]),ne=W?t.createElement(l.A,f({ref:B},R,{onClick:H}),M):t.createElement(m.lV,f({ref:B},R,{onClick:H,loading:K}),M);return t.createElement(i.A,{eventId:d.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0},ne,w&&t.createElement(_.Ay,{svgIconProps:E,svgIconClassName:"align_self_start",shouldAutoFade:!1},p.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");g.displayName="TrialStartCTABase";const y=t.forwardRef((T,M)=>t.createElement(g,f({},T,{refToForward:M})))},1388835426:(Q,C,e)=>{"use strict";e.d(C,{S:()=>n});var t=e(735940183);const n=c(s=>{switch((0,t.Yp)()){case"de-DE":return{translation:s["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:s["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:s["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:s["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:s["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:s["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:s["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:s["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:s["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:s["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:s["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:s["zh-TW"],enableMediaCaptions:!0};default:return{translation:s["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},5712872315:(Q,C,e)=>{"use strict";e.d(C,{B:()=>n,D:()=>t});var t;(function(s){s.SMALL="small",s.MEDIUM="medium",s.LARGE="large"})(t||(t={}));var n;(function(s){s.NONE="none",s.PURPLE="purple",s.LIGHT_PURPLE="light_purple",s.BLUE="blue",s.ERROR="error",s.HORCHATA="horchata",s.SUNFLOWER="sunflower"})(n||(n={}))},3328083357:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(6244014364),d=e(581167618),o=e(6105929840),a=e(280819219),i=e(5712872315);const m=new s.Ay("upgrades_kit"),l={action:r.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:r.ElementType.X},_=c(u=>{let{className:h,iconType:f,customIcon:p,image:E,heading:g,children:A,onDismiss:y,useRoundedCorners:T=!0,showBorder:M=!0,size:O=i.D.MEDIUM,theme:I=i.B.PURPLE,"data-qa":D="",primaryCTA:P,secondaryCTA:L}=u;const k=c(()=>{let R;const j="p-upgrades_alert_banner__icon";return p?R=t.createElement("div",{className:j},p):E?R=t.createElement("div",{className:(0,n.A)(j,"p-upgrades_alert_banner__icon--image")},E):f&&(R=t.createElement(a.A,{className:j,size:O,theme:I,type:f})),R},"renderIcon");k.displayName="renderIcon";const G=c(()=>t.createElement(o.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":m.t("Dismiss"),onClick:y,autoClogProps:l}),"renderCloseIcon");G.displayName="renderCloseIcon";const b=c(()=>!P&&!L?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},P,L),"renderButtons");b.displayName="renderButtons";const W=k(),B=(0,n.A)("p-upgrades_alert_banner",`p-upgrades_alert_banner--${O}`,`p-upgrades_alert_banner--${I}`,h,{"p-upgrades_alert_banner--with_close_icon":!!y,"p-upgrades_alert_banner--rounded_corners":T,"p-upgrades_alert_banner--no_border":!M,"p-upgrades_alert_banner--with_image":!!E});return t.createElement("div",{className:"full_width"},t.createElement(d.Ay,{className:B,"data-qa":D,customIcon:W,heading:g,type:W?d.QE.boxed:d.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},A),b(),y&&G()))},"AlertBanner");_.displayName="AlertBanner";const v=_},7433432223:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(3134334389),n=e(5255740490),s=e(735940183),r=e(581167618),d=e(6105929840),o=e(6308822),a=e(6084388622),i=e(6244014364),m=e(5712872315),l=e(8683010724);function _(){return _=Object.assign||function(p){for(var E=1;E<arguments.length;E++){var g=arguments[E];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(p[A]=g[A])}return p},_.apply(this,arguments)}c(_,"_extends");const v=new s.Ay("upgrades_kit"),u={action:i.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:i.ElementType.X},h=c(p=>{let{className:E,image:g,heading:A,isLoading:y,children:T,onDismiss:M,useRoundedCorners:O=!0,showBorder:I=!0,size:D=m.D.MEDIUM,theme:P=m.B.HORCHATA,primaryCTA:L,secondaryCTA:k,withMargins:G,iconProps:b,"data-qa":W}=p;const B=c(()=>t.createElement(d.A,{className:"p-upgrades_alert_banner_v2__close_icon",icon:"times",size:"small","aria-label":v.t("Dismiss"),onClick:M,autoClogProps:u}),"renderCloseIcon"),R=c(()=>{const N=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},A),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},T));if(b){const K={inline:!0,size:"20",...b};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${P}`},t.createElement(l.A,_({},K))),t.createElement("div",{className:"display_flex flex_direction_column"},N))}return N},"renderContent");R.displayName="renderContent";const j=c(()=>!L&&!k?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},y?t.createElement(a.lV,{loading:!0}):t.createElement(t.Fragment,null,L,k)),"renderButtons");j.displayName="renderButtons";const w=(0,n.A)("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${D}`,`p-upgrades_alert_banner_v2--${P}`,E,{"p-upgrades_alert_banner_v2--with_close_icon":!!M,"p-upgrades_alert_banner_v2--rounded_corners":O,"p-upgrades_alert_banner_v2--no_border":!I,"p-upgrades_alert_banner_v2--with_image":!!g,"p-upgrades_alert_banner_v2--with_margins":G});return t.createElement("div",{className:"full_width"},t.createElement(r.Ay,{className:w,type:r.QE.inline,"data-qa":W},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},y?t.createElement(o.A,{color:"white",inline:!0}):R(),j(),M&&B())))},"AlertBanner");h.displayName="AlertBanner";const f=h},267465465:(Q,C,e)=>{"use strict";e.d(C,{H:()=>t});var t;(function(n){n.MULTI_PANE="multi_pane",n.SINGLE_PANE="single_pane",n.VERTICAL_BANNER="vertical_banner",n.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},280819219:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(5255740490),s=e(1610251172);const d=t.memo(l=>{let{animationDelay:_,size:v="large"}=l;const u=48,h=u-(v==="large"?48:36),f=u*2,p="#1D9BD1",E="#F2C744",g="#007A5A",A="#E01E5A",y={animationDelay:`${_||0}s`},T=c((D,P)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:P,className:D,style:y}),"renderDrop"),M=c((D,P)=>t.createElement("circle",{r:"4",fill:P,className:D,style:y}),"renderCircle"),O=c((D,P)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:P,className:D,style:y}),"renderStar"),I=c((D,P)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:P,className:D,style:y}),"renderSprinkle");return t.createElement("svg",{className:(0,n.A)("position_absolute",`p-upgrades_icon_celebration_animation--${v}`),style:{top:`-${u/2+h/2}px`,left:`-${u/2+h/2}px`},width:f,height:f,viewBox:`0 0 ${f} ${f}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},T("p-upgrades_icon_celebration_animation__drop_top_right",p),M("p-upgrades_icon_celebration_animation__circle_top_right",E),M("p-upgrades_icon_celebration_animation__circle_right",g),O("p-upgrades_icon_celebration_animation__star_bottom_right",E),M("p-upgrades_icon_celebration_animation__circle_bottom_right",E),I("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",A),T("p-upgrades_icon_celebration_animation__drop_left",E),M("p-upgrades_icon_celebration_animation__circle_top_left",p),O("p-upgrades_icon_celebration_animation__star_top_left",g),I("p-upgrades_icon_celebration_animation__sprinkle_top_left",A))});var o=e(5712872315);function a(){return a=Object.assign||function(l){for(var _=1;_<arguments.length;_++){var v=arguments[_];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(l[u]=v[u])}return l},a.apply(this,arguments)}c(a,"_extends");const i=c(l=>{let{className:_,animationProps:v,hasBorder:u,type:h,size:f=o.D.MEDIUM,theme:p=o.B.PURPLE,showAnimation:E}=l;const g=(0,n.A)(`p-upgrades_icon--${f}`,`p-upgrades_icon--${p}`,_),A=t.createElement(s.A,{className:g,size:"inherit",type:h});if(!u)return A;const y=(0,n.A)("p-upgrades_icon_container",`p-upgrades_icon_container--${f}`,`p-upgrades_icon_container--${p}`,{"p-upgrades_icon_container--with_animation":E});return t.createElement("div",{className:y},A,E&&t.createElement(d,a({size:f},v)))},"UpgradesIcon");i.displayName="UpgradesIcon";const m=i},5207331754:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(980293773);const d=c(o=>{let{children:a,className:i}=o;return t.createElement(s.qf,{className:(0,n.A)("p-upgrades_modal__content_section",i)},a)},"ModalBody")},9240394198:(Q,C,e)=>{"use strict";e.d(C,{N:()=>g,A:()=>y});var t=e(3134334389),n=e(5255740490),s=e(980293773),r=e(9421999304),d=e(267465465),o=e(581167618),a=e(7949425452),i=e(3357053101),m=e(1935364562),l=e(5207331754),_=e(6000244203),v=e(3801841745);const h=c(T=>{let{banner:M,bodyContent:O,footerContent:I,showProBadge:D=!0,subtitle:P,title:L,error:k}=T;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(v.A,{flexDirection:"column",gap:20},k&&t.createElement(o.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},k),t.createElement(i.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:L},D&&t.createElement(a.Ay,{className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(s.$m,null,P&&t.createElement(m.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:P}),t.createElement(l.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},O)),t.createElement(_.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},I)),M)},"ModalContentHorizontalBanner"),f=c(T=>{let{banner:M,bodyContent:O,footerContent:I,showProBadge:D=!0,subtitle:P,title:L}=T;const k=t.createElement(t.Fragment,null,L,D&&t.createElement(a.Ay,{className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(i.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:k},M),t.createElement(s.$m,null,P&&t.createElement(m.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:P}),t.createElement(l.A,{className:"p-upgrades_modal_with_banner_vertical__body"},O)),t.createElement(_.A,null,I))},"ModalContentVerticalBanner");f.displayName="ModalContentVerticalBanner";const p=f;function E(){return E=Object.assign||function(T){for(var M=1;M<arguments.length;M++){var O=arguments[M];for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(T[I]=O[I])}return T},E.apply(this,arguments)}c(E,"_extends");var g;(function(T){T.LIGHT="light",T.DARK="dark",T.GOLD="gold",T.GRAY="gray"})(g||(g={}));const A=c(T=>{let{bannerBackgroundColor:M,bodyContent:O,centered:I,className:D,closeButtonTheme:P=g.DARK,closeModal:L,dataQa:k,footerContent:G,hero:b,imgSrc:W,imgSrcSet:B,maxWidth:R,shouldCloseOnOverlayClick:j,showProBadge:w=!0,subtitle:N,title:K,error:J,type:Y,videoFilename:q,videoPosterExtension:H="png",videoClassName:ne,lottieAnimation:te,...le}=T;const he=(0,r.JK)(),Ie=`${q}${he==="en-US"?"":`.${he}`}`,Ee=`p-upgrades_modal_with_banner__banner--${Y}`,me=c(()=>b?t.createElement("div",{className:Ee},b):B?t.createElement("img",{className:Ee,alt:"",srcSet:B}):W?t.createElement("img",{className:Ee,alt:"",src:W}):q?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:(0,n.A)(Ee,ne),poster:`${Ie}.${H}`},t.createElement("source",{type:"video/mp4",src:`${Ie}.mp4`}),t.createElement("source",{type:"video/webm",src:`${Ie}.webm`})):te?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},te):null,"getModalBanner");me.displayName="getModalBanner";const ce=t.createElement("div",{style:{backgroundColor:M},className:`p-upgrades_modal_with_banner__banner_container--${Y}`},me());return t.createElement(s.dW,E({className:(0,n.A)("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${Y}`,`p-upgrades_modal_with_banner--close_button_${P}`,"p-upgrades_modal_with_banner--close_button",D),centered:I,closeModal:L,dataQa:k,maxWidth:R,shouldCloseOnOverlayClick:j},le),Y===d.H.VERTICAL_BANNER?t.createElement(p,{banner:ce,bodyContent:O,footerContent:G,showProBadge:w,subtitle:N,title:K}):t.createElement(h,{banner:ce,bodyContent:O,footerContent:G,showProBadge:w,subtitle:N,title:K,error:J}))},"ModalContentWithBanner");A.displayName="ModalContentWithBanner";const y=A},6000244203:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(980293773);const d=c(o=>{let{children:a,className:i}=o;return t.createElement(s.jl,{className:"p-upgrades_modal__footer"},t.createElement(s.ox,{className:(0,n.A)("p-upgrades_modal__footer_actions",i)},a))},"ModalFooter")},3357053101:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(980293773);const d=c(o=>{let{headerClassName:a,titleClassName:i,children:m,title:l}=o;return t.createElement(s.rQ,{className:(0,n.A)("p-upgrades_modal__header",a)},m,t.createElement(s.Rc,{className:(0,n.A)("p-upgrades_modal__title",i),title:l}))},"ModalHeader")},1935364562:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(5255740490);const r=c(d=>{let{className:o,subtitle:a}=d;return t.createElement("div",{className:(0,n.A)("p-upgrades_modal__subtitle",o)},a)},"ModalSubtitle")},8719380546:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(980293773),r=e(4376397139),d=e(3357053101),o=e(5207331754),a=e(1935364562),i=e(6000244203),m=e(280819219),l=e(5712872315);const v=c(g=>{let{subtitle:A,bodyContent:y,footerContent:T,title:M,titleImage:O,titleVideo:I,titleVideoClassName:D,titleIcon:P,showTitleIconAnimation:L,headerClassName:k,footerActionsClassName:G,theme:b}=g;return t.createElement(t.Fragment,null,t.createElement(d.A,{headerClassName:(0,n.A)(k,{"p-upgrades_modal__header--with_animation":L}),title:M},O,I&&t.createElement("div",{className:(0,n.A)(D)},I),P&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(m.A,{hasBorder:!0,size:l.D.LARGE,type:P,showAnimation:!!L,theme:b}))),A&&t.createElement(a.A,{subtitle:A}),y&&t.createElement(s.$m,null,t.createElement(o.A,null,y)),t.createElement(i.A,{className:G},T))},"ModalContent");var u=e(9240394198),h=e(267465465);function f(){return f=Object.assign||function(g){for(var A=1;A<arguments.length;A++){var y=arguments[A];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T])}return g},f.apply(this,arguments)}c(f,"_extends");const p=c(g=>{const{className:A,maxWidth:y,onRequestClose:T,type:M,"data-qa":O,UNSAFE_parentSelector:I}=g,P={className:(0,n.A)("p-upgrades_modal__container",A),closeModal:T,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:y,dataQa:O,UNSAFE_parentSelector:I};return M===h.H.MULTI_PANE?t.createElement(r.A,f({},g,P)):M===h.H.VERTICAL_BANNER||M===h.H.HORIZONTAL_BANNER?t.createElement(u.A,f({},g,P)):t.createElement(s.dW,f({},P),t.createElement(v,f({},g)))},"Modal");p.displayName="Modal";const E=p},9371668729:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(2562405183),s=e(5255740490),r=e(2312625946),d=e(7268021173),o=e(3994181705),a=e(4481313819),i=e(7949425452),m=e(6244014364);function l(){return l=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u},l.apply(this,arguments)}c(l,"_extends");const _=c(u=>{let{ariaLabel:h,tooltipText:f,children:p,onClick:E,isFreemium:g,promoType:A,promoSubtype:y,showProBadge:T,tooltipClassName:M,uiComponentVariant:O,variant:I,toolTipZIndex:D,toolTipPosition:P,...L}=u;const{tooltipTitle:k,tooltipBody:G}=(0,o.A)({isFreemium:g,tooltipText:f,promoType:A,promoSubtype:y,variant:I}),b=(0,n.d4)(R=>(0,d.bp)(R,A,y)),W=G?`${k} - ${G}`:k;if(b)return p;const B=t.createElement(a.A,{clogImpression:!0,eventId:m.EventId.UPGRDEXP_TRIAL,uiComponentName:m.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:O},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},T&&t.createElement(i.Ay,{badgeTheme:i.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},k)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},G)));return t.createElement(r.Ay,l({tipClassName:(0,s.A)("p-trial_feature_tooltip__container",M),tip:B,onClick:E,zIndex:D,position:P,"aria-label":h?`${h}: ${W}`:`${W}`},L),p)},"TrialFeatureTooltip");_.displayName="TrialFeatureTooltip";const v=_},4387298515:(Q,C,e)=>{"use strict";e.d(C,{$m:()=>d,AH:()=>E,Ac:()=>a,D0:()=>u,Mh:()=>f,VR:()=>_,th:()=>m});var t=e(9706240641),n=e.n(t),s=e(6045824189);const r=(0,s.Nh)(["callsScreenshare","createBorderWindow"]),d=function(){var g=(0,t.coroutine)(function*(A,y){r.isAvailable()&&r(A,y)});return c(function(y,T){return g.apply(this,arguments)},"createBorderWindow")}(),o=(0,s.Nh)(["callsScreenshare","showBorder"]),a=function(){var g=(0,t.coroutine)(function*(){o.isAvailable()&&o()});return c(function(){return g.apply(this,arguments)},"showBorder")}(),i=(0,s.Nh)(["callsScreenshare","hideBorder"]),m=function(){var g=(0,t.coroutine)(function*(){i.isAvailable()&&i()});return c(function(){return g.apply(this,arguments)},"hideBorder")}(),l=(0,s.Nh)(["callsScreenshare","setWindowOrScreenId"]),_=function(){var g=(0,t.coroutine)(function*(A){l.isAvailable()&&l(A)});return c(function(y){return g.apply(this,arguments)},"setWindowOrScreenId")}(),v=(0,s.Nh)(["callsScreenshare","setWindowBorderWidth"]),u=function(){var g=(0,t.coroutine)(function*(A){v.isAvailable()&&v(A)});return c(function(y){return g.apply(this,arguments)},"setWindowBorderWidth")}(),h=(0,s.Nh)(["callsScreenshare","setWindowBorderColor"]),f=function(){var g=(0,t.coroutine)(function*(A,y,T,M){h.isAvailable()&&h(A,y,T,M)});return c(function(y,T,M,O){return g.apply(this,arguments)},"setWindowBorderColor")}(),p=(0,s.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),E=function(){var g=(0,t.coroutine)(function*(){if(p.isAvailable())return p()});return c(function(){return g.apply(this,arguments)},"getWindowPositionAndDimensions")}()},1583163054:(Q,C,e)=>{"use strict";e.d(C,{Ce:()=>_,Pe:()=>m,fI:()=>v,zS:()=>d});var t=e(3245843483),n=e(571104883),s=e(735940183);const r=new s.Ay("prefs"),d=(0,t.g9M)()&&t.MD7.isAvailable()?(0,t.MD7)():"nightly",o={PROD:"prod",BETA:"beta",DOGFOOD:d},a=[o.PROD,o.BETA],i=[o.PROD,o.BETA,o.DOGFOOD];function m(u){return(u?i:a).map(f=>({value:f,label:l(f)}))}c(m,"getReleaseChannelOptions");function l(u){switch(u){case o.PROD:return r.t("Production");case o.BETA:return r.t("Beta");case o.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}c(l,"getReleaseChannelDisplayName");function _(){return(0,t.g9M)()&&!(0,t.Z9F)()&&!(0,n.j9)()}c(_,"canSeeReleaseChannel");function v(){return _()&&["MSI","SlackSonic","SlackPilot"].every(u=>!navigator.userAgent.includes(u))}c(v,"canModifyReleaseChannel")},4923013394:(Q,C,e)=>{"use strict";e.d(C,{Jd:()=>l,X6:()=>_,bO:()=>o,c6:()=>i,fD:()=>f,lJ:()=>h,ve:()=>a,zb:()=>m});var t=e(3398586081),n=e(571104883),s=e(3259512346),r=e(3245843483);const d="sunroof_init",o="fullscreen-ui",a=(0,t.A)(()=>!1),i=(0,t.A)(()=>(0,s.s)("25.1.1")),m=(0,t.A)(()=>(0,r.Z9F)()?(0,n.dY)("38.0.0"):!0),l=(0,t.A)(()=>{if(!(0,n.y3)())return!1;const{titleBarStyle:p}=(0,r.oQe)("environment")||{},{debugFeatures:E}=(0,r.oQe)("settings")||{};return p==="custom-extension"||(E==null?void 0:E.includes("window-chrome"))}),_=(0,t.A)(()=>(0,n.WB)()&&(0,n.dY)("4.33.90")),v=c(()=>{if(!_())return!1;const{useHwAcceleration:p,windowVibrancy:E}=(0,r.oQe)("settings")||{};return p&&E},"shouldEnableWindowSunroof"),u=(0,t.A)(()=>!(0,n.dY)("4.35.97")),h=c(()=>v()?(0,n.cX)()?{transparent:u(),vibrancy:o,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function f(p){const{windowVibrancy:E}=(0,r.oQe)("settings")||{};if(typeof E>"u")return;if(E&&(!p.experimentDesktopIa4SunroofEnabled||!v())){(0,r.cGU)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(d)}catch{}return}const g=!!localStorage.getItem(d);if(p.experimentDesktopIa4SunroofEnabled&&!g&&!E&&_()){(0,r.cGU)({name:"windowVibrancy",value:!0});try{localStorage.setItem(d,"1")}catch{}}}c(f,"maybeToggleSunroof")},4979734995:(Q,C,e)=>{"use strict";e.d(C,{d:()=>o,j:()=>d});var t=e(6422693406),n=e(4724591729),s=e(796111729),r=e(4096483543);function d(a,i,m){const l="noversion",_=Date.now()/1e3,v=`/api/${a}?_x_id=${l}-${_}`,u=new XMLHttpRequest;u.onreadystatechange=()=>{if(u.readyState===4){u.onreadystatechange=null;let E;if(u.status===200||u.status===429)try{E=JSON.parse(u.responseText)}catch{(0,s.Wo)().warn("API","Unable to do anything with api response")}E=E||{ok:!1},m?m(E.ok,E,i):(0,n.Cu)()&&((0,s.Wo)().warn("API","No callback provided. Printing response"),(0,s.Wo)().warn("API",E.ok,E,i))}};const h=!0;u.open("POST",v,h);const f=new FormData;let p=!1;i?Object.keys(i).forEach(E=>{E[0]!=="_"&&(f.append(E,i[E]),p=!0)}):(0,n.Cu)()&&(0,s.Wo)().warn("API","No args provided. Bold, very bold."),p?u.send(f):u.send()}c(d,"callSlackApiUnauthed");const o=c((a,i)=>new t.S(m=>{d(a,i,(l,_)=>{m(_)})}),"callSlackApiUnauthedAsync");(0,r.A)()||(window.callSlackAPIUnauthed=(a,i,m)=>{(0,s.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),d(a,i,m)})},4540171876:(Q,C,e)=>{"use strict";e.d(C,{Db:()=>m,O3:()=>l,OB:()=>_,TE:()=>u,xB:()=>v});var t=e(2101927269),n=e(4525554634),s=e(2384831516),r=e(1269227002),d=e(6422693406),o=e(796111729),a=e(462591818),i=e(8935621861);const m=(0,s.C6)("Get call info from callId",(h,f,p)=>{let{callIds:E,reason:g}=p;const A=(0,o.Ay)({getState:f});return E.length>3&&A.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${E.length}`),d.S.map(E,y=>h((0,r.apiCall)({method:"screenhero.rooms.info",args:{room:y},reason:g||"huddles-call-info"})).then(T=>{let{room:M}=T;return(0,n.Q)(M)}).catch(T=>(A.error(T,`Error while fetching call: ${y}`),null))).then(t.A)});m.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const l=(0,s.C6)("Join a calls / huddle room",(h,f,p)=>{let{channelId:E,roomId:g,threadTs:A,shouldFetchRegion:y,teamId:T,traceId:M,parentSpanId:O,reason:I,isMultiDevice:D=!1}=p;return(y?i.A.getInstance().getNearestChimeMediaRegion(T):d.S.resolve("")).then(P=>h((0,r.apiCall)({method:"rooms.join",args:{...g&&{id:g},...E&&{channel_id:E},...A&&{thread_ts:A},regions:P,multidevice:D},traceId:M,parentSpanId:O,reason:I||"calls-api/joinRoom"})).then(L=>{var k;return{server:(0,a.YY)(L.call),roomId:L.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:g,channelId:(k=L.huddle)===null||k===void 0?void 0:k.channels[0],...L.canvas&&L.canvas.root_thread_ts&&{rootThreadTs:L.canvas.root_thread_ts},...L.canvas&&L.canvas.canvas_file_id&&{canvasFileId:L.canvas.canvas_file_id}}}))});l.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const _=(0,s.C6)("Notify member to join huddle",(h,f,p)=>{let{reason:E,channelId:g,userId:A}=p;return h((0,r.apiCall)({method:"rooms.notifyMember",args:{channel_id:g,user_id:A},reason:E}))});_.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const v=(0,s.C6)("Set a huddle topic / rename the call",(h,f,p)=>{let{roomId:E,name:g}=p;return h((0,r.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:E,room_name:g}}))});v.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const u=(0,s.C6)("Get a link to a huddle",(h,f,p)=>{let{reason:E,channelId:g}=p;return h((0,r.apiCall)({method:"rooms.getLink",reason:E,args:{channel_id:g}}))});u.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},6580433553:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3297051565),n=e.n(t),s=e(5257368278),r=e(1269227002),d=e(6932877194),o=e(4423055085),a=e(6422693406),i=e(1874577777);let m=!1;const l=(0,s.A)("Sends a message",function(u,h){let{message:f,traceId:p,parentSpanId:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g={...f},A=h();return f.blocks&&typeof f.blocks=="object"&&(g.blocks=JSON.stringify(f.blocks)),f.unfurl&&typeof f.unfurl=="object"&&(g.unfurl=JSON.stringify(f.unfurl)),m?new a.K((y,T)=>{setTimeout(()=>{T(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):(0,i.A)(A)?u((0,d.apiCallPersisted)({method:"chat.postMessage",args:g,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:p,parentSpanId:E})):u((0,r.apiCall)({method:"chat.postMessage",args:g,reason:"webapp_message_send",EXPEDITED:!0,traceId:p,parentSpanId:E}))});l.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},l.propTypes={message:n().shape({channel:n().string.isRequired,client_msg_id:n().string}).isRequired,traceId:n().string,parentSpanId:n().string};const _=l,v=c(u=>{m=!!u},"setForceMessageFailure");(0,o.ul)("setForceMessageFailure",v)},9694536345:(Q,C,e)=>{"use strict";e.d(C,{O:()=>l});var t=e(8840779375),n=e(3297051565),s=e.n(n),r=e(5257368278),d=e(1269227002),o=e(796111729),a=e(5873468694),i=e(5795074931),m=e(5657872960);const l=(0,r.A)("Calls client.counts endpoint",function(_,v){let{reason:u="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _((0,d.apiCall)({method:"client.counts",args:{thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},reason:u})).then(h=>{if(!h||!h.ok)return{};try{const I=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],D=(0,i.WR)(v());if(I.indexOf(D)>-1){const P=(0,t.A)(h.ims,k=>({id:k.id})),L=(0,t.A)(h.mpims,k=>({id:k.id}));(0,o.Ay)({getState:v}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:P,mpim_list:L})}}catch(I){(0,o.Ay)({getState:v}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:I})}const{activity:f={},channels:p=[],ims:E=[],mpims:g=[],threads:A={},file_channels:y={has_unreads:!1,mention_count:0},channel_badges:T={},alerts:M=null}=h,O={activity:f,channels:p,ims:E.map(I=>({...I,is_im:!0})),mpims:g.map(I=>({...I,is_mpim:!0})),threads:A,alerts:M,fileChannels:y,channelBadges:T};return(0,m.c)(v())&&h.saved&&(O.saved=(0,a.XK)(h.saved)),O})});l.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"},l.propTypes={reason:s().string}},1194535350:(Q,C,e)=>{"use strict";e.d(C,{KO:()=>o,_J:()=>a,zx:()=>i});var t=e(3297051565),n=e.n(t),s=e(1269227002),r=e(5257368278),d=e(4318855015);const o=(0,r.A)("Fetch all available and installed emoji collections from the API",function(m,l){let{reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return m((0,s.apiCall)({method:"emoji.collections.list",reason:_,args:{installed_only:"0"}}))});o.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},o.propTypes={reason:n().string.isRequired};const a=(0,r.A)("Add an emoji collection",(m,l,_)=>{let{collectionId:v,reason:u}=_;return m((0,s.apiCall)({method:"emoji.addCollection",args:{collection_id:v},reason:u})).catch(h=>{if(h.name!=="already_installed")throw h})});a.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},a.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired};const i=(0,r.A)("Remove an emoji collection",(m,l,_)=>{let{collectionId:v,reason:u}=_;return m((0,d.$x)({collectionId:v})),m((0,s.apiCall)({method:"emoji.removeCollection",reason:u,args:{collection_id:v}}))});i.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},i.propTypes={collectionId:n().string.isRequired,reason:n().string.isRequired}},490494914:(Q,C,e)=>{"use strict";e.d(C,{Cl:()=>m,Is:()=>l,af:()=>i});var t=e(9706240641),n=e.n(t),s=e(5257368278),r=e(6892115804),d=e(8847766420),o=e(2149300053),a=e(1026257987);const i=(0,s.A)("Queries Flannel for a list of external connected orgs/teams",(_,v,u)=>{let{count:h,filter:f,marker:p}=u;return(0,o.P)((0,d.JY)(v()),{method:o.J8.EXTERNAL_TEAMS_LIST,args:{count:h,filter:f,marker:p}}).then(E=>E)});i.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const m=(0,s.A)("Queries Flannel for channel counts of external connected orgs/teams",(_,v,u)=>{let{teamIds:h,count:f,marker:p}=u;return(0,o.P)((0,d.JY)(v()),{method:o.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:h,count:f,marker:p}}).then(E=>E)});m.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const l=(0,s.A)("Fetches and upserts external teams that match a query",function(){var _=(0,t.coroutine)(function*(v,u,h){const f=(0,d.JY)(u());return(0,a.Cj)(f,h).then(p=>{let{objects:E,next_marker:g}=p;return v((0,r.OU)({teams:E})),{externalTeams:E,nextMarker:g}})});return function(v,u,h){return _.apply(this,arguments)}}());l.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},165535451:(Q,C,e)=>{"use strict";e.d(C,{iV:()=>E,ib:()=>y,oP:()=>v,oQ:()=>A,uV:()=>g});var t=e(2927826522),n=e(5873468694),s=e(1269227002),r=e(5257368278),d=e(796111729),o=e(6323355797),a=e(3246555800),i=e(3559164431),m=e(3554387543);const l=c(M=>{let{taxName:O,isVat:I,effectiveTaxPercentage:D=0,salesTaxAmt:P,taxPercentage:L}=M,k=o.Zt.sales_tax;O?k=o.Zt[O.toString().toLowerCase()]||o.Zt.sales_tax:I&&(k=o.Zt.vat);const G=D>0?D:null;return{value:P||0,type:k,percentage:G||L||0}},"formatTaxData"),_=c(M=>{const O=M.tax;return l({taxName:O==null?void 0:O.tax_name,isVat:O==null?void 0:O.is_vat,effectiveTaxPercentage:O==null?void 0:O.effective_tax_percentage,salesTaxAmt:O==null?void 0:O.sales_tax_amt,taxPercentage:O==null?void 0:O.tax_percentage})},"getTaxData"),v=c(M=>l(M),"getAddonTaxData"),u=c(M=>{var O;const I=M.term==="12m"?o.ck.yearly:o.ck.monthly,D=M.term==="12m"?o.OY.yearly:o.OY.monthly,P=(O=M.available_addons)===null||O===void 0?void 0:O.map(L=>({id:L.addon_id,addonType:L.addon_type,upfrontUnitCostPerM:L.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:L.upfront_unit_cost_per_term}));return{id:M.product_id,term:I,currency:M.currency,level:M.level,lengthOfTermInMonths:D,costPerMonth:M.cost_per_m,costPerTerm:M.cost_per_term,isInvoice:M.is_inv||!1,maxInvoiceSeats:M.max_invoice_seats,minInvoiceSeats:M.min_invoice_seats,availableAddons:P}},"getPlanDataInstance"),h=c(M=>Object.keys(M).reduce((O,I)=>{const D=M[I];return O.availablePlans[I]={[o.i6.standard.id]:{[o.uq.CREDIT_CARD]:{[o.ck.monthly]:{default:u(D.std_m)},[o.ck.yearly]:{default:u(D.std_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:u(D.inv_std_y)}}},[o.i6.plus.id]:{[o.uq.CREDIT_CARD]:{[o.ck.monthly]:{default:u(D.plus_m)},[o.ck.yearly]:{default:u(D.plus_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:u(D.inv_plus_y)}}},[o.i6.compliance.id]:{[o.uq.CREDIT_CARD]:{[o.ck.yearly]:{default:u(D.compliance_y)}},[o.uq.INVOICE]:{[o.ck.yearly]:{default:u(D.inv_compliance_y)}}}},O},{availablePlans:{}}),"parsePlanAPIResponse"),f=c(M=>{var O,I,D,P,L,k;const G=_(M),b={currentCredits:M.credits.total_credits,creditsRemaining:M.credits.credits_remaining,creditsApplied:M.credits.credits_applied,proratedRefundCredits:M.prorated_refund,totalCreditsRemaining:M.credits.total_credits_remaining||0,totalCreditsApplied:M.credits.total_credits_applied||0},W=M.discount?(0,t.A)(M.discount):void 0,B={purchase:!((O=M.addons)===null||O===void 0)&&O.purchase&&Object.keys((I=M.addons)===null||I===void 0?void 0:I.purchase).length>0?Object.entries((D=M.addons)===null||D===void 0?void 0:D.purchase).reduce((j,w)=>{let[N,K]=w;return[...j,{id:N,addonType:K.addon_type,baseUpfrontUnitCost:K.base_upfront_unit_cost,term:K.term,baseProratedSubtotal:K.base_prorated_subtotal,numUsers:K.num_users}]},[]):[],refund:!((P=M.addons)===null||P===void 0)&&P.refund&&Object.keys((L=M.addons)===null||L===void 0?void 0:L.refund).length>0?Object.entries((k=M.addons)===null||k===void 0?void 0:k.refund).reduce((j,w)=>{let[N,K]=w;return[...j,{id:N,addonType:K.addon_type,term:K.term,amount:K.amount,numUsers:K.num_users}]},[]):[]};return{activePlanCost:{id:M.product_id,subtotal:M.subtotal,undiscountedSubtotal:M.undiscounted_subtotal,billableActiveUsers:M.billable_active_users,discount:W,tax:G,credits:b,totalRecurring:M.total_recurring,totalDueToday:M.total_due_today,quotedTermEnd:M.quoted_term_end,quotedTermStart:M.quoted_term_start,paidSeats:M.paid_seats,outstandingInvoiceAmount:M.outstanding_invoice_amount||0,addons:B}}},"mapCostToPropsFromAPI"),p=c(M=>{const O=h(M.plans).availablePlans;if(M.additional_addon_info){const I={isSlackAiLanguageUnsupported:M.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:O,additionalAddonInfo:I}}return{availablePlans:O}},"parseRetailPlansAPIResponse"),E=(0,r.A)("Fetch Available Plans",(M,O,I)=>M((0,s.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:I})).then(D=>p(D)));E.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const g=(0,r.A)("Fetch Available Plans",(M,O,I)=>{let{productId:D,country:P,region:L,postalCode:k,street:G,isBusinessPurchase:b,isInvoice:W,numInvoiceSeats:B,isFinalReview:R,isFutureProductSwitch:j,vatId:w,regionalId:N,countryMap:K}=I;const J=O(),Y=(0,a.KV)(K,P,L),q=(0,i.lK)(J),H=(0,i.IK)(J),ne=(0,m.L)(J);let te;if(H!=null&&H.length){const he=[];H.forEach(Ie=>{const Ee=ne.find(me=>me.addonType===Ie);Ee!=null&&Ee.id&&he.push(Ee.id)});try{te=he.length?JSON.stringify(he):void 0}catch(Ie){(0,d.Wo)().error(`Error with JSON.stringify in fetchCost, ${Ie}`)}}const le={state:L,product_id:D,addon_ids:te,is_final_review:R,checkout_step:q,is_future_switch:j,...R?{}:{country:P,street1:G,zip:k,is_business:Y?!1:b,is_vat_registered:Y?b:!1,vat_id:w||"",regional_tax_id:N},...W?{requested_invoice_seats:B}:{}};return M((0,s.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:le})).then(he=>{const Ie=he.plan_cost;if(!Ie)throw new Error("retail.cost: plan_cost is undefined");return f(Ie)})});g.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const A=(0,r.A)("Fetch Cost Data for Addons Flow",(M,O,I)=>{let D;try{D=JSON.stringify([I.addonId])}catch(P){(0,d.Wo)().error(`Error with JSON.stringify in fetchCost, ${P}`)}return M((0,s.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:D}})).then(P=>c(k=>{var G;const b=k==null?void 0:k.addon_costs;if(!b)return null;const W=((G=b.addons)===null||G===void 0?void 0:G[I.addonId])||null;return W?{currency:b.currency,freeUsageLimit:W.free_usage_limit,upfrontUnitCost:W.base_upfront_unit_cost,usageUnitCost:W.base_usage_unit_cost,addonType:W.addon_type,term:W.term,recurringUpfrontSubtotal:W.recurring_upfront_subtotal,dueToday:(0,n.XK)(b.due_today),recurringCosts:(0,n.XK)(b.recurring_costs)}:null},"formatApiResponse")(P))});A.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const y=(0,r.A)("Fetch Plans Page Boot Data",M=>M((0,s.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));y.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const T={mapCostToPropsFromAPI:f,getTaxData:_,getAddonTaxData:v}},9109082163:(Q,C,e)=>{"use strict";e.d(C,{Rs:()=>v,eS:()=>_,xs:()=>l});var t=e(3297051565),n=e.n(t),s=e(8703681551),r=e(8571983633),d=e(5257368278),o=e(1269227002),a=e(9676369204),i=e(9101533895);const m={"pins.list":{}},l=(0,d.A)("Get pinned items for channel",function(h,f){let{channelId:p,reason:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=m["pins.list"];return g[p]||(g[p]=h((0,o.apiCall)({method:"pins.list",args:{channel:p},reason:E})),g[p].then(A=>{const y=f(),T=(0,i.OL)(y,p);T&&(0,a.YJ)(A,T)}),g[p].finally(()=>delete g[p])),g[p]});l.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},l.propTypes={channelId:n().string.isRequired,reason:n().string.isRequired};const _=(0,d.A)("Pin Message to channel",(h,f,p)=>{let{ts:E,fileId:g,fileCommentId:A,channelId:y,reason:T}=p;return h((0,o.apiCall)({method:"pins.add",reason:T,args:(0,s.A)({channel:y,timestamp:E,file:g,file_comment:A},r.A)}))});_.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},_.propTypes={channelId:n().string.isRequired,ts:n().string,fileId:n().string,fileCommentId:n().string,reason:n().string.isRequired};const v=(0,d.A)("Unpin Message from channel",(h,f,p)=>{let{ts:E,fileId:g,fileCommentId:A,channelId:y,reason:T}=p;return h((0,o.apiCall)({method:"pins.remove",reason:T,args:(0,s.A)({channel:y,timestamp:E,file:g,file_comment:A},r.A)}))});v.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},v.propTypes={channelId:n().string.isRequired,ts:n().string,fileId:n().string,fileCommentId:n().string,reason:n().string.isRequired};const u={resetActiveCalls:()=>{Object.keys(m).forEach(h=>{m[h]={}})}}},6987519067:(Q,C,e)=>{"use strict";e.d(C,{lp:()=>Ge,SI:()=>As,DC:()=>wn,Yb:()=>cn,aw:()=>Rs,g2:()=>ls,U7:()=>it,eR:()=>Ne,sr:()=>lt,Do:()=>Nn,EM:()=>An,AC:()=>_t,FF:()=>Ms,A$:()=>Ts,mi:()=>Et,mK:()=>_s,bE:()=>kt,AQ:()=>ln,Cs:()=>qn,J6:()=>je,LR:()=>oe,cD:()=>Zn,jl:()=>$e,QH:()=>dt,DF:()=>kn,UC:()=>pe,fx:()=>Se,lS:()=>Qn,A1:()=>$t,H9:()=>In,ZD:()=>Ls,$P:()=>St,G2:()=>Mn,S:()=>dn});var t=e(8571983633),n=e(7715417323),s=e(7174777686),r=e(2141441167),d=e(897091071),o=e(1703559452),a=e(9113979368),i=e(9746734072),m=e(5503876160),l=e(4103274853),_=e(1566461842),v=e(6422693406),u=e(2664504268),h=e(5513050121),f=e(7599421656),p=e(6644049054),E=e(8956161330),g=e(4078437571),A=e(1190344069),y=e(1340402138),T=e(4446301238),M=e(6554371307),O=e(8017028002),I=e(490494914),D=e(5984521287),P=e(8419094353),L=e(9552526132),k=e(8352634987),G=e(4423055085),b=e(5613323535),W=e(735940183),B=e(571104883),R=e(7148679525),j=e(3677514771),w=e(3683888369),N=e(6839188756),K=e(1507833885);const J=new W.Ay("modals");function Y(tt){return[{id:"downloads",name:J.t("Downloads"),icon:"download",isEnabled:()=>(0,B.y3)()},{id:"invite_to_workspace",name:J.t("Invite people to {workspaceName}",{workspaceName:(0,N.F1)((0,j.H7)(tt))}),icon:"add-user",isEnabled:()=>(0,R.Lz)(tt)},{id:"create_a_channel",name:J.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,K.MM)(tt)},{id:"create_a_canvas",name:J.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,w.l)(tt)}]}c(Y,"getAllModals");function q(tt){return Y(tt).filter(Je=>Je.isEnabled())}c(q,"getAllEnabledModals");var H=e(7940058138),ne=e(7520119303),te=e(8414867410),le=e(9884588328),he=e(1407713935),Ie=e(5274604535),Ee=e(2298581483),me=e(7969244833),ce=e(6007206761),X=e(6495946979),V=e(4001737397),x=e(1197508738),S=e(8393662842),U=e(5455782105),F=e(8170643398),Z=e(4562579337),z=e(5096647761),$=e(3792998666),ee=e(3479134063),de=e(6536982570),ie=e(9889493721),ue=e(6120301420),fe=e(9001455011),re=e(340763958),_e=e(3212336858),Ue=e(2801540778),ye=e(2023092677),Te=e(4827886670),ge=e(9931116838),Ae=e(3559837422),Re=e(3307632080),Be=e(4919351998),ke=e(411655882),se=e(2229186),ve=e(6244014364),Me=e(2689960678),be=e(82287009),xe=e(9190452268),Le=e(5770715593),Ke=e(6030318713),He=e(352142497);const Ye=new W.Ay("ia4"),Xe={get[He.D.BrowseCanvases](){return Ye.t("All canvases",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[He.D.BrowseChannels](){return Ye.t("All channels",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[He.D.BrowsePeople](){return Ye.t("All people",{fallbackHash:"7aeeec03f7c076af275e9b7c0e187a40bd193acc",fallbackHashNs:"enterprise_dashboard"})},get[He.D.BrowseFiles](){return Ye.t("All files",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},get[He.D.ExternalWorkspaceAllowedOrgPane](){return Ye.t("Organization",{fallbackHash:"519255ae1f74ffc5ddd29979295c7572f048ad81",fallbackHashNs:"member_profile"})},get[He.D.RecentFiles](){return Ye.t("Recently Viewed Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[He.D.FilesSharedWithYou](){return Ye.t("Files shared with you",{fallbackHash:"72f2b0dfa1e68a34813db5999ff8098f60ef699d",fallbackHashNs:"search"})},get[He.D.FilesCreatedByYou](){return Ye.t("Files created by you",{fallbackHash:"8c292710d9aa5d3b598cf24b70f804cb0341e24e",fallbackHashNs:"search"})},get[He.D.RecentCanvases](){return Ye.t("Recently Viewed Canvases",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[He.D.CanvasesSharedWithYou](){return Ye.t("Canvases shared with you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[He.D.CanvasesCreatedByYou](){return Ye.t("Canvases created by you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},[He.D.DeletedCanvases]:void 0,[He.D.DmsList]:void 0,[He.D.LaterList]:void 0,[He.D.Channel]:void 0,[He.D.AppSpace]:void 0,[He.D.BrowseApps]:void 0,get[He.D.ExternalOrganizations](){return Ye.t("External organizations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[He.D.ExternalOrganization](){return Ye.t("External organization",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[He.D.ExternalPeople](){return Ye.t("External people",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[He.D.SlackConnectChannels](){return Ye.t("Slack Connect channels",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[He.D.SlackConnectInvitations](){return Ye.t("Slack Connect invitations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},[He.D.BrowseExternalWorkspace]:void 0,[He.D.PostEvent]:void 0,[He.D.BrowseShortcuts]:void 0,[He.D.BrowseWorkflowsManagedByYou]:void 0,[He.D.BrowseYourWorkflowTemplates]:void 0,[He.D.BrowseWorkflowTemplates]:void 0,[He.D.BrowseUserGroups]:void 0,[He.D.OrgDirectory]:void 0,get[He.D.RecentPlatform](){return Ye.t("Recently used workflows",{fallbackHash:"f97d1ab1f281e78d5e61024eee5be84679fd60ac",fallbackHashNs:"search"})},[He.D.SlackConnect]:void 0,[He.D.Page]:void 0,[He.D.Threads]:void 0,[He.D.Thread]:void 0,[He.D.Profile]:void 0,[He.D.FileDetails]:void 0,[He.D.Help]:void 0,[He.D.UserGroup]:void 0,[He.D.KeyboardShortcuts]:void 0,[He.D.WhatsNew]:void 0,[He.D.Feedback]:void 0,[He.D.List]:void 0,[He.D.ListRecord]:void 0,[He.D.ListRecordDetails]:void 0,[He.D.ListRecordThread]:void 0,[He.D.ListRecordHistory]:void 0,[He.D.ComposeList]:void 0,[He.D.Compose]:void 0,[He.D.QuipCommentThread]:void 0,[He.D.QuipCommentStream]:void 0,[He.D.QuipActivityHistory]:void 0,[He.D.QuipAutomationsOverview]:void 0,[He.D.Quip]:void 0,[He.D.Canvas]:void 0,[He.D.ChannelCanvas]:void 0,[He.D.CanvasBrowser]:void 0,[He.D.HuddlePageCanvas]:void 0,[He.D.PaidBenefits]:void 0,[He.D.Setup]:void 0,[He.D.SearchEmpty]:void 0,[He.D.AboutWorkspace]:void 0,[He.D.Unknown]:void 0,[He.D.MorePeopleSidebar]:void 0,[He.D.MoreCanvasesSidebar]:void 0,[He.D.MoreSolutionsSidebar]:void 0,[He.D.AppPopout]:void 0,[He.D.MorePlatformSidebar]:void 0,[He.D.Search]:void 0,[He.D.ChannelList]:void 0,[He.D.BrowseLists]:void 0,[He.D.DeletedLists]:void 0,[He.D.Tasks]:void 0,[He.D.AssignedTasks]:void 0,[He.D.Reminders]:void 0,[He.D.Saved]:void 0,[He.D.BrowseList]:void 0,[He.D.ActivityList]:void 0,[He.D.MoreFilesSidebar]:void 0,[He.D.MoreListsSidebar]:void 0,[He.D.MoreTodosSidebar]:void 0,[He.D.FilesPrototypeSidebar]:void 0,[He.D.MoreChannelsSidebar]:void 0,[He.D.MoreHuddlesSidebar]:void 0,[He.D.MoreExternalConnectionsSidebar]:void 0,[He.D.HelpBrowser]:void 0,[He.D.Huddle]:void 0,[He.D.BrowseHuddles]:void 0,[He.D.KeyboardShortcutsBrowser]:void 0,[He.D.WhatsNewBrowser]:void 0,[He.D.FeedbackBrowser]:void 0,[He.D.ExternalWorkspaceSidebar]:void 0,[He.D.ExternalWorkspacePeopleBrowser]:void 0,[He.D.ExternalWorkspaceChannelBrowser]:void 0,[He.D.AiSummaryDetails]:void 0,[He.D.DailyDigest]:void 0,[He.D.MoreAiSummarySidebar]:void 0,[He.D.SearchSummary]:void 0,[He.D.AssistantList]:void 0,[He.D.BrowseFilesPrototype]:void 0,[He.D.Today]:void 0,[He.D.Record]:void 0,[He.D.RecordChannelCreate]:void 0,[He.D.RecordChannelRelatedList]:void 0,[He.D.SalesAdministration]:void 0,[He.D.SalesBulkGrid]:void 0,[He.D.SalesHome]:void 0,[He.D.SalesListViewBrowser]:void 0,[He.D.SalesLogActivity]:void 0,[He.D.SalesNotifications]:void 0,[He.D.SalesSidebar]:void 0,[He.D.AssistantThread]:void 0,[He.D.Solutions]:void 0,[He.D.SolutionsFiltered]:void 0,[He.D.ChannelFiles]:void 0,[He.D.SlackKitPlayground]:void 0,[He.D.AiApp]:void 0,[He.D.BookmarksFolder]:void 0,[He.D.ActionItems]:void 0,[He.D.Inbox]:void 0,[He.D.HuddleTranscriptDetails]:void 0,get[He.D.WorkflowDetails](){return Ye.t("Workflow details",{fallbackHash:"badd385121c5861ac693b59ad8c160fdf7994344",fallbackHashNs:"channel_details"})},get[He.D.WorkflowEditor](){return Ye.t("Workflow Editor",{fallbackHash:"792c81a4cfdcb5b45d688cb03c2fd2e816f86d44",fallbackHashNs:"workflow_builder"})},[He.D.BBMMain]:void 0,[He.D.BBMWorkspaceSwitcher]:void 0,[He.D.SearchInChannel]:void 0,[He.D.BBMMore]:void 0},st=c(tt=>tt in Xe?Xe[tt]:"","getDisplayNameForViewType");var ot=e(4240442510),ct=e(6910192640),at=e(505908973),At=e(4096483543),Ct=e(5600190572),Tt=e(5276466411),Rt=e(7948868735),It=e(6533394955),Mt=e(2947836378);class nn extends Rt.F{fetchData(){return(0,It.dispatchForTeamId)(this.teamId,(0,Tt.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(Je=>((0,It.dispatchForTeamId)(this.teamId,(0,Mt.b)({files:Je.files})),Je.files))}constructor(Je,Vt){super(),this.teamId=Je,this.timeoutMs=Vt}}c(nn,"AutocompleteTopEngagedFilesCache");const Ot={};function bt(tt){let{teamId:Je,timeoutMs:Vt}=tt;const vt=Je||"_default";return Ot[vt]||(Ot[vt]=new nn(Je,Vt)),Ot[vt]}c(bt,"getAutocompleteTopEngagedFilesCache");var Jt=e(8195161e3),en=e(1948374838),sn=e(1917953477),zt=e(181849556),Yt=e(2825917518),hn=e(1072784641),Qe=e(1399977320),Wt=e(8956261571),gn=e(4342685672),rn=e(1031947056),ut=e(8847766420),Pt=e(4119164726),Bt=e(6451390137),Ft=e(2854654447),un=e(5795074931),Sn=e(9107158149),Un=e(7688940281),Cn=e(207659888),Ln=e(2235302340),yn=e(9101533895),Xt=e(6728717861),nt=e(3829348308),pt=e(4761125736),Dt=e(937317117),Qt=e(761034736),tn=e(7478895768),an=e(4224126550),ht=e(8276911661),yt=e(5688490863),Ut=e(8149648525),Gt=e(2047021170),mn=e(8515087389),Oe=e(136400070),we=e(4135820365),Fe=e(6892115804),qe=e(1835177371),ze=e(6508028729);const Ge={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeWorkflows:!1,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[Cn.VZ.Standard]:!0,[Cn.VH]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:gn.KV},fuzzyLimit:3,fuzzyJumpLimit:20,fuzzyCJK:!0,returnMetadata:!1};function Ze(tt){let{query:Je,options:Vt}=tt;var vt,xt,wt;const Ht=(wt=Vt==null?void 0:Vt.entities)!==null&&wt!==void 0?wt:{},Zt=Ht==null?void 0:Ht.members;let vn=!1;return Zt&&Zt!==!0&&(vn=!!(Zt!=null&&Zt.matchEmailField)),{source:Vt==null||(vt=Vt.sort)===null||vt===void 0?void 0:vt.source,tiered:Vt==null?void 0:Vt.tiered,is_searcher_sessions:!1,entities:Object.keys(Ht).filter(On=>!!Ht[On]).sort().toString(),query_length:Je.length,is_member_email_search:(Vt==null||(xt=Vt.sort)===null||xt===void 0?void 0:xt.source)==="use-team-and-people-search"&&vn}}c(Ze,"getTraceTags");function _t(tt,Je){var Vt,vt;const{excludeElmChannels:xt,includePublic:wt,includePrivate:Ht,includeFromAnotherTeam:Zt,allowedInternalTeams:vn,shouldAllowedInternalTeamsMatchAny:On}=(vt=(Vt=Je.entities)===null||Vt===void 0?void 0:Vt.channels)!==null&&vt!==void 0?vt:{};let En=[];return wt&&(En=[...En,...(0,yn.Wr)(tt,{includeFromAnotherTeam:!!Zt})]),Ht&&(En=[...En,...(0,yn.sE)(tt,{includeFromAnotherTeam:!!Zt})]),xt&&(En=En.filter(on=>!(0,Re.A)(tt,on))),vn&&(En=En.filter(on=>{if((0,V.O)(on))return!!On;const Tn=(0,Ee.R)(tt,on),jn=On?Tn==null?void 0:Tn.some(Wn=>vn.includes(Wn)):Tn==null?void 0:Tn.every(Wn=>vn.includes(Wn));return(Tn==null?void 0:Tn.length)&&jn})),En}c(_t,"getLocalChannels");function Et(tt,Je){var Vt;const vt=(0,ut.ZT)(tt),xt=Je==null||(Vt=Je.entities)===null||Vt===void 0?void 0:Vt.teams;var wt;const Ht=Object.values((wt=ze._===null||ze._===void 0?void 0:(0,ze._)())!==null&&wt!==void 0?wt:{}).filter(on=>on.id!==vt);if(xt!=null&&xt.onlyNavigable){const on=(0,we._)(tt);return on.length?[...Ht,...on]:Ht}var Zt;const vn=(Zt=(0,j.iK)(tt))!==null&&Zt!==void 0?Zt:{},On=Ht.map(on=>on.id),En=Object.values(vn).filter(on=>!On.includes(on.id));return[...Ht,...En].filter($t(tt,xt))}c(Et,"getLocalTeams");const je=(0,rn.Ay)("Get channels from flannel by query",(tt,Je,Vt)=>{let{query:vt,options:xt}=Vt;var wt,Ht,Zt,vn;const{includeFromAnotherTeam:On,includeExternallyShared:En,includeOnlyExternallyShared:on,onlyExternallyShared:Tn,onlyFromTeamId:jn,onlyFromExternalWorkspaceId:Wn,allowedInternalTeams:Bn,shouldAllowedInternalTeamsMatchAny:Hn,includeRecordChannels:bn}=(vn=(wt=xt.entities)===null||wt===void 0?void 0:wt.channels)!==null&&vn!==void 0?vn:{},pn=((Ht=xt.entities)===null||Ht===void 0||(Zt=Ht.channels)===null||Zt===void 0?void 0:Zt.remoteLimit)||xt.limit,ss=Je(),Xn=[],is=" AND ",es={query:vt,count:pn||Ge.limit||24,fuzz:(0,pt._Z)(ss,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,pt._Z)(ss,"searcher_flannel_cjk")==="cjk"};return On&&Xn.push("xws"),!(0,t.A)(En)&&!En&&Xn.push("NOT shared"),!(0,t.A)(on)&&!on&&Xn.push("NOT external"),!(0,t.A)(Tn)&&Tn&&Xn.push("shared"),Xn.length&&(es.filter=Xn.join(is)),jn&&(es.external_team=jn),Wn&&(es.external_team=Wn),Bn&&(es.allowed_internal_teams=Bn),Hn&&(es.should_allowed_internal_teams_match_any=Hn),bn&&!(0,A.Ht)(ss)&&(es.include_record_channels=!0),tt((0,T.hq)({query:es})).timeout(2e3).catch(n.A)});je.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const oe=(0,rn.Ay)("Get emoji from flannel by query",(tt,Je,Vt)=>{let{query:vt,options:xt}=Vt;var wt,Ht;const Zt=((wt=xt.entities)===null||wt===void 0||(Ht=wt.emoji)===null||Ht===void 0?void 0:Ht.remoteLimit)||xt.limit;return tt((0,O.l8)({query:{query:vt,count:Zt}})).timeout(2e3).catch(n.A)});oe.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const pe=(0,rn.Ay)("Get user groups from the search.team endpoint by query",(tt,Je,Vt)=>{let{query:vt,options:xt}=Vt;var wt,Ht,Zt,vn,On,En;const on=((wt=xt.entities)===null||wt===void 0||(Ht=wt.userGroups)===null||Ht===void 0?void 0:Ht.remoteLimit)||xt.limit;return tt((0,P.cn)({query:{query:vt,count:on,org_wide:(Zt=xt.entities)===null||Zt===void 0||(vn=Zt.userGroups)===null||vn===void 0?void 0:vn.includeFromAnotherTeam,channel:(On=xt.entities)===null||On===void 0||(En=On.userGroups)===null||En===void 0?void 0:En.channel}})).timeout(2e3).catch(n.A)});pe.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const Se=(0,rn.Ay)("Get remote triggers with query",(tt,Je,Vt)=>{let{query:vt,includeAutomatedTriggers:xt}=Vt;return tt((0,tn.tP)({query:vt,includeAutomatedTriggers:xt}))});Se.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const Ne=(0,rn.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(tt,Je,Vt)=>{let{queries:vt,options:xt}=Vt;var wt,Ht,Zt,vn,On,En;const on=((wt=xt.entities)===null||wt===void 0||(Ht=wt.userGroups)===null||Ht===void 0?void 0:Ht.remoteLimit)||xt.limit;return tt((0,P.MZ)({query:{queries:vt,count:on,org_wide:(Zt=xt.entities)===null||Zt===void 0||(vn=Zt.userGroups)===null||vn===void 0?void 0:vn.includeFromAnotherTeam,channel:(On=xt.entities)===null||On===void 0||(En=On.userGroups)===null||En===void 0?void 0:En.channel}})).timeout(2e3).catch(n.A)});Ne.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function lt(tt,Je){const{includeArchived:Vt,includeRequired:vt,onlyIfMember:xt,canPost:wt,includeExternallyShared:Ht,includeOnlyExternallyShared:Zt,onlyExternallyShared:vn,onlyFromTeamId:On,onlyFromExternalWorkspaceId:En}=Je??{};return on=>{let Tn=!0;if(Vt||(Tn=Tn&&!(0,ce.F)(on)),!(0,t.A)(vt)&&!vt&&(Tn=Tn&&!(0,he.gx)(on)),vn&&(Tn=Tn&&(0,re.ju)(on)),(!Ht||!Zt)&&(Tn=Tn&&!(0,re.ju)(on)),xt&&(Tn=Tn&&(0,X.b)(on)),wt&&(Tn=Tn&&(0,Te.E)(tt,on.id)),On){var jn;Tn=Tn&&(((jn=(0,Ie.A)(tt,on))===null||jn===void 0?void 0:jn.includes(On))||!1)}return En&&(Tn=Tn&&(0,le.ne)(tt,on)===En),Tn}}c(lt,"getChannelFilterFunction");const dt=(0,rn.Ay)("Get members from flannel by query",(tt,Je,Vt)=>{let{query:vt,options:xt}=Vt;var wt,Ht,Zt;const{includeDeleted:vn,matchEmailField:On,onlyExternal:En,includeExternal:on,includeAllExternal:Tn,includeBots:jn,onlyFromExternalTeamId:Wn,onlyFromExternalWorkspaceId:Bn}=(Zt=xt.entities.members)!==null&&Zt!==void 0?Zt:{},Hn=((wt=xt.entities)===null||wt===void 0||(Ht=wt.members)===null||Ht===void 0?void 0:Ht.remoteLimit)||xt.limit,bn=Je(),pn=[],ss=(0,N.r7)((0,j.H7)(bn))||!!(0,ut.jV)(bn),Xn=ss?["NOT org"]:["NOT team"],is=ss?["org"]:["team"],es=!vn,vs=" AND ",as={query:vt,count:Hn||Ge.limit||24,fuzz:(0,pt._Z)(bn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||xt.fuzzyLimit===0?0:1,uax29_tokenizer:(0,pt._Z)(bn,"searcher_flannel_cjk")==="cjk"};return es&&pn.push("NOT deactivated"),(En||Wn)&&pn.push(...Xn),(Wn||Bn)&&(as.external_team=Wn||Bn),jn||pn.push("NOT bots"),on||pn.push(...is),on&&Tn&&(as.include_all_external=!0),On&&(as.search_email=!0),pn.length&&(as.filter=pn.join(vs)),tt((0,D.Wr)({query:as})).timeout(2e3).catch(n.A)});dt.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const it=(0,rn.Ay)("Get members from flannel by query",(tt,Je,Vt)=>{let{queries:vt,options:xt}=Vt;var wt,Ht,Zt,vn;const{includeDeleted:On,matchEmailField:En}=(vn=(wt=xt.entities)===null||wt===void 0?void 0:wt.members)!==null&&vn!==void 0?vn:{},on=((Ht=xt.entities)===null||Ht===void 0||(Zt=Ht.members)===null||Zt===void 0?void 0:Zt.remoteLimit)||xt.limit||24,Tn=Je(),jn=[],Wn=!On,Bn=" AND ",Hn={queries:vt,count:on,fuzz:(0,pt._Z)(Tn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,pt._Z)(Tn,"searcher_flannel_cjk")==="cjk"};return Wn&&jn.push("NOT deactivated"),En&&(Hn.match_email=!0),jn.length&&(Hn.filter=jn.join(Bn)),tt((0,D.W9)({query:Hn})).timeout(2e3).catch(n.A)});it.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function kt(tt,Je){const{includeSelf:Vt,includeSlackbot:vt,includeBots:xt,includeWorkflows:wt,includeDeleted:Ht,includeExternal:Zt,includeGuests:vn,includeProfileOnlyUsers:On,onlyLocalTeam:En,onlyExternal:on,onlyExternalFromTeams:Tn,onlyFromExternalTeamId:jn}=Je??{};return Wn=>{let Bn=!0;if(on&&(Bn=Bn&&(0,z.g)(Wn)&&!(0,Z.A)(Wn)),Vt||(Bn=Bn&&!(0,F.fy)(Wn)),vt||(Bn=Bn&&!(0,ee.U)(Wn)),Tn)return(0,s.A)(Tn,(0,de.dQ)(Wn));if(jn)return Vt&&(0,F.fy)(Wn)?!0:(0,z.g)(Wn)&&(0,de.dQ)(Wn)===jn;if(xt||(Bn=Bn&&!(0,Z.A)(Wn)&&!(0,ee.U)(Wn)),wt||(Bn=Bn&&!(0,F.v3)(Wn)),Ht||(Bn=Bn&&!(0,F.oy)(Wn)),Zt||(Bn=Bn&&!(0,z.g)(Wn)),vn||(Bn=Bn&&!(0,$.P)(Wn)),On||(Bn=Bn&&!(0,F.hh)(Wn)),On&&(0,F.hh)(Wn)&&(Bn=Bn&&!(0,F.oy)(Wn)),En){const Hn=(0,ut.ZT)(tt);(0,F.hh)(Wn)&&On||(Bn=Bn&&(0,de.nO)(Wn,Hn))}return Bn}}c(kt,"getMemberFilterFunction");function $t(tt,Je){var Vt;const{includeCurrentTeam:vt,includeExternal:xt,onlyExternal:wt,onlyCurrentOrg:Ht,onlyAvailableToCurrentOrg:Zt,onlyMemberOnCurrentOrg:vn}=Je??{},On=(0,ut.Kc)(tt),En=(0,un.WR)(tt),on=(0,ht.nv)(tt,En),Tn=(on==null||(Vt=on.enterprise_user)===null||Vt===void 0?void 0:Vt.teams)||[];return jn=>!(!vt&&jn.id===(0,ut.ZT)(tt)||wt&&!(0,Ue.z)(tt,jn)||!xt&&!wt&&!Zt&&(0,Ue.z)(tt,jn)||Ht===!0&&jn.id!==On&&(0,N.Ss)(jn)!==On||Zt===!0&&jn.id!==On&&(0,N.Ss)(jn)!==On&&!(0,Ue.z)(tt,jn)||vn===!0&&!Tn.includes(jn.id))}c($t,"getTeamFilterFunction");function ln(tt,Je){const{onlyVisibleMpims:Vt,onlyExternallyShared:vt,includeExternallyShared:xt,onlyFromTeamId:wt}=Je??{};return Ht=>{let Zt=!0;if(Vt&&(Zt=Zt&&(0,le.w6)(tt,Ht)),vt&&(Zt=Zt&&(0,re.ju)(Ht)),xt===!1&&(Zt=Zt&&!(0,re.ju)(Ht)),wt){var vn;Zt=Zt&&(((vn=(0,Ie.A)(tt,Ht))===null||vn===void 0?void 0:vn.includes(wt))||!1)}return Zt}}c(ln,"getMpimFilterFunction");function An(tt,Je){const{onlyExternallyShared:Vt,includeExternallyShared:vt,onlyFromTeamId:xt,onlyVisibleIms:wt}=Je??{};return Ht=>{let Zt=!0;if(wt&&(Zt=Zt&&(0,le.PE)(tt,Ht)),Vt&&(Zt=Zt&&(0,re.ju)(Ht)),vt||(Zt=Zt&&!(0,re.ju)(Ht)),xt){var vn;Zt=Zt&&(((vn=(0,Ie.A)(tt,Ht))===null||vn===void 0?void 0:vn.includes(xt))||!1)}return Zt}}c(An,"getImFilterFunction");function In(tt,Je){const{includeDeleted:Vt,includeFromAnotherTeam:vt,onlyFromExternalWorkspaceId:xt}=Je??{};return wt=>{let Ht=!0;return vt||(Ht=Ht&&!(0,qe.dk)(tt,wt.id)),Vt||(Ht=Ht&&(0,ye.V1)(wt)),xt&&(Ht=Ht&&(0,ye.$Q)(wt)===xt),Ht}}c(In,"getUserGroupFilterFunction");function Nn(tt,Je){const{onlyCanvases:Vt=!1,onlyLists:vt=!1,onlyWriteable:xt=!1,onlyChannelCanvases:wt=!1,onlyTemplateCanvases:Ht=!1,onlySlackNative:Zt=!1,includeChannelCanvases:vn=!1,excludeTemplateCanvases:On=!1}=Je??{},En=(0,ue.hq)(tt),on=(0,ut.Kc)(tt),Tn=(0,j._J)(tt,on),jn=Tn&&!(0,N.qR)(Tn);return Wn=>{let Bn=!0;const Hn=(0,S.wL)(Wn)&&!jn||En&&vn&&(0,S.aD)(Wn),bn=(0,S.l7)(Wn);return Vt&&(Bn=Bn&&Hn,(0,S.dE)(Wn)&&On)?!1:(En&&(wt||jn)&&(Bn=Bn&&!(0,S.wL)(Wn)&&(0,S.aD)(Wn)),Ht&&(Bn=Bn&&(0,S.dE)(Wn)),vt&&(Bn=Bn&&bn),xt&&(Bn=Bn&&(0,S.mW)(Wn)),Zt&&(Bn=bn||Hn),Bn)}}c(Nn,"getFileFilterFunction");const kn=(0,rn.Ay)("Get teams via API by query",(tt,Je,Vt)=>{let{query:vt,options:xt}=Vt;var wt,Ht;const{onlyExternal:Zt,includeExternal:vn,remoteLimit:On}=(Ht=(wt=xt.entities)===null||wt===void 0?void 0:wt.teams)!==null&&Ht!==void 0?Ht:{},En=Je();if((0,Ae.DM)(En))return v.S.resolve();if(Zt||vn)return tt((0,I.Is)(vt)).timeout(2e3).catch(n.A);const on=On||xt.limit||24;return tt((0,Fe.vB)({query:vt,count:on})).timeout(2e3).catch(n.A)});kn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const Zn=(0,rn.Ay)("Get files via API by query",(tt,Je,Vt)=>{let{query:vt,options:xt}=Vt;var wt,Ht;const{onlyCanvases:Zt,onlyChannelCanvases:vn,onlyTemplateCanvases:On,onlyLists:En,excludeTemplateCanvases:on,bypassCache:Tn}=(Ht=(wt=xt.entities)===null||wt===void 0?void 0:wt.files)!==null&&Ht!==void 0?Ht:{};let jn=vt;return On?jn=`type:canvas_template ${vt}`:Zt||vn?jn=`${on?"type:quip -type:canvas_template":"type:quip"} ${vt}`:En&&(jn=`type:list ${vt}`),tt((0,M.yF)({query:jn,includeShares:!0,bypassCache:Tn})).timeout(2e3).catch(n.A)});Zn.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function _s(tt){const Je=(0,te.A4)(),Vt={},vt=[];h.cw.forEach(wt=>{const Ht=(0,ot.A)({tab:wt});(0,ct.A)(tt,wt)&&Ht&&!(Ht in Vt)&&(vt.push({id:wt,name:Ht,is_view:!0,is_tab_view:!0}),Vt[Ht]=Ht)}),h.g5.forEach(wt=>{const Ht=st(wt);(0,at.A)(tt,wt)&&Ht&&!(Ht in Vt)&&(vt.push({id:wt,name:Ht,is_view:!0,is_mva_view:!0}),Vt[Ht]=Ht)}),Je.forEach(wt=>{if(!(0,te.cH)(tt,wt)&&!(wt.id==="Pslack-connect"&&!(0,p.A)(tt))&&wt.id!=="Pactivity"&&!(wt.id===H.c.Apps&&!(0,fe.t)(tt))&&!(wt.id===H.c.Shortcuts&&!(0,ie.Bf)(tt))&&!(wt.id===H.c.BrowseWorkflowTemplates&&!(0,ie.fh)(tt))&&!(wt.id===H.c.BrowseWorkflowsManagedByYou&&!(0,ie.EH)(tt))&&!(wt.id===H.c.BrowseYourWorkflowTemplates&&!(0,ie.M7)(tt))&&((0,te.l1)(tt,wt)||wt.id==="Punreads"&&(0,Gt.ty)(tt,"enable_unread_view"))){const Ht=(0,ne.yb)(tt,wt);Ht&&!(Ht in Vt)&&(vt.push({...wt,name:Ht,is_view:!0,is_page_view:!0}),Vt[Ht]=Ht)}});const xt=(0,Ct.lI)("Vall_threads");return xt&&(0,Gt.ty)(tt,"enable_threads_view")&&!(0,y.R)(tt)&&vt.push(xt),vt}c(_s,"getLocalViews");function Ts(tt){return q(tt)}c(Ts,"getLocalModals");function Ms(tt){return(0,Be.xf)(tt)?[{id:tt,score:0,item:{id:tt,value:tt,isEmail:!0}}]:[]}c(Ms,"getLocalEmails");function ls(tt,Je){const Vt=!Je;let vt=Me.Ml;if(Je){const xt=(0,yn.OL)(tt,Je);vt=xt&&(0,me.f)(tt,xt)||Me.Ml}return(0,Bt.PL)(tt).flatMap(xt=>{if(xt.teams&&(vt.length||Vt)&&!xt.isWorkspaceAgnostic){const wt=Vt?xt.teams:xt.teams.filter(Ht=>vt.includes(Ht));if(wt.length>1)return wt.map(Ht=>{const Zt=(0,j._J)(tt,Ht),vn=(0,N.F1)(Zt);return{...xt,name:`${xt.name} ${vn}`,applicableTeamId:Ht}})}return[xt]})}c(ls,"getAppActionsWithEntriesPerApplicableTeam");function Qn(tt,Je,Vt){const vt=(0,yn.OL)(tt,Je),xt=vt?(0,me.f)(tt,vt)||[]:[];return(0,be.A_)(tt,Je,!!Vt,!0).flatMap(wt=>{if(wt.teams&&xt.length&&wt.appName!=="Slack"&&!wt.isWorkspaceAgnostic){const Ht=wt.teams.filter(Zt=>xt.includes(Zt));if(Ht.length>1)return Ht.map(Zt=>({...wt,id:(0,_e.Bs)(wt),isSlashCommand:!0,applicableTeamId:Zt}))}return[{...wt,id:(0,_e.Bs)(wt),isSlashCommand:!0}]})}c(Qn,"getSlashCommandsListWithEntriesPerApplicableTeam");function ae(tt,Je){let Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Ls(Je);const vt={},{members:xt,channels:wt,teams:Ht,userGroups:Zt,appActions:vn,views:On,broadcastKeywords:En,emoji:on,files:Tn,topEngagedFiles:jn,lists:Wn,channelSections:Bn,emails:Hn,modals:bn,shortcuts:pn,workflowTriggers:ss,helpArticles:Xn,salesforceRecords:is,salesListViews:es}=Je.entities;if(wt&&(wt.includePublic||wt.includePrivate)&&(vt.channels=_t(tt,Je)),wt&&wt.includeMpims&&(vt.mpims=(0,yn.FS)(tt)),wt&&wt.includeIms&&(vt.ims=(0,yn._B)(tt)),xt&&(vt.members=xt.onlyFromExternalWorkspaceId?Me.Ml:(0,ht.I_)(tt).filter(rs=>(0,Sn.zP)(tt,rs.id))),Ht&&(vt.teams=Et(tt,Je)),Zt&&(vt.userGroups=(0,qe.jJ)(tt)),vn&&(vt.appActions=(0,f.B)(tt)?(0,Bt.PL)(tt):ls(tt,vn.channel)),Tn&&(vt.files=(0,Dt.Gn)(tt)),(0,pt._Z)(tt,"top_engaged_files_autocomplete")==="on"&&jn){const rs=(0,ut.ZT)(tt),cs=36e5;if(rs){const Is=bt({teamId:rs,timeoutMs:cs}).getStaleWhileRevalidate([]);vt.topEngagedFiles=Is}}if(Wn&&(vt.lists=(0,an.C0)(tt)),On&&(vt.views=_s(tt)),bn&&(vt.modals=Ts(tt)),En){var as;if(En.includeAll)vt.broadcastKeywords=(0,ke.A)();else if(!(En==null||(as=En.currentChannel)===null||as===void 0)&&as.id){var Yn;vt.broadcastKeywords=(0,se.A)(tt,En==null||(Yn=En.currentChannel)===null||Yn===void 0?void 0:Yn.id)}else vt.broadcastKeywords=[]}if(on&&(vt.emoji=(0,nt.Gt)(tt)),Bn&&(vt.channelSections=(0,r.A)((0,Ln.jV)(tt))),(pn!=null&&pn.slashCommands||pn!=null&&pn.fakeGlobalActions)&&!(pn!=null&&pn.isAnnounceOnly)&&(vt.slashCommands=(0,be.A_)(tt,pn.channel,!!pn.threadTs,!0).map(rs=>({...rs,id:(0,_e.Bs)(rs),isSlashCommand:!0}))),pn!=null&&pn.slackGlobalActions&&(vt.slackGlobalActions=(0,be.Yk)(tt,pn.channel,pn.threadTs)),pn!=null&&pn.quipShortcutCommands&&(vt.quipShortcutCommands=(0,Pt.Aw)(tt,!!Vt)),pn!=null&&pn.channelActions&&(vt.channelActions=(0,Un.fo)(tt,pn.channel)),pn!=null&&pn.fakeGlobalActions&&(vt.fakeGlobalActions=(0,be.JL)(tt,pn.channel,pn.threadTs)),pn!=null&&pn.callActions&&(vt.callActions=(0,be.Uw)(tt,pn.channel,pn.threadTs,pn.isAnnounceOnly)),ss){const rs=(0,be.NJ)(tt);ss.includeAutomated?vt.workflowTriggers=rs:vt.workflowTriggers=rs.filter(cs=>cs.type===L.M.Shortcut)}Hn&&(vt.emails=Ms(Vt));const hs=(0,Le.dL)(tt);if(Xn&&hs&&(vt.helpArticles=(0,Qt.Fb)(tt,"searcher/fetch_all_articles")),is&&(0,A.Ht)(tt)&&(vt.salesforceRecords=Object.values((0,mn.Ie)(tt))),es){const{objectType:rs,salesforceOrgId:cs}=es,Is=(0,yt.Up)(tt),Us=rs?(0,yt.Zs)(tt,cs,rs):(0,d.A)(Object.values((0,yt.m3)(tt,cs)));vt.salesListViews=Us.map(os=>Is[os])}return dn(),vt}c(ae,"fetchLocal");const De=(0,rn.Ay)("Search for local entities within Slack based on options",(tt,Je,Vt)=>{let{query:vt,options:xt,autoTraceId:wt,parentSpanId:Ht}=Vt;var Zt;const vn=Je(),On=(Zt=b.LI.get({label:b.gC.Searcher,id:wt}))===null||Zt===void 0?void 0:Zt.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Ht}}),En=[],on=[],{channels:Tn,files:jn,members:Wn,teams:Bn,userGroups:Hn,appActions:bn,emoji:pn,helpArticles:ss,workflowTriggers:Xn,salesforceRecords:is,salesListViews:es}=xt.entities;if(Wn){const Yn=tt(dt({query:vt,options:xt}));Wn.runaway?on.push(Yn):En.push(Yn)}if(Tn){const Yn=tt(je({query:vt,options:xt}));Tn.runaway?on.push(Yn):En.push(Yn)}if(pn){const Yn=tt(oe({query:vt,options:xt}));pn.runaway?on.push(Yn):En.push(Yn)}if(jn&&((0,Ke.A)(vt)||vt.length>3)){const Yn=(0,Jt.G)(Je());if(!Yn.contains(vt)&&!Yn.isRequestInFlight()){Yn.add(vt),Yn.setRequestInFlight();const hs=tt(Zn({query:vt,options:xt}));jn.runaway?on.push(hs):En.push(hs)}}if(Hn){const Yn=tt(pe({query:vt,options:xt}));Hn.runaway?on.push(Yn):En.push(Yn)}if(Bn&&((0,U.k)(vn)||Bn.onlyExternal||Bn.includeExternal)&&!Bn.onlyLocal){const Yn=tt(kn({query:vt,options:xt}));Bn.runaway?on.push(Yn):En.push(Yn)}if(Xn){const Yn=(0,en.X)(vn);if(!Yn.contains(vt)&&!Yn.isRequestInFlight()){Yn.add(vt),Yn.setRequestInFlight();const hs=tt(Se({query:vt,includeAutomatedTriggers:Xn.includeAutomated}));hs&&(Xn.runaway?on.push(hs):En.push(hs))}}if((0,ge.e)(vn)&&bn){const Yn=tt((0,Ft.G)()).timeout(2e3).catch(n.A);bn.runaway?on.push(Yn):En.push(Yn)}const vs=(0,Le.dL)(vn);if(ss&&vs&&(0,Qt.Fb)(vn,"searcher/fetch_all_articles"),(0,g.u)(vt)){if(is){var as;const Yn=(as=b.LI.get({label:b.gC.Searcher,id:wt}))===null||as===void 0?void 0:as.createChildSpan({name:"searcher:fetch_salesforce_records",additionalSpanOptions:{parentSpanId:On==null?void 0:On.getId()}}),hs=tt((0,Oe.l)({query:vt,limit:5,reason:"Searcher"})).finally(()=>{Yn==null||Yn.close()});is.runaway?on.push(hs):En.push(hs)}if(es){const{objectType:Yn,salesforceOrgId:hs}=es;En.push(tt((0,Ut.b)({query:vt,objectType:Yn,salesforceOrgId:hs})))}}return v.S.all(En).then(Yn=>{const hs=Je(),rs=ae(hs,xt,vt);if(rs.remoteIds=$e(Yn),Wn&&Wn.onlyFromExternalWorkspaceId){var cs,Is;rs.members=(Is=(cs=Yn.find(os=>!!os.members))===null||cs===void 0?void 0:cs.members)!==null&&Is!==void 0?Is:Me.Ml}const Us=(0,o.A)((0,r.A)(rs),"length");return on.length&&!Us?v.S.all(on).then(()=>ae(Je(),xt)):(On==null||On.close(),rs)})});De.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function $e(tt){const Je={};return tt.forEach(Vt=>{Vt&&(Vt.appActions&&(Je.appActions=new Set(Vt.appActions.map(vt=>vt.id))),Vt.channels&&(Je.channels=new Set(Vt.channels.map(vt=>vt.id))),Vt.emoji&&(Je.emoji=new Set(Vt.emoji.map(vt=>vt.name))),Vt.files&&(Je.files=new Set(Vt.files.map(vt=>vt.id))),Vt.members&&(Je.members=new Set(Vt.members.map(vt=>vt.id))),Vt.userGroups&&(Je.userGroups=new Set(Vt.userGroups.map(vt=>vt.id))),Vt.teams&&(Je.teams=new Set(Vt.teams.map(vt=>vt.id))))}),Je}c($e,"getRemoteIds");const St=(0,rn.Ay)("Search for entities within Slack by query",(tt,Je,Vt)=>{let{query:vt="",options:xt=Ge}=Vt;var wt;if(!vt.length&&!xt.allowEmptyQuery)return v.S.resolve([]);const Ht=Je(),Zt=(0,xe.Cy)({state:Ht}),vn=(0,u.A)();Zt.mark(`modern-searcher-search-mark-${vn}`);const On=(0,sn.O)(vt,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var En;b.LI.start({label:b.gC.Searcher,id:vn,options:{teamId:(En=(0,ut.ZT)(Ht))!==null&&En!==void 0?En:null,tags:Ze({query:On,options:xt})}});const on=(wt=b.LI.get({label:b.gC.Searcher,id:vn}))===null||wt===void 0?void 0:wt.createChildSpan({name:"searcher:search"}),Tn=Rs(xt,Ge,vt);if((0,a.A)(Tn))return v.S.resolve([]);if((0,x.x)(Ht)!==Xt.M9.ONLINE||!(xt!=null&&xt.allowEmptyQueryRemoteSearch)&&!On.length&&(0,At.A)()&&(0,pt._Z)(Ht,"searcher_local_empty_string")==="treatment")return v.S.resolve(Mn(Ht,{query:On,options:Tn,autoTraceId:vn,parentSpanId:on==null?void 0:on.getId()}));const jn=v.S.delay(0).then(()=>tt(De({query:On,options:Tn,autoTraceId:vn,parentSpanId:on==null?void 0:on.getId()}))).then(Wn=>{const Bn=Je();return ms(Bn,{query:On,data:Wn,options:Tn,autoTraceId:vn,parentSpanId:on==null?void 0:on.getId()})});if(Tn.tiered){const Wn=Mn(Ht,{query:On,options:Tn,autoTraceId:vn,parentSpanId:on==null?void 0:on.getId()}),Bn=jn.finally(()=>{on==null||on.close(),b.LI.stop({label:b.gC.Searcher,id:vn})}),Hn=Object.assign(Wn,{promise:Bn});return v.S.resolve(Hn).finally(()=>{Zt.measureAndClear(`modern-searcher-search-mark-${vn}`,"modern-searcher-search-tiered")})}return jn.finally(()=>{Zt.measureAndClear(`modern-searcher-search-mark-${vn}`,"modern-searcher-search"),on==null||on.close(),b.LI.stop({label:b.gC.Searcher,id:vn})})});St.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function Mn(tt,Je){let{query:Vt="",options:vt,autoTraceId:xt,parentSpanId:wt}=Je;var Ht;let Zt=xt;if(!Zt){Zt=(0,u.A)();var vn;b.LI.start({label:b.gC.Searcher,id:Zt,options:{teamId:(vn=(0,ut.ZT)(tt))!==null&&vn!==void 0?vn:null,tags:Ze({query:Vt,options:vt})}})}const On=(Ht=b.LI.get({label:b.gC.Searcher,id:Zt}))===null||Ht===void 0?void 0:Ht.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:wt}});if(!Vt.length&&!vt.allowEmptyQuery)return[];const En=Rs(vt,Ge,Vt);if((0,a.A)(En))return[];const on=(0,sn.O)(Vt,{shouldTrimEmoji:!1}),Tn=ae(tt,En),jn=ms(tt,{query:on,data:Tn,options:En,autoTraceId:Zt,parentSpanId:On==null?void 0:On.getId()});return On==null||On.close(),jn}c(Mn,"searchLocal");const Pn=15,wn=c(tt=>{let{clogger:Je,data:Vt}=tt;const{source:vt,query:xt,results:wt,selectedItemId:Ht,displayedItemIds:Zt,openMethod:vn}=Vt,On=Zt?Zt.length:wt.length,En=Zt&&Ht?Zt.indexOf(Ht):wt.findIndex(Xn=>Xn.item.id===Ht);if(En<0)return;const on=wt.find(Xn=>Xn.item.id===Ht);if(!on)return;const Tn=on.type||"other",jn=(0,sn.O)(xt),Wn=on.source||"local";let Bn;on.type==="mpim"?Bn=on.scoreDetailsByMember:on.type==="member"&&Ht?Bn={[Ht]:{is_exact_match:on.isExactMatch,exact_match_details:on.exactMatchDetails,score_details:on.scoreDetails}}:on.type==="emoji"&&Ht&&(Bn={[Ht]:{is_exact_match:on.isExactMatch}});let Hn=[];wt.some(Xn=>Xn.featureVector)&&(Zt?Hn=Zt.map(Xn=>{const is=wt.find(es=>es.item.id===Xn);return is&&is.featureVector.serialize()||""}):Hn=wt.map(Xn=>{var is,es;return Xn==null||(is=Xn.featureVector)===null||is===void 0||(es=is.serialize)===null||es===void 0?void 0:es.call(is)}));let pn;(0,i.A)(xt)?pn=xt.reduce((Xn,is)=>Xn+qn((0,sn.O)(is)),0):pn=qn(jn);const ss={source:vt,query_length:jn.length?jn.length:0,query_terms_length:pn,results_length:On,selected_position:En,selected_type:Tn,selected_source:Wn,selected_match_details:Bn,feature_vector_list:Hn.slice(0,Pn),open_method:vn};Je.track(ve.EventId.SEARCHER_ACCEPT,ss)},"clogSearcherAccept"),cn=c(tt=>{let{clogger:Je,data:Vt}=tt;const{source:vt,query:xt,results:wt,displayedItemIds:Ht}=Vt,Zt=Ht!==void 0?Ht.length:wt.length,vn=(0,sn.O)(xt);let On;(0,i.A)(xt)?On=xt.reduce((on,Tn)=>on+qn((0,sn.O)(Tn)),0):On=qn(vn);const En={source:vt,query_length:vn.length?vn.length:0,query_terms_length:On,results_length:Zt};Je.track(ve.EventId.SEARCHER_REJECT,En)},"clogSearcherReject");function qn(tt){return tt?tt.split(Yt.u).filter(Je=>Je.length).length:0}c(qn,"getQueryTermsLength");function ms(tt,Je){let{query:Vt,data:vt,options:xt,autoTraceId:wt,parentSpanId:Ht}=Je;var Zt,vn,On,En,on;const Tn=(Zt=b.LI.get({label:b.gC.Searcher,id:wt}))===null||Zt===void 0?void 0:Zt.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Ht}});Ls(xt);const jn=(0,pt._Z)(tt,"searcher_avoid_exact_member_match")==="treatment",Wn=(0,pt._Z)(tt,"top_engaged_files_autocomplete")==="on",Bn=(0,pt._Z)(tt,"nerf_email_fuzzy_match")==="treatment",Hn={},bn=c((os,bs)=>{const Ps=new Map;return[...os,...bs].forEach(ws=>{Ps.set(ws.id,ws)}),Array.from(Ps.values())},"mergeAndDeduplicate"),pn=new hn.A({query:Vt,options:{...xt,sort:{...xt.sort,avoidExactMatchForMembers:jn},fuzzyEmailSearchForwardOnly:Bn}}),ss=(0,xe.Cy)({state:tt});ss.mark("modern-searcher-matching-mark");const Xn=(vn=b.LI.get({label:b.gC.Searcher,id:wt}))===null||vn===void 0?void 0:vn.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Tn==null?void 0:Tn.getId()}});vt.channels&&(Hn.channels=pn.filterChannels(tt,vt.channels,lt(tt,xt.entities.channels))),vt.members&&(Hn.members=pn.filterMembers(tt,vt.members,kt(tt,xt.entities.members))),vt.emails&&vt.members&&!(!(Hn==null||(On=Hn.members)===null||On===void 0)&&On.length)&&(Hn.emails=vt.emails),vt.mpims&&(Hn.mpims=pn.filterMpims(tt,vt.mpims,ln(tt,xt.entities.channels))),vt.ims&&(Hn.ims=pn.filterIms(tt,vt.ims,An(tt,xt.entities.channels))),vt.userGroups&&(Hn.userGroups=pn.filterUserGroups(tt,vt.userGroups,In(tt,xt.entities.userGroups))),vt.teams&&(Hn.teams=pn.filterTeams(tt,vt.teams,$t(tt,xt.entities.teams))),vt.views&&(Hn.views=pn.filterViews(tt,vt.views)),vt.modals&&(Hn.modals=pn.filterModals(tt,vt.modals)),vt.appActions&&(Hn.appActions=pn.filterAppActions(tt,vt.appActions)),vt.slashCommands&&(Hn.slashCommands=pn.filterShortcuts(tt,vt.slashCommands,!0)),vt.slackGlobalActions&&(Hn.slackGlobalActions=pn.filterShortcuts(tt,vt.slackGlobalActions)),vt.quipShortcutCommands&&(Hn.quipShortcutCommands=pn.filterShortcuts(tt,vt.quipShortcutCommands)),vt.channelActions&&(Hn.channelActions=pn.filterShortcuts(tt,vt.channelActions)),vt.fakeGlobalActions&&(Hn.fakeGlobalActions=pn.filterShortcuts(tt,vt.fakeGlobalActions)),vt.callActions&&(Hn.callActions=pn.filterShortcuts(tt,vt.callActions)),vt.workflowTriggers&&(Hn.workflowTriggers=pn.filterWorkflowTriggers(tt,vt.workflowTriggers)),vt.appActions&&(!(xt==null||(En=xt.entities)===null||En===void 0||(on=En.shortcuts)===null||on===void 0)&&on.apps)&&(Hn.apps=pn.filterApps(tt,vt.appActions,vt.fakeGlobalActions,vt.slashCommands)),vt.broadcastKeywords&&(Hn.broadcastKeywords=pn.filterBroadcastKeywords(tt,vt.broadcastKeywords)),vt.emoji&&(Hn.emoji=pn.filterEmoji(tt,vt.emoji)),vt.channelSections&&(Hn.channelSections=pn.filterChannelSections(tt,vt.channelSections,os=>{var bs,Ps;return!!(!((bs=xt.entities.channelSections)===null||bs===void 0||(Ps=bs.includeTypes)===null||Ps===void 0)&&Ps[os.type])})),vt.files&&(Hn.files=pn.filterFiles(tt,vt.files,Nn(tt,xt.entities.files))),vt.topEngagedFiles&&Wn&&(Hn.topEngagedFiles=pn.filterFiles(tt,vt.topEngagedFiles,Nn(tt,xt.entities.topEngagedFiles))),vt.lists&&(Hn.lists=pn.filterLists(tt,vt.lists));const is=(0,Le.dL)(tt);vt.helpArticles&&is&&(Hn.helpArticles=pn.filterHelpArticles(tt,vt.helpArticles)),vt.salesforceRecords&&(0,A.Ht)(tt)&&(Hn.salesforceRecords=pn.filterSalesforceRecordSuggestions(tt,vt.salesforceRecords)),vt.salesListViews&&(0,E.hx)(tt)&&(Hn.salesListViews=pn.filterSalesListViews(tt,vt.salesListViews)),ss.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),Xn==null||Xn.close();const es=As(Hn,vt.remoteIds||{});let vs;Wn&&(vs=es.topEngagedFiles,delete es.topEngagedFiles);const as=500,Yn=3;var hs;const rs=Math.min(((hs=xt==null?void 0:xt.limit)!==null&&hs!==void 0?hs:1)*Yn,as);let cs=(0,d.A)(Object.values(es));if(xt.sort&&!xt.sort.bypassSorting){var Is;let os=!1;cs.length<rs&&(os=!0);const bs=new Qe.A({query:Vt,options:{modelOnly:os,...xt.sort}}),Ps=(Is=b.LI.get({label:b.gC.Searcher,id:wt}))===null||Is===void 0?void 0:Is.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Tn==null?void 0:Tn.getId()}});cs=bs.sort(tt,es),Ps==null||Ps.close(),vs&&Wn&&(vs=(0,zt.jW)(tt,{query:Vt,list:vs,bonusPoints:bs.getFrecencyBonusPointsFunction(tt)}))}if(vs&&Wn&&(cs=bn(cs,vs)),xt.sort&&xt.sort.frecency&&!xt.sort.bypassSorting){var Us;const os=(Us=b.LI.get({label:b.gC.Searcher,id:wt}))===null||Us===void 0?void 0:Us.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Tn==null?void 0:Tn.getId()}});cs=new Wt.A({query:Vt,options:{...xt.sort},teamId:(0,ut.ZT)(tt),enterpriseId:(0,U.k)(tt)&&(0,ut.jV)(tt)?(0,ut.jV)(tt):void 0}).sort(tt,cs.slice(0,rs)),os==null||os.close()}return xt.limit&&(cs=(0,m.A)(cs,xt.limit)),xt.returnMetadata||(cs=cs.map(os=>os.item)),dn(),cs||[]}c(ms,"processFetchedEntities");function As(tt,Je){return(0,l.A)(tt,(Vt,vt)=>{const xt=xs(vt),wt=Je[vt];let Ht=!1;return vt==="topEngagedFiles"&&(Ht=!0),Vt.map(Zt=>{const vn=wt&&wt.has(Zt.item.id)?"remote":"local";return{...Zt,type:xt,source:vn,isTopEngagedFile:Ht}})})}c(As,"addResultMetadata");function xs(tt){switch(tt){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesforceRecords":return"salesforceRecord";case"salesListViews":return"salesListViews";default:return"other"}}c(xs,"getTypeFromGroup");function Rs(tt,Je,Vt){const{members:vt,channels:xt,userGroups:wt,broadcastKeywords:Ht,emoji:Zt}=tt.entities,{members:vn,channels:On,userGroups:En}=Je.entities;let on={},Tn="";Vt!=null&&Vt.length&&(Tn=Array.isArray(Vt)?"@":Vt.charAt(0)),(Tn==="@"||Tn==="\uFF20")&&(vt||wt||Ht)?(vt&&(on.members=gs(vt,vn)),wt&&(on.userGroups=gs(wt,En)),Ht&&(on.broadcastKeywords=gs(Ht,{}))):(Tn==="#"||Tn==="\uFF03")&&xt?on.channels=gs(xt,On):Tn===":"&&Zt?on.emoji=gs(Zt,{}):on=Object.keys(tt.entities).reduce((hs,rs)=>{const cs=tt.entities[rs];return cs&&(hs[rs]=gs(cs,Je.entities[rs])),hs},{});var jn;const Wn=gs((jn=tt==null?void 0:tt.sort)!==null&&jn!==void 0?jn:{},Je.sort);var Bn;const Hn=(Bn=tt.limit)!==null&&Bn!==void 0?Bn:Je.limit;var bn;const pn=(bn=tt.fuzzyLimit)!==null&&bn!==void 0?bn:Je.fuzzyLimit;var ss;const Xn=(ss=tt.fuzzyJumpLimit)!==null&&ss!==void 0?ss:Je.fuzzyJumpLimit,is=tt.fuzzyCJK||Je.fuzzyCJK,es=tt.tiered,vs=tt.filter,as=tt.allowEmptyQuery,Yn=tt.returnMetadata||Je.returnMetadata;return Wn&&(Wn.model=Wn.model||(0,gn.In)()),{entities:on,sort:Wn,limit:Hn,tiered:es,filter:vs,allowEmptyQuery:as,fuzzyLimit:pn,fuzzyJumpLimit:Xn,fuzzyCJK:is,returnMetadata:Yn}}c(Rs,"getAllOptions");function gs(tt,Je){if(!Je||tt===!1)return tt;const Vt=tt===!0?{}:tt,vt=Je===!0?{}:Je;return(0,_.A)(Vt,vt)}c(gs,"mergeOptions");function Ls(tt){const{members:Je,channels:Vt,teams:vt,userGroups:xt,appActions:wt,files:Ht}=tt.entities;(Je||Vt||vt||xt||wt||Ht)&&k.Ay.pauseRefetchIndefinitely()}c(Ls,"pauseConditionalFetching");function dn(){k.Ay.unpauseRefetchImmediately()}c(dn,"unpauseConditionalFetching"),(0,G.ul)("searcher",{search:(tt,Je)=>(0,It.dispatchForTeamId)(tt,St({options:Je})),searchLocal:(tt,Je)=>{const Vt=(0,It.getStateByTeamId)(tt);return Mn(Vt,{options:Je})}})},3275490582:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5519146941);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(o[m]=i[m])}return o},s.apply(this,arguments)}c(s,"_extends");function r(o){const a=o,i=t.forwardRef((m,l)=>t.createElement(n.A.Consumer,null,_=>{let{view:v,closeView:u,windowId:h,container:f,isMainWindow:p,isChildWindow:E,shouldUseNavigate:g,activeTab:A,forceTabWhenNavigating:y,getSiblingView:T,getPrimaryView:M,getSecondaryView:O,getViewSet:I}=_;return t.createElement(a,s({ref:l},m,{view:v,closeView:u,windowId:h,container:f,isMainWindow:p,isChildWindow:E,shouldUseNavigate:g,activeTab:A,forceTabWhenNavigating:y,getSiblingView:T,getPrimaryView:M,getSecondaryView:O,getViewSet:I}))}));return i.displayName=`withViewContainerContext(${a.displayName})`,i}c(r,"withViewContainerContext"),r.displayName="withViewContainerContext";const d=r},1149563359:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389),n=e(9053431150);function s(r,d){const{addFocusTransitionListener:o,removeFocusTransitionListener:a}=(0,t.useContext)(n.Ay);(0,t.useEffect)(()=>(o(r,d),()=>{a(r,d)}),[o,d,a,r])}c(s,"useFocusTransitionListener")},8369079536:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3134334389);function n(){const s=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(s.current=!0,()=>{s.current=!1})),s}c(n,"useMounted")},8362292758:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8300007136),n=e(5534420337);function s(){const{getState:r}=(0,t.Pj)();return(0,n.Ay)({getState:r})}c(s,"useLogger")},5204962244:(Q,C,e)=>{"use strict";e.d(C,{d:()=>n});var t=e(3134334389);function n(s){const r=(0,t.useRef)();return r.current===void 0&&(r.current=s()),r.current}c(n,"useRefCreator")},3107743571:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>n});var t=e(3134334389);const n=c(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const o=(0,t.useRef)(),a=(0,t.useCallback)(()=>{const i=o.current;i&&(window.clearTimeout(i),o.current=void 0)},[]);return(0,t.useEffect)(()=>(a(),o.current=window.setTimeout(s,r),a),[s,a,r].concat(d)),a},"useTimeout")},4003148341:(Q,C,e)=>{"use strict";e.d(C,{x:()=>s});var t=e(8300007136),n=e(3855029223);function s(){const{getState:r}=(0,t.Pj)();return(0,n.E)({getState:r})}c(s,"useTracer")},5519459863:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(8300007136),n=e(2047021170),s=e(387484329),r=e(2562405183);function d(o){const a=(0,t.wA)();return[(0,r.d4)(i=>(0,n.ty)(i,o)),i=>a((0,s.AZ)({pref:o,value:i}))]}c(d,"useUserPref")},3320454392:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){const s=c(()=>{window.Cypress||n()},"unloadHandler");window.addEventListener("beforeunload",s)}c(t,"addUnloadHandler")},9853754481:(Q,C,e)=>{"use strict";e.d(C,{Ep:()=>d,n2:()=>a,Ay:()=>m});var t=e(6313685253),n=e(7299481592);const s=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,d=6;function o(l){let _=1;for(;_*2<l;)_*=2;return _}c(o,"getPowerof2LessThan");function a(l){let v=.01;for(const h of l)v=Math.max(v,(h-128)/128);const u=(Math.log(.01)-Math.log(v))/Math.log(.01);return Math.min(Math.max(u,0),1)}c(a,"computeStrength");function i(l){return(0,t.A)(l,(_,v)=>{const u=v.getSettings().sampleRate;return u!==void 0&&_!==void 0?Math.max(_,u):u},void 0)}c(i,"getMaxTrackSampleRate");let m=c(class{getLevel(){var _;return(_=this.analyserNode)===null||_===void 0||_.getByteTimeDomainData(this.data),a(this.data)/d}stop(){var _;if(this.analyserNode){var v;(v=this.audioNode)===null||v===void 0||v.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(_=this.audioCtx)===null||_===void 0||_.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(_,v){(0,n.M)(v>=0,"Level poll interval must be positive"),this.audioCtx=new s;const u=_.getAudioTracks();(0,n.M)(!!u.length,"Need audio tracks to run analyser");const f=(i(u)||48e3)*v/1e3,p=Math.max(32,Math.min(32768,o(f)));this.data=new Uint8Array(p),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=p,this.audioNode=this.audioCtx.createMediaStreamSource(_),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},1829947126:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6267571562);class n{createPublisher(d){return this.publishers[d]=new t.G,this.publishers[d]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(d,o){const a=this.publishers[d];a&&a.publish(o)}publishAll(d,o){var a;const i={peerId:d,value:o};(a=this.allPublisher)===null||a===void 0||a.publish(i)}subscribe(d,o){(this.publishers[d]||this.createPublisher(d)).subscribe(o)}subscribeAll(d){this.createAllPublisher().subscribe(d)}unsubscribe(d,o){const a=this.publishers[d];a&&a.unsubscribe(o)}constructor(){this.publishers={}}}c(n,"PeerPubSub");const s=new n},9009528296:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6267571562);const n=new t.G},5046160032:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2016742660);const n=window.navigator&&typeof window.navigator.sendBeacon=="function";function s(r){let{apiUrl:d,method:o,token:a,args:i={},versionTs:m="",versionUid:l=""}=r,_=!1;const v=(0,t.DI)();let u=`${d}${o}?_x_id=${l.substring(0,8)}-${Date.now()/1e3}`;v!==null&&(u+=`&fp=${v}`);const h=new FormData;if(h.append("token",a),Object.keys(i).forEach(f=>h.append(f,i[f])),n)_=navigator.sendBeacon(u,h);else{const f=new XMLHttpRequest;f.addEventListener("load",()=>{const{readyState:p,status:E,DONE:g}=f;p===g&&E===200&&(_=!0)}),f.open("POST",u,!0),f.setRequestHeader("X-Slack-Version-Ts",m),f.send(h)}return _}c(s,"beaconApiCall")},8935621861:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(9706240641),n=e(6273911963),s=e(9687310625);function r(h){return d.apply(this,arguments)}c(r,"fetchNearestChimeMediaRegion");function d(){return d=(0,t.coroutine)(function*(h){const f=new n.A({url:h?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const p=yield new s.Ay().q(f);return JSON.parse(p).region}catch{return""}}),d.apply(this,arguments)}c(d,"_fetchNearestChimeMediaRegion");var o=e(6422693406),a=e(3390261877),i=e(3320454392),m=e(504058561),l=e(322597465),_=e(796111729);let v=c(class to{writeRegions(f,p){const E=p?to.GOV_REGION_STORAGE_KEY:to.REGION_STORAGE_KEY,g={regions:f,timestamp:Date.now(),version:to.VERSION};try{localStorage.setItem(E,JSON.stringify(g))}catch(A){(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",A.message)}}readRegions(f){const p=f?to.GOV_REGION_STORAGE_KEY:to.REGION_STORAGE_KEY,E=localStorage.getItem(p);if(!E)return null;let g=null;try{g=JSON.parse(E)}catch(A){return(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",A.message),null}return g.version!==to.VERSION||this.ttl&&Date.now()-g.timestamp>this.ttl?null:g}constructor(f){this.ttl=f}},"ChimeRegionStorage");v.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",v.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",v.VERSION=1;let u=c(class Ks{static getInstance(){return Ks.instance||(Ks.instance=new Ks),Ks.instance}getNearestChimeMediaRegion(f){var p=this;return(0,t.coroutine)(function*(){return(f?(0,l.H)(f):!1)?p.getNearestChimeGovMediaRegion():p.getNearestChimeCommercialMediaRegion()})()}getNearestChimeCommercialMediaRegion(){var f=this;return(0,t.coroutine)(function*(){if(!f.commercialRegions){const p=f.storage.readRegions(!1);p&&(f.commercialRegions=p.regions)}return f.commercialRegions?f.commercialRegions:f.remoteGetNearestChimeMediaRegion(!1)})()}getNearestChimeGovMediaRegion(){var f=this;return(0,t.coroutine)(function*(){if(!f.govRegions){const p=f.storage.readRegions(!0);p&&(f.govRegions=p.regions)}return f.govRegions?f.govRegions:f.remoteGetNearestChimeMediaRegion(!0)})()}remoteGetNearestChimeMediaRegion(f){var p=this;return(0,t.coroutine)(function*(){const E=yield o.S.resolve(r(f));return f?p.govRegions=E:p.commercialRegions=E,p.storage.writeRegions(E,f),E})()}init(){if(this.initialized)return 0;this.initialized=!0;const f=(0,m.z$)();let p=Ks.INITIAL_LOAD_DELAY;const E=this.storage.readRegions(f);E&&(f?this.govRegions=E.regions:this.commercialRegions=E.regions,p=Math.max(Ks.INITIAL_LOAD_DELAY,Ks.REFRESH_INTERVAL-(Date.now()-E.timestamp)));var g=this;const A=setTimeout((0,t.coroutine)(function*(){yield g.remoteGetNearestChimeMediaRegion(f);const y=new a.A(Ks.REFRESH_INTERVAL);y.start((0,t.coroutine)(function*(){yield g.remoteGetNearestChimeMediaRegion(f)})),(0,i.A)(()=>{y.stop()})}),p);return(0,i.A)(()=>{clearTimeout(A)}),p}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new v(Ks.REFRESH_INTERVAL)}},"ChimeRegionProvider");u.REFRESH_INTERVAL=3*24*60*60*1e3,u.INITIAL_LOAD_DELAY=5*1e3},3390261877:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});let t=c(class{start(s){this.stop(),this.timer=setInterval(s,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(s){this.intervalMs=s,this.timer=null}},"IntervalScheduler")},6728003438:(Q,C,e)=>{"use strict";e.d(C,{F4:()=>P,GC:()=>W,lP:()=>b,no:()=>I});var t=e(9113979368),n=e(6533394955),s=e(4423055085),r=e(8847766420),d=e(3346431019),o=e(3855029223),a=e(2250002584),i=e(796111729),m=e(3158767748),l=e(8802876335),_=e(4798756512);const v="RTM-EVENT-METRICS",u=4;let h=!1,f;const p=50;function E(){return h?!0:(0,d.A)()?(f===void 0&&(f=(0,m.A)(p),f&&(0,i.Wo)({label:v}).info("Metrics collection enabled for the current interval.")),f):!1}c(E,"shouldSampleForInterval");let g={},A={},y={},T={},M={},O={};function I(N){let{teamOrEnterpriseId:K,rtmEventType:J,rtmEventSubtype:Y,duration:q,msgs:H,fromEvtLog:ne}=N;var te;if(!E())return;const le=(0,r.Kc)((te=(0,n.getStoreOrSharedStoreInstanceByTeamOrEnterpriseId)(K))===null||te===void 0?void 0:te.getState());if(!le)return;const he=J==="message"?`message/${Y}`:J;ne&&D({bucket:M,teamOrEnterpriseId:le,eventType:he,value:H.length}),D({bucket:A,teamOrEnterpriseId:le,eventType:he,value:1}),D({bucket:y,teamOrEnterpriseId:le,eventType:he,value:H.length}),D({bucket:T,teamOrEnterpriseId:le,eventType:he,value:q})}c(I,"incrementMetrics");function D(N){let{bucket:K,teamOrEnterpriseId:J,eventType:Y,value:q}=N;var H;const ne=(H=K[J])!==null&&H!==void 0?H:{};var te;const le=(te=ne[Y])!==null&&te!==void 0?te:0;ne[Y]=le+q,K[J]=ne}c(D,"incrementBucket");function P(N,K){if((0,t.A)(y)&&(0,t.A)(g)){B();return}const J=Object.keys({...y,...g}),Y=setInterval(()=>{const q=(0,i.Wo)({label:v}),H=J.pop();if(!H){q.info("Completed metrics aggregation",{traceId:N.getTraceId()}),clearInterval(Y);return}q.info(`Sending metric report for id: ${H}`),G({teamOrEnterpriseId:H,clientMetricsTrace:N,performanceTracingTags:K}),k({teamOrEnterpriseId:H,clientMetricsTrace:N,performanceTracingTags:K}),R(H)},1e3)}c(P,"reportRtmMetrics");function L(N,K){const J=(0,n.getStateByTeamId)(N);return{...K,metric_version:u,slow_connection_count:(0,l.d4)(J)}}c(L,"getMetricsTraceMetatags");function k(N){let{teamOrEnterpriseId:K,clientMetricsTrace:J,performanceTracingTags:Y}=N;const q=g[K];if(!q)return;const H=(0,o.E)({teamOrEnterpriseId:K}),ne=H.createMetricsTrace({label:"rtm_incoming",tags:L(K,Y),traceId:J.getTraceId(),parentSpanId:J.getRootSpanId()});var te;const le=(te=O[K])!==null&&te!==void 0?te:{};let he=0,Ie=0;Object.entries(q).forEach(Ee=>{let[me,ce=0]=Ee;var X;const V=(X=le[me])!==null&&X!==void 0?X:0;he+=ce,Ie+=V,ne.store({name:"rtm_incoming:event_count",value:ce}).addTags({event_type:me,eventlog_count:V,socket_count:ce-V})}),ne.store({name:"rtm_incoming:total_event_count",value:he}),ne.store({name:"rtm_incoming:total_event_count:socket",value:he-Ie}),ne.store({name:"rtm_incoming:total_event_count:eventlog",value:Ie}),(0,i.Wo)({label:v}).info(`${K} total incoming event count: ${he}`),H.reportTrace(ne)}c(k,"maybeReportRawEventCount");function G(N){let{teamOrEnterpriseId:K,clientMetricsTrace:J,performanceTracingTags:Y}=N;const q=y[K];if(!q)return;const H=(0,o.E)({teamOrEnterpriseId:K}),ne=H.createMetricsTrace({label:"rtm_dispatch",tags:L(K,Y),traceId:J.getTraceId(),parentSpanId:J.getRootSpanId()});var te;const le=(te=A[K])!==null&&te!==void 0?te:{};var he;const Ie=(he=T[K])!==null&&he!==void 0?he:{};var Ee;const me=(Ee=M[K])!==null&&Ee!==void 0?Ee:{};let ce=0,X=0;Object.entries(q).forEach(V=>{let[x,S]=V;const U=le[x],F=Ie[x];if(U===void 0||F===void 0)return;var Z;const z=(Z=me[x])!==null&&Z!==void 0?Z:0;ce+=S,X+=z,ne.store({name:"rtm_dispatch:duration",value:F}).addTags({event_type:x,total_events:S,total_batches:U,per_event_duration:F/S,eventlog_count:z,socket_count:S-z})}),ne.store({name:"rtm_dispatch:total_event_count",value:ce}),ne.store({name:"rtm_dispatch:total_event_count:socket",value:ce-X}),ne.store({name:"rtm_dispatch:total_event_count:eventlog",value:X}),(0,i.Wo)({label:v}).info(`${K} total dispatch event count: ${ce}`),H.reportTrace(ne)}c(G,"maybeReportEventMetrics");function b(N){let{teamId:K,msgs:J}=N;if(!E())return;const Y=(0,n.getStateByTeamId)(K);var q;const H=(q=(0,r.Kc)(Y))!==null&&q!==void 0?q:K,ne=J.reduce((te,le)=>(!le||!le.type||(te[le.type]?te[le.type]+=1:te[le.type]=1),te),{});Object.entries(ne).forEach(te=>{let[le,he]=te;D({bucket:g,teamOrEnterpriseId:H,eventType:le,value:he}),D({bucket:O,teamOrEnterpriseId:H,eventType:le,value:he})})}c(b,"countRawEventsVolumeFromEventLog");function W(N){let{teamId:K,msg:J}=N;if(!E()||!J||!J.type)return;const Y=(0,n.getStateByTeamId)(K);var q;const H=(q=(0,r.Kc)(Y))!==null&&q!==void 0?q:K;D({bucket:g,teamOrEnterpriseId:H,eventType:J.type,value:1})}c(W,"countRawEventVolume");function B(){f=void 0,g={},y={},A={},T={},M={},O={},(0,i.Wo)({label:v}).info("Metrics collection sampling has been reset.")}c(B,"resetAllCollections");function R(N){f=void 0,delete g[N],delete y[N],delete A[N],delete T[N],delete M[N],delete O[N],(0,i.Wo)({label:v}).info(`Metrics collection sampling has been reset for id: ${N}`)}c(R,"resetCollections");const j=c(()=>({rawEventCountBuckets:g,eventCountBuckets:y,batchCountBuckets:A,durationBuckets:T,eventLogEventCountBuckets:M,eventLogRawEventCountBuckets:O}),"debugGetBuckets");(0,s.ul)("rtmEventMetrics",{debugGetBuckets:j,debugToggleSampling:()=>{h=!h,B(),(0,i.Wo)({label:v}).info(`Interval sampling: ${h?"ON":"OFF"}`)},debugReportMetrics:()=>{const N=(0,a.F)(),K=N.createMetricsTrace({samplingOptions:{sampleType:_.tS.ALWAYS}});P(K,{}),N.reportTrace(K)}}),Object.defineProperty({resetAllCollections:B,debugGetBuckets:j,reportRtmMetrics:P,intervalSampleCache:f},"intervalSampleCache",{get:()=>f,set:N=>{f=N}})},3945243579:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(5950652755),n=e(796111729);let s=!1;const r=c(m=>{var l;if(!m)return;let _="";const v=m.srcElement||m.target,u=n.Wo&&(0,n.Wo)();if(v&&v.nodeName){if(v.nodeName==="SCRIPT"){const p=v.src;_=`[${m.type||"error"}] from script at ${p} (failed to load?)`}else if(v.nodeName==="IMG"){const p=v.src||v.currentSrc||"unknown";u.warn(`<img> fired error with url = ${p}`);return}}if(m.message==="ResizeObserver loop limit exceeded"||m.message==="ResizeObserver loop completed with undelivered notifications"){u.warn("ResizeObserver observation target modified in handler");return}if(m.message==="can't access dead object"||m.message==="rambox is not defined")return;if(m.error&&m.error.stack&&(_+=` ${m.error.stack}`),m.filename){const p=m.filename,E=m.lineno,g=m.colno;_+=` from ${p}`,E&&(_+=` @ line ${E}, col ${g}`)}let h;if(m.error&&m.error.stack?h=_:h=`${m.message||""} ${_}`,h&&h.replace&&(h=h.replace(/\s+/g," ").trim()),!h||!h.length)if(v){const p=v.nodeName||"unknown";if(p==="VIDEO")return;h=`error event from node of ${p}, no message provided?`}else h="error event fired, no relevant message or node found";h=`\u{1F41E} ${h}`;const f=((l=m.error)===null||l===void 0?void 0:l.subtype)||"js_runtime_error";d({error:m.error||m,msg:h,subtype:f})},"globalErrorHandler");function d(m){const{error:l,msg:_,subtype:v}=m,u={subtype:v};(0,n.Wo)().error(l,_,u)}c(d,"logError");const a=c(m=>{const l=m||window;if(s)return;l.bootGlobalErrorHandler&&(l.removeEventListener("error",l.bootGlobalErrorHandler,!0),l.removeEventListener("unhandledrejection",l.bootGlobalUnhandledRejectionHandler),delete l.bootGlobalErrorHandler,delete l.bootGlobalUnhandledRejectionHandler);const _=!0,v=(0,t.A)(r,1e4);l.addEventListener("error",v,_),l.addEventListener("unhandledrejection",u=>{var h;const f=u==null||(h=u.detail)===null||h===void 0?void 0:h.reason;f&&f instanceof Error&&(f.constructor!==Error||f.subtype)&&r({error:f,filename:"promise_rejection"})}),s=!0},"registerGlobalErrorHandler"),i={globalErrorHandler:r};Object.defineProperty(i,"logError",{get:()=>d,set:m=>{d=m}}),Object.defineProperty(i,"hasRegisteredGlobalErrorHandler",{get:()=>s,set:m=>{s=m}})},7542104324:(Q,C,e)=>{"use strict";e.d(C,{dj:()=>st,d1:()=>ot,uH:()=>et,bo:()=>at,lI:()=>nt,sw:()=>Dt,mt:()=>pt,rH:()=>Re});var t=e(9706240641),n=e(6422693406),s=e(3398586081),r=e(7715417323),d=e(796111729),o=e(1031947056),a=e(6533394955),i=e(8847766420),m=e(5795074931),l=e(8003339552),_=e(1658558415),v=e(4423055085),u=e(8352634987),h=e(4096483543),f=e(8233775522),p=e(6728003438),E=e(3078252698),g=e(9101533895),A=e(7042557635),y=e(4446301238),T=e(8040098042),M=e(7334104107),O=e(1407713935),I=e(9884588328);function D(ht,yt,Ut){return!ht.text||!(M.$2.test(ht.text)||M.Oh.test(ht.text)||M.K0.test(ht.text)||M.y7.test(ht.text))||!(0,g.hh)(Ut(),ht.channel)?n.K.resolve():yt((0,A.L)({channelId:ht.channel})).catch(r.A)}c(D,"maybeEnsureMemberCount");let P=function(){var ht=(0,t.coroutine)(function*(yt,Ut){const Gt=Ut(),mn=c(function(){for(var qe=arguments.length,ze=new Array(qe),Ge=0;Ge<qe;Ge++)ze[Ge]=arguments[Ge];return(0,a.dispatchForTeamId)((0,i.ZT)(Gt),...ze)},"dispatch"),Oe=yt.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${yt.type} and subtype: ${yt.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${yt.type}`,Fe=(0,E.A)(yt.channel)&&(0,T.A)(yt.channel)&&!(0,g.hh)(Gt,yt.channel)?mn((0,y.pX)({ids:[yt.channel],reason:Oe,callSource:y.aI.EnsureModelObsArePresent})):n.K.resolve();yield n.K.all([Fe,D(yt,mn,Ut)]).catch(r.A)});return c(function(Ut,Gt){return ht.apply(this,arguments)},"ensureModelObsInMessageArePresent")}();function L(ht,yt){return k.apply(this,arguments)}c(L,"ensureModelObsInMessageAreOpen");function k(){return k=(0,t.coroutine)(function*(ht,yt){if(ht.subtype)return;const Ut=!1,Gt=(0,g.OL)(yt(),ht.channel,Ut);Gt&&(0,O.JM)(Gt)&&((0,I.nT)(Gt)||(yield(0,a.dispatchForTeamId)((0,i.ZT)(yt()),(0,y.jP)({channel:Gt.id,reason:"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))))}),k.apply(this,arguments)}c(k,"_ensureModelObsInMessageAreOpen");function G(ht,yt){return b.apply(this,arguments)}c(G,"preprocessRtmMessage");function b(){return b=(0,t.coroutine)(function*(ht,yt){if(ht.type==="message")try{yield P(ht,yt),yield L(ht,yt)}catch{}}),b.apply(this,arguments)}c(b,"_preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:D,ensureModelObsInMessageAreOpen:L},"ensureModelObsInMessageArePresent",{get:()=>P,set:ht=>{P=ht}});var B=e(5154341017),R=e(6890312250),j=e(2240330919),w=e(5238395322),N=e(9190452268),K=e(2250002584),J=e(3158767748),Y=e(4798756512),q=e(2791814261);const H=7;let ne;const te=[],le=[];let he,Ie;(0,v.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:te.concat(he),backgroundTeams:le.concat(Ie)}}));const Ee=(0,s.A)(()=>(0,J.A)(1)||(0,q.c)());function me(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,h.A)()||!Ee())return;const yt=Math.floor(Date.now()/1e3);if(ne!==yt){let Ut=0;if(ne){const Gt=yt-ne;Gt>60?(he=void 0,Ie=void 0,te.length=0,le.length=0):Gt>1&&(Ut=yt-ne)}if(ne=yt,he!==void 0){te.push(he),le.push(Ie);for(let mn=0;mn<Ut;mn++)te.push(0),le.push(0);const Gt=15*60;if(te.length>=Gt){const mn=(0,N.rh)(),Oe=(0,B.A)((0,R.A)(te),1),we=(0,j.A)(te)||0,Fe=(0,w.A)(te);(0,d.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${Fe} total, ${we} per second at peak, ${Oe} per second average`);const ze={is_count:!0,allow_zero:!0};mn.store(`rtm_nq_at${H}_avg`,Oe,ze),mn.store(`rtm_nq_at${H}_max`,we,ze),mn.store(`rtm_nq_at${H}_total`,Fe,ze),te.length=0,le.length=0}}he=0,Ie=0}he=(he||0)+ht}c(me,"maybeMeasureEnqueueVelocity");let ce=0,X=0,V=Date.now(),x=Date.now();const S=5*60*1e3;function U(ht){const yt=Date.now();ce=Math.max(ce,ht.length),V+S<yt&&((0,N.rh)().count("rtm_queue_length_max",ce),ce=0,V=yt)}c(U,"maybeMeasureMaxQueueLength");function F(ht){const Ut=ht[0]._enqueuedAt,Gt=Date.now(),mn=Ut&&Gt-Ut;if(X=mn?Math.max(X,mn):X,x+S<Gt){const Oe=(0,K.F)(),we=Oe.createMetricsTrace({label:"rtm_queue"});we.store({name:"rtm_queue_delay_max",value:X}),Oe.reportTrace(we),X=0,x=Gt}}c(F,"maybeMeasureMaxQueueDelay");function Z(ht,yt){const Ut=(0,K.F)(),Gt=Ut.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:Y.tS.CALL,sampleRate:.01}}),mn=yt?`${ht}/${yt}`:ht;Gt.count({name:`rtm_state_modified:${mn}`}),Ut.reportTrace(Gt)}c(Z,"countRTMStateModified");var z=e(7578217447),$=e(5071086688),ee=e(5470425448),de=e(4761125736),ie=e(1462104702),ue=e(8634352961),fe=e(1763226059);const re="RTM",_e=100;let Ue={};const ye=c(function(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Ue[`${ht}${yt?`_${yt}`:""}`]||1},"getCurrentMaxBatchSize"),Te=c(function(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;Ue[`${ht}${yt?`_${yt}`:""}`]=Ut},"setCurrentMaxBatchSize");let ge=!1;const Ae={},Re=c(ht=>{ge=ht},"setIsActiveHuddle"),Be=c(ht=>{let{teamOrEnterpriseId:yt,msg:Ut}=ht;Ae[yt]||(Ae[yt]=[]),Ae[yt].push(Ut)},"queueUntilHuddleEnds"),ke=c(ht=>{const yt=Ae[ht];Ae[ht]=[],yt.length&&nt(ht,yt)},"drainHuddleQueue"),se=16;let ve={},Me={},be={},xe={};function Le(ht){var yt;return(yt=Me[ht])!==null&&yt!==void 0?yt:ve[ht]}c(Le,"getHandler");function Ke(ht){return ht.__isShared}c(Ke,"isSharedHandler");function He(ht){return ht.teamOrEnterpriseId}c(He,"getTeamOrEnterpriseId");function Ye(ht){let{messages:yt,teamOrEnterpriseId:Ut}=ht;if(yt.msgs.length===0)return;const Gt=Le(yt.rtmEventType);if(Gt)return{handler:Gt,messages:yt,teamOrEnterpriseId:Ut}}c(Ye,"getRoutedHandler");function Xe(ht,yt){if(be[ht]){const Gt=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${ht}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${ht}`;throw new Error(Gt)}be[ht]=yt}c(Xe,"addRtmErrorHandler");function et(ht,yt){ct({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:ht});const Ut=Object.assign(yt,{__isShared:!0});Me[ht]=Ut}c(et,"addSharedRtmHandler");function st(ht,yt){ct({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:ht}),ve[ht]=yt}c(st,"addBatchRtmHandler");function ot(ht,yt){st(ht,(Ut,Gt,mn)=>{for(const Oe of Ut)yt(Oe,Gt,mn)})}c(ot,"addRtmHandler");function ct(ht){let{functionName:yt,handlersName:Ut,rtmEventType:Gt}=ht;if(!ve[Gt]&&!Me[Gt])return;const Oe=(0,l.A)()||(0,_.A)()?`${yt}: duplicate call to add a handler for ${Gt}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Ut}', {});\` to work around it.`:`${yt}: a handler is already registered for ${Gt}`;throw new Error(Oe)}c(ct,"throwIfHandlerRegistered");function at(ht){return!!ve[ht]}c(at,"doesHandlerExist");function At(){return ve}c(At,"debugGetHandlers");function Ct(){return xe}c(Ct,"debugGetPendingMessages");const Tt=(0,s.A)(ht=>{var yt;if(!(0,fe.M)())return!1;const Ut=(yt=(0,a.getStoreInstanceByTeamId)(ht))===null||yt===void 0?void 0:yt.getState();return Ut&&(0,de._Z)(Ut,"profile_rtm")==="on"});let Rt=null,It={},Mt=null;function nn(){It={},Rt=new Profiler({maxBufferSize:1e4,sampleInterval:0}),Rt.addEventListener("samplebufferfull",c(function(){const yt=this.sampleInterval,Ut=It;this.stop().then(Gt=>{const mn=performance.timeOrigin;for(const[Oe,we]of Object.entries(Ut)){if(!we.length)continue;const Fe=new Date(mn+we[0].start),qe=new Date(mn+we[we.length-1].end);(0,ie.l)("rtm",Oe,(0,fe.W)(Gt,we),{from:Fe,until:qe,sample_interval:yt})}}),nn()},"samplebufferfull"))}c(nn,"startProfiling");let Ot=!1;function bt(ht){try{if(Ot||!Tt(ht))return;Rt||nn(),Mt=performance.now()}catch(yt){Ot=!0,(0,d.Ay)({label:re,teamOrEnterpriseId:ht}).warn("Unable to begin profiled section",yt)}}c(bt,"beginProfiledSection");function Jt(ht){!Rt||Mt===null||(ht in It||(It[ht]=[]),It[ht].push({start:Mt,end:performance.now()}),Mt=null)}c(Jt,"endProfiledSection");function en(ht){const{rtmEventType:yt,rtmEventSubtype:Ut,msgs:Gt,fromEvtLog:mn}=ht.messages,Oe=He(ht),we=(0,d.Ay)({label:re,teamOrEnterpriseId:Oe});bt(Oe);const Fe=performance.now();try{u.Ay.pauseRefetchIndefinitely();const Ge=ht.handler,Ze=(0,a.getStoreInstanceByTeamId)(ht.teamOrEnterpriseId),_t=Ze==null?void 0:Ze.getState();Ke(Ge)?Ge(Gt,ht.teamOrEnterpriseId):Ge(Gt,Ze.dispatch,Ze.getState);const Et=Ze==null?void 0:Ze.getState();_t!==Et&&Z(yt,Ut)}catch(Ge){throw we.error(`Error processing ${yt}: ${Ge.message}`),Ge}finally{u.Ay.unpauseRefetchImmediately()}const qe=performance.now();Jt(Oe);const ze=qe-Fe;try{(0,p.no)({teamOrEnterpriseId:Oe,rtmEventType:yt,rtmEventSubtype:Ut,duration:ze,msgs:Gt,fromEvtLog:mn}),$.A.publish({type:ee.lx.RtmMetrics,update:ze})}catch{}if(ze>se){let Ge=`Processed ${Gt.length} ${yt}`;Ut&&(Ge+=`:${Ut}`),Ge+=" event(s)";const Ze=[];Gt.forEach(_t=>{var Et;const je=(Et=_t)===null||Et===void 0?void 0:Et.channel;je&&Ze.push(je)}),Ze.length&&(Ge+=` in channel(s) ${Ze.join(",")}`),Ge+=` over ${ze.toFixed(2)}ms`,we.info(Ge)}}c(en,"dispatchMessages");const sn=50,zt=100,Yt=.75,hn=1.1;function Qe(ht){return ht>sn}c(Qe,"shouldDefer");function Wt(ht){return gn.apply(this,arguments)}c(Wt,"preprocessRtmMessagesWithTimeout");function gn(){return gn=(0,t.coroutine)(function*(ht){let{msgs:yt,getState:Ut}=ht;const Gt={},mn=3e4,Oe=n.S.delay(mn,Gt),we=n.S.map(yt,qe=>G(qe,Ut).catch(r.A),{concurrency:1});(yield n.S.race([we,Oe]))===Gt&&(0,d.Ay)({getState:Ut}).warn("Preprocessing messages took too long; continue to process queue")}),gn.apply(this,arguments)}c(gn,"_preprocessRtmMessagesWithTimeout");function rn(ht){return ut.apply(this,arguments)}c(rn,"routeMessages");function ut(){return ut=(0,t.coroutine)(function*(ht){let{messages:yt,teamOrEnterpriseId:Ut,elapsed:Gt}=ht;const mn=Ye({messages:yt,teamOrEnterpriseId:Ut});return!mn||Qt(Ut)?Gt:Pt({routedHandler:mn,elapsed:Gt})}),ut.apply(this,arguments)}c(ut,"_routeMessages");function Pt(ht){return Bt.apply(this,arguments)}c(Pt,"dispatchMessagesWithPreprocessing");function Bt(){return Bt=(0,t.coroutine)(function*(ht){let{routedHandler:yt,elapsed:Ut}=ht;const Gt=performance.now(),mn=(0,a.getStoreInstanceByTeamId)(yt.teamOrEnterpriseId);yield Wt({msgs:yt.messages.msgs,getState:mn.getState});const Oe=performance.now();en(yt);let we=Ut;return Oe-Gt>sn&&(we=0),we+=performance.now()-Oe,we}),Bt.apply(this,arguments)}c(Bt,"_dispatchMessagesWithPreprocessing");function Ft(ht){return un.apply(this,arguments)}c(Ft,"handleNextMessageFromQueue");function un(){return un=(0,t.coroutine)(function*(ht){let{queue:yt,teamOrEnterpriseId:Ut,elapsed:Gt=0}=ht;for(var mn;yt&&yt.length>0&&!(!((mn=yt[0])===null||mn===void 0)&&mn.type);)yt.shift();if(!yt||!yt.length)return n.S.resolve();const Oe=(0,d.Ay)({teamOrEnterpriseId:Ut,label:re});try{U(yt),F(yt)}catch{}const we=yt[0].type,Fe=yt[0].subtype,qe=(0,z.Wu)(yt[0]);let ze=ye(we,Fe);const Ge=[yt[0]],Ze=[];for(let pe=1;pe<yt.length&&Ge.length<ze&&Ze.length<ze;pe++)if(yt[pe].type===we&&yt[pe].subtype===Fe)Ge.push(yt[pe]);else if(z.Sj.has(yt[pe].type))Ze.push(yt[pe]);else break;const _t=Ge.length;_t>1&&Oe.debug(re,`Batch processing ${_t} of type ${we}, skipping ${Ze.length} interleaved events ${Ze.map(pe=>pe.type).join(",")}`);let Et=Gt;try{Et=yield rn({messages:{rtmEventType:we,rtmEventSubtype:Fe,msgs:Ge,fromEvtLog:qe},teamOrEnterpriseId:Ut,elapsed:Et})}catch(pe){Oe.error(`Error while processing ${_t} ${we} event(s)`,pe)}finally{_t!==Ge.length&&(Oe.error(`Message batch size for type (${we}) changed during handling`),Oe.warn(`Original batch size: ${_t} Post-handler batch size: ${Ge.length}`));const pe=_t+Ze.length;yt.splice(0,pe,...Ze)}const je=Qe(Et),oe=document.visibilityState==="visible";return ze=ye(we,Fe),oe&&(je?ze>1&&Et>zt&&(Te(we,Fe,Math.max(1,Math.floor(ze*Yt))),Oe.debug(re,`Maximum batch size decreased to ${ye(we,Fe)}`)):ze<_e&&Ge.length===ze&&(Te(we,Fe,Math.min(_e,Math.ceil(ze*hn))),Oe.debug(re,`Maximum batch size increased to ${ye(we,Fe)}`))),yt.length?oe&&je?n.S.delay(sn).then(()=>{Xt(Ut)}):Ft({queue:yt,teamOrEnterpriseId:Ut,elapsed:Et}):n.S.resolve()}),un.apply(this,arguments)}c(un,"_handleNextMessageFromQueue");let Sn=0,Un,Cn=100;function Ln(){let ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,d.Wo)();if(Un)return;const yt=Date.now()-Sn;if(yt<Cn){const Ut=Math.min(Cn-yt,Cn),Gt=(0,h.A)()&&!(0,f.ko)((0,a.getStateForClientStore)());Gt&&ht.info(re,`Setting a timeout of ${Ut} ms to process more rtm events`),Un=window.setTimeout(()=>{Un=void 0,Gt&&ht.info(re,`Waited ${Ut} ms, processing more rtm events now`),yn()},Ut);return}yn()}c(Ln,"maybeDrainQueues");function yn(){Sn=Date.now(),c(()=>{const yt=Object.keys(xe);for(const Ut of yt)Xt(Ut)},"drainQueuesFn")()}c(yn,"drainQueues");function Xt(ht){!xe[ht]||!xe[ht].length||Ft({queue:xe[ht],teamOrEnterpriseId:ht})}c(Xt,"drainQueue");function nt(ht,yt){var Ut;let Gt=0;const mn=yt.filter(Fe=>Fe!=null&&Fe.type?ge&&(0,ue.Zr)(Fe)?(Be({teamOrEnterpriseId:ht,msg:Fe}),!1):((0,z.Wu)(Fe)||(Gt+=1),!0):((0,d.Ay)({teamOrEnterpriseId:ht,label:re}).warn("Received attempt to enqueue an invalid message; dropping it",Fe),!1));try{me(Gt)}catch{}xe[ht]=xe[ht]||[];const Oe=xe[ht].length,we=Date.now();for(const Fe of mn)Fe._enqueuedAt=we;xe[ht].push(...mn),!Oe&&xe[ht].length>0&&Ln(),!ge&&(!((Ut=Ae[ht])===null||Ut===void 0)&&Ut.length)&&ke(ht)}c(nt,"enqueueMessages");const pt=(0,o.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(ht,yt,Ut)=>{const Gt=(0,i.ZT)(yt()),mn=Ye({messages:{rtmEventType:Ut.type,rtmEventSubtype:Ut.subtype,msgs:[Ut],fromEvtLog:(0,z.Wu)(Ut)},teamOrEnterpriseId:Gt});mn&&en(mn)});pt.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const Dt=(0,o.Ay)("Calls the relevant handler for the given message",(ht,yt,Ut)=>{if(!be[Ut]){if(Ut&&Ut.includes&&Ut.includes("started_with_org_token")){var Gt;(0,d.Ay)({getState:yt}).error(new Error(`Unexpected start error: ${Ut}`),JSON.stringify({error:Ut,pathname:window==null||(Gt=window.location)===null||Gt===void 0?void 0:Gt.pathname}),{subtype:"gs_start_error"})}else(0,d.Ay)({getState:yt}).error(new Error(`Unexpected start error: ${Ut}`),JSON.stringify({error:Ut}),{subtype:"gs_start_error"});return}be[Ut](Ut,ht,yt)});Dt.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function Qt(ht){const yt=(0,a.getStateByTeamId)(ht);return(0,m.wx)(yt)&&!(0,m.$U)(yt)}c(Qt,"shouldIgnoreRtmStream");const tn=(0,o.Ay)("Fake an RTM event for testing only",(ht,yt,Ut)=>{const Gt=(0,i.ZT)(yt()),mn=Ye({messages:{rtmEventType:Ut[0].type,rtmEventSubtype:Ut[0].subtype,msgs:Ut,fromEvtLog:(0,z.Wu)(Ut[0])},teamOrEnterpriseId:Gt});mn&&en(mn)});tn.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const an={handleNextMessageFromQueue:Ft,shouldIgnoreRtmStream:Qt,errorHandlers:be,handlers:ve,sharedHandlers:Me,currentMaxBatchSize:Ue,drainQueues:yn,drainQueue:Xt,maybeDrainQueues:Ln,queueDrainTimeout:Un,lastQueueDrainTimestamp:Sn,pendingMessages:xe};Object.defineProperty(an,"handleNextMessageFromQueue",{get:()=>Ft,set:ht=>{Ft=ht}}),Object.defineProperty(an,"errorHandlers",{get:()=>be,set:ht=>{be=ht}}),Object.defineProperty(an,"handlers",{get:()=>ve,set:ht=>{ve=ht}}),Object.defineProperty(an,"sharedHandlers",{get:()=>Me,set:ht=>{Me=ht}}),Object.defineProperty(an,"currentMaxBatchSize",{get:()=>Ue,set:ht=>{Ue=ht}}),Object.defineProperty(an,"drainQueues",{get:()=>yn,set:ht=>{yn=ht}}),Object.defineProperty(an,"drainQueue",{get:()=>Xt,set:ht=>{Xt=ht}}),Object.defineProperty(an,"maybeDrainQueues",{get:()=>Ln,set:ht=>{Ln=ht}}),Object.defineProperty(an,"queueDrainTimeout",{get:()=>Un,set:ht=>{Un=ht}}),Object.defineProperty(an,"lastQueueDrainTimestamp",{get:()=>Sn,set:ht=>{Sn=ht}}),Object.defineProperty(an,"pendingMessages",{get:()=>xe,set:ht=>{xe=ht}}),(0,v.ul)("rtm",{handlers:ve,errorHandlers:be,interceptHandler:(ht,yt)=>{const Ut=ve[ht];ve[ht]=function(){for(var Gt=arguments.length,mn=new Array(Gt),Oe=0;Oe<Gt;Oe++)mn[Oe]=arguments[Oe];yt(Ut,...mn)}},getPendingMessages:()=>xe,globalQueue:{drainQueues:yn,drainQueue:Xt,maybeDrainQueues:Ln,getCurrentMaxBatchSize:()=>Ue,setCurrentMaxBatchSize:ht=>{Ue=ht},setQueueDrainInterval:ht=>{Cn=ht}}})},5387083734:(Q,C,e)=>{"use strict";e.d(C,{IE:()=>h});var t=e(862210999),n=e(4518410378),s=e(796111729),r=e(4473827453),d=e.n(r),o;(function(f){f.Background="background",f.UserVisible="user-visible",f.UserBlocking="user-blocking"})(o||(o={}));const a=(0,s.Wo)({label:"SCHEDULER"}),i="scheduler"in n.J&&(0,t.A)(n.J.scheduler.postTask),m=50;let l=0,_=null;const v=c((f,p)=>{let{label:E,priority:g,delay:A}=p;if(!i)return f();l+=1;const y=performance.now();return n.J.scheduler.postTask(()=>{const T=performance.now(),M=T-y,O=_?T-_:0;_=T,M-A>m&&a.debug(`${E} task (${g}) executed with delay of ${Math.round(M)}ms and a configured delay of ${A}ms - time since last task: ${O}ms - Task queue length: ${l}`);const D=f();return l-=1,D},{priority:g,delay:A})},"runWithPriority"),u=c(()=>{if(i)return l},"getTaskQueueLength"),h=c((f,p,E)=>v(p,{label:f,priority:o.Background,delay:(E==null?void 0:E.delay)||0}),"runWithBackgroundPriority")},607974335:(Q,C,e)=>{"use strict";e.d(C,{Fh:()=>n,dz:()=>s,nB:()=>d,vq:()=>o});var t=e(9762304444);const n=(0,t.Ay)("TS.members.getMemberProfileFieldDisplayName",a=>a&&a.profile&&a.profile.display_name||""),s=(0,t.Ay)("TS.members.legacyUpsertAndSignal",()=>{throw new Error("Not implemented")}),r=(0,t.Ay)("TS.members.legacyGetPrefCompliantMemberNameLowerCase",()=>{throw new Error("Not implemented")}),d=(0,t.Ay)("TS.members.invalidateMembersUserCanSeeArrayCaches"),o=(0,t.Ay)("TS.members.presence_changed_sig.dispatch")},2180140255:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(1251564078),r=e(3202757386),d=e(735940183),o=e(268083624),a=e(1610251172),i=e(6084388622),m=e(5249175977),l=e(9874616273),_=e(5057176955),v=e(2786906754);function u(){return u=Object.assign||function(g){for(var A=1;A<arguments.length;A++){var y=arguments[A];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T])}return g},u.apply(this,arguments)}c(u,"_extends");const h=new d.Ay("find_team");function f(g,A){if((0,r.A)())return(0,v.M6)(location.href,"locale",A);const y=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return g==="en-us"?y:`/intl/${g}${y}`}c(f,"getUrlForLocale");let p=c(class extends t.Component{render(){const{hideRegionPicker:A,showLogo:y,govSlackTheme:T,joinerRedesignTreatment:M}=this.props,O=(0,n.A)("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":T}),I=(0,n.A)("full_width",{"p-refreshed_page__full_width_footer":M}),D=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(i.jV,{href:(0,s.v)("/legal"),className:O,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},h.rt("Privacy & Terms")),t.createElement(i.jV,{href:(0,s.v)("/help/requests/new"),className:O,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},h.rt("Contact Us")),!A&&t.createElement(m.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:P=>t.createElement(m.AM,u({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:h.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0},P),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},h.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},h.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:h.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:h.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:h.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(L=>{let{title:k,locales:G}=L;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:k},t.createElement("div",{className:"bold margin_bottom_50"},k),G.map(b=>{let{locale:W,geocode:B,name:R}=b;return t.createElement(i.jV,{key:W,href:f(B,W),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:W,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:W,geocode:B})},R)}))}))))},t.createElement("div",null,t.createElement(i.jV,{onClick:this.onClickChangeRegion,href:"#",className:O,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(a.A,{type:"globe",size:"inherit",className:"margin_right_25"}),h.rt("Change region"),t.createElement(a.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:I},t.createElement("div",{className:(0,n.A)("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":T})},t.createElement(t.Fragment,null,y&&t.createElement(l.A,{width:80,height:20,className:"p-app_slack_logo"}),D)))}constructor(A){super(A),this.onClickChangeRegion=y=>{y.preventDefault()},this.onClickLocale=y=>{let{locale:T,geocode:M}=y;return()=>{const O=(0,_.LL)((0,o.v8)("c")||"")||{};O.geocode=M;const I=(0,_.Zf)(O,{space:""});(0,o.n0)("i18n_locale",T,365*10,"slack.com"),I&&(0,o.n0)("c",I,365*10,"slack.com")}},this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");p.displayName="RefreshedFooter";const E=p},2308565927:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(5255740490);const s=c(d=>{let{children:o,heading:a,subHeading:i,titleImage:m,headingClassName:l,subHeadingClassName:_,dataQa:v,showFullWidthContent:u,className:h,isSharedWorkspaceInvite:f}=d;return t.createElement("div",{className:(0,n.A)("p-refreshed_page",{"p-refreshed_page--workspace":f,full_width:u},h),"data-qa":v},m&&m,a&&t.createElement("h1",{className:(0,n.A)("p-refreshed_page__heading",l,{margin_bottom_200:!i,full_width:u,"p-refreshed_page__heading--workspace":f})},a),i&&t.createElement("div",{className:(0,n.A)("p-refreshed_page__sub_heading",_,{full_width:u})},i),o)},"RefreshedPageContent");s.displayName="RefreshedPageContent";const r=s},9539184071:(Q,C,e)=>{"use strict";e.d(C,{A:()=>b});var t=e(3134334389),n=e(2301861866),s=e.n(n),r=e(5255740490),d=e(6764196364),o=e(735940183),a=e(8739505998),i=e(6176558010),m=e(2527471159),l=e.n(m),_=e(7972463975),v=e.n(_),u=e(9994038664),h=e.n(u),f=e(8214116048);const p=new o.Ay("refreshed_header"),E={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},g={elementName:"header_signin",onClick:{enableClogAction:!0}},A={elementName:"header_create_account",onClick:{enableClogAction:!0}},y={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},T=l()&&v()?`${l()}, ${v()} 2x`:void 0,O=c(W=>{let{showSignInLink:B=!1,showCreateAccountLink:R=!1,showCreateWorkspaceLink:j=!1,showHorchataBackground:w=!1,confirmedEmailPill:N,hideLogo:K=!1,isSSBBrowserSignin:J=!1,showSfLogo:Y=!1,isWarningBannerDisplayed:q=!1,govSlackTheme:H=!1,isLandingPage:ne=!1,clientTheme:te,joinerRedesignTreatment:le=!1}=W;return t.createElement("header",{className:(0,r.A)("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!N,"p-refreshed_page__header--is_horchata_landing_bg":w,"p-refreshed_page__header--no_logo":!!K,"p-refreshed_page__header--sf_slack_logo":Y,"p-refreshed_page__header--display_warning_banner":q,"p-refreshed_page__header--gov_slack":H,"p-refreshed_page__header--landing":ne,"p-refreshed_page__full_background":le})},t.createElement("div",{className:"left-col"}),t.createElement("div",{className:"center-col"},Y&&K&&t.createElement("img",{srcSet:T??void 0,src:l(),alt:""}),!K&&t.createElement(a.A,{href:(0,d.A)(),autoClogProps:E,target:"_self"},t.createElement("img",{alt:"Slack",src:H||te===f.Sx.Dark?h():s(),height:"26",title:"Slack"})),N),t.createElement("div",{className:"right-col"},B&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},p.t("Already have an account?"),t.createElement("br",null),t.createElement(a.A,{href:"/signin",className:"bold",autoClogProps:g,target:"_self"},p.t("Sign in instead"))),R&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},p.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(a.A,{href:`/signup${window.location.search}`,className:"bold",autoClogProps:A,target:"_self"},p.t("Create an account"))),j&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},p.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),t.createElement("br",null),t.createElement(a.A,{href:`${J?"/ssb":""}/get-started${window.location.search}#${i.EU.CreateNew}`,className:"bold",autoClogProps:y,target:"_self"},p.t("Create an account")))))},"RefreshedHeader");var I=e(2180140255),D=e(8178126019),P=e(7216810781);const L=c(W=>{let{inviteDetails:B,children:R}=W;return!B||!(0,D.YB)(B)?R:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(P.z,{invite:B,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},R))},"ExternalWorkspaceInviteBrandingWrapper");L.displayName="ExternalWorkspaceInviteBrandingWrapper";const k=L,G=c(W=>{let{children:B,showHorchataBackground:R,showSignInLink:j,showCreateAccountLink:w,showCreateWorkspaceLink:N,hideRegionPicker:K,clientTheme:J,hideFooter:Y=!1,confirmedEmailPill:q,hideHeader:H=!1,isSSBBrowserSignin:ne=!1,showSfLogo:te=!1,isWarningBannerDisplayed:le=!1,govSlackTheme:he=!1,isLandingPage:Ie=!1,joinerRedesignTreatment:Ee=!1,inviteDetails:me}=W;return t.createElement(k,{inviteDetails:me},t.createElement(t.Fragment,null,!H&&t.createElement(O,{showSignInLink:j,showCreateAccountLink:w,showCreateWorkspaceLink:N,showHorchataBackground:R,confirmedEmailPill:q,isSSBBrowserSignin:ne,showSfLogo:te,hideLogo:te,isWarningBannerDisplayed:le,govSlackTheme:he,isLandingPage:Ie,clientTheme:J,joinerRedesignTreatment:Ee}),he?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},B):B,!Y&&t.createElement(I.A,{hideRegionPicker:K,govSlackTheme:he,joinerRedesignTreatment:Ee})))},"RefreshedPageLayout");G.displayName="RefreshedPageLayout";const b=G},6176558010:(Q,C,e)=>{"use strict";e.d(C,{EU:()=>n});var t=e(6244014364),n;(function(a){a.Start="/",a.Find="/find",a.Create="/create",a.CreateNew="/createnew",a.Confirm="/confirm",a.Check="/check",a.FindAgain="/find_again",a.Email="/email",a.Error="/error",a.ConfirmationCode="/confirmemail",a.DomainClaimed="/domain",a.Landing="/landing",a.ConfirmTrust="/confirmtrust",a.IgnoreInvite="/ignoreinvite",a.SignIn="/signin",a.Workspaces="/workspaces",a.SharedInviteLoggedOut="/sharedinvite",a.SharedInviteLanding="/sharedinvitelanding",a.SelectWorkspaces="/select",a.AppleSignIn="/apple",a.AddName="/addname"})(n||(n={}));var s;(function(a){a.SharedChannelInviteAlreadyAccepted="invite_used",a.SharedChannelInviteInvlidLink="invalid_link",a.DirectMessageInviteInactive="inactive_invite",a.Generic="generic"})(s||(s={}));const r={[n.Start]:t.UiStep.START_WITH_A_WORKSPACE,[n.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[n.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[n.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Check]:t.UiStep.CHECK_YOUR_EMAIL,[n.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[n.Email]:t.UiStep.ENTER_EMAIL,[n.Confirm]:t.UiStep.ENTER_EMAIL,[n.Error]:t.UiStep.GET_STARTED_ERROR,[n.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[n.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[n.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[n.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[n.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[n.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[n.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[n.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[n.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[n.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[n.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[n.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var d;(function(a){a.Invited="invited",a.Joined="joined",a.Whitelisted="whitelisted"})(d||(d={}));var o;(function(a){a.Email="email",a.GoogleIdToken="google_id_token",a.Apple="apple_id_token"})(o||(o={}))},9490291234:(Q,C,e)=>{"use strict";e.d(C,{lS:()=>_,UU:()=>h,Ay:()=>p});var t=e(3134334389),n=e(344860614);function s(){return s=Object.assign||function(E){for(var g=1;g<arguments.length;g++){var A=arguments[g];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(E[y]=A[y])}return E},s.apply(this,arguments)}c(s,"_extends");const r=c(E=>{const g=E,A=t.forwardRef((y,T)=>{const M=(0,n.Zp)(),O=(0,n.wQ)(),I=(0,n.zy)(),D=(0,n.g)();return t.createElement(g,s({ref:T},y,{navigate:M,navigationType:O,location:I,params:D}))});return A.displayName=`withRouter(${g.displayName})`,A},"withRouter");r.displayName="withRouter";const d=r;var o=e(5255740490),a=e(735940183),i=e(1610251172),m=e(8739505998);const l=new a.Ay("team_creation");var _;(function(E){E.Unchecked="unchecked",E.Empty="empty-status",E.Processing="processing",E.Ratelimited="ratelimited",E.Expired="expired",E.RequestNewCode="request-new-code",E.Error="error",E.Blocked="ratelimited-blocked",E.GoogleTokenExpired="google-token-expired",E.Unknown="unknown",E.Success="success"})(_||(_={}));const u={RequestNewCode:"code_check_status_request_new_code_link"};class h extends t.Component{getStatusMessage(){const{status:g,onRequestNewCode:A}=this.props;let y=t.createElement(t.Fragment,null,t.createElement("i",{"aria-hidden":"true",className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},"\xA0"));switch(g){case _.Unchecked:y=t.createElement("span",{className:"small_desc"},l.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case _.Processing:y=t.createElement(t.Fragment,null,t.createElement(i.A,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.createElement("span",{className:"c-alert__message"},l.t("Checking your code...")));break;case _.Ratelimited:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,l.t("Whoa, you\u2019re going too fast!")),t.createElement("br",null),l.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case _.Error:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},l.t("That code wasn't valid. Give it another go!")));break;case _.Expired:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},l.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case _.Blocked:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,l.t("Temporarily blocked")),t.createElement("br",null),l.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case _.GoogleTokenExpired:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},l.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,T=>{let{text:M}=T;return t.createElement(m.A,{href:`/get-started${window.location.search}#create`},M)})));break;case _.RequestNewCode:A&&(y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},l.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},T=>{let{text:M}=T;return t.createElement(m.A,{"data-qa":u.RequestNewCode,onClick:A},M)}))));break;case _.Unknown:y=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},l.t("Oops! Looks like something went wrong.")));break;case _.Success:y=t.createElement("span",{className:"small_desc"},l.t("Success!"));break;default:break}return y}render(){const{status:g,isCentered:A,id:y,className:T}=this.props;if(!g)return null;const M=(0,o.A)("c-alert confirmation_code_state_message",T,{"c-alert--boxed":g!==_.Unchecked,"c-alert--level_default":g===_.Processing,"c-alert--level_warning":g===_.Ratelimited||g===_.Expired||g===_.RequestNewCode,"c-alert--level_error":g===_.Error||g===_.Blocked||g===_.Unknown,"invisible c-alert--level_default":g===_.Empty,"c-alert--align_center":A},g);return t.createElement("div",{className:"confirmation_code_checker","data-state":g,"data-qa":g,id:y},t.createElement("p",{className:M},this.getStatusMessage()))}}c(h,"CodeCheckStatus"),h.displayName="CodeCheckStatus";const p=d(c(class extends h{getStatusMessage(){return this.props.status===_.RequestNewCode?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},l.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},g=>{let{text:A}=g;return t.createElement(m.A,{href:"#",onClick:this.onClickRequestNewCode},A)}))):super.getStatusMessage()}constructor(...g){super(...g),this.onClickRequestNewCode=A=>{A.preventDefault();const{navigate:y}=this.props;y(-1)}}},"CodeCheckStatusWithRouter"))},4645337865:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(9867500491),s=e(735940183),r=e(5255740490),d=e(4505564445),o=e(219228829),a=e(3700949338);function i(){return i=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u},i.apply(this,arguments)}c(i,"_extends");let m=c(class extends t.Component{render(){const{isDisabled:h,isInvalid:f=!1,ariaDescribedBy:p,className:E}=this.props;return t.createElement("div",{className:(0,r.A)("split_input_item",E,{focused:this.props.hasFocus})},t.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":p,disabled:h,"aria-disabled":h,"aria-invalid":f}))}constructor(...h){super(...h),this.onKeyDown=f=>{switch(f.keyCode){case d.G_:{f.currentTarget.value||this.props.moveLeft();return}case d.UQ:return f.preventDefault(),this.props.moveLeft();case d.LE:return f.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=f=>{const{isNumbersOnly:p}=this.props;(p?!(0,a.A)(f.which):!(0,a.$)(f.which))&&f.charCode&&!(0,o.A)(f)&&f.preventDefault()},this.onChange=f=>{const p=f.target.value,{isNumbersOnly:E}=this.props;((E?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(p)||p==="")&&this.props.onChange(p.toUpperCase())},this.onPaste=f=>{f.preventDefault();const{isNumbersOnly:p}=this.props,E=window.clipboardData||f.clipboardData,g=E.getData("text")||E.getData("text/plain"),A=p?/\D/g:/[^a-zA-Z0-9]/g,y=g.replace(A,"");this.props.onPaste(y)}}},"CodeInput");m.displayName="CodeInput";const l=t.forwardRef((u,h)=>t.createElement(m,i({},u,{refToForward:h}))),_=new s.Ay("team_creation");let v=c(class extends t.Component{focusInput(h){const f=this.inputRefs[h];f&&f.current&&f.current.focus()}moveLeft(h){h<=0||this.focusInput(h-1)}moveRight(h){h>=this.state.values.length-1||this.focusInput(h+1)}isComplete(h){return!h.some(f=>!f)}clear(){this.setState(h=>({values:h.values.map(()=>"")})),this.focusInput(0)}onChange(h,f){const p=this.state.values.slice();p[h]=f,this.setState(()=>({values:p}),()=>{f&&!this.isComplete(this.state.values)&&this.moveRight(h)})}componentDidUpdate(h,f){if(!this.isComplete(f.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&f.values.join("")!==this.state.values.join("")){const p=this.state.values.join("");this.props.onFillCode(p)}else f.values.join(",")!==this.state.values.join(",")&&this.props.onChange();h.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(h,f){const{isDisabled:p,isNumbersOnly:E=!0,isInvalid:g=!1,ariaDescribedBy:A,govSlackTheme:y=!1}=this.props;return this.state.values.slice(h,f).map((T,M)=>{const O=M+h;return t.createElement(l,{isNumbersOnly:E,key:O,ref:this.inputRefs[O],moveLeft:()=>this.moveLeft(O),moveRight:()=>this.moveRight(O),onChange:I=>this.onChange(O,I),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:O})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===O,value:this.state.values[O],ariaLabel:_.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:O+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:A,isInvalid:g,isDisabled:p,className:y?"split_input_item--gov_slack":""})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(h){super(h),this.onPaste=f=>{const p=this.state.focusedInputIndex;if(p===-1)return;const E=this.state.values.length-p,g=f.substring(0,E).split(""),A=this.state.values.slice();g.forEach((y,T)=>{const M=T+p;A[M]=y}),this.setState(()=>({values:A}),()=>{this.focusInput(Math.min(this.state.values.length-1,p+g.length))})},this.state={values:(0,n.A)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"SplitInput");v.displayName="SplitInput",v.defaultProps={isNumbersOnly:!0}},3700949338:(Q,C,e)=>{"use strict";e.d(C,{$:()=>n,A:()=>t});function t(s){return s>=48&&s<=57}c(t,"isNumericKey");function n(s){const r=String.fromCharCode(s);return!!/[a-zA-Z0-9]/.test(r)}c(n,"isAlphaNumericKey")},7520119303:(Q,C,e)=>{"use strict";e.d(C,{K_:()=>y,XR:()=>g,yb:()=>A});var t=e(735940183),n=e(7909758472),s=e(7940058138),r=e(796111729),d=e(4465846026),o=e(7100005318),a=e(3856748711),i=e(760547858);const m=new t.Ay("channel_sidebar"),l=new t.Ay("app_launcher"),_=new t.Ay("setup_page"),v=new t.Ay("client"),u=new t.Ay("search"),h=new t.Ay("solution_guide"),f=new t.Ay("tenured_team_solutions"),p={[s.c.Composer]:()=>m.t("New message"),[s.c.Drafts]:()=>m.t("Drafts & sent"),[s.c.ScheduledMessages]:()=>m.t("Scheduled",{ns:"channel_sidebar"}),[s.c.Sent]:()=>m.t("Sent"),Pthread:()=>m.t("Thread"),[s.c.Empty]:()=>{},[s.c.Unreads]:()=>m.t("Unreads"),[s.c.Apps]:()=>l.t("Apps",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[s.c.Shortcuts]:()=>l.t("Workflows",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[s.c.BrowseWorkflowsManagedByYou]:T=>(0,d.oF)(T)?m.t("Workflows managed by you"):"",[s.c.BrowseYourWorkflowTemplates]:()=>m.t("Your workflow templates"),[s.c.BrowseWorkflowTemplates]:()=>l.t("Templates",{fallbackHash:"f25b700ed9f092123a43acb205a6869342cf9dd6",fallbackHashNs:"workflow_builder"}),[s.c.Activity]:()=>m.t("Activity"),[s.c.Saved]:()=>m.t("Saved items"),[s.c.PaidBenefits]:()=>m.t("Paid Plan Benefits"),[s.c.BrowseChannels]:()=>m.t("All channels"),[s.c.SetupTeamName]:()=>_.t("Setup Team Name"),[s.c.SetupProfile]:()=>_.t("Profile"),[s.c.SetupChannels]:()=>_.t("Setup Channels"),[s.c.SetupInvites]:()=>_.t("Setup Invites"),[s.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[s.c.SetupTada]:()=>"Setup Tada",[s.c.SetupWelcome]:()=>_.t("Setup Welcome"),[s.c.SetupPeople]:()=>_.t("Setup People"),[s.c.SetupStraightToPaidPlans]:()=>_.t("Setup Plans"),[s.c.JoinerLaunchpad]:()=>m.t("Get started"),[s.c.ResurrectedUserWelcome]:()=>m.t("Welcome back"),[s.c.SolutionGuide]:T=>(0,o.qV)(T)?h.t("Set up your workspace"):"",[s.c.TenuredTeamSolutions]:T=>(0,i.OO)(T)?f.t("Tips for how you work"):"","Pbrowse-channels-prototype":()=>m.t("All channels"),[s.c.BrowseFiles]:()=>u.t("All files"),[s.c.Calendar]:T=>(0,n.A)(T)?m.t("Calendar"):"",[s.c.BrowsePeople]:()=>m.t("All people"),[s.c.BrowseExternalContacts]:()=>m.t("External people"),[s.c.BrowseUserGroups]:()=>m.t("User groups"),[s.c.BrowseExternalWorkspaces]:()=>m.t("Spaces",{fallbackHash:"9486bd3487a34fb3b120cb47d5b2180f456c9f80"}),[s.c.AllDms]:()=>m.t("Direct messages"),[s.c.Search]:()=>v.t("Search Results",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"search"}),[s.c.SlackConnect]:()=>m.t("Slack Connect"),[s.c.SlackConnectInvitation]:()=>m.t("Slack Connect Invitation"),[s.c.OfflineOutbox]:()=>"Offline outbox",[s.c.Huddles]:()=>"Huddles",[s.c.BrowseHuddles]:()=>"Huddles",[s.c.Today]:()=>"Today",[s.c.Later]:()=>m.t("Later"),[s.c.BrowseOrgChart]:()=>u.t("Org chart"),"Pasync-modals":()=>"Modals",[s.c.BrowseCanvases]:()=>m.t("Canvases"),[s.c.BrowseLists]:()=>"Lists",[s.c.Todos]:()=>"Todos",[s.c.Recents]:()=>u.t("Recently viewed"),[s.c.DailyDigest]:()=>m.t("Recap"),[s.c.ActionItems]:T=>(0,a.y)(T)?m.t("Action items"):"Action items",[s.c.Inbox]:T=>(0,a.y)(T)?m.t("Inbox"):"Inbox"},E={Pdms:()=>m.t("All direct messages")};function g(T){return!T||!p[T]?((0,r.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${T}`),null):p[T]}c(g,"getLabelFunctionForPage");const A=c((T,M)=>g(M.id)(T),"getPageLabel");function y(T){if(T)return E[T]}c(y,"getAriaLabelFunctionForPage")},3639008527:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>v});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(6772985425),o=e(9132066222),a=e(735940183),i=e(4275787242),m=e(5060694341);const l=new a.Ay("tabbed-channel"),_={name:"warning"},v=(0,r.Ay)("Adds a new tab to a channel",function(){var u=(0,t.coroutine)(function*(h,f,p){let{channelId:E,type:g,data:A,label:y,reason:T}=p;const M=f(),O=(0,o.U6)(M);let I={ok:!1,tabs:[]};try{I=yield h((0,d.y)({type:g,data:A,channelId:E,label:y,reason:T}))}catch(D){let P;switch(D.name){case d.d.TooManyTabs:P=O?l.t("Maximum number of tabs added."):"Maximum number of tabs added.";break;default:P=O?l.t("Cannot add tab."):"Cannot add tab."}throw h((0,m.M)({element:s.createElement(i.A,{svgIconProps:_},s.createElement("span",null,P))})),D}return I});return function(h,f,p){return u.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkaddTabToChannel",description:"Adds a new tab to a channel"}},7534004035:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(1031947056),n=e(3339229351),s=e(6987519067),r=e(9868740303),d=e(8847766420),o=e(4342685672);const a=(0,t.Ay)("Find channels that match a search query",function(m,l){let{query:_,limit:v=n.zE,searchViewContext:u,searcherKey:h="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=l(),p={entities:{channels:{includePrivate:!0,includeFromAnotherTeam:!0,searchPreviousNames:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:v,tiered:!0,returnMetadata:!0,searchViewContext:u};return(0,o.nK)(f)?(0,r.A)({teamId:(0,d.ZT)(f),key:h}).search({query:_,options:p}):m((0,s.$P)({query:_,options:p}))});a.meta={name:"createThunk",key:"createThunkautocompleteChannels",description:"Find channels that match a search query"};const i=a},2232906703:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1031947056),n=e(3339229351),s=e(6987519067),r=e(9868740303),d=e(8847766420),o=e(4342685672);const a=c(l=>(l||"").replace(/:|\uFF1A/g,""),"getCleanQuery"),i=(0,t.Ay)("Find emoji that match a search query",function(l,_){let{query:v,limit:u=n.zE,useSearcherSessions:h=!0,searcherKey:f="texty-autocomplete",searchViewContext:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E={entities:{emoji:{matchKeywords:!0}},sort:{source:"texty-autocomplete"},limit:u,returnMetadata:!0,tiered:!0,searchViewContext:p},g=_();return h&&(0,o.nK)(g)?(0,r.A)({teamId:(0,d.ZT)(g),key:f}).search({query:a(v),options:E}):l((0,s.$P)({query:a(v),options:E}))});i.meta={name:"createThunk",key:"createThunkautocompleteEmoji",description:"Find emoji that match a search query"};const m=i},4227536814:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(1031947056),n=e(9101533895),s=e(3339229351),r=e(6987519067),d=e(9868740303),o=e(8847766420),a=e(4342685672),i=e(7383598433),m=e(2023092677);const l=(0,t.Ay)("Find members that match a search query",function(v,u){let{query:h,channelId:f,enableBots:p=!0,enableBroadcastKeywords:E=!0,enableFuzzyMatching:g=!0,enableUserGroups:A=!0,includeAllBroadcastKeywords:y=!1,limit:T=s.zE,searchViewContext:M,searcherKey:O="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=u();var D;const P=f&&(D=(0,n.OL)(I,f))!==null&&D!==void 0?D:void 0,L=E?{currentChannel:P,includeAll:y}:void 0,k=A&&(0,m.O9)(I),G={entities:{broadcastKeywords:L,userGroups:k&&{includeDeleted:!1,includeFromAnotherTeam:(0,i.J)(I)},members:{includeBots:p,includeSelf:!0,includeSlackbot:!1,includeProfileOnlyUsers:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete",currentChannel:P,preferChannelMembers:!!P},fuzzyLimit:g?void 0:0,limit:T,tiered:!0,returnMetadata:!0,searchViewContext:M};return(0,a.nK)(I)?(0,d.A)({teamId:(0,o.ZT)(I),key:O}).search({query:h,options:G}):v((0,r.$P)({query:h,options:G}))});l.meta={name:"createThunk",key:"createThunkautocompleteMembers",description:"Find members that match a search query"};const _=l},4066669727:(Q,C,e)=>{"use strict";e.d(C,{KH:()=>G,MC:()=>R,PL:()=>B,SV:()=>b,a$:()=>P,gO:()=>L});var t=e(9706240641),n=e.n(t),s=e(7542104324),r=e(2141099977),d=e(8802876335),o=e(796111729),a=e(6533394955),i=e(1345902898),m=e(8778137680),l=e(5795074931),_=e(7592559649),v=e(4949104520),u=e(6066600258),h=e(9240258658),f=e(1031947056),p=e(5332875232);const E="AWARENESS-MANAGER",g="AWARENESS-MANAGER-CHIME",A=`[${E}] unknown awareness subtype`,y=3e4,T=250,M=5e3,O=15,I=(0,f.Ay)("Query for awareness state from other users who are subscribed to the topic",function(){var w=(0,t.coroutine)(function*(N,K,J){const Y=K();if(!(0,d.ON)(Y))return;const q=(0,l.WR)(Y),H={channel:J,type:"awareness",subtype:i.Pz.QUERY,user:q};try{N((0,r.tN)(H))}catch(ne){(0,o.Ay)({getState:K}).warn("Failed to send awareness query: ",ne)}});return function(N,K,J){return w.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const D=(0,f.Ay)("Send awareness state to other users who are subscribed to the topic",function(){var w=(0,t.coroutine)(function*(N,K,J){const Y=K();if(!(0,d.ON)(Y))return;const q=(0,l.WR)(Y),H=(0,_.fL)(Y,J,q),ne={channel:J,type:"awareness",subtype:i.Pz.BROADCAST,user:q,awareness_state:H};try{N((0,r.tN)(ne))}catch(te){(0,o.Ay)({getState:K}).warn("Failed to send awareness query: ",te)}});return function(N,K,J){return w.apply(this,arguments)}}());D.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const P=(0,f.Ay)("Temporarily subscribe to a topic for updates",(w,N,K)=>{const J=N();if((0,d.ON)(J))try{w((0,r.tN)({channel_id:K,type:"temp_channel_sub"}))}catch(Y){(0,o.Ay)({getState:N}).warn("Failed to subscribe to awareness topic: ",Y)}});P.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const L=(0,f.Ay)("Temporarily unsubscribe from topic updates",(w,N,K)=>{const J=N();if((0,d.ON)(J))try{w((0,r.tN)({channel_id:K,type:"temp_channel_unsub"}))}catch(Y){(0,o.Ay)({getState:N}).warn("Failed to unsubscribe from awareness topic: ",Y)}});L.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const k=(0,f.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",function(){var w=(0,t.coroutine)(function*(N,K,J){const Y=K();if(!(0,d.ON)(Y))return;const q=(0,l.WR)(Y),H={channel:J,type:"awareness",subtype:i.Pz.CLOSE,user:q};try{N((0,r.tN)(H))}catch(ne){(0,o.Ay)({getState:K}).warn("Failed to send awareness query: ",ne)}});return function(N,K,J){return w.apply(this,arguments)}}());k.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class G{maybeSendCurrentAwarenessState(N){const K=(0,a.getStoreInstanceByTeamId)(this.teamId);return K?(K.dispatch(D(N)),!0):!1}maybeSendAwarenessQuery(N){const K=(0,a.getStoreInstanceByTeamId)(this.teamId);return K?(K.dispatch(I(N)),!0):!1}maybeSendAwarenessCloseState(N){const K=(0,a.getStoreInstanceByTeamId)(this.teamId);return K?(K.dispatch(k(N)),!0):!1}constructor({teamId:N}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=N}}c(G,"RtmBroadcaster");class b{onDisconnectDataChannel(){var N;(N=this.audioVideoFacade)===null||N===void 0||N.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(N){this.audioVideoFacade=N,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,o.Wo)().warn(g,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(N){}maybeSendCurrentAwarenessState(N){var K;if(!this.connected)return(0,o.Wo)().info(g,`${this.connected} ${N} Can't send yet, not connected`),!1;const J=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!J)return(0,o.Wo)().warn(g,`${this.connected} ${N} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const Y=J.getState(),q=(0,l.WR)(Y);J.dispatch((0,m.c6)({topicId:N,userId:q}));const H=(0,p.pL)(Y),te=(0,_.fL)(Y,N,q,H?"self":void 0).map(he=>new h.Y.AwarenessPayload({fieldName:he.field_name,fieldValue:he.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!he.field_timestamp_ms&&{fieldTimestampMs:he.field_timestamp_ms}})),le=new h.Y.AwarenessBroadcast({channel:N,user:(0,l.WR)(J.getState()),awarenessState:te});return(K=this.audioVideoFacade)===null||K===void 0||K.realtimeSendDataMessage(this.dataChannelTopic,h.Y.encode(new h.Y({awarenessBroadcast:le})).finish()),!0}maybeSendAwarenessQuery(N){var K;if(!this.connected)return(0,o.Wo)().info(g,`${this.connected} ${N} Can't send yet, not connected`),!1;(0,o.Wo)().warn(g,`${this.connected} ${N} Sending awareness query`);const J=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!J)return(0,o.Wo)().warn(g,`${this.connected} ${N} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const Y=new h.Y.AwarenessQuery({channel:N,user:(0,l.WR)(J.getState())});return(K=this.audioVideoFacade)===null||K===void 0||K.realtimeSendDataMessage(this.dataChannelTopic,h.Y.encode(new h.Y({awarenessQuery:Y})).finish()),!0}maybeSendAwarenessCloseState(N){var K;if(!this.connected)return(0,o.Wo)().info(g,`${this.connected} ${N} Can't send yet, not connected`),!1;(0,o.Wo)().warn(g,`${this.connected} ${N} Sending awareness query`);const J=(0,a.getStoreInstanceByTeamId)(this.teamId);if(!J)return(0,o.Wo)().warn(g,`${this.connected} ${N} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const Y=new h.Y.AwarenessClose({channel:N,user:(0,l.WR)(J.getState())});return(K=this.audioVideoFacade)===null||K===void 0||K.realtimeSendDataMessage(this.dataChannelTopic,h.Y.encode(new h.Y({awarenessClose:Y})).finish()),!0}constructor({teamId:N,peerId:K,topicId:J,isHuddlesAwarenessTimestampEnabled:Y}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=N,this.peerId=K,this.connected=!1,this.topicId=J,this.isHuddlesAwarenessTimestampEnabled=!!Y}}c(b,"ChimeChannelBroadcaster");class W{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(K=>{(0,o.Wo)().debug(E,`Running TTL for ${K}`);const J=(0,a.getStoreInstanceByTeamId)(K);J&&J.dispatch((0,m._y)())}),this.watchedTopics.size===0&&((0,o.Wo)().info(E,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const N=(0,v.A)(O,-.25,.25);this.dirtyTopics.forEach(K=>{(0,u.A)(()=>{const J=this.dataChannels.get(K);J&&J.maybeSendCurrentAwarenessState(K)&&this.dirtyTopics.delete(K)},N)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,o.Wo)().info(E,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(N=>{const K=this.dataChannels.get(N);K&&K.maybeSendCurrentAwarenessState(N)&&this.dirtyTopics.delete(N)}),this.watchedTopics.size===0&&((0,o.Wo)().info(E,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(N=>{if(this.topicToTeamMap.get(N)){const J=this.dataChannels.get(N);J&&J.maybeSendAwarenessQuery(N)&&this.dirtyTopics.delete(N)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(N){if(!this.watchedTopics.has(N)){(0,o.Wo)().info(E,`Ignoring topic change for unwatched topic ${N}`);return}this.dirtyTopics.add(N),this.dirtyBroadcastTimeoutId||((0,o.Wo)().info(E,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),T)),this.perodicBroadcastTimeoutId||((0,o.Wo)().info(E,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),y)),this.periodicTTLId||((0,o.Wo)().info(E,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),M))}removeTopicId(N){this.dirtyTopics.delete(N),this.watchedTopics.delete(N)}watch(N,K,J){this.watchedTopics.add(K),this.topicToTeamMap.set(K,N),this.dataChannels.set(K,J),this.markTopicChanged(K),this.query()}unwatch(N){this.broadcastChanges(),this.removeTopicId(N)}unwatchAll(){if(this.watchedTopics.size){const N=[...this.watchedTopics].join(" ");(0,o.Wo)().warn(E,`Clearing unexpected remaining topics: ${N}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}c(W,"AwarenessManager");const B=new W;class R{onConnectDatachannel(N){this.audioVideoFacade=N,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,o.Wo)().warn(g,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(N){let K;try{K=h.Y.decode(N.data)}catch(J){(0,o.Wo)().debug(g,`Peer Message failed during decode, ignoring peer message.
				| Error: ${J}
				| Data Sender Attendee ID: ${N.senderAttendeeId}
				| Data Sender External Attendee ID: ${N.senderExternalUserId}
				| Topic: ${N.topic}`);return}if(K.awarenessQuery&&K.awarenessQuery.channel)B.markTopicChanged(K.awarenessQuery.channel);else if(K.awarenessBroadcast){const J=(0,a.getStoreInstanceByTeamId)(this.teamId),Y=(0,p.pL)(J.getState()),q=K.awarenessBroadcast.user,H=K.awarenessBroadcast.channel,ne=K.awarenessBroadcast.awarenessState;if(q&&H&&ne){const te=ne.map(he=>{var Ie,Ee;return{field_name:(Ie=he.fieldName)!==null&&Ie!==void 0?Ie:"unknown_field",field_value:(Ee=he.fieldValue)!==null&&Ee!==void 0?Ee:"unknown_value",...!!he.fieldTimestampMs&&{field_timestamp_ms:he.fieldTimestampMs}}}),le={user:q,channel:H,awarenessEntries:te,...Y&&{uniqueId:N.senderAttendeeId}};J&&J.dispatch((0,m.zZ)(le))}}else if(K.awarenessClose){const J=(0,a.getStoreInstanceByTeamId)(this.teamId),Y=(0,p.pL)(J.getState()),q=K.awarenessClose.user,H=K.awarenessClose.channel;q&&H&&J&&J.dispatch((0,m.DQ)({topicId:H,userId:q,...Y&&{uniqueId:N.senderAttendeeId}}))}}constructor({teamId:N}){this.dataChannelTopic="awareness-sync-channel",this.teamId=N}}c(R,"ChimeChannelListener");const j=c((w,N,K)=>{const J=K(),Y=(0,l.WR)(J),q=w.awareness_state;switch(w.subtype){case"query":Y!==w.user&&B.markTopicChanged(w.channel);break;case"broadcast":if(q&&Y!==w.user){const H={user:w.user,channel:w.channel,awarenessEntries:q};N((0,m.zZ)(H))}break;case"close":Y!==w.user&&N((0,m.DQ)({topicId:w.channel,userId:w.user}));break;default:throw new Error(A)}},"onAwarenessEvent");(0,s.d1)("awareness",j)},9781145568:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1031947056),n=e(7053828403),s=e(395285811),r=e(1407713935),d=e(9101533895),o=e(56548687),a=e(6244014364);const i=(0,t.Ay)("Clogs a message sent or resent",function(l,_){let{channelId:v,msgTs:u,resent:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=_(),p=v?(0,d.OL)(f,v):null;let E={message_timestamp:u,channel_id:v,channel_type:v?v.charAt(0):null,channel_privacy_type:p?(0,r.K5)(p):null,is_file_channel:p?(0,s.jT)(p):null};const g=(0,n.ZR)(f);g!==null&&(E={...E,channel_session_id:g});const A=(0,o.e)({state:f}),y=h?a.EventId.MSG_RESENT:a.EventId.MSG_SENT;A.track(y,E)});i.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const m=i},5261636424:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(5258584090),n=e(4518410378),s=e(1031947056),r=e(2567914105),d=e(9003400431),o=e(9205400085);const a=(0,s.Ay)("Closes any open Texty modals",(m,l,_,v)=>{const u=l();let h;const f=v(t.S);(f==null?void 0:f.windowRef.deref())!==n.J&&(f!=null&&f.windowId)&&(h=f.windowId);const p=(0,r.wc)(u,h).map(E=>E.name);(0,o.A)(p)&&m((0,d.O)())});a.meta={name:"createThunk",key:"createThunkcloseTextyModals",description:"Closes any open Texty modals"};const i=a},5904726069:(Q,C,e)=>{"use strict";e.d(C,{r:()=>_});var t=e(3134334389),n=e(1031947056),s=e(4540171876),r=e(9236644324),d=e(5258584090),o=e(5060694341),a=e(4275787242),i=e(735940183),m=e(5332875232);const l=new i.Ay("huddles"),_=(0,n.Ay)("Copies Huddle link by Channel Id",(v,u,h,f)=>{let{channelId:p,suppressToast:E}=h;const{windowRef:g}=f(d.S),A=(0,m.Eo)(u());if(p&&(v((0,s.TE)({reason:"copy",channelId:p})).then(y=>{(0,r.x3)(y.link,g.deref())}),A&&!E)){const y={name:"check"};v((0,o.M)({element:t.createElement(a.A,{svgIconProps:y,duration:3e3},l.rt("Huddle link copied"))}))}});_.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},3694676182:(Q,C,e)=>{"use strict";e.d(C,{Q7:()=>X,TE:()=>ne.A,Uf:()=>de});var t=e(6422693406),n=e(362134992),s=e(7530630315),r=e(1031947056),d=e(5795074931),o=e(157328471),a=e(1827030018),i=e(9132245692),m=e(796111729),l=e(9665027958),_=e(9706240641),v=e(9113979368),u=e(8840779375),h=e(9746734072),f=e(2101927269),p=e(9101533895),E=e(5467378328),g=e(9530687876);const A=(0,r.Ay)(g.rd.BULK_UPDATE_CHANNELS,function(ie,ue){let{channels:fe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const re=ue();if(!fe||!fe.length||!(0,h.A)(fe))return;const _e=(0,f.A)(fe,"id"),Ue=[],ye=!1;_e.length&&(_e.forEach(Te=>{const ge=(0,p.OL)(re,Te.id,ye);Ue.push({...ge,...Te})}),ie((0,E.U)({channels:Ue,reason:g.rd.BULK_UPDATE_CHANNELS})))});A.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:g.rd.BULK_UPDATE_CHANNELS};var y=e(6613382951),T=e(7438375976),M=e(4446301238),O=e(8455301571),I=e(8571983633),D=e(4013618389),P=e(7486305635),L=e(8802876335),k=e(3683482182),G=e(4459831283);const b=(0,r.Ay)("Update the unread counts in response to client.counts",(ie,ue,fe)=>{if(!fe)return;const re=ue(),_e={},Ue={},ye={},Te=(0,G.FT)(re);fe.forEach(ge=>{const{id:Ae,unread_cnt:Re,unread_highlight_cnt:Be}=ge,ke=Te&&!(0,I.A)(ge==null?void 0:ge.vip_count)?ge==null?void 0:ge.vip_count:void 0;_e[Ae]={unreadCnt:Re||0,unreadHighlightCnt:Be||0,unreadVIPMentionCnt:Te?ke||0:void 0};const se=(0,p.OL)(re,Ae);if(!Re&&!Be||!(0,D.F)(re,se))return;(0,P.d$)(re,se)&&(ye[Ae]=!0);const ve=(0,D.v)(re,se)?Re:Be,{reachedEnd:Me}=(0,O.tp)(re,Ae),be=(0,L.UJ)(re);Me&&be?Ue[Ae]=(0,k.Lh)(re,Ae):Ue[Ae]={unreadCnt:Re,unreadHighlightCnt:ve||Be,unreadVIPMentionCnt:Te?ke:void 0}}),ie((0,o.SO)({initialUnreads:_e,countsPerChannel:Ue,channelsToSuppress:ye}))});b.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};var W=e(4368281601),B=e(6007206761),R=e(9884588328),j=e(6495946979),w=e(395285811),N=e(1407713935),K=e(9762304444);const J=(0,K.Ay)("TS.ensureFullyBooted",()=>{throw new Error("Not implemented (and only ever intended for use in non-Sonic Land)")});var Y=e(4096483543),q=e(1949656963),H=e(4191588167),ne=e(4660031767),te=e(6695353875);const le="COUNTS",he=(0,r.Ay)("Apply counts to channel objects and update stores",function(){var ie=(0,_.coroutine)(function*(ue,fe){let{counts:re=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,Y.A)()||(yield J());let _e=fe();const Ue=[],ye={},Te={},ge=[],Ae=(0,L.UJ)(_e),Re=(0,L.yf)(_e),Be=(0,te.lc)(_e),ke=(0,G.FT)(_e);(0,m.Ay)({state:_e}).info(le,`Applying counts to channels. wasLastConnectFast: ${Re} isConnected: ${Ae}`);const se=re.filter(Me=>{let{has_unreads:be,mention_count:xe}=Me;return be||xe}).filter(function(){let{id:Me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,p.hh)(_e,Me)}).map(function(){let{id:Me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Me});se.length&&(yield ue((0,M.pX)({ids:se,reason:"apply-counts-to-channels/ensure-channels",callSource:M.aI.ApplyCounts})),_e=fe());const ve=(0,O.jg)(_e);re.forEach(Me=>{const be=(0,p.OL)(_e,Me.id,!1);if(!be||(0,N.QR)(be)){if(!Me.has_unreads&&!Me.mention_count)return;(0,m.Ay)({state:_e}).warn(le,{id:Me.id,has_unreads:Me.has_unreads,nonExistent:(0,N.QR)(be)},"applyCountsToChannels_missing_channel");return}if((0,B.F)(be)||(0,N.rW)(be)&&!(0,j.b)(be))return;if((0,w.jT)(be)){ue((0,W.k)({channelId:be.id,mentionCount:Me.mention_count,shouldSuppress:(0,P.d$)(_e,be)}));return}const xe={},{reachedEnd:Le}=(0,O.tp)(_e,be.id),He=Me.has_unreads?1:0;let Ye=0,Xe=0,et=0,st=!1;(0,N.LI)(be)||(0,N.LI)(Me)||(0,N.yz)(be)||(0,N.yz)(Me)?Ye=Me.mention_count||He:(st=!0,Ye=He,Xe=Me.mention_count||0,et=(Me==null?void 0:Me.vip_count)||0),!Ye&&Xe&&((0,m.Ay)({state:_e}).warn(le,`Ignoring positive mention_count_display because has_unreads == false for ${be.id}`,{subtype:"ignoring_positive_mention_count_display"}),Xe=0),Te[be.id]={unreadCnt:Ye,unreadHighlightCnt:Xe,unreadVIPMentionCnt:ke?et:void 0},!Be&&Le&&Ae?ge.push(be.id):(Ye!==(0,R.$M)(be)&&(xe.unread_cnt=Ye),ke&&et!==(0,R.OJ)(be)&&(xe.vip_count=et),st&&Xe!==(0,R.BP)(be)&&(xe.unread_highlight_cnt=Xe)),Me.updated&&Me.history_invalid&&(ye[be.id]={historyInvalidTs:Me.history_invalid,updatedTs:Me.updated},ve!=null&&ve[be.id]&&ue((0,H.A)({channelId:be.id,newHistoryInvalidTs:Me.history_invalid,newUpdatedTs:Me.updated}))),(0,v.A)(xe)||(xe.id=be.id,Ue.push(xe))}),(0,v.A)(Ue)||ue(A({channels:Ue})),(0,v.A)(ye)||ue((0,q.ih)({updates:ye})),ue((0,y.M)(re)),ue((0,T.f)(re.map(Me=>({channelId:Me.id,ts:Me.last_read})))),ue((0,o.iz)(Te)),ue(b((0,u.A)(Te,function(){let{unreadCnt:Me,unreadHighlightCnt:be,unreadVIPMentionCnt:xe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:arguments.length>1?arguments[1]:void 0,unread_cnt:Me,unread_highlight_cnt:be,vip_count:ke?xe:void 0}}))),ge.forEach(Me=>{ue((0,ne.A)({channelId:Me}));const be=(0,p.OL)(fe(),Me,!1);if(be){const xe={unreadCnt:(0,R.$M)(be),unreadHighlightCnt:(0,R.BP)(be),unreadVIPMentionCnt:(0,R.OJ)(be)};(0,m.Ay)({state:_e}).info(le,`Recounted ${Me}; initial: ${JSON.stringify(Te[Me])}; after: ${JSON.stringify(xe)}`)}})});return function(ue,fe){return ie.apply(this,arguments)}}());he.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};const Ie=he,Ee="COUNTS",me=(0,r.Ay)("Apply counts to channels and threads",function(ie,ue){let{channels:fe,groups:re,ims:_e,mpims:Ue,threads:ye,alerts:Te,saved:ge,fileChannels:Ae,channelBadges:Re}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Be=ue();if(!(0,d.TZ)(Be))return t.S.resolve();ie((0,o.iz)({})),ie((0,i.y)(Te||{}));const ke=ce(Ae),se=(0,n.A)((0,s.A)(fe,re,_e,Ue,ke));return ie(Ie({counts:se})).then(()=>{const ve=(0,m.Ay)({getState:ue});ye&&(ve.info(Ee,`Threads has_unreads:${ye.has_unreads} mention_count:${ye.mention_count}`),ie((0,a._)({threadsHasUnreads:ye.has_unreads,threadsUnreadCountByChannel:ye.unread_count_by_channel,threadsMentionCountByChannel:ye.mention_count_by_channel}))),ge&&ie((0,l.yO)(ge)),Re&&ie((0,o.$m)(Re)),ve.info(Ee,"Completed counts processing")})});me.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function ce(ie){if(!ie||!ie.quip)return[];const ue=ie.quip.mention_count_by_channel;return Object.keys(ue).map(_e=>({id:_e,mention_count:ue[_e],has_unreads:!0}))}c(ce,"transformFileChannels");const X=me;var V=e(9290914927),x=e(6957597272),S=e(7606781622),U=e(8276911661),F=e(6866036454),Z=e(5899351761),z=e(4726390364);const $="COUNTS",ee=(0,r.Ay)("Update unread counts",function(ie,ue){let{channelId:fe,messageTs:re}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _e=ue(),Ue=!1,ye=(0,p.OL)(_e,fe,Ue);if(!ye||!(0,z.A)(ye,{countFileChannels:!0}))return t.S.resolve(!0);const Te=(0,U.cA)(_e),ge=(0,V.gd)(_e,Te.id)==="away",Ae=Te._presence_last_changed||(0,d.tV)(_e,"start_ms"),Re=(0,Z.A)({state:_e,messages:[(0,S.Ld)(_e,ye.id,re)],channel:ye,currentUserId:Te.id,userIsAway:ge,userPresenceLastChanged:Ae,highlightWords:(0,F.A)(_e)}),Be=Re==null?void 0:Re.unreadHighlightCnt;return Be!==ye.unread_highlight_cnt&&((0,m.Ay)({state:_e}).info($,`Updated unread_highlight_cnt for ${ye.id}: ${Be}`),ie((0,x.b)({id:ye.id,unread_highlight_cnt:Be}))),t.S.resolve(!1)});ee.meta={name:"createThunk",key:"createThunkupdateUnreadCountsForThreadMentionBroadcasts",description:"Update unread counts"};const de=ee},7547876038:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(6422693406),n=e(3297051565),s=e.n(n),r=e(1269227002),d=e(5257368278);const o=(0,d.A)("API call for slack-action:// URL",(u,h,f)=>{let{botId:p,payload:E}=f;return u((0,r.apiCall)({method:"chat.action",args:{bot:p,payload:decodeURIComponent(E)}}))});o.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},o.propTypes={botId:s().string.isRequired,payload:s().string.isRequired};const a=o;var i=e(1031947056),m=e(8707546752),l=e(3339229351);const _=(0,i.Ay)("Execute slack-action:// URL",(u,h,f)=>{if((0,m.A)(f)){const p=f.replace(l.Rw,"").split("/"),E=p.shift(),g=p.join("/");return u(a({botId:E,payload:g}))}return t.K.reject(new Error("Not a Slack action URL"))});_.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},_.propTypes=s().string.isRequired;const v=_},574001087:(Q,C,e)=>{"use strict";e.d(C,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that fetches and upserts list records");n.meta={name:"createAction",key:"createActionfetchAndUpsertRecordsCircular",description:"Triggers a side-effect that fetches and upserts list records"};var s=null},6652001255:(Q,C,e)=>{"use strict";e.d(C,{q:()=>r});var t=e(1031947056),n=e(5267010247),s=e(8822892075);const r=(0,t.Ay)("Opens the user group details flexpane",(d,o,a)=>{let{groupId:i}=a;d((0,n.o)((0,s.cu)(i)))});r.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},2522627261:(Q,C,e)=>{"use strict";e.d(C,{w:()=>d});var t=e(1031947056),n=e(6244014364),s=e(56548687),r=e(497761763);const d=(0,t.Ay)("Clog the opening of a list",(o,a,i)=>{let{listId:m,source:l,openInNewWindow:_,channelId:v}=i;const u=(0,r.A)(m)?m:"";let h=n.UiComponentName.LISTS_MAIN_EMBED;_&&(h=n.UiComponentName.LISTS_NEW_WINDOW_EMBED),(0,s.e)({getState:a}).track(n.EventId.SLACK_LISTS,{contexts:{ui_context:{action:n.UiAction.CLICK,ui_properties:{element_name:l??"open_list"},ui_component_name:h,ui_step:n.UiStep.SLACK_LISTS_OPEN},core:{file_id:u,channel_id:v}}})});d.meta={name:"createThunk",key:"createThunkclogOpenList",description:"Clog the opening of a list"}},36177209:(Q,C,e)=>{"use strict";e.d(C,{B:()=>t});var t;(function(n){n.STARRED_LISTS_SIDEBAR="starred-lists-sidebar",n.CHANNEL_TAB="channel_tab",n.CANVAS_CREATE_LIST="canvas_create_list",n.CANVAS_LIST_UNFURL="canvas_list_unfurl",n.CANVAS_LIST_UNFURL_MENU="canvas_list_unfurl_menu",n.CANVAS_FROM_QUIP="canvas_from_quip",n.LISTS_PEEK_ITEM="lists_peek_item",n.LIST_TEMPLATE_PREVIEW="list_template_preview",n.LIST_RECORD_DETAIL_CONTENT="list_record_detail_content",n.LISTS_MY_ITEMS="lists_my_items",n.LISTS_DELETED_PAGE="lists_deleted_page",n.LISTS_BROWSE_PAGE_ITEM="lists_browse_page_item"})(t||(t={}))},4191588167:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1031947056),n=e(8847766420),s=e(4405788578),r=e(8455301571),d=e(4350638406),o=e(796111729),a=e(9536404279);const i=(0,t.Ay)("Possibly purge or invalidate channel history .",(l,_,v)=>{let{channelId:u,newHistoryInvalidTs:h,newUpdatedTs:f}=v;const p=_(),E=(0,s.Kq)(p,u),g=(0,s.QO)(p,u);h!=="0000000000.000000"&&(!E||h>E)?((0,o.Ay)({state:p}).info("COUNTS",`purging cached history for channel ${u} since counts history_invalid ${h} > cached historyInvalidTs ${E}`),l((0,a.bz)({channelId:u,includeThreads:!0}))):f!=="0000000000.000000"&&(!g||f>g)&&((0,o.Ay)({state:p}).info("COUNTS",`invalidating history for channel ${u} since counts updated ${f} > cached updatedTs ${g}`),(0,d.D1)((0,n.ZT)(p),u,(0,r.m3)(p,u)))});i.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const m=i},9609912577:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(1031947056),s=e(2375333597),r=e(3677514771),d=e(56548687),o=e(6244014364),a=e(4212246463),i=e(8847766420),m=e(3707193570),l=e(5795074931),_=e(6839188756);const v=(0,n.Ay)("Opens the apps browser modal",function(h,f){let{initialTab:p,emojiNameSuggestion:E,elementName:g,emojiUrl:A,megaphoneEventOnClose:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=f(),M=(0,i.JY)(T);let O;M&&(0,m.JV)(M)?O=(0,r.H2)(T):(0,l.u8)(T)&&(O=(0,_.mf)((0,r.H7)(T))),(0,d.e)({getState:f}).track(o.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:g}}}}),h((0,s.q)({element:t.createElement(a.A,{showEmojiPacks:!A,orgName:O,initialTab:p,emojiNameSuggestion:E,emojiUrl:A,megaphoneEventOnClose:y}),isStackable:!0}))});v.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const u=v},9786721596:(Q,C,e)=>{"use strict";e.d(C,{U:()=>v});var t=e(1031947056),n=e(8677230210),s=e(613926746),r=e(8847766420),d=e(3244118357),o=e(4910963364),a=e(8276911661),i=e(5267010247),m=e(8822892075),l=e(4427921758);const _=(0,t.Ay)("Shows message pane for bots",function(u,h){let{memberId:f,serviceId:p,botProfile:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var g;const{member:A,bot:y,memberIsHuman:T}=(0,n.Od)(h(),{userId:f,botId:p,botProfile:E}),M=(0,r.ZT)(h())||"",O=!T||p?(0,d.AW)({member:A||void 0,bot:y,botProfile:E,currentTeamId:M}):void 0,I=(0,o.G2)(h(),{serviceId:p,homeWorkspaceId:O,memberId:f});var D;const P=(0,a.nv)(h(),f||((D=I==null||(g=I.app_user)===null||g===void 0?void 0:g.id)!==null&&D!==void 0?D:void 0));var L;return u((0,s.Z)({memberId:(L=P==null?void 0:P.id)!==null&&L!==void 0?L:void 0}))});_.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const v=(0,t.Ay)("Shows the flexpane profile for humans or messages for bots",(u,h,f,p)=>{let{memberId:E,serviceId:g,botProfile:A}=f;const{currentTab:y,channelId:T}=p(l.j);return E&&(0,n.wC)(h(),E)?u(y?(0,i.o)((0,m.sL)((0,m.Fo)({memberId:E}),T,y.id)):(0,i.o)((0,m.Fo)({memberId:E}))):u(_({memberId:E,serviceId:g,botProfile:A}))});v.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},2327059915:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Triggers a side-effect that opens the ShareContactModal in client (noop)");n.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"};const s=n},4841770661:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(1031947056),s=e(2375333597),r=e(9003400431),d=e(387484329),o=e(735940183),a=e(980293773),i=e(7138682671),m=e(3989454579),l=e(6084388622),_=e(8739505998);const v=new o.Ay("message"),u=c(E=>{let{url:g,text:A,onClose:y,updateSuppressLinkWarning:T}=E;const[M,O]=(0,t.useState)(!1),I=A.length>25?`${A.substr(0,25)}\u2026`:A,D=g.length>50?`${g.substr(0,50)}\u2026`:g,P=v.t("Double-check this link"),L=v.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,B=>{let{tag:R}=B;return R==="label"?t.createElement(_.A,{href:g,onClick:y},I):t.createElement(_.A,{href:g,onClick:y},D)}),k=v.t("Continue"),G=v.t("Don\u2019t show this again"),b=(0,t.useCallback)(B=>{O(B.target.checked)},[]),W=(0,t.useCallback)(()=>{M&&T(),y()},[y,M,T]);return t.createElement(a.dW,{closeModal:y,isOpen:!0,centered:!0},t.createElement(a.rQ,null,t.createElement(a.Rc,{title:P})),t.createElement(a.$m,null,t.createElement(a.qf,null,t.createElement("p",{className:"break_word"},L),t.createElement("p",null,t.createElement(i.A,{text:G,type:"inline",cursor:"pointer",className:"normal"},t.createElement(m.A,{id:"suppress_link_warning",name:"suppress_link_warning",value:M.toString(),checked:!!M,onChange:b}))))),t.createElement(a.jl,null,t.createElement(a.ox,null,t.createElement(a.s_,{type:"outline"},"Cancel"),t.createElement(l.Ay,{type:"danger",href:g,onClick:W},k))))},"SuspiciousLinkWarning");u.displayName="SuspiciousLinkWarning";const h=u,f=(0,n.Ay)("Display a warning when clicking a suspicious link",(E,g,A)=>{let{text:y,url:T}=A;const M=t.createElement(h,{text:y,url:T,onClose:()=>{E((0,r.O)())},updateSuppressLinkWarning:()=>{E((0,d.AZ)({pref:"suppress_link_warning",value:!0}))}});E((0,s.q)({element:M}))});f.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};const p=f},728937959:(Q,C,e)=>{"use strict";e.d(C,{A:()=>j});var t=e(3134334389),n=e(3297051565),s=e.n(n),r=e(1031947056),d=e(2375333597),o=e(308057085),a=e(5143598415),i=e(8300007136),m=e(2562405183),l=e(4711108074),_=e.n(l),v=e(9003400431),u=e(2574761851),h=e(3170230049),f=e(6564475562),p=e(6244014364),E=e(512148710),g=e(7165234038),A=e(736397114),y=e(8533059483),T=e(1641606663),M=e(735940183),O=e(8739505998);const I=new M.Ay("message-input"),D={zIndex:1012},P=400,L=160,k=200,G=c((w,N)=>{const K=w.left+w.width/2,q=(N/2-K)/P*100,H=50-Math.round(q/10)*10;return Math.max(Math.min(H,90),10)},"offsetCoachmarkInNarrowViewport"),b=c((w,N)=>{const K=w.left+w.width/2,J=K+P-P*.1,Y=K+P/2;return J<N?10:Y<N?50:90},"offsetCoachmark");function W(w){let{quillRef:N,anchorElement:K,text:J,url:Y,isTruncated:q,canBeTruncated:H,initialRange:ne,adjustedRange:te,initialBlocks:le,textIsEditable:he,source:Ie,renderWorkflowBuilderEditLinkInput:Ee,renderUrlWithWorkflowBuilderVariable:me}=w;const ce=(0,i.wA)(),X=(0,m.d4)(h.e),{windowRef:V}=(0,t.useContext)(T.Mn);let x=10;const S=V.deref(),U=S?S.document.documentElement.clientWidth-10:0,F=K?K.getBoundingClientRect():null;F&&(U<P+L?x=G(F,U):x=b(F,U));let Z=null;q&&(Z=I.t("Show full link")),H&&(Z=I.t("Shorten link"));const z=(0,t.useMemo)(()=>{let ee=y.YC.Top;return F&&F.top<k&&(ee=y.YC.Bottom),ee},[F]);var $;return t.createElement(A.Ay,{isOpen:!0,anchorElement:K,orientation:z,centerOnArrow:!0,offsetY:-5,closeCoachmark:()=>{var ee,de;ce((0,v.O)()),N==null||(ee=N.current)===null||ee===void 0||ee.focus(),N==null||(de=N.current)===null||de===void 0||de.setSelection(ne)},overlayStyle:D,primaryCallToActionText:I.t("Remove"),onClickPrimaryButton:()=>{var ee,de;ce((0,v.O)()),N==null||(ee=N.current)===null||ee===void 0||ee.formatText(te.index,te.length,{link:!1,unlink:!0}),X.track(p.EventId.MSG_FORMATTING_REMOVED,{input_context:(0,f.A)()?p.MsgFormattingInputContext.POST:p.MsgFormattingInputContext.MESSAGE,input_source:Ie,input_format:E.Hm.link,is_selection:!0}),N==null||(de=N.current)===null||de===void 0||de.setSelection(ne.index+ne.length,0)},secondaryCallToActionText:I.t("Edit"),onClickSecondaryButton:()=>{ce((0,v.O)()),ce((0,u.A)({quill:N==null?void 0:N.current,initialBlocks:le,initialText:J,initialUrl:Y,textIsEditable:he,range:te,source:Ie,renderWorkflowBuilderEditLinkInput:Ee}))},primaryCallToActionType:"danger",tertiaryCallToActionText:Z,onClickTertiaryButton:()=>{var ee,de;const ie=(q?Y:(0,g.A)(Y||""))||"";N==null||(ee=N.current)===null||ee===void 0||ee.updateContents(new(_())().retain(te.index).delete(te.length).insert(ie,{link:Y||""})),N==null||(de=N.current)===null||de===void 0||de.setSelection(te.index+ie.length,0)},arrowPosition:x,isMegaphoneCoachmark:!1},t.createElement("div",{className:"overflow_ellipsis"},t.createElement("b",null,J)),t.createElement("div",{className:"p-composer_edit_link_popover__url"},t.createElement(O.A,{alwaysPerformDefaultOnClickBehavior:!0,href:Y||""},($=me==null?void 0:me(Y))!==null&&$!==void 0?$:Y)))}c(W,"ComposerEditLinkPopover"),W.displayName="ComposerEditLinkPopover";const B=W,R=(0,r.Ay)("Opens the Texty edit link modal",(w,N,K)=>{let{quill:J,initialRange:Y,adjustedRange:q,anchorElement:H,initialContents:ne,initialText:te,initialUrl:le,textIsEditable:he,source:Ie,renderWorkflowBuilderEditLinkInput:Ee,renderUrlWithWorkflowBuilderVariable:me}=K;const ce="composer_edit_link_popover",X=(0,o.uK)({insert:te,attributes:{link:le}}),V=he?null:(0,a.A)({delta:ne,state:N()}),x=!X&&le===te&&(0,g.A)(le)!==le,S=t.createElement(B,{quillRef:{current:J},anchorElement:H,text:te,url:le,isTruncated:X,canBeTruncated:x,initialRange:Y,adjustedRange:q,initialBlocks:V,textIsEditable:he,source:Ie,renderWorkflowBuilderEditLinkInput:Ee,renderUrlWithWorkflowBuilderVariable:me});w((0,d.q)({element:S,name:ce,isStackable:!0}))});R.meta={name:"createThunk",key:"createThunkopenTextyEditLinkModal",description:"Opens the Texty edit link modal"},R.propTypes={quill:s().object.isRequired,initialRange:s().object.isRequired,adjustedRange:s().object.isRequired,anchorElement:s().instanceOf(Element).isRequired,initialBlocks:s().arrayOf(s().object),initialText:s().string,initialUrl:s().string,textIsEditable:s().bool.isRequired,source:s().number.isRequired};const j=R},3926774068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3297051565),n=e.n(t),s=e(4711108074),r=e.n(s),d=e(3078252698),o=e(2394306156),a=e(1031947056),i=e(728937959),m=e(2574761851),l=e(6244014364),_=e(3436445810),v=e(512148710),u=e(8841789548);const h=c(()=>{const y=v.Nb.map(T=>`\\${T}`);return y.push("\\s"),y.push("\\ue000"),new RegExp(`[${y.join("")}]+$`)},"trailingPunctuationRegex"),f=c(()=>{const y=v.Fh.map(T=>`\\${T}`);return y.push("\\s"),y.push("\\ue000"),new RegExp(`^[${y.join("")}]+`)},"leadingPunctuationRegex"),p=c(()=>{if(!p.resultMemo){const y=v.z1.reduce((T,M)=>({pairsByOpening:{...T.pairsByOpening,[M[0]]:M},pairsByClosing:{...T.pairsByClosing,[M[1]]:M}}),{pairsByOpening:{},pairsByClosing:{}});p.resultMemo=y}return p.resultMemo},"getPermissibleCharPairsByChar"),E=c(function(y){let{isTrailing:T=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=0;const O=T?h:f,I=y.match(O());if(!I)return M;const{pairsByOpening:D,pairsByClosing:P}=p(),L=y.split(""),k=[...L].reverse(),G=I[0].split("");for(let b=0;b<G.length;b+=1){const W=T?L.length-1-b:b,B=y[W],R=T?P[B]:D[B];if(!R){M+=1;continue}const[j,w]=R;let N=0;if(T?k.slice(b).forEach(K=>{K===w?N+=1:K===j&&(N-=1)}):L.slice(b).forEach(K=>{K===j?N+=1:K===w&&(N-=1)}),N>0)M+=1;else break}return M},"getTrimLength"),g=(0,a.Ay)("Opens the Texty create link or edit link dialogs based on the current selection",(y,T,M)=>{let{textyInstance:O,source:I,renderWorkflowBuilderEditLinkInput:D}=M;const P=O.getSelection(),L=O.getFormat(P);let k="";P.length>0&&(k=(0,u.A)(O.getContentsForRange(P.index,P.length).ops,{embedReplacement:"\uE000"}));const G=L.link&&(0,d.A)(L.link)?L.link:void 0;let b=(0,o.A)(P);const W=E(k);W&&(k=k.substr(W),b={index:b.index+W,length:k.length});const B=E(k,{isTrailing:!0});if(B&&(k=k.substr(0,k.length-B),b={index:b.index,length:k.length}),!b.length&&L.link){const[j]=O.quill.getLeaf(b.index),w=j&&j.domNode&&j.domNode.parentNode&&j.domNode.parentNode.closest("a");if(!w||!O.quill.root.contains(w))return;b=(0,_.A)(new(r())(O.getContents().contents),{index:b.index,length:0},O.getFormat({index:b.index,length:0}));const N=O.getContentsForRange(b.index,b.length);k=(0,u.A)(N.ops,{embedReplacement:"\uE000"});const K=k.indexOf("\uE000")===-1;O.setSelection(P.index,P.length),y((0,i.A)({initialRange:P,adjustedRange:b,anchorElement:w,initialText:k,initialUrl:L.link,textIsEditable:K,initialContents:N,source:l.MsgFormattingInputSource.TOOLBAR,quill:O.quill,renderWorkflowBuilderEditLinkInput:D}));return}const R=k.indexOf(`
`)===-1&&k.indexOf("\uE000")===-1;y((0,m.A)({initialText:k,initialContents:O.getContentsForRange(b.index,b.length),initialUrl:G,range:b,textIsEditable:R,source:I,quill:O.quill,renderWorkflowBuilderEditLinkInput:D}))});g.meta={name:"createThunk",key:"createThunkopenTextyLinkFormBasedOnSelection",description:"Opens the Texty create link or edit link dialogs based on the current selection"},g.propTypes={textyInstance:n().object.isRequired,source:n().number.isRequired};const A=g},2574761851:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ee});var t=e(3134334389),n=e(1031947056),s=e(2375333597),r=e(5143598415),d=e(1649982175),o=e(6696292586),a=e(2322735331),i=e(9391594207),m=e(4711108074),l=e.n(m),_=e(8847766420),v=e(9003400431),u=e(56548687),h=e(6564475562),f=e(6244014364),p=e(512148710),E=e(3726677001),g=e(4200148118),A=e(2219904496),y=e(7138682671),T=e(720935990);function M(){return M=Object.assign||function(me){for(var ce=1;ce<arguments.length;ce++){var X=arguments[ce];for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(me[V]=X[V])}return me},M.apply(this,arguments)}c(M,"_extends");const O={display:"none"};class I extends t.PureComponent{save(){const{isValid:ce,onGo:X,closeModal:V}=this.props;if(!ce)return;const x=X();x&&x.then&&x.then(()=>{V()})}submit(ce){ce.preventDefault(),this.save()}render(){const{children:ce,isValid:X,onGo:V,...x}=this.props;return t.createElement(T.Ay,M({},x,{goButtonIsDisabled:!X||x.goButtonIsDisabled,shouldCloseOnGo:!1,onGo:this.save}),t.createElement("form",{onSubmit:this.submit},ce,t.createElement("button",{style:O,type:"submit"},"Submit")))}constructor(ce){super(ce),this.submit=this.submit.bind(this),this.save=this.save.bind(this)}}c(I,"_FormDialog"),I.displayName="_FormDialog",I.defaultProps={isValid:!1};const D={closeModal:v.O},P=(0,i.N)(null,D)(I);var L=e(735940183),k=e(3078252698),G=e(6533394955),b=e(3339229351),W=e(6317044431),B=e(3982736577),R=e(3829348308);const w=c((me,ce)=>{if(!(0,k.A)(ce))return null;const X=me&&(0,G.getStateByTeamId)(me),V=(0,W.A)(me);return ce.replace(V,(x,S,U,F)=>{if(F>0&&ce.charAt(F-1)===b._x)return x;const Z=(0,B.A)(x)||"",z=(0,R.qJ)(X,Z);return z?`:${z}:`:x})},"replaceNativeEmojiWithText");var N=e(4807041128),K=e(1191942715),J=e(4565603227),Y=e(4226192540);const q=new L.Ay("message-input");let H=c(class extends t.Component{onChange(ce,X){const{initialText:V,initialUrl:x}=this.props;ce==="text"?this.setState(()=>({text:X,inputIsDirty:X!==V})):ce==="url"&&this.setState(()=>({url:X,inputIsDirty:X!==x}))}onSubmit(){const{initialText:ce,teamId:X}=this.props,{text:V,url:x}=this.state;let S=x?x.trim().replace(/ /g,"%20"):"";if(!S.length){this.removeLink();return}const U=(0,N.A)(S),F=U&&U.length===1&&U[0].text===S,Z=(0,J.t)([(0,Y.Mx)(),(0,Y.cL)(),(0,Y.fE)()],"gi"),z=(x||"").match(Z);F?S=`mailto:${S}`:!S.match(/^[a-zA-Z]{0,63}:(\/\/)?.+/)&&!z&&(S=`${S.substr(0,2)==="//"?"http:":"http://"}${S}`);const $=!V||!V.length||V.match(/^\s+$/)?x:V,ee=w(X,$||"");this.saveLink({didTextChange:ee!==ce,text:ee||"",url:S})}saveLink(ce){let{didTextChange:X,text:V,url:x}=ce;var S,U,F,Z;const{quillRef:z,range:$,source:ee,clogger:de}=this.props;if(!$)return;let ie=$.index+V.length;const ue=new(l());if($.index>0&&ue.retain($.index),!X&&$.length>0){var fe;z==null||(fe=z.current)===null||fe===void 0||fe.getContents($).forEach(Ue=>{const ye=(0,E.A)(Ue);(0,g.A)(Ue)?ue.retain(ye):ue.retain(ye,{link:x,slackmention:!1,unlink:!1})})}else{var re;const Ue=(0,d.A)((z==null||(re=z.current)===null||re===void 0?void 0:re.getFormat($))||{},["slackmention","link"]);$.length&&ue.delete($.length),ue.insert(V,{...Ue,link:x,unlink:!1})}$.length===0&&(ue.insert(" "),ie+=1);const _e=z==null||(S=z.current)===null||S===void 0?void 0:S.getModule("slacklink");_e&&(_e.skipNextTextChange=!0),z==null||(U=z.current)===null||U===void 0||U.updateContents(ue),z==null||(F=z.current)===null||F===void 0||F.setSelection(ie,0),z==null||(Z=z.current)===null||Z===void 0||Z.focus(),(0,o.A)(ee)&&de.track(f.EventId.MSG_FORMATTING_ADDED,{input_context:(0,h.A)()?f.MsgFormattingInputContext.POST:f.MsgFormattingInputContext.MESSAGE,input_source:ee,input_format:p.Hm.link,is_selection:$.length>0})}removeLink(){var ce,X;const{quillRef:V,range:x,source:S,clogger:U}=this.props;this.props.closeModal(),x&&(V==null||(ce=V.current)===null||ce===void 0||ce.formatText(x.index,x.length,{link:!1,unlink:!0}),U.track(f.EventId.MSG_FORMATTING_REMOVED,{input_context:(0,h.A)()?f.MsgFormattingInputContext.POST:f.MsgFormattingInputContext.MESSAGE,input_source:S,input_format:p.Hm.link,is_selection:!0}),V==null||(X=V.current)===null||X===void 0||X.setSelection(x.index+x.length,0))}isValid(){const{url:ce}=this.state;return!(ce&&ce.trim().match(/^javascript:/gi)||ce&&ce.trim().match(/^about:/gi))}render(){const{quillRef:ce,initialUrl:X,initialBlocks:V,textIsEditable:x,focusTextOnMount:S,focusUrlOnMount:U,renderWorkflowBuilderEditLinkInput:F}=this.props,{text:Z,url:z,inputIsDirty:$}=this.state,ee=x?t.createElement(y.A,{text:q.t("Text"),htmlFor:"composer-link-modal-text",id:"composer-link-modal-text-1"},t.createElement(A.A,{name:"composer-link-modal-text",id:"composer-link-modal-text",onChange:ie=>this.onChange("text",ie),size:"medium",value:Z,focusOnMount:S})):t.createElement(t.Fragment,null,t.createElement(y.A,{text:q.t("Text")}),t.createElement("div",{className:"margin_bottom_125 half_opacity"},t.createElement(K.A,{richTextBlock:V.blocks?V.blocks[0]:null})));var de;return t.createElement(P,{title:X?q.t("Edit link"):q.t("Add link"),goButtonText:q.t("Save"),cancelText:q.t("Cancel"),onGo:this.onSubmit,onClose:()=>{var ie;ce==null||(ie=ce.current)===null||ie===void 0||ie.focus()},isValid:this.isValid(),goButtonIsDisabled:!$},ee,t.createElement(y.A,{text:q.t("Link"),htmlFor:"composer-link-modal-url",id:"composer-link-modal-url-1",className:"p-composer_edit_link_popover__builder_texty","data-qa":"composer-link-modal-label"},(de=F==null?void 0:F({id:"composer-link-modal-url-builder-input",onChange:this.onChange.bind(this),url:z,ariaLabel:q.t("Link"),focusUrlOnMount:U}))!==null&&de!==void 0?de:t.createElement(A.A,{name:"composer-link-modal-url",id:"composer-link-modal-url",onChange:ie=>this.onChange("url",ie),size:"medium","data-qa":"composer-link-modal-url",value:z,focusOnMount:U})))}constructor(ce){super(ce),this.state={text:ce.initialText,url:ce.initialUrl,inputIsDirty:!1},(0,a.v)(this,["onChange","onSubmit","isValid"])}},"ComposerLinkModal");H.displayName="ComposerLinkModal",H.defaultProps={quillRef:void 0,range:void 0,initialBlocks:void 0,initialText:void 0,initialUrl:void 0,textIsEditable:!0,focusTextOnMount:!1,focusUrlOnMount:!1,teamId:void 0,source:void 0};const ne=c(me=>({teamId:(0,_.ZT)(me),clogger:(0,u.e)({state:me})}),"mapStateToProps"),te=c(me=>({closeModal:function(){for(var ce=arguments.length,X=new Array(ce),V=0;V<ce;V++)X[V]=arguments[V];return me((0,v.O)(...X))}}),"mapDispatchToProps"),le=(0,i.N)(ne,te)(H),he="composer_link_modal",Ie=(0,n.Ay)("Opens the Texty link form modal",(me,ce,X)=>{let{quill:V,initialContents:x,initialText:S,initialUrl:U,textIsEditable:F,range:Z,source:z,renderWorkflowBuilderEditLinkInput:$}=X;const ee=F?null:(0,r.A)({delta:x,state:ce()}),de=t.createElement(le,{quillRef:{current:V},initialBlocks:ee,initialText:S,initialUrl:U,textIsEditable:F,focusTextOnMount:!S||!S.length,focusUrlOnMount:!!(S&&S.length),range:Z,source:z,renderWorkflowBuilderEditLinkInput:$});me((0,s.q)({element:de,name:he,isStackable:!0}))});Ie.meta={name:"createThunk",key:"createThunkopenTextyLinkFormModal",description:"Opens the Texty link form modal"};const Ee=Ie},5241075893:(Q,C,e)=>{"use strict";e.d(C,{ET:()=>p,Fd:()=>g,Wb:()=>A,xz:()=>E});var t=e(3297051565),n=e.n(t),s=e(5950652755),r=e(1031947056),d=e(2141099977),o=e(796111729),a=e(8847766420),i=e(4423055085),m=e(440999534),l=e(8802876335);const _="PRESENCE-MANAGER",v={},u=c((M,O)=>{const I=(0,a.ZT)(O()),D=Object.keys(v[I]),P={type:"presence_sub",ids:D},L=(0,o.Ay)({getState:O});L.debug(_,`Sending a 'presence_sub' event with the following ids: ${D}`),M((0,d.tN)(P)).catch(k=>{k&&k.message===m.qk||L.error(`Received an error while trying to send 'presence_sub' with the following ids: ${D}, error = ${k}`)})},"sendMessageEvent");let h;function f(){return h||(h=(0,s.A)(u,100,{leading:!1})),h}c(f,"getThrottledSendMessageEvent");const p=(0,r.Ay)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(M,O)=>{if(!(0,l.ON)(O())){(0,o.Ay)({getState:O}).debug(_,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}f()(M,O)});p.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const E=(0,r.Ay)("Adds the member to the presence subscription or increments the associated count",function(M,O){let{memberId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!I||I==="USLACKBOT")return;const D=(0,a.ZT)(O());if(v[D]||(v[D]={}),v[D][I]){(0,o.Ay)({getState:O}).debug(_,`Increasing the count for ${I} by 1`),v[D][I]+=1;return}(0,o.Ay)({getState:O}).debug(_,`Adding ${I} to the presence subscription`),v[D][I]=1,M(p())});E.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},E.propTypes={memberId:n().string.isRequired};const g=(0,r.Ay)("Removes the member from the presence subscription or decrements the associated count",function(M,O){let{memberId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!I)return;const D=(0,a.ZT)(O());if(!(!v[D]||!v[D][I])){if(v[D][I]>1){(0,o.Ay)({getState:O}).debug(_,`Decreasing the count for ${I} by 1`),v[D][I]-=1;return}(0,o.Ay)({getState:O}).debug(_,`Removing ${I} from the presence subscription`),delete v[D][I],M(p())}});g.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},g.propTypes={memberId:n().string.isRequired};const A=c(M=>v[M],"getPresenceSubscriptionByTeamId"),y=c(M=>{delete v[M]},"deletePresenceSubscriptionByTeamId"),T={sendMessageEvent:u};(0,i.ul)("presenceManager",{getPresenceSubscriptionByTeamId:A})},5583430912:(Q,C,e)=>{"use strict";e.d(C,{Ap:()=>r,Pv:()=>n,Ui:()=>s});var t=e(7223729463);const n=new t.a;function s(){return n.entries().filter(d=>d.value&&!d.value.isRejected()&&!d.value.isCancelled()).length}c(s,"getActiveCollabClientCount");const r=c(d=>{const o=n.get(d);return o!=null&&o.isFulfilled()?o.value():void 0},"getInitializedClient")},2580646391:(Q,C,e)=>{"use strict";e.d(C,{P:()=>t});var t;(function(n){n.BOOKMARK_BAR="bookmark_bar",n.COMPOSE_BUTTON="compose_button",n.SIDEBAR_CANVAS_CMD_CLICK="sidebar_canvas_cmd_click",n.SIDEBAR_ADD_BUTTON="sidebar_add_button",n.SIDEBAR_CONTEXT_MENU="sidebar_context_menu",n.QUIP_FILE_BROWSER_NUX_CREATE_DOC="quip_file_browser_nux_create_doc",n.SHORTCUT_MENU="shortcut_menu",n.QUIP_SHORTCUT_MENU="quip_shortcut_menu",n.HEADER_OVERFLOW_MENU="header_overflow_menu",n.QUIP_CANVAS_CABINET_CREATE_DOC="quip_canvas_cabinet_create_doc",n.SHORTCUT="shortcut",n.CANVAS_PAGE_EMPTY_STATE_FREEMIUM="canvas_page_empty_state_freemium",n.TRIAL_OFFER_MODAL="trial_offer_modal",n.HUDDLE_ATTACHMENTS_CREATE="huddle_attachments_create",n.QUIP_FILE_BROWSER_CREATE_DOC="quip_file_browser_create_doc",n.BOOKMARKS_BAR_CREATE="bookmarks_bar_create",n.CREATE_CHANNEL_SPACE="create-channel-space",n.QUICKSWITCHER="quickswitcher",n.FILE_MENU="file_menu",n.CREATE_MENU="create_menu",n.MORE_CANVASES_SIDEBAR="more_canvases_sidebar",n.SLACK_DOCS_SIDEBAR="slack_docs_sidebar",n.CALL_ATTACHMENTS_CREATE="call_attachments_create",n.INSERT_CANVAS_MODAL_CREATE="insert_canvas_modal_create",n.CREATE_HUDDLE_NOTES_DOC="create_huddles_notes_doc",n.CREATE_SIDECAR_NOTES="create_sidecar_notes",n.QUIP_BOOT_HOOKS="quip_boot_hooks",n.INSERT_CANVAS_SHORTCUTS_MENU="insert_canvas_shortcuts_menu",n.SHORTCUTS_MENU_V2_ITEM_CLICK="shortcuts_menu_v2_item_click",n.INTERNAL_TEST="internal_test",n.CANVASES_PEEK_VIEW="canvases_peek_view",n.SLACK_DOCS_PEEK_VIEW="slack_docs_peek_view",n.RESURRECTED_USER_WELCOME="resurrected_user_welcome",n.SLASH_COMMAND="slash_command",n.CREATE_DOC_FROM_LIST="create_doc_from_list",n.CREATE_TEMPLATE="create_template",n.CREATE_CANVAS_FROM_MESSAGE="create_canvas_from_message",n.HUDDLE_MEETING_NOTES_AUTO_OPEN="huddle_meeting_notes_auto_open",n.CREATE_MEETING_NOTES_FROM_PLACEHOLDER="create_meeting_notes_from_placeholder"})(t||(t={}))},4849735859:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(9706240641),n=e(6422693406),s=e(4761125736),r=e(1031947056),d=e(3577873706),o=e(2985066322),a=e(1552255081),i=e(82287009),m=e(5534420337),l=e(6244014364),_=e(56548687);const v=(0,r.Ay)("Clog the creation of a doc",(T,M,O)=>{let{fileId:I,source:D}=O;(0,_.e)({getState:M}).track(l.EventId.QUIP_DOC_CREATION,{contexts:{ui_context:{ui_properties:{element_name:D},ui_component_name:l.UiComponentName.QUIP_MAIN_EMBED,ui_step:l.UiStep.QUIP_CREATION},core:{quip_file_id:I,file_id:I}}})});v.meta={name:"createThunk",key:"createThunkclogCreateDoc",description:"Clog the creation of a doc"};const u=v;var h=e(5492559860),f=e(2832209848),p=e(2494018541);const E=40*1e3,g=(0,r.Ay)("Finalize a temporary document",function(){var T=(0,t.coroutine)(function*(M,O,I){let{tempId:D,finalId:P,onCreate:L,source:k}=I;const G=yield M((0,d.A)({quipThreadId:P,reason:"finalize-quip-doc"}));M((0,p.O)({fileId:G,tempId:D})),M((0,o.A)({fileId:G,lastReadByUser:Date.now()})),L&&(k!=="create-channel-space"&&M(u({fileId:G,source:k})),L({tempId:D,finalId:P,fileId:G}))});return function(M,O,I){return T.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkfinalizeDoc",description:"Finalize a temporary document"};const A=(0,r.Ay)("Create a Quip doc",function(){var T=(0,t.coroutine)(function*(M,O,I){let{onCreate:D,options:P,isChannelCanvas:L,source:k}=I;const G=(0,s._Z)(O(),"canvas_tab_customization_ga")==="on";if(!(0,a.F)(O()))return(0,m.Ay)({getState:O}).error(new Error("Failed to create a canvas - user does not have permission")),n.S.reject(new Error("Cannot create canvas"));const W={usesOnlyInlineTextComments:!0,...P},R=yield(yield M((0,i.lN)())).docs.create(W);if(R.isCreated())M(g({tempId:"",finalId:R.id.get(),onCreate:D,source:k}));else{const j=setTimeout(()=>{(0,m.Ay)({getState:O}).error(new Error("createDoc timeout"),{source:k,isChannelCanvas:L})},E),w=c((N,K)=>{R.isCreated()&&(clearTimeout(j),M(g({tempId:N,finalId:K,onCreate:D,source:k})),R.id.unlisten(w))},"listener");R.id.listen(w)}return G&&!L&&M((0,h.z)({component:f.G7.CanvasTabCanvasCreated,type:f.X8.Click,reason:"canvas-created"})),R});return function(M,O,I){return T.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunkcreateDoc",description:"Create a Quip doc"};const y=A},4119164726:(Q,C,e)=>{"use strict";e.d(C,{Aw:()=>g,Zj:()=>h,vK:()=>f});var t=e(3385422400),n=e(735940183),s=e(9421999304),r=e(4761125736),d=e(8079225585),o=e(7731278967),a=e(9084547259),i=e(4843305308),m=e(5244168417),l=e(3677514771),_=e(6839188756),v=e(6642124196);const u=new n.Ay("quip_shortcut_handlers");var h;(function(A){A[A.BASICS=0]="BASICS",A[A.MEDIA=1]="MEDIA",A[A.SLACK=2]="SLACK",A[A.LAYOUT=3]="LAYOUT"})(h||(h={}));const f=c(()=>({[h.BASICS]:u.t("Basics"),[h.MEDIA]:u.t("Media"),[h.SLACK]:u.t("Slack"),[h.LAYOUT]:u.t("Layout")}),"getCategoryDetailsV2"),p=c(A=>{let{currentTeam:y,experimentCanvasInsertWorkflowMenuGroupOn:T,experimentCanvasSetReminderFromDatePickerOn:M,experimentCanvasCreateListPrototypeGroupOn:O,teamHasListsAccess:I}=A;const D=(0,_.qR)(y),P=f(),L=P[h.BASICS],k=P[h.MEDIA],G=P[h.SLACK],b=P[h.LAYOUT],W=c((B,R,j,w)=>({id:B,name:R,canonicalName:j,hideOnEmptyQuery:w,autocomplete:!0,icon:(0,i.P)(o.r.DATE_MENTION).name,category:h.BASICS}),"dateShortcut");return[{id:m.SlackShortcutCommandType.CANVAS,name:(0,d.O)(o.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,i.P)(o.r.CANVAS).name,category:h.BASICS,aliases:[L]},{id:m.SlackShortcutCommandType.CHECKLIST,name:(0,d.O)(o.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,i.P)(o.r.CHECK_LIST).name,category:h.BASICS,aliases:[L]},{id:m.SlackShortcutCommandType.H1,name:(0,d.O)(o.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,i.P)(o.r.H1).name,category:h.BASICS,aliases:["h1",L]},{id:m.SlackShortcutCommandType.H2,name:(0,d.O)(o.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,i.P)(o.r.H2).name,category:h.BASICS,aliases:["h2",L]},{id:m.SlackShortcutCommandType.H3,name:(0,d.O)(o.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,i.P)(o.r.H3).name,category:h.BASICS,aliases:["h3",L]},{id:m.SlackShortcutCommandType.PLAIN,name:(0,d.O)(o.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,i.P)(o.r.PARAGRAPH).name,category:h.BASICS,aliases:[u.t("plain"),L]},{id:m.SlackShortcutCommandType.TABLE,name:(0,d.O)(o.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,i.P)(o.r.TABLE).name,category:h.BASICS,aliases:[u.t("grid"),u.t("spreadsheet"),L]},{id:m.SlackShortcutCommandType.DIVIDER,name:(0,d.O)(o.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,i.P)(o.r.DIVIDER).name,category:h.BASICS,aliases:[u.t("horizontal line"),L]},{id:m.SlackShortcutCommandType.BULLET_LIST,name:(0,d.O)(o.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,i.P)(o.r.BULLET_LIST).name,category:h.BASICS,aliases:[L]},{id:m.SlackShortcutCommandType.ORDERED_LIST,name:(0,d.O)(o.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,i.P)(o.r.ORDERED_LIST).name,category:h.BASICS,aliases:[L]},{id:m.SlackShortcutCommandType.BLOCKQUOTE,name:(0,d.O)(o.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,i.P)(o.r.BLOCKQUOTE).name,category:h.BASICS,aliases:[L]},{id:m.SlackShortcutCommandType.CODE,name:(0,d.O)(a.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,i.P)(a.L.CODE).name,category:h.BASICS,aliases:[L]},{...W(m.SlackShortcutCommandType.DATE_GENERIC,(0,d.O)(o.r.DATE_MENTION),"/date"),aliases:[L]},W(m.SlackShortcutCommandType.DATE_TODAY,u.t("Today"),"/today",!0),W(m.SlackShortcutCommandType.DATE_TOMORROW,u.t("Tomorrow"),"/tomorrow",!0),W(m.SlackShortcutCommandType.DATE_YESTERDAY,u.t("Yesterday"),"/yesterday",!0),...M?[{...W(m.SlackShortcutCommandType.DATE_GENERIC,u.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:[L]}]:[],{id:m.SlackShortcutCommandType.VIDEO,name:(0,d.O)(o.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,i.P)(o.r.VIDEO_CLIP).name,category:h.MEDIA,aliases:[k]},{id:m.SlackShortcutCommandType.AUDIO,name:(0,d.O)(o.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,i.P)(o.r.AUDIO_CLIP).name,category:h.MEDIA,aliases:[k]},{id:m.SlackShortcutCommandType.IMAGE,name:(0,d.O)(o.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,i.P)(o.r.IMAGE).name,category:h.MEDIA,aliases:[k]},{id:m.SlackShortcutCommandType.FILE,name:(0,d.O)(o.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:h.MEDIA,aliases:[k]},...T&&D?[{id:m.SlackShortcutCommandType.WORKFLOW,name:(0,d.O)(o.r.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:T}),canonicalName:"/workflow",autocomplete:!0,icon:(0,i.P)(o.r.WORKFLOW).name,category:h.SLACK,aliases:[G]}]:[],...O&&I?[{id:m.SlackShortcutCommandType.LIST,name:(0,d.O)(o.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,i.P)(o.r.LIST).name,category:h.SLACK,aliases:[G]}]:[],{id:m.SlackShortcutCommandType.PROFILE,name:u.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:h.SLACK,aliases:[G,u.t("user"),u.t("mention")]},{id:m.SlackShortcutCommandType.CHANNEL,name:u.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:h.SLACK,aliases:[G]},{id:m.SlackShortcutCommandType.TWO_COLUMNS,name:(0,d.O)(o.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,i.P)(o.r.LAYOUT_2_COLUMNS).name,category:h.LAYOUT,aliases:[b]},{id:m.SlackShortcutCommandType.THREE_COLUMNS,name:(0,d.O)(o.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,i.P)(o.r.LAYOUT_3_COLUMNS).name,category:h.LAYOUT,aliases:[b]},{id:m.SlackShortcutCommandType.CODEBLOCK,name:(0,d.O)(o.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,i.P)(o.r.CODE_BLOCK).name,category:h.LAYOUT,aliases:[b]}]},"getCommandsV2");function E(A){return{...A,type:"client"}}c(E,"formatShortcut");const g=(0,t.Mz)([l.H7,A=>(0,r._Z)(A,"canvas_insert_workflow_menu")==="on",A=>(0,r._Z)(A,"canvas_set_reminder_from_date_picker")==="on",A=>(0,r._Z)(A,"canvas_create_list_prototype")==="on",A=>(0,v.teamHasFullListsAccess)(A),()=>(0,s.JK)(),(A,y)=>y],(A,y,T,M,O,I,D)=>p({currentTeam:A,experimentCanvasInsertWorkflowMenuGroupOn:y,experimentCanvasSetReminderFromDatePickerOn:T,experimentCanvasCreateListPrototypeGroupOn:M,teamHasListsAccess:O}).map(E).filter(L=>D||!L.hideOnEmptyQuery))},7102510068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,h:()=>n});var t=e(5244168417);const n=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:t.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:t.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:t.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:t.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:t.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:t.CollabUrlType.SLACK_WORKFLOW},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/lists\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_LIST}];let s=c(class{constructor(){this.supportedUrlParsers=n}},"QuipUrlParsersProvider")},9121476043:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(1031947056),n=e(9536404279),s=e(10127715),r=e(7606781622),d=e(3164289453),o=e(3110884894);const a=(0,t.Ay)("Remove a message and its timestamp",function(m,l){let{channelId:_,ts:v,threadTs:u,broadcastDelete:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!_||!v))if(h)m((0,s.E$)({channelId:_,ts:v}));else{m((0,n.Np)({channelId:_,timestamp:v}));const f=!1,p=(0,r.Ld)(l(),_,v,f),E=p&&p.thread_ts||u;if(E){const g=(0,o.Iu)(_,E)||"";m((0,n.Np)({channelId:g,timestamp:v}))}m((0,s.QN)({message:{channel:_,ts:v}})),m((0,d.A)({channelId:_,item:p}))}});a.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const i=a},3164289453:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3297051565),n=e.n(t),s=e(2140362605);const r=(0,s.Ay)("(noop) Remove a pinned item via side-effect");r.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},r.propTypes=n().shape({item:n().object.isRequired,channelId:n().string.isRequired}).isRequired;const d=r},8391820676:(Q,C,e)=>{"use strict";e.d(C,{A:()=>k});var t=e(6422693406),n=e(6696292586),s=e(8086952004),r=e(12126472),d=e(3398586081),o=e(5950652755),a=e(1031947056),i=e(6533394955),m=e(5795074931),l=e(8847766420),_=e(2155512519),v=e(1116859610),u=e(9101533895),h=e(9536404279),f=e(1407713935),p=e(1581380967),E=e(3110884894),g=e(10127715),A=e(3087402890),y=e(6704899486),T=e(796111729),M=e(8802876335);const O=1e3,I=c((b,W,B)=>{if(W==="Vall_threads")return(0,i.dispatchForTeamId)(b,(0,A.r8)()),t.K.resolve();const R=!1,j=(0,u.OL)((0,i.getStateByTeamId)(b),W,R);if(!j)return t.K.resolve();if(B)return D(b,W,B);const w=(0,f.mz)(j);return(0,i.dispatchForTeamId)(b,(0,_.Ay)({channelId:W,type:w,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:N,hasMore:K,isLimited:J,pinCount:Y,deleted:q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const H=(0,i.getStateByTeamId)(b);(0,M.UJ)(H)&&!(0,y.N)(H,W)&&!(0,y.N)(H,(0,m.WR)(H))||((0,i.dispatchForTeamId)(b,(0,h.Jt)({channelId:W})),(0,i.dispatchForTeamId)(b,(0,v.A)({msgs:N,channelId:W,isLimited:J,pinCount:Y,hasMore:{hasMoreStart:K,hasMoreEnd:!1},oldest:null,latest:null,deleted:q})),(0,n.A)(Y)&&(0,i.dispatchForTeamId)(b,(0,p.K)({channelId:W,count:Y})))}).catch(N=>{(0,T.Ay)({state:(0,i.getStateByTeamId)(b)}).error(`Failed to fetch offline history for ${W}: ${N}`)})},"fetchOfflineHistory");function D(b,W,B){const R=(0,E.Iu)(W,B);return(0,i.dispatchForTeamId)(b,(0,_.$b)({channelId:W,threadTs:B,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:j,deleted:w,hasMore:N}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const K=(0,i.getStateByTeamId)(b);if((0,M.UJ)(K)&&!(0,y.N)(K,W)&&!(0,y.N)(K,(0,m.WR)(K)))return;let J=j;const Y=(0,s.A)(j,{ts:B});N&&(J=(0,r.A)(j,{ts:B})),(0,i.dispatchForTeamId)(b,(0,h.Jt)({channelId:R})),(0,i.dispatchForTeamId)(b,(0,v.A)({msgs:J,channelId:R,hasMore:{hasMoreStart:N,hasMoreEnd:!1},oldest:null,latest:null,deleted:w})),Y&&(0,i.dispatchForTeamId)(b,(0,g.Kc)([Y]))})}c(D,"fetchOfflineHistoryForThread");const P=(()=>{const b=(0,d.A)(()=>(0,o.A)(I,O),function(){for(var W=arguments.length,B=new Array(W),R=0;R<W;R++)B[R]=arguments[R];return JSON.stringify(B)});return function(){for(var W=arguments.length,B=new Array(W),R=0;R<W;R++)B[R]=arguments[R];return b(...B)(...B)}})(),L=(0,a.Ay)("Request offline history",function(b,W){let{channelId:B,threadTs:R}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P((0,l.ZT)(W()),B,R)});L.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},L.propTypes={};const k=L,G={fetchOfflineHistory:I,fetchOfflineHistoryForThread:D}},4587446194:(Q,C,e)=>{"use strict";e.d(C,{NU:()=>V,e8:()=>x,Ay:()=>ie,IY:()=>$});var t=e(2003990933),n=e(7174777686),s=e(3571452446),r=e(1649982175),d=e(3110884894),o=e(5795074931),a=e(8847766420),i=e(9536404279),m=e(9101533895),l=e(10127715),_=e(6483201417),v=e(6704899486),u=e(1031947056),h=e(796111729),f=e(9190452268),p=e(3855029223),E=e(3158767748),g=e(7715417323),A=e(9762304444);const y=(0,A.Ay)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",g.A);var T=e(2664504268),M=e(662226046),O=e(9121476043),I=e(8391820676),D=e(6422693406),P=e(6580433553),L=e(6533394955),k=e(2872463257);const G={},b="cse-message-send",W="cse-message-send";let B=c(class{_send(){var fe;const{message:re,trace:_e,parentSpanId:Ue}=this._activeRequest||{};(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${re==null?void 0:re.client_msg_id}`);const ye=c(()=>{var Te;return(Te=this._store)===null||Te===void 0?void 0:Te.dispatch((0,P.A)({message:re,traceId:_e==null?void 0:_e.getTraceId(),parentSpanId:Ue}))},"postMessageP");return(fe=this._maybeTraceMessageSend(ye))===null||fe===void 0?void 0:fe.then(this._activeRequest?this._activeRequest.resolve:g.A).catch(this._activeRequest?this._activeRequest.reject:g.A).finally(()=>this.resolve(re))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:fe}=this._activeRequest||{};return fe==null||fe.addTags({count:this._queue.length}),fe==null||fe.close(),this._send(),(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(fe){var re;if(!this.shouldTraceMessageSend())return fe();const _e=(re=this._tracer)===null||re===void 0?void 0:re.createTrace({traceName:b,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:k.nl.ALWAYS}}),Ue=c(()=>{var Te;_e&&((Te=this._tracer)===null||Te===void 0||Te.clearTrace(_e))},"onResolve"),ye=c((Te,ge)=>{var Ae;const Re={state:k.$m.ERROR};ge.status&&(Re.status=ge.status),ge.message&&(Re.message=ge.message),ge.data&&ge.data.error&&(Re.reason=ge.data.error),Te==null||Te.addTags(Re),Te==null||Te.close(),_e&&((Ae=this._tracer)===null||Ae===void 0||Ae.reportTrace(_e))},"onError");return _e==null?void 0:_e.traceFn({name:W,onError:ye,onResolve:Ue},fe)}enqueue(fe){let{trace:re,parentSpanId:_e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new D.S((Ue,ye)=>{const Te=re==null?void 0:re.startSpan("message_send_attempt:enqueue",{parentSpanId:_e});this._queue.push({message:fe,messageEnqueueSpan:Te,trace:re,parentSpanId:_e,resolve:Ue,reject:ye}),(0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${fe.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(fe){return!fe||!this._activeRequest||!this._activeRequest.message||fe.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,h.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${fe.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(fe){if(!fe)throw new Error("MessageQueue requires a teamId.");if(this._teamId=fe,this._activeRequest=null,this._queue=[],this._store=(0,L.getStoreInstanceByTeamId)(fe),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${fe} found.`);const re=this._store.getState();this._tracer=(0,p.E)({state:re})}},"MessageQueue");function R(ue){return G[ue]||(G[ue]=new B(ue)),G[ue]}c(R,"getInstance");const j={MESSAGE_SEND_TRACE_LABEL:b,MESSAGE_SEND_SPAN_LABEL:W};var w=e(9781145568),N=e(8802876335),K=e(5345057011),J=e(5774398667),Y=e(4177200783),q=e(7759525289),H=e(4761125736);const ne=6,te=7,le=8,he="restricted_action_read_only_channel",Ie="restricted_action_thread_only_channel",Ee="restricted_action_non_threadable_channel",me="ekm_access_denied",ce="dlp_user_warning",X="message_limit_exceeded";var V;(function(ue){ue.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",ue.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",ue.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",ue.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(V||(V={}));var x;(function(ue){ue.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",ue.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",ue.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(x||(x={}));const S={[he]:ne,[Ie]:te,[Ee]:le};function U(ue,fe){ue((0,l.Kc)([fe]));const re={channelId:fe.channel,timestamps:[fe.ts],oldest:fe.ts,hasMore:!1,append:!0};if(ue((0,i.VG)(re)),fe.thread_ts){const _e=(0,d.Iu)(fe.channel,fe.thread_ts);ue((0,i.VG)({...re,channelId:_e}))}}c(U,"addMsgToEnd");const F={};function Z(ue,fe,re){F[ue]||(F[ue]={}),F[ue][fe]=re}c(Z,"addResolutionTimer");function z(ue,fe){!F[ue]||!F[ue][fe]||(clearTimeout(F[ue][fe]),delete F[ue][fe])}c(z,"cancelResolutionTimer");function $(ue,fe,re,_e){const Ue=(0,a.ZT)(ue())||"",ye=(0,J.I)(ue(),_e.client_msg_id);if(ye){(0,h.Ay)({getState:ue}).action("MESSAGE",`Resolved a message with clientMsgId ${_e.client_msg_id} in ${re.channel} with ts ${_e.ts}`),fe((0,K.s)(ye.clientMsgId)),z(Ue,ye.clientMsgId),fe((0,O.A)({channelId:ye.channelId,ts:ye.ts}));const Te=!1;(0,m.OL)(ue(),re.channel,Te)&&fe((0,w.A)({channelId:re.channel,msgTs:re.ts,resent:!1}))}R(Ue).resolve(_e)}c($,"resolveMessage");const ee="cse-message-send:send",de=(0,u.Ay)("Send a message",(ue,fe,re)=>{let{messageSendTrace:_e,notificationTracePassthroughData:Ue,skipDLPUserWarning:ye,...Te}=re;const ge=(0,p.E)({getState:fe});let Ae,Re;_e&&(Ae=_e.startSpan("message_send_attempt:send"),Re=_e.startSpan("message_send_attempt:placeholder",{parentSpanId:Ae==null?void 0:Ae.getId()}));const Be=ge.createMetricsTrace({label:"cse-message-send"});Be.count({name:ee,label:"pending"}),ge.reportTrace(Be);const ke=(0,E.A)(1),{channel:se,reply_broadcast:ve,thread_ts:Me,client_msg_id:be,xArgs:xe}=Te,Le=(0,h.Ay)({getState:fe}),Ke=(0,a.ZT)(fe())||"",He=Me?{_hidden_reply:!0,_was_reply_broadcast:ve}:null,Ye=be||(0,T.A)();Ue&&(0,M.qe)(fe(),{notificationTracePassthroughData:Ue,clientMsgId:Ye});const Xe=(0,H._Z)(fe(),"fe_message_rendering_perf_m1")==="on",et=Te.blocks,st={...Te,...He,user:(0,o.WR)(fe()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:Ye,blocksProcessed:(0,q.R)({blocks:et,experimentFeMessageRenderingPerfM1GroupOn:Xe})};Le.action("MESSAGE",`Sent a message to ${se} via HTTP, clientMsgId: ${Ye}`);const ot={...Te,...xe,include_channel_perm_error:!0,client_msg_id:Ye,skip_dlp_user_warning:ye};ke&&Z(Ke,Ye,window.setTimeout(()=>{if((0,J.I)(fe(),st.client_msg_id)){const At=fe();(0,N.UJ)(At)&&(0,f.Cy)({state:At}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const ct=R((0,a.ZT)(fe())||"").enqueue(ot,{trace:_e,parentSpanId:Ae==null?void 0:Ae.getId()});U(ue,st),ue((0,K.T)({clientMsgId:st.client_msg_id,channelId:st.channel,ts:st.ts})),Me||ue((0,_.A)({ts:null})),Re==null||Re.close();const at=(0,H._Z)(fe(),"ecompl_custom_dlp_text")==="on";return ct.tap(()=>{const At=fe();(!(0,N.UJ)(At)||(0,v.N)(At,se)||(0,v.N)(At,(0,o.WR)(At)))&&(ue((0,I.A)({channelId:se,threadTs:Me})),ve&&ue((0,I.A)({channelId:se}))),Be.count({name:ee,label:"success"}),ge.reportTrace(Be),_e&&(_e.addTags({success:!0}),Ae==null||Ae.close(),ge.reportTrace(_e))}).catch(At=>{const Ct=(0,t.A)(At,"data.error"),Tt=at?(0,t.A)(At,"data.dlp_custom_message"):void 0;Be.count({name:ee,label:"failure"}).setTag("error",Ct||(At==null?void 0:At.message)),ge.reportTrace(Be);const Rt=Ct===me,It=Ct===ce,Mt=Ct===X,nn=Object.values(x).includes(Ct)?Ct:void 0,Ot=Object.values(V).includes(Ct)?Ct:void 0;if(!Ct&&!(0,J.I)(fe(),st.client_msg_id)){Le.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}const bt=S[Ct];let Jt=!0;const en=!0,sn=[ne,te,le,he,Ie,Ee];(0,n.A)(sn,Ct)&&(y(se,bt,"send-message/sendMessage.catch"),Jt=!1),Rt&&(Jt=!1),Ot&&(Jt=!1),Mt&&(Jt=!1,ue((0,Y.A)())),nn&&(Jt=!1);const zt="Message failed to send",Yt=(0,s.A)(At,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);Yt.client_msg_id=Ye,Yt.channel=se,Yt.thread_ts=Me;const hn=At&&At.status===429?"message_send_ratelimit":"message_send_fail";Le.error(Yt instanceof Error?Yt:new Error(zt),`${zt}: ${Ct} | ${JSON.stringify(Yt)}`,{subtype:hn});const Qe=Ct?(0,r.A)(Yt,["response"]):At;Le.error("MESSAGE",zt,Ct,Qe);const Wt={...st,showResend:Jt,showCancel:en,isEKMError:Rt,isDLPUserWarningError:It,canvasSharingError:nn,blockFileLinkSharingError:Ot,...at?{dlpCustomMessage:Tt}:{}};(0,J.I)(fe(),st.client_msg_id)?ue((0,l.Kc)([Wt])):U(ue,Wt),!Jt&&ke&&z(Ke,st.client_msg_id),_e&&(Jt?(_e.addTags({success:!1}),Ae==null||Ae.close(),ge.reportTrace(_e)):ge.clearTrace(_e))})});de.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const ie=de},5363983309:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(8212623464),s=e(1031947056),r=e(6533394955),d=e(8847766420),o=e(2567914105),a=e(2375333597),i=e(8726613433),m=e(5258584090),l=e(4518410378);function _(){return _=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},_.apply(this,arguments)}c(_,"_extends");const u=c((h,f)=>(0,s.Ay)(`XWS open ${h.displayName} modal`,(p,E,g,A)=>{const{modalName:y,allowMultiple:T=!0,isStackable:M=!1,renderInChildWindow:O=!1}=f||{};let I,D=O;const P=A(m.S);if((P==null?void 0:P.windowRef.deref())!==l.J&&(P!=null&&P.windowId)&&(D=!0,I=P.windowId),!T&&y&&(0,o.wc)(E(),I).find(j=>{let{name:w}=j;return w===y}))return;const L=(0,d.ZT)(E()),k=(0,i.vB)(E()),G=(0,r.getStoreInstanceByTeamId)(L);let b,W=t.createElement(h,_({},g,{closeModal:()=>b==null?void 0:b()}));D||(W=t.createElement(n.Kq,{store:G},W));let B;return D?B=p((0,a.q)({element:W,name:y||void 0,isStackable:M})):B=(0,r.dispatchForTeamId)(k,(0,a.q)({element:W,name:y||void 0,isStackable:M})),b=B.close,B}),"createXWSModalThunk")},9488048047:(Q,C,e)=>{"use strict";e.d(C,{z:()=>b});var t=e(166097325),n=e(1031947056),s=e(6601726845),r=e(1839426804),d=e(2708016366),o=e(9327462766),a=e(296612764),i=e(8585228397),m=e(2768794130),l=e(5078909337),_=e(2036289572),v=e(2505585477),u=e(6729174604),h=e(832411022);const f=c((W,B,R)=>W&&Object.values(B).includes(W)?W:B[R],"validateMessageSearchSort"),p=c((W,B,R)=>W&&Object.values(B).includes(W)?W:B[R],"validateFileSearchSort"),E=c((W,B,R)=>W&&Object.values(B).includes(W)?W:B[R],"validateChannelSearchSort"),g=c((W,B,R)=>W&&Object.values(B).includes(W)?W:B[R],"validatePeopleSearchSort"),A=c((W,B,R)=>W&&Object.values(B).includes(W)?W:B[R],"validateResultCountToggle");var y=e(57760199),T=e(9329555292),M=e(30533254),O=e(5446033290),I=e(532953487),D=e(2864477491),P=e(8847766420),L=e(5513050121),k=e(9752307e3),G=e(4761125736);const b=(0,n.Ay)("Runs search from given encoded search state string",(W,B,R)=>{let{encodedSearchString:j}=R;if(!j)return;const w=B(),N=(0,I.$)(w),K=(0,D.GJ)(w),J=h.Jx.OMNISWITCHER,Y=(0,G._Z)(w,"omniswitcher_delta")==="treatment",q=(0,G._Z)(w,"search_mixed_results_v2")==="on";if(K&&j===N)return;const H=(0,s.Wj)(j),{requestQuery:ne,tab:te,page:le,messageAndFileSearchExcludeBots:he,messageAndFileSearchOnlyMyChannels:Ie,activeEnterpriseTeamIdFilter:Ee,channelSearchFilterType:me,channelSearchOrgFilters:ce,channelSearchHideMemberChannels:X,peopleSearchFilterType:V,peopleSearchOrgFilters:x,peopleSearchHideDeactivatedUsers:S,messageSearchSort:U,fileSearchSort:F,channelSearchSort:Z,peopleSearchSort:z,resultCountToggle:$,peopleSearchLocationFilters:ee,peopleSearchDivisionFilters:de,peopleSearchDepartmentFilters:ie,peopleSearchTitleFilters:ue,peopleSearchCelebrationFilters:fe,salesforceSearchFilterOrgId:re,salesforceSearchFilterRecordType:_e,salesforceSearchFilterCreatedByMe:Ue}=H,ye=k.dn.fromString(w,ne);W(Y?(0,u.N9)({queryOps:ye.toTextyOps(),query:"",inputId:J}):(0,u.N9)({query:ye.toTextyString(),inputId:J}));const Te=(0,M.vA)(w,ne);W((0,_.c3)({queryFilter:Te}));const ge=f(U,h.kK,"relevantMessages"),Ae=p(F,h.VU,"relevant"),Re=E(Z,h.aJ,"relevant"),Be=g(z,h.iO,"relevant"),ke=A($,h.LV,20);ge!==(0,o.WJ)(w)&&W((0,a.g)({sort:ge})),Ae!==(0,i.r)(w,h.c5.FILES)&&W((0,m.f)({sort:Ae})),Re!==(0,o.Kn)(w)&&W((0,d.Ak)({sort:Re})),Be!==(0,o.y6)(w)&&W((0,d.Yn)({sort:Be})),ke!==(0,o.jn)(w)&&W((0,d.BS)({count:ke})),W((0,r.O6)({tab:te})),W((0,r.BL)({moduleType:h.Sv[te],page:le}));const{requestQuery:se,messageAndFileSearchExcludeBots:ve,messageAndFileSearchOnlyMyChannels:Me,activeEnterpriseTeamIdFilter:be,channelSearchFilterType:xe,channelSearchOrgFilters:Le,channelSearchHideMemberChannels:Ke,peopleSearchFilterType:He,peopleSearchOrgFilters:Ye,peopleSearchHideDeactivatedUsers:Xe,messageSearchSort:et,fileSearchSort:st,channelSearchSort:ot,peopleSearchSort:ct,resultCountToggle:at,peopleSearchDepartmentFilters:At,peopleSearchDivisionFilters:Ct,peopleSearchLocationFilters:Tt,peopleSearchTitleFilters:Rt,peopleSearchCelebrationFilters:It,salesforceSearchFilterOrgId:Mt,salesforceSearchFilterRecordType:nn,salesforceSearchFilterCreatedByMe:Ot}=(0,s.Wj)(N||""),bt=(0,v._G)(w,{module:q&&te==="mixedResults"?h.gs.MESSAGES:te});if(te===h.gs.CHANNELS&&(me&&W((0,r.Ev)({type:me})),ce&&W((0,r.H)({orgFilters:ce}))),te===h.gs.PEOPLE&&(V&&W((0,r.kC)({type:V})),x&&W((0,r.XT)({orgFilters:x})),ee&&W((0,r.Ic)({locations:ee})),ue&&W((0,r.t_)({titles:ue})),ie&&W((0,r.Vm)({departments:ie})),de&&W((0,r.qV)({divisions:de})),fe&&W((0,r.H4)({celebrations:fe}))),re&&W((0,r.lu)({salesforceOrgId:re})),_e&&W((0,r.xJ)({salesforceRecordType:_e})),Ue&&W((0,r.jf)({salesforceCreatedByMe:Ue})),he!==ve&&W((0,d.V1)({value:!!he})),Ie!==Me&&W((0,d.le)({value:!!Ie})),Ee!==be&&Ee&&W((0,r.y0)({selectedEnterpriseTeamId:Ee})),V===h.Dx.guests){const en=(0,P.s_)(w);en&&W((0,r.y0)({selectedEnterpriseTeamId:en}))}X!==Ke&&W((0,d.kZ)({value:!!X})),S!==Xe&&W((0,d.sA)({value:!!S})),ge!==et&&W((0,a.g)({sort:ge})),Ae!==st&&W((0,m.f)({sort:Ae})),Re!==ot&&W((0,d.Ak)({sort:Re})),Be!==ct&&W((0,d.Yn)({sort:Be})),ke!==at&&W((0,d.BS)({count:ke}));const Jt=he!==ve||Ie!==Me||Ee!==be||me!==xe||!(0,t.A)(ce,Le)||X!==Ke||V!==He||!(0,t.A)(x,Ye)||S!==Xe||!(0,t.A)(ee,Tt)||!(0,t.A)(ue,Rt)||!(0,t.A)(de,Ct)||!(0,t.A)(ie,At)||!(0,t.A)(fe,It)||!(0,t.A)(re,Mt)||!(0,t.A)(_e,nn)||!(0,t.A)(Ue,Ot);ne!==se?W((0,l.A)({query:ne,page:le,encodedSearchString:j})):bt!=null&&bt.items&&(bt!=null&&bt.items[le])?Jt?((0,y.d1)(W,B,"search-filters-history-stack"),W((0,O.b)({value:j}))):ge!==et?(W((0,T.u3)({module:"messages",reason:"search-message-sort-changed-history-stack",context:L.Oj.MessagesTab})),W((0,O.b)({value:j}))):Ae!==st?(W((0,T.u3)({module:"files",reason:"search-files-sort-changed-history-stack",context:L.Oj.FilesTab})),W((0,O.b)({value:j}))):Re!==ot?(W((0,T.u3)({module:"channels",reason:"search-channels-sort-changed-history-stack",context:L.Oj.ChannelsTab})),W((0,O.b)({value:j}))):Be!==ct?(W((0,T.u3)({module:"people",reason:"search-people-sort-changed-history-stack",context:L.Oj.PeopleTab})),W((0,O.b)({value:j}))):ke!==at?((0,y.d1)(W,B,"result-count-toggle-history-stack"),W((0,O.b)({value:j}))):W((0,O.b)({value:j})):W((0,l.A)({query:ne,module:h.Sv[te],page:le,encodedSearchString:j}))});b.meta={name:"createThunk",key:"createThunkrunSearchFromEncodedSearchState",description:"Runs search from given encoded search state string"}},8010516507:(Q,C,e)=>{"use strict";e.d(C,{L:()=>o});var t=e(1031947056),n=e(5446033290),s=e(6601726845),r=e(5267010247),d=e(8822892075);const o=(0,t.Ay)("Adds a search history item and updates the url with its id",(a,i)=>{const m=i(),l=(0,s._t)(m);l&&(a((0,n.b)({value:l})),a((0,r.o)((0,d.oV)(l))))});o.meta={name:"createThunk",key:"createThunkrunSearchFromReduxState",description:"Adds a search history item and updates the url with its id"}},57760199:(Q,C,e)=>{"use strict";e.d(C,{$q:()=>K,AW:()=>R,CK:()=>Ie,F2:()=>J,F5:()=>L,FG:()=>N,HE:()=>he,HX:()=>le,Hj:()=>B,J0:()=>me,Jv:()=>T,O7:()=>te,OH:()=>q,T9:()=>P,VX:()=>M,V_:()=>Y,YV:()=>U,_I:()=>D,ap:()=>V,bQ:()=>G,cI:()=>x,cf:()=>H,d1:()=>y,dY:()=>j,g:()=>k,iX:()=>W,lN:()=>w,m0:()=>Z,mh:()=>I,s7:()=>X,sf:()=>b,v6:()=>ce,w2:()=>O,wr:()=>S,yH:()=>Ee,yU:()=>ne});var t=e(1031947056),n=e(9329555292),s=e(2199762179),r=e(2036289572),d=e(2505585477),o=e(7435861102),a=e(2892108172),i=e(832411022),m=e(296612764),l=e(2768794130),_=e(5234724663),v=e(9436609557),u=e(1839426804),h=e(2708016366),f=e(8847766420),p=e(8010516507),E=e(304127728),g=e(8538260492),A=e(5513050121);function y($,ee,de){let ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const ue=(0,d.iq)(ee()),fe=ue?ue.query:"";return $((0,r.p4)({windowId:E.I})),ie&&$((0,o.z)()),$((0,n.Ad)({query:fe,reason:de,fetchSuggestions:!0}))}c(y,"refetchAllSearchResults");const T=(0,t.Ay)("Message/file search: exclude bots checkbox changed",($,ee,de)=>{let{value:ie}=de;$((0,h.V1)({value:ie})),y($,ee,"search-exclude-bots-changed"),$((0,p.L)())});T.meta={name:"createThunk",key:"createThunkmessageAndFileSearchExcludeBotsChanged",description:"Message/file search: exclude bots checkbox changed"};const M=(0,t.Ay)("Message/file search: only my channels checkbox changed",($,ee,de)=>{let{value:ie}=de;$((0,h.le)({value:ie})),ie&&$((0,h.kZ)({value:!1})),y($,ee,"search-only-my-channels-changed"),$((0,p.L)())});M.meta={name:"createThunk",key:"createThunksearchOnlyMyChannelsChanged",description:"Message/file search: only my channels checkbox changed"};const O=(0,t.Ay)("Channel search: hide member channels flag changed",($,ee,de)=>{let{value:ie,refetch:ue=!0}=de;$((0,h.kZ)({value:ie})),ie&&$((0,h.le)({value:!1})),ue&&y($,ee,"search-hide-member-channels-changed"),$((0,p.L)())});O.meta={name:"createThunk",key:"createThunkchannelSearchHideMemberChannelsChanged",description:"Channel search: hide member channels flag changed"};const I=(0,t.Ay)("Mixed results search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&($((0,_.Yj)({sortValue:i.Ok[ie],entity:i.c5.MESSAGES})),$((0,_.Yj)({sortValue:i.mg[ie],entity:i.c5.FILES}))),$((0,m.g)({sort:i.Ok[ie]})),$((0,l.f)({sort:i.mg[ie]})),$((0,h.aG)({sort:ie})),y($,ee,"mixed-results-sort-changed",!1),ue&&$((0,p.L)())});I.meta={name:"createThunk",key:"createThunkmixedResultsSearchSortChanged",description:"Mixed results search: sort changed"};const D=(0,t.Ay)("Message search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"messages"})),$((0,m.g)({sort:ie})),$((0,n.u3)({module:"messages",reason:"search-messages-sort-changed",context:A.Oj.MessagesTab})),ue&&$((0,p.L)())});D.meta={name:"createThunk",key:"createThunkmessageSearchSortChanged",description:"Message search: sort changed"};const P=(0,t.Ay)("File search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"files"})),$((0,l.f)({sort:ie})),$((0,n.u3)({module:"files",reason:"search-files-sort-changed",context:A.Oj.FilesTab})),ue&&$((0,p.L)())});P.meta={name:"createThunk",key:"createThunkfileSearchSortChanged",description:"File search: sort changed"};const L=(0,t.Ay)("Canvas search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"files"})),$((0,l.f)({sort:ie})),$((0,n.u3)({module:"canvases",reason:"search-canvases-sort-changed",context:A.Oj.CanvasesTab})),ue&&$((0,p.L)())});L.meta={name:"createThunk",key:"createThunkcanvasSearchSortChanged",description:"Canvas search: sort changed"};const k=(0,t.Ay)("Lists search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"lists"})),$((0,l.f)({sort:ie})),$((0,n.u3)({module:"lists",reason:"search-lists-sort-changed",context:A.Oj.ListsTab})),ue&&$((0,p.L)())});k.meta={name:"createThunk",key:"createThunklistsSearchSortChanged",description:"Lists search: sort changed"};const G=(0,t.Ay)("List records search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"listRecords"})),$((0,l.f)({sort:ie})),$((0,n.u3)({module:"listRecords",reason:"search-list-records-sort-changed",context:A.Oj.ListsTab})),ue&&$((0,p.L)())});G.meta={name:"createThunk",key:"createThunklistRecordsSearchSortChanged",description:"List records search: sort changed"};const b=(0,t.Ay)("Channel search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"channels"})),$((0,h.Ak)({sort:ie})),$((0,n.u3)({module:"channels",reason:"search-channels-sort-changed",context:A.Oj.ChannelsTab})),ue&&$((0,p.L)())});b.meta={name:"createThunk",key:"createThunkchannelSearchSortChanged",description:"Channel search: sort changed"};const W=(0,t.Ay)("People search: sort changed",($,ee,de)=>{let{sort:ie,shouldUpdateUrl:ue=!0,shouldClogSearchSort:fe=!0}=de;fe&&$((0,_.Yj)({sortValue:ie,entity:"people"})),$((0,h.Yn)({sort:ie})),$((0,n.u3)({module:"people",reason:"search-people-sort-changed",context:A.Oj.PeopleTab})),ue&&$((0,p.L)())});W.meta={name:"createThunk",key:"createThunkpeopleSearchSortChanged",description:"People search: sort changed"};const B=(0,t.Ay)("result count toggle changed",($,ee,de)=>{let{count:ie}=de;$((0,h.BS)({count:ie})),y($,ee,"result-count-toggle-changed",!1),$((0,u.Cr)({windowId:E.I})),$((0,u.Di)({windowId:E.I})),$((0,p.L)())});B.meta={name:"createThunk",key:"createThunkresultCountToggleChanged",description:"result count toggle changed"};const R=(0,t.Ay)("Channel search: filter type changed",($,ee,de)=>{let{type:ie}=de;$((0,u.Ev)({type:ie})),y($,ee,"search-channels-filter-type-changed"),$((0,p.L)())});R.meta={name:"createThunk",key:"createThunkchannelSearchFilterTypeChanged",description:"Channel search: filter type changed"};const j=(0,t.Ay)("Channel search: filter type changed",($,ee,de)=>{let{type:ie}=de;$((0,u.HR)({type:ie})),y($,ee,"search-channels-filter-record-type-changed"),$((0,p.L)())});j.meta={name:"createThunk",key:"createThunkchannelSearchFilterRecordTypeChanged",description:"Channel search: filter type changed"};const w=(0,t.Ay)("Channel search: filter type changed",($,ee,de)=>{let{onlyRecordChannels:ie}=de;$((0,u.z8)({onlyRecordChannels:ie})),y($,ee,"search-channels-filter-by-record-channel-changed"),$((0,p.L)())});w.meta={name:"createThunk",key:"createThunkchannelSearchFilterOnlyRecordChannelsChanged",description:"Channel search: filter type changed"};const N=(0,t.Ay)("Salesforce record search: filter Salesforce org id changed",($,ee,de)=>{let{salesforceOrgId:ie,refetch:ue=!0}=de;(0,v.he)(ee())!==ie&&($((0,s.T)({salesforceOrgId:ie})),$((0,u.lu)({salesforceOrgId:ie})),$((0,a.K8)([])),$((0,u.xJ)({salesforceRecordType:""})),ue&&(y($,ee,"search-salesforce-org-id-changed"),$((0,p.L)())))});N.meta={name:"createThunk",key:"createThunksalesforceSearchFilterOrgIdChanged",description:"Salesforce record search: filter Salesforce org id changed"};const K=(0,t.Ay)("Salesforce record search: filter record type changed",($,ee,de)=>{let{salesforceRecordType:ie,refetch:ue=!0}=de;(0,v.T4)(ee())!==ie&&($((0,u.xJ)({salesforceRecordType:ie})),ue&&(y($,ee,"search-salesforce-record-type-changed"),$((0,p.L)())))});K.meta={name:"createThunk",key:"createThunksalesforceSearchFilterRecordTypeChanged",description:"Salesforce record search: filter record type changed"};const J=(0,t.Ay)("Salesforce record search: filter created by me changed",($,ee,de)=>{let{salesforceCreatedByMe:ie,refetch:ue=!0}=de;$((0,u.jf)({salesforceCreatedByMe:ie})),ue&&(y($,ee,"search-salesforce-created-by-me-changed"),$((0,p.L)()))});J.meta={name:"createThunk",key:"createThunksalesforceSearchFilterCreatedByMeChanged",description:"Salesforce record search: filter created by me changed"};const Y=(0,t.Ay)("All of search: search by selected enterprise team id",($,ee,de)=>{let{value:ie,refetch:ue=!0}=de;$((0,u.y0)({selectedEnterpriseTeamId:ie})),ue&&y($,ee,"search-only-by-enterprise-team-id"),$((0,p.L)())});Y.meta={name:"createThunk",key:"createThunksearchOnlyByEnterpriseTeamId",description:"All of search: search by selected enterprise team id"};const q=(0,t.Ay)("Channel search: bulk update an external org filter",($,ee,de)=>{let{teamIds:ie}=de;const ue=ee(),fe=(0,v.tL)(ue);$((0,u.RR)({teamIds:Array.from(new Set([...fe,...ie]))})),$((0,u.H)({orgFilters:ie})),y($,ee,"search-channels-org-filter-bulk-changed"),$((0,p.L)())});q.meta={name:"createThunk",key:"createThunksetChannelSearchOrgFilter",description:"Channel search: bulk update an external org filter"};const H=(0,t.Ay)("Channel search: update an external org filter",($,ee,de)=>{let{teamId:ie,value:ue}=de;const fe=ee();let re=[...(0,v.lB)(fe)];const _e=(0,v.tL)(fe);ue?re.push(ie):re=re.filter(Ue=>Ue!==ie),$((0,u.RR)({teamIds:Array.from(new Set([..._e,ie]))})),$((0,u.H)({orgFilters:re})),y($,ee,"search-channels-org-filter-changed"),$((0,p.L)())});H.meta={name:"createThunk",key:"createThunktoggleChannelSearchOrgFilter",description:"Channel search: update an external org filter"};const ne=(0,t.Ay)("People search: bulk update an external org filter",($,ee,de)=>{let{teamIds:ie}=de;const ue=ee(),fe=(0,v.tw)(ue);$((0,u.PZ)({teamIds:Array.from(new Set([...fe,...ie]))})),$((0,u.XT)({orgFilters:ie})),y($,ee,"search-people-org-filter-changed"),$((0,p.L)())});ne.meta={name:"createThunk",key:"createThunksetPeopleSearchOrgFilter",description:"People search: bulk update an external org filter"};const te=(0,t.Ay)("People search: update an external org filter",($,ee,de)=>{let{teamId:ie,value:ue}=de;const fe=ee();let re=[...(0,v.fL)(fe)];const _e=(0,v.tw)(fe);ue?re.push(ie):re=re.filter(Ue=>Ue!==ie),$((0,u.PZ)({teamIds:Array.from(new Set([..._e,ie]))})),$((0,u.XT)({orgFilters:re})),y($,ee,"search-people-org-filter-changed"),$((0,p.L)())});te.meta={name:"createThunk",key:"createThunktogglePeopleSearchOrgFilter",description:"People search: update an external org filter"};const le=(0,t.Ay)("People search: bulk update location filter",($,ee,de)=>{let{values:ie}=de;$((0,u.Ic)({locations:ie})),y($,ee,"search-people-location-filter-changed"),$((0,p.L)())});le.meta={name:"createThunk",key:"createThunksetPeopleSearchLocationFilter",description:"People search: bulk update location filter"};const he=(0,t.Ay)("People search: update location filter",($,ee,de)=>{let{location:ie,value:ue}=de;const fe=ee();let re=[...(0,v.aJ)(fe)];ue?re.push(ie):re=re.filter(_e=>_e!==ie),$((0,u.Ic)({locations:re})),y($,ee,"search-people-location-filter-changed"),$((0,p.L)())});he.meta={name:"createThunk",key:"createThunktogglePeopleSearchLocationFilter",description:"People search: update location filter"};const Ie=(0,t.Ay)("People search: bulk update title filter",($,ee,de)=>{let{values:ie}=de;$((0,u.t_)({titles:ie})),y($,ee,"search-people-title-filter-changed"),$((0,p.L)())});Ie.meta={name:"createThunk",key:"createThunksetPeopleSearchTitleFilter",description:"People search: bulk update title filter"};const Ee=(0,t.Ay)("People search: update title filter",($,ee,de)=>{let{title:ie,value:ue}=de;const fe=ee();let re=[...(0,v.LX)(fe)];ue?re.push(ie):re=re.filter(_e=>_e!==ie),$((0,u.t_)({titles:re})),y($,ee,"search-people-title-filter-changed"),$((0,p.L)())});Ee.meta={name:"createThunk",key:"createThunktogglePeopleSearchTitleFilter",description:"People search: update title filter"};const me=(0,t.Ay)("People search: bulk update division filter",($,ee,de)=>{let{values:ie}=de;$((0,u.qV)({divisions:ie})),y($,ee,"search-people-division-filter-changed"),$((0,p.L)())});me.meta={name:"createThunk",key:"createThunksetPeopleSearchDivisionFilter",description:"People search: bulk update division filter"};const ce=(0,t.Ay)("People search: update division filter",($,ee,de)=>{let{division:ie,value:ue}=de;const fe=ee();let re=[...(0,v.YM)(fe)];ue?re.push(ie):re=re.filter(_e=>_e!==ie),$((0,u.qV)({divisions:re})),y($,ee,"search-people-division-filter-changed"),$((0,p.L)())});ce.meta={name:"createThunk",key:"createThunktogglePeopleSearchDivisionFilter",description:"People search: update division filter"};const X=(0,t.Ay)("People search: bulk update department filter",($,ee,de)=>{let{values:ie}=de;$((0,u.Vm)({departments:ie})),y($,ee,"search-people-department-filter-changed"),$((0,p.L)())});X.meta={name:"createThunk",key:"createThunksetPeopleSearchDepartmentFilter",description:"People search: bulk update department filter"};const V=(0,t.Ay)("People search: update department filter",($,ee,de)=>{let{department:ie,value:ue}=de;const fe=ee();let re=[...(0,v.DL)(fe)];ue?re.push(ie):re=re.filter(_e=>_e!==ie),$((0,u.Vm)({departments:re})),y($,ee,"search-people-department-filter-changed"),$((0,p.L)())});V.meta={name:"createThunk",key:"createThunktogglePeopleSearchDepartmentFilter",description:"People search: update department filter"};const x=(0,t.Ay)("People search: bulk update celebration filter",($,ee,de)=>{let{values:ie}=de;$((0,u.H4)({celebrations:ie})),y($,ee,"search-people-celebration-filter-changed"),$((0,p.L)())});x.meta={name:"createThunk",key:"createThunksetPeopleSearchCelebrationFilter",description:"People search: bulk update celebration filter"};const S=(0,t.Ay)("People search: update celebration filter",($,ee,de)=>{let{celebration:ie,value:ue}=de;const fe=ee();let re=[...(0,v.Lq)(fe)];ue?re.push(ie):re=re.filter(_e=>_e!==ie),$((0,u.H4)({celebrations:re})),y($,ee,"search-people-celebration-filter-changed"),$((0,p.L)())});S.meta={name:"createThunk",key:"createThunktogglePeopleSearchCelebrationFilter",description:"People search: update celebration filter"};const U=(0,t.Ay)("People search: filter type changed",($,ee,de)=>{let{type:ie,refetch:ue=!0}=de;const fe=ee(),re=(0,f.s_)(fe),_e=(0,v.Xh)(fe);$((0,u.kC)({type:ie})),ie===i.Dx.guests&&re?$((0,u.y0)({selectedEnterpriseTeamId:re})):ie===g.Qg.ORG_OWNERS||ie===g.Qg.ORG_ADMINS?$((0,u.y0)({selectedEnterpriseTeamId:""})):(ie===g.Qg.WORKSPACE_OWNERS||ie===g.Qg.WORKSPACE_ADMINS)&&!_e&&re&&$((0,u.y0)({selectedEnterpriseTeamId:re})),ue&&y($,ee,"search-people-filter-type-changed"),$((0,p.L)())});U.meta={name:"createThunk",key:"createThunkpeopleSearchFilterTypeChanged",description:"People search: filter type changed"};const F=(0,t.Ay)("People search: custom filter changed",($,ee,de)=>{let{id:ie,value:ue,checked:fe}=de;$((0,u.FI)({id:ie,value:ue,checked:fe})),y($,ee,"search-people-custom-filter-changed")});F.meta={name:"createThunk",key:"createThunkpeopleSearchCustomFilterChanged",description:"People search: custom filter changed"};const Z=(0,t.Ay)("People search: hide deactivated users pref changed",($,ee,de)=>{let{value:ie,refetch:ue=!0}=de;$((0,h.sA)({value:ie})),ue&&y($,ee,"search-people-hide-deactivated-users-changed"),$((0,p.L)())});Z.meta={name:"createThunk",key:"createThunkpeopleSearchHideDeactivatedUsersChanged",description:"People search: hide deactivated users pref changed"};const z=(0,t.Ay)("People search: timezone filter changed",($,ee,de)=>{let{label:ie,value:ue,checked:fe}=de;$((0,u.pU)({label:ie,value:ue,checked:fe})),y($,ee,"search-people-timezone-filter-changed")});z.meta={name:"createThunk",key:"createThunkpeopleSearchTimezoneFilterChanged",description:"People search: timezone filter changed"}},2708016366:(Q,C,e)=>{"use strict";e.d(C,{Ak:()=>o,BS:()=>i,V1:()=>l,Yn:()=>a,aG:()=>d,kZ:()=>r,le:()=>_,sA:()=>m});var t=e(1031947056),n=e(387484329),s=e(832411022);const r=(0,t.Ay)("Channel search: set hide my channels",(v,u,h)=>{let{value:f}=h;v((0,n.AZ)({pref:s.gT,value:f}))});r.meta={name:"createThunk",key:"createThunksetChannelSearchHideMemberChannels",description:"Channel search: set hide my channels"};const d=(0,t.Ay)("Mixed Results Search: set sort method",(v,u,h)=>{let{sort:f}=h;v((0,n.AZ)({pref:s.x3,value:f}))});d.meta={name:"createThunk",key:"createThunksetMixedResultsSearchSort",description:"Mixed Results Search: set sort method"};const o=(0,t.Ay)("Channel Search: set sort method",(v,u,h)=>{let{sort:f}=h;v((0,n.AZ)({pref:s.UB,value:f}))});o.meta={name:"createThunk",key:"createThunksetChannelSearchSort",description:"Channel Search: set sort method"};const a=(0,t.Ay)("People Search: set sort method",(v,u,h)=>{let{sort:f}=h;v((0,n.AZ)({pref:s.gZ,value:f}))});a.meta={name:"createThunk",key:"createThunksetPeopleSearchSort",description:"People Search: set sort method"};const i=(0,t.Ay)("Setting result Count Toggle",(v,u,h)=>{let{count:f}=h;v((0,n.AZ)({pref:"result_count_toggle",value:f}))});i.meta={name:"createThunk",key:"createThunksetResultCountToggle",description:"Setting result Count Toggle"};const m=(0,t.Ay)("People search: set hiding deactivated users",(v,u,h)=>{let{value:f}=h;v((0,n.AZ)({pref:s.Sj,value:f}))});m.meta={name:"createThunk",key:"createThunksetPeopleSearchHideDeactivatedUsers",description:"People search: set hiding deactivated users"};const l=(0,t.Ay)("Message/File search: set exclude bots",(v,u,h)=>{let{value:f}=h;v((0,n.AZ)({pref:s.jv,value:f}))});l.meta={name:"createThunk",key:"createThunksetMessageAndFileSearchExcludeBots",description:"Message/File search: set exclude bots"};const _=(0,t.Ay)("Message/File search: search only my channels",(v,u,h)=>{let{value:f}=h;v((0,n.AZ)({pref:s.wA,value:f}))});_.meta={name:"createThunk",key:"createThunksetSearchOnlyMyChannelsChanged",description:"Message/File search: search only my channels"}},296612764:(Q,C,e)=>{"use strict";e.d(C,{g:()=>o});var t=e(1031947056),n=e(387484329),s=e(796111729),r=e(832411022);const d="IMPROVED_SEARCH",o=(0,t.Ay)("Message Search: set sort method",(a,i,m)=>{let{sort:l}=m;(0,s.Ay)({getState:i}).info(d,`Set message sort method. messageSort: ${l}`),a((0,n.AZ)({pref:r.Mn,value:l}))});o.meta={name:"createThunk",key:"createThunksetMessageSort",description:"Message Search: set sort method"}},7549504934:(Q,C,e)=>{"use strict";e.d(C,{N:()=>t.N});var t=e(9391594207)},2371143272:(Q,C,e)=>{"use strict";e.d(C,{b:()=>d,i:()=>r});var t=e(3398586081),n=e(6917917245),s=e(1658558415);const r="sentry_fe_perf",d=(0,t.A)(()=>(0,s.A)()?!1:(0,n.fW)(r))},7206394193:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(8571983633),n=e(9686962598),s=e(6926388022),r=e(1527536225),d=e(5219503691);const o=(0,r.Ay)("Logs helpful messages to the console if you do something incorrect",(i,m,l)=>{if((0,t.A)(l)||(0,n.A)(l))return d.Qs&&(0,s.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(l.isThunkCreator||l.isActionCreator){if(d.Qs){const _=l.isThunkCreator?"thunk":"action",v=l.meta?l.meta.name:`${_}Creator`;(0,s.z3)(`
	It looks like you dispatched a ${_} creator instead of the ${_} itself!
	This is a common mistake, and the solution is to call dispatch(${v}(payload)) instead of just dispatch(${v}), note the extra parens at the end.
				`)}return null}return(0,d.ZR)(l),m(l)});o.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const a=o},773865333:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(862210999),n=e(796111729),s=e(4724591729),r=e(1527536225),d=e(4423055085);let o=[];const a=(0,n.Wo)(),i=(0,r.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(v,u,h)=>{const f=[],p=v.getState();o.forEach(A=>{f.push(A(p,h))});const E=u(h),g=v.getState();return o.forEach((A,y)=>{const T=A(g,h);if(f[y]!==T){const M=["Redux Watcher:",`Value has changed! 
Action: `,h,`
Before: `,f[y],`
After:  `,T];if(f[y]!==void 0&&T!==void 0){const O=f[y]===void 0?{}:f[y],I=T===void 0?{}:T;M.push(`
Diff: `,Object.keys({...O,...I}).filter(D=>O[D]!==I[D]).map(D=>({key:D,before:O[D],after:I[D]})))}if(a.warn(...M),(0,s.Cu)()||(0,s.b3)())debugger}}),E});i.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const m=i;function l(v){if(!(0,t.A)(v)){a.error("watcherFn passed in to addWatcher must be a function");return}o.push(v)}c(l,"addWatcher");function _(){o=[]}c(_,"clearAllWatchers"),(0,d.ul)("reduxWatcher",{addWatcher:l,clearAllWatchers:_})},7156104699:(Q,C,e)=>{"use strict";e.d(C,{N:()=>v,A:()=>_});var t=e(1527536225),n=e(6152845331),s=e(8161242485);const r=(0,s.Ay)(u=>{var h;return u==null||(h=u.sideEffects)===null||h===void 0?void 0:h.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:u=>{var h;return u==null||(h=u.sideEffects)===null||h===void 0?void 0:h.sideEffectsMap}};const d=(0,s.Ay)(u=>{var h;return u==null||(h=u.clientSideEffects)===null||h===void 0?void 0:h.clientSideEffectsMap});d.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:u=>{var h;return u==null||(h=u.clientSideEffects)===null||h===void 0?void 0:h.clientSideEffectsMap}};var o=e(796111729),a=e(6422693406);function i(){return(0,t.Ay)("Handle client side effects",(u,h,f)=>{var p;if(!((p=f.__test)===null||p===void 0)&&p.disableSideEffects)return h(f);const E=u.getState(),g=d(E);return l({store:u,action:f,sideEffectsMap:g}),h(f)})}c(i,"createClientSideEffectsMiddleware");function m(){return(0,t.Ay)("Handle side effects",(u,h,f)=>{var p;if(!((p=f.__test)===null||p===void 0)&&p.disableSideEffects)return h(f);const E=u.getState(),g=r(E);return l({store:u,action:f,sideEffectsMap:g}),h(f)})}c(m,"createSideEffectsMiddleware");function l(u){let{store:h,action:f,sideEffectsMap:p}=u;const E=p&&p[f.type],g=c(A=>((0,n.S$)(f,A),h.dispatch(A)),"wrappedDispatch");E!=null&&E.length&&a.S.resolve().then(()=>{E.forEach(A=>{if(!A)return;const{thunk:y}=A;try{g(y(f))}catch(T){(0,o.Ay)({getState:h.getState}).error("SIDE-EFFECTS",`Error in side effect for '${f.type}'`,T,{subtype:"side_effect_error"})}})})}c(l,"runSideEffects");const _=m(),v=i()},8333842125:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1416482128),n=e(4724591729),s=e(3202757386),r=e(4157777698);const d=c(l=>{switch(l.type){case r.f0.getType():return{...l,payload:"Channel bulk add payload is too big to output to redux devtools"};default:return l}},"actionSanitizer"),o=(0,s.A)()?void 0:()=>({apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"}),i={autoPause:!0,actionSanitizer:d,stateSanitizer:o,maxAge:1e3,features:{pause:!0}};function m(l){let{teamOrEnterpriseId:_,appName:v="",customEnhancers:u,middlewares:h,disableDevTools:f}=l;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!f&&((0,n.Cu)()||(0,n.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({...i,name:["Slack",_,v].filter(g=>g&&g.length>0).join("-")}):t.Zz)((0,t.Tw)(...h??[]),...u??[])}c(m,"configureEnhancers")},582577127:(Q,C,e)=>{"use strict";e.d(C,{g:()=>n});var t=e(3371371503);function n(s){const o={sideEffectsMap:{},clientSideEffectsMap:{}};return!s||!s.length?o:s.reduce((a,i)=>{const{actions:m,scope:l}=i;let _;switch(l){case t.RE.client:_=a.clientSideEffectsMap;break;default:case t.RE.workspace:_=a.sideEffectsMap;break}return m.forEach(v=>{var u;const h=v==null||(u=v.getType)===null||u===void 0?void 0:u.call(v);h&&(_[h]=_[h]||[],_[h].push(i))}),a},o)}c(n,"generateSideEffectsMaps")},2732935554:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9139930183),n=e(1004520977);const s={hasKeyboardFocus:!1},d=(0,t.Ay)({},s,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(n.w,function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.hasKeyboardFocus===a?o:{...o,hasKeyboardFocus:a}})},5105455463:(Q,C,e)=>{"use strict";e.d(C,{As:()=>d,N9:()=>n,V_:()=>s,WB:()=>l,X8:()=>r,bb:()=>i,c7:()=>_,dH:()=>a,lf:()=>m,og:()=>t,rf:()=>o});const t="(prefers-contrast: more)",n="useAriaApplicationForListViews",s="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",d="messageSpacing",o="messageTextWordSpacing",a="conversationIncomingMessageSound",i="conversationSentMessageSound",m="conversationIncomingMessageAnnouncement",l="peeksEnabledOnMouseEnter",_=!0},3034787354:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3245843483),n=e(8646192222),s=e(9139930183),r=e(25586007),d=e(5105455463),o=e(8439865561),a=e(9733150292);let i=!1;(0,n.Nu)()?i=window.matchMedia(d.og).matches:(0,n.hk)()&&(i=(0,t.oQe)("settings","shouldUseHighContrastColors"));let m=!1;try{m=!!(0,a.W6)(d.N9)}catch{}let l;try{l=(0,a.W6)(d.V_)}catch{}let _;try{_=(0,a.W6)(d.X8)||1}catch{}let v;try{v=(0,a.W6)(d.As)||1}catch{}let u;try{u=(0,a.W6)(d.rf)||"0"}catch{}let h;try{var f;h=(f=(0,a.W6)(d.dH))!==null&&f!==void 0?f:""}catch{h=""}let p;try{var E;p=(E=(0,a.W6)(d.bb))!==null&&E!==void 0?E:""}catch{p=""}let g;try{g=(0,a.W6)(d.lf)}catch{g=void 0}let A;try{var y;A=(y=(0,a.W6)(d.WB))!==null&&y!==void 0?y:d.c7}catch{A=d.c7}const T={screenReaderEnabled:!1,shouldUseHighContrastColors:i,useARIAApplicationForListViews:m,composerUpArrowShortcutBehavior:l,messageTextLineSpacing:_,messageSpacing:v,messageTextWordSpacing:u,conversationIncomingMessageSound:h,conversationSentMessageSound:p,conversationIncomingMessageAnnouncement:g,peeksEnabledOnMouseEnter:A},O=(0,s.Ay)({},T,{storeKey:"accessibility",persistenceEnabled:!1}).on(o.rl,(I,D)=>D!=null&&D.message?{...I,announcerAPIAnnouncement:D}:I).on(o.Jq,(I,D)=>typeof D!="boolean"||D===I.screenReaderEnabled?I:{...I,screenReaderEnabled:D}).on(o.N,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof D!="boolean"||D===I.shouldUseHighContrastColors?I:{...I,shouldUseHighContrastColors:D}}).on(o.KQ,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...I,useARIAApplicationForListViews:D}}).on(o.Tv,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.v.LIST;return{...I,composerUpArrowShortcutBehavior:D}}).on(o.C_,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...I,messageTextLineSpacing:D}}).on(o.XE,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...I,messageSpacing:D}}).on(o.Mq,function(I){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...I,messageTextWordSpacing:D}}).on(o.Sr,(I,D)=>({...I,conversationIncomingMessageSound:D})).on(o.mw,(I,D)=>({...I,conversationSentMessageSound:D})).on(o.Ap,(I,D)=>({...I,conversationIncomingMessageAnnouncement:D})).on(o.V_,(I,D)=>({...I,peeksEnabledOnMouseEnter:D}))},8365110903:(Q,C,e)=>{"use strict";e.d(C,{T:()=>o});var t=e(1031947056),n=e(4134037340),s=e(5105455463),r=e(8439865561),d=e(9733150292);const o=(0,t.Ay)("Set the behavior of the up arrow shortcut when focus is in the MessageInput",(a,i,m)=>{if((0,n.A)(i()))try{(0,d.q9)(s.V_,m)}catch{}a((0,r.Tv)(m))});o.meta={name:"createThunk",key:"createThunksetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"}},2633701976:(Q,C,e)=>{"use strict";e.d(C,{p:()=>o});var t=e(1031947056),n=e(4134037340),s=e(5105455463),r=e(8439865561),d=e(9733150292);const o=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,i,m)=>{if((0,n.A)(i()))try{(0,d.q9)(s.lf,m)}catch{}a((0,r.Ap)(m))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},2517531287:(Q,C,e)=>{"use strict";e.d(C,{R:()=>o,r:()=>a});var t=e(1031947056),n=e(4134037340),s=e(5105455463),r=e(8439865561),d=e(9733150292);const o=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(i,m,l)=>{if((0,n.A)(m()))try{(0,d.q9)(s.dH,l)}catch{}i((0,r.Sr)(l))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const a=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(i,m,l)=>{if((0,n.A)(m()))try{(0,d.q9)(s.bb,l)}catch{}i((0,r.mw)(l))});a.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},25586007:(Q,C,e)=>{"use strict";e.d(C,{v:()=>t});var t;(function(n){n[n.LIST=1]="LIST",n[n.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",n[n.EDIT=3]="EDIT"})(t||(t={}))},3087402890:(Q,C,e)=>{"use strict";e.d(C,{FX:()=>o,X5:()=>d,ZY:()=>u,cD:()=>m,cQ:()=>l,cw:()=>i,dj:()=>_,fe:()=>r,lB:()=>v,qK:()=>n,r8:()=>a,s2:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Set the thread root keys");n.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const s=(0,t.Ay)("Append more thread root keys");s.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const r=(0,t.Ay)("Insert a thread at the beginning");r.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const d=(0,t.Ay)("Increments totalUnreadReplies");d.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const o=(0,t.Ay)("Sets totalNewThreads to 0");o.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const a=(0,t.Ay)("Increments allThreadsRefreshCounter");a.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const i=(0,t.Ay)("Set the thread key that should be focused");i.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const m=(0,t.Ay)("Set the thread timestamp that should be focused");m.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const l=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");l.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const _=(0,t.Ay)("set object of threads that have been manually marked as unread");_.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const v=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");v.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const u=(0,t.Ay)("Sets manuallyMarkedUnread to empty");u.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"}},6082887833:(Q,C,e)=>{"use strict";e.d(C,{S:()=>n});var t=e(8161242485);const n=(0,t.Ay)((s,r)=>s.ambientMessages[r]);n.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(s,r)=>s.ambientMessages[r]}},8778137680:(Q,C,e)=>{"use strict";e.d(C,{DQ:()=>d,Lm:()=>a,RZ:()=>m,S:()=>u,X$:()=>r,_y:()=>l,c6:()=>_,fv:()=>o,rk:()=>s,yT:()=>v,z7:()=>i,zZ:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set Awareness State for another user");n.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const s=(0,t.Ay)("Set Awareness State for me");s.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=(0,t.Ay)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const d=(0,t.Ay)("Clear the full awareness state for a user");d.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const o=(0,t.Ay)("Set my screenshare view");o.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const a=(0,t.Ay)("Remove my screenshare view");a.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const i=(0,t.Ay)("Set my sticky reaction");i.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const m=(0,t.Ay)("Remove my sticky reaction");m.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const l=(0,t.Ay)("Clear any stale awareness entries");l.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const _=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");_.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const v=(0,t.Ay)("Set my active song");v.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const u=(0,t.Ay)("Remove my active song");u.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},7592559649:(Q,C,e)=>{"use strict";e.d(C,{$G:()=>A,Ae:()=>T,Fb:()=>g,M3:()=>p,fL:()=>E,gV:()=>y,sW:()=>f,xP:()=>h});var t=e(8161242485),n=e(3385422400),s=e(6418055367),r=e(166097325),d=e(9113979368),o=e(2689960678),a=e(1345902898),i=e(6324645806);const m=(0,n.Ad)(s.UI,r.A),l=c(O=>{var I;return(O==null||(I=O.awareness)===null||I===void 0?void 0:I.awarenessEntries)||o.Ml},"selectAwarenessEntries"),_=(0,n.Mz)([l,(O,I)=>I,(O,I,D)=>D,(O,I,D,P)=>P],(O,I,D,P)=>{if(I===void 0)return o.t0;const L=O.filter(G=>{const b=G.channel===I,W=G.fieldName===D,B=P?G.uniqueId===P:!0,R=!(0,i.h)(G);return b&&W&&B&&R}).map(G=>[G.user,G.fieldValue]),k=Object.fromEntries(L);return(0,d.A)(k)?o.t0:k}),v=(0,n.Mz)([l,(O,I)=>I,(O,I,D)=>D],(O,I,D)=>{if(I===void 0)return o.t0;const P=O.filter(k=>{const G=k.channel===I,b=k.fieldName===D,W=!(0,i.h)(k);return G&&b&&W}).map(k=>[k.uniqueId,[k.user,k.fieldValue]]),L=Object.fromEntries(P);return(0,d.A)(L)?o.t0:L}),u=(0,n.Mz)([l,(O,I)=>I,(O,I,D)=>D],(O,I,D)=>{if(I===void 0)return o.t0;var P,L;const k=O.filter(b=>{const W=b.channel===I,B=b.fieldName===D,R=!(0,i.h)(b);return W&&B&&R}).sort((b,W)=>((P=b.fieldTimestampMs)!==null&&P!==void 0?P:Number.MAX_SAFE_INTEGER)-((L=W.fieldTimestampMs)!==null&&L!==void 0?L:Number.MAX_SAFE_INTEGER)).map(b=>[b.user,b.fieldValue]);return Object.fromEntries(k)}),h=(0,t.Ay)((O,I)=>{const D=u(O,I,a.p4.STICKYEMOJI);return(0,d.A)(D)?o.t0:D});h.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(O,I)=>{const D=u(O,I,a.p4.STICKYEMOJI);return(0,d.A)(D)?o.t0:D}};const f=(0,t.Ay)((O,I)=>_(O,I,a.p4.CONTENTVIEW));f.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(O,I)=>_(O,I,a.p4.CONTENTVIEW)};const p=(0,t.Ay)((O,I)=>v(O,I,a.p4.CONTENTVIEW));p.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(O,I)=>v(O,I,a.p4.CONTENTVIEW)};const E=(0,t.Ay)((O,I,D,P)=>{var L;return(O==null||(L=O.awareness)===null||L===void 0?void 0:L.awarenessEntries).filter(b=>{const W=b.channel===I,B=b.user===D,R=!P||(0,i.I)(b.fieldName)?!0:b.uniqueId===P,j=!(0,i.h)(b);return W&&B&&R&&j}).map(b=>({field_name:b.fieldName,field_value:b.fieldValue,...!!b.fieldTimestampMs&&{field_timestamp_ms:b.fieldTimestampMs}}))});E.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(O,I,D,P)=>{var L;return(O==null||(L=O.awareness)===null||L===void 0?void 0:L.awarenessEntries).filter(b=>{const W=b.channel===I,B=b.user===D,R=!P||(0,i.I)(b.fieldName)?!0:b.uniqueId===P,j=!(0,i.h)(b);return W&&B&&R&&j}).map(b=>({field_name:b.fieldName,field_value:b.fieldValue,...!!b.fieldTimestampMs&&{field_timestamp_ms:b.fieldTimestampMs}}))}};const g=(0,t.Ay)((O,I,D,P)=>{const L=E(O,I,D,P);for(const k of L)if(k.field_name===a.p4.STICKYEMOJI)return k;return null});g.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(O,I,D,P)=>{const L=E(O,I,D,P);for(const k of L)if(k.field_name===a.p4.STICKYEMOJI)return k;return null}};const A=(0,t.Ay)((O,I)=>{let{callId:D,userId:P,uniqueId:L}=I;return D?_(O,D,a.p4.STICKYEMOJI,L)[P]:void 0});A.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(O,I)=>{let{callId:D,userId:P,uniqueId:L}=I;return D?_(O,D,a.p4.STICKYEMOJI,L)[P]:void 0}};const y=(0,t.Ay)((O,I)=>{let{callId:D,userId:P}=I;if(!D)return;const L=_(O,D,a.p4.HUDDLE_ACTIVE_SONG);if((0,d.A)(L))return;if(P)return L[P];const k=Object.values(L);if(k.length!==0)return k[0]});y.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(O,I)=>{let{callId:D,userId:P}=I;if(!D)return;const L=_(O,D,a.p4.HUDDLE_ACTIVE_SONG);if((0,d.A)(L))return;if(P)return L[P];const k=Object.values(L);if(k.length!==0)return k[0]}};const T=m([l,(O,I,D,P,L)=>`${I},${D},${P},${L}`],(O,I)=>{const[D,P,L,k]=I.split(","),G=O.filter(b=>{const W=b.channel===D,B=b.user!==P,R=b.fieldName===a.p4.ACTIVE_CELL&&b.fieldValue&&b.fieldValue.rowId===L&&b.fieldValue.colId===k,j=!(0,i.h)(b);return W&&B&&R&&j}).map(b=>[[`${b.fieldValue.rowId},${b.fieldValue.colId}`],b.user]);return G.length?Object.fromEntries(G):o.t0}),M=(0,n.Mz)([l,(O,I)=>I],(O,I)=>I===void 0?o.Ml:O.filter(P=>{const L=P.channel===I,k=P.fieldName===a.p4.ACTIVE_CELL;return L&&k}).map(P=>P.user))},1345902898:(Q,C,e)=>{"use strict";e.d(C,{Pz:()=>t,mO:()=>s,p4:()=>n});var t;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(t||(t={}));var n;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong"})(n||(n={}));const s=60*1e3},6324645806:(Q,C,e)=>{"use strict";e.d(C,{I:()=>s,h:()=>n});var t=e(1345902898);const n=c(r=>{const d=Date.now();var o;return d-((o=r.updatedTimestamp)!==null&&o!==void 0?o:d)>=t.mO},"isAwarenessEntryExpired"),s=c(r=>r?[t.p4.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},3749529250:(Q,C,e)=>{"use strict";e.d(C,{K:()=>s,z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Enable big button mode");n.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const s=(0,t.Ay)("Disable big button mode");s.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},4614661813:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>r});var t=e(9139930183),n=e(3749529250);const s={enabled:!1},r=(0,t.Ay)({},s,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(n.z,d=>({...d,enabled:!0})).on(n.K,d=>({...d,enabled:!1}))},8677230210:(Q,C,e)=>{"use strict";e.d(C,{pO:()=>f,AF:()=>h,E6:()=>A,vu:()=>g,wC:()=>p,Od:()=>E});var t=e(3037015781),n=e(8161242485),s=e(9464746668),r=e(4588963228),d=e(8847766420),o=e(2762206868),a=e(8276911661);const i=["B01","BSLACKBOT","B03"];var m=e(3447104916),l=e(4562579337);function _(y){return!!(y&&(0,t.uz)(y)&&!(0,l.A)(y))}c(_,"isMemberHuman");var v=e(9887599716),u=e(9354158662);const h=(0,n.Ay)(function(y,T){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const O=(0,d.ZT)(y);if(!T)return!1;const I=(0,v.o)(y,T);return!I&&(0,r.A)(T)&&M&&i.indexOf(T)<0?(0,m.Ss)().fetchObjectWithId(O,T):((0,m.ez)(O,T),I||!1)});h.meta={name:"createSelector",key:"createSelectorgetBotById",description:function(y,T){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const O=(0,d.ZT)(y);if(!T)return!1;const I=(0,v.o)(y,T);return!I&&(0,r.A)(T)&&M&&i.indexOf(T)<0?(0,m.Ss)().fetchObjectWithId(O,T):((0,m.ez)(O,T),I||!1)}};const f=(0,n.Ay)((y,T)=>{if(!T)return;const M=(0,u.iO)(y);let O;return M&&(O=Object.values(M).find(I=>I.app_id===T)),O});f.meta={name:"createSelector",key:"createSelectorgetBotByAppId",description:(y,T)=>{if(!T)return;const M=(0,u.iO)(y);let O;return M&&(O=Object.values(M).find(I=>I.app_id===T)),O}};const p=(0,n.Ay)((y,T)=>{const M=(0,a.nv)(y,T);return _(M)});p.meta={name:"createSelector",key:"createSelectorgetMemberIsHuman",description:(y,T)=>{const M=(0,a.nv)(y,T);return _(M)}};const E=(0,n.Ay)(function(y){let{userId:T,botId:M,botProfile:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I,D;T&&(I=(0,a.nv)(y,T)),M&&(D=h(y,M)||void 0);const P=I?_(I):!1;let L;!(0,t.uz)(D)&&(0,t.uz)(I)&&(L=(0,s.A)(y,I),L&&L!==M&&(D=h(y,L)||void 0));let k;if(!(0,t.uz)(D)&&O&&(k=O.id,k&&k!==L&&k!==M&&(D=h(y,k)||void 0),(0,t.uz)(D)||(D=O)),!(0,t.uz)(I)&&(0,t.uz)(D)&&D.app_id){const G=(0,o.sO)(y,D.app_id);if((0,t.uz)(G)){const b=G.app_user_id;b&&b!==T&&(I=(0,a.nv)(y,b))}}return{bot:D,member:I,memberIsHuman:P}});E.meta={name:"createSelector",key:"createSelectormaybeGetBotAndMemberByIds",description:function(y){let{userId:T,botId:M,botProfile:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I,D;T&&(I=(0,a.nv)(y,T)),M&&(D=h(y,M)||void 0);const P=I?_(I):!1;let L;!(0,t.uz)(D)&&(0,t.uz)(I)&&(L=(0,s.A)(y,I),L&&L!==M&&(D=h(y,L)||void 0));let k;if(!(0,t.uz)(D)&&O&&(k=O.id,k&&k!==L&&k!==M&&(D=h(y,k)||void 0),(0,t.uz)(D)||(D=O)),!(0,t.uz)(I)&&(0,t.uz)(D)&&D.app_id){const G=(0,o.sO)(y,D.app_id);if((0,t.uz)(G)){const b=G.app_user_id;b&&b!==T&&(I=(0,a.nv)(y,b))}}return{bot:D,member:I,memberIsHuman:P}}};const g=(0,n.Ay)((y,T)=>{const M=h(y,T);if(M&&M.name)return M.name});g.meta={name:"createSelector",key:"createSelectorgetBotNameById",description:(y,T)=>{const M=h(y,T);if(M&&M.name)return M.name}};const A=(0,n.Ay)((y,T)=>{if(!y||!T)return null;const M=(0,a.nv)(y,T.user),O=T.bot_id||(0,s.A)(y,M);if(!O)return null;if(T.bot_profile)return T.bot_profile.id!==O?{...T.bot_profile,id:O}:T.bot_profile;const I=h(y,O);return I||null});A.meta={name:"createSelector",key:"createSelectorgetBotByMsg",description:(y,T)=>{if(!y||!T)return null;const M=(0,a.nv)(y,T.user),O=T.bot_id||(0,s.A)(y,M);if(!O)return null;if(T.bot_profile)return T.bot_profile.id!==O?{...T.bot_profile,id:O}:T.bot_profile;const I=h(y,O);return I||null}}},8980478045:(Q,C,e)=>{"use strict";e.d(C,{HR:()=>r,Pf:()=>s,Vp:()=>d});var t=e(8161242485);const n=(0,t.Ay)((o,a)=>{var i;return(i=o.channelCanvas)===null||i===void 0?void 0:i.byChannelId[a]});n.meta={name:"createSelector",key:"createSelectorgetByChannelIdState",description:(o,a)=>{var i;return(i=o.channelCanvas)===null||i===void 0?void 0:i.byChannelId[a]}};const s=(0,t.Ay)((o,a)=>{var i;return(i=n(o,a))===null||i===void 0?void 0:i.tempId});s.meta={name:"createSelector",key:"createSelectorgetChannelCanvasTempId",description:(o,a)=>{var i;return(i=n(o,a))===null||i===void 0?void 0:i.tempId}};const r=(0,t.Ay)((o,a)=>{var i;return(i=o.channelCanvas)===null||i===void 0?void 0:i.byTempId[a]});r.meta={name:"createSelector",key:"createSelectorgetChannelIdForTempId",description:(o,a)=>{var i;return(i=o.channelCanvas)===null||i===void 0?void 0:i.byTempId[a]}};const d=(0,t.Ay)((o,a)=>{var i,m;return(m=(i=n(o,a))===null||i===void 0?void 0:i.waitingForLock)!==null&&m!==void 0?m:!1});d.meta={name:"createSelector",key:"createSelectorgetChannelCanvasWaitingForLock",description:(o,a)=>{var i,m;return(m=(i=n(o,a))===null||i===void 0?void 0:i.waitingForLock)!==null&&m!==void 0?m:!1}}},9536404279:(Q,C,e)=>{"use strict";e.d(C,{CD:()=>a,Jt:()=>d,Np:()=>s,VG:()=>n,bz:()=>r,fp:()=>o,hX:()=>i});var t=e(2140362605);const n=(0,t.Ay)("Add timestamps to channel history");n.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const s=(0,t.Ay)("Remove timestamps from channel history");s.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const r=(0,t.Ay)("Remove all history for a channel");r.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const d=(0,t.Ay)("Was disconnected; reset reachedEnd to false");d.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const o=(0,t.Ay)("Drop messages from before a given timestamp");o.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const a=(0,t.Ay)("Drop old messages if there are too many");a.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const i=(0,t.Ay)("Remove all history for every channel");i.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},4350638406:(Q,C,e)=>{"use strict";e.d(C,{Hw:()=>Ie,e3:()=>X,mY:()=>te,D1:()=>le,Zc:()=>ce,ez:()=>ne});var t=e(3398586081),n=e(7715417323),s=e(6533394955),r=e(8352634987);function d(V,x){return`${V}:${x}`}c(d,"serialize_serialize");function o(V){const[x,S]=V.split(":");return{channelId:x,ts:S}}c(o,"deserialize");var a=e(4423055085),i=e(2208015175),m=e(1703559452),l=e(9816084745),_=e(8289365785),v=e(8786006583),u=e(6422693406),h=e(1031947056),f=e(796111729),p=e(7334104107),E=e(6457401668),g=e(4919145213),A=e(9986847041),y=e(4365697073),T=e(3110884894),M=e(7606781622),O=e(8040098042),I=e(2155512519),D=e(12126472),P=e(1116859610);const L="HISTORY-CFM";function k(V,x){return c(function S(){let{channelId:U,oldest:F,latest:Z,cursor:z="",msgsInRange:$=[],deletedInRange:ee=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const de={channelId:U,oldest:F,latest:Z,cursor:z,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return V((0,I.Ay)(de)).then(function(){let{msgs:ie=[],deleted:ue=[],isLimited:fe,hasMore:re,responseMetadata:_e={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return $.push(...ie),ee.push(...ue),re&&!fe&&_e.next_cursor?S({channelId:U,oldest:F,latest:Z,cursor:_e.next_cursor,msgsInRange:$,deletedInRange:ee}):(V((0,P.A)({msgs:$,channelId:U,isLimited:fe,latest:Z,oldest:F,deletedInRange:ee})),u.S.resolve())})},"fetchHistoryRangeHelper")(x)}c(k,"fetchHistoryRange");function G(V,x){return c(function S(){let{channelId:U,threadTs:F,oldest:Z,latest:z,cursor:$="",msgsInRange:ee=[],deletedInRange:de=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ie={channelId:U,threadTs:F,oldest:Z,latest:z,cursor:$,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return V((0,I.$b)(ie)).then(function(){let{msgs:ue=[],deleted:fe=[],hasMore:re,responseMetadata:_e={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ee.push(...$?(0,D.A)(ue,{ts:F}):ue),de.push(...fe),re&&_e.next_cursor)return S({channelId:U,threadTs:F,oldest:Z,latest:z,cursor:_e.next_cursor,msgsInRange:ee,deletedInRange:de});const ye=Z===F||z===F?ee:(0,D.A)(ee,{ts:F});return V((0,P.A)({msgs:ye,channelId:(0,T.Iu)(U,F),latest:z,oldest:Z,deletedInRange:de})),u.S.resolve()})},"fetchRepliesRangeHelper")(x)}c(G,"fetchRepliesRange");const b=(0,h.Ay)("Fetches a range of messages",(V,x,S)=>{let{channelId:U,oldest:F,latest:Z}=S;return(0,f.Ay)({getState:x,label:L}).info(`Re-fetching ${U} ${F} - ${Z}`),(0,O.A)(U)?k(V,{channelId:U,oldest:F,latest:Z}):G(V,{...(0,T.Sb)(U),oldest:F,latest:Z})});b.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var W=e(8455301571);function B(V){const x={};return V.forEach(S=>{const{channelId:U,ts:F}=o(S);x[U]=x[U]||[],x[U].push(F)}),x}c(B,"groupTimestampsByChannel");function R(V){let x,S;return(0,i.A)(V,(U,F)=>{x===void 0&&(x=F),S===void 0&&(S=F),F<x&&(x=F),F>S&&(S=F)}),{minTs:x,maxTs:S}}c(R,"getMinAndMaxTs");function j(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,m.A)(x,(S,U)=>V[U])}c(j,"hasIntersection");function w(V,x){return(0,l.A)(x,(S,U)=>V[U])}c(w,"isSuperset");function N(V){let{ranges:x={},tsMaps:S=[]}=V;const U={...x};let F=S[0];return S.forEach(Z=>{F!==Z&&(j(F,Z)?w(F,Z)?delete U[Z.rangeId]:w(Z,F)?(delete U[F.rangeId],F=Z):(0,i.A)(Z,(z,$)=>delete F[$]):F=Z)}),Object.values(U)}c(N,"dedupe");function K(V,x){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const U=(0,f.Ay)({state:V,label:L}),F={},Z=[];return S.sort().forEach(z=>{const ee=(0,M.Ld)(V,x,z,!1);if(!ee){U.warn(`No message for ${z} in ${x}`);return}if((0,p.aw)(ee)||(0,g.A)(ee))return;const de=[];(!(0,y.n)(ee)||(0,p.jX)(ee)||(0,E.SM)(ee))&&de.push(x),((0,p.jX)(ee)||(0,y.n)(ee))&&de.push((0,T.Iu)(x,(0,A.L)(ee))),de.forEach(ie=>{if(!ie)return;const ue=(0,W.tp)(V,ie,z);if(!ue||ue===W.Vl)return;const{start:fe,end:re,timestamps:_e}=ue,Ue=`${fe}-${re}`;if(!F[Ue]){const Te={};Object.defineProperty(Te,"rangeId",{enumerable:!1,value:Ue}),F[Ue]={id:ie,firstTs:(0,_.A)(_e),lastTs:(0,v.A)(_e),start:fe,end:re,tsMap:Te},Z.push(Te)}const ye=F[Ue];ye.tsMap[z]=!0})}),{ranges:F,tsMaps:Z}}c(K,"segment");function J(V,x){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(N(K(V,x,S))||[{}]).map(F=>{let{id:Z,firstTs:z,lastTs:$,start:ee,end:de,tsMap:ie}=F;const{minTs:ue,maxTs:fe}=R(ie);return{id:Z,oldest:ue===z?ee:ue,latest:fe===$?de:fe}})}c(J,"rangify");const Y=(0,h.Ay)("Fetches chunks of channel history for the given message IDs",(V,x,S)=>{let{ids:U}=S;const F=B(U),Z={};return(0,i.A)(F,(z,$)=>{const ee=J(x(),$,z);Z[$]=u.S.map(ee,de=>{let{oldest:ie,latest:ue,id:fe}=de;return V(b({channelId:fe,oldest:ie,latest:ue}))})}),u.S.all(Object.values(Z))});Y.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const q=Y,H=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:(V,x)=>(0,s.dispatchForTeamId)(V,q({ids:x})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),ne=c((V,x,S)=>H().maybeRefetch(V,d(x,S)),"maybeRefetch"),te=c((V,x,S)=>H().markObjectsAsFresh(V,S.map(U=>d(x,U))),"markObjectsAsFresh"),le=c((V,x,S)=>H().markObjectsAsStale(V,S.map(U=>d(x,U))),"markObjectsAsStale"),he=c((V,x,S)=>H().isObjectFresh(V,serialize(x,S)),"isObjectFresh"),Ie=c(V=>H().getFreshObjects(V).map(o),"getFreshObjects");(0,a.zv)("conditionalFetchManagerChannelHistory",H);const Ee="reachedEnd",me=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:n.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),ce=c(V=>me().markObjectsAsFresh(V,[Ee]),"markReachedEndAsFresh"),X=c(V=>me().isObjectFresh(V,[Ee]),"isReachedEndFresh")},7097022175:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>s,r:()=>n});var t=e(7933637612);const{addObjects:n,removeObjects:s}=t.o1},7933637612:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>o,Tp:()=>d,o1:()=>r});var t=e(7538465478);const n={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:s,actions:r,selectors:d}=(0,t.A)(n,{idKey:"channelId",transform:a=>{const{channelId:i,...m}=a;return{id:i,object:m}}}),o=s},8298125694:(Q,C,e)=>{"use strict";e.d(C,{Ah:()=>r,Qr:()=>d,c:()=>o});var t=e(8161242485),n=e(7933637612);const{getObjectById:s}=n.Tp,r=c((i,m)=>s(i,m),"innerGetChannelLoadingDataById"),d=(0,t.Ay)((i,m)=>{var l;return!!(!((l=r(i,m))===null||l===void 0)&&l.loading)});d.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(i,m)=>{var l;return!!(!((l=r(i,m))===null||l===void 0)&&l.loading)}};const o=(0,t.Ay)((i,m)=>{const l=r(i,m);return!!(l!=null&&l.loading&&(l!=null&&l.loadingOlder))});o.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(i,m)=>{const l=r(i,m);return!!(l!=null&&l.loading&&(l!=null&&l.loadingOlder))}};const a={innerGetChannelLoadingDataById:r}},3528815215:(Q,C,e)=>{"use strict";e.d(C,{f:()=>s});var t=e(1031947056),n=e(7097022175);const s=(0,t.Ay)("Finished loading history for a channel",(r,d,o)=>{const{channelId:a}=o||{};r((0,n.Y)({ids:[a]}))});s.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},1284885799:(Q,C,e)=>{"use strict";e.d(C,{v:()=>r});var t=e(1031947056),n=e(8298125694),s=e(7097022175);const r=(0,t.Ay)("Started loading history for a channel",(d,o,a)=>{const{channelId:i,loadingOlder:m,request:l}=a||{},_=(0,n.Ah)(o(),i);_&&_.loading&&_.request&&_.request.cancel(),d((0,s.r)({objects:[{channelId:i,loading:!0,loadingOlder:m,request:l}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},1949656963:(Q,C,e)=>{"use strict";e.d(C,{U:()=>s,ih:()=>r,k9:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the history invalid timestamp for a channel");n.meta={name:"createAction",key:"createActionsetHistoryInvalidTimestamp",description:"Set the history invalid timestamp for a channel"};const s=(0,t.Ay)("Set the updated timestamp for a channel");s.meta={name:"createAction",key:"createActionsetUpdatedTimestamp",description:"Set the updated timestamp for a channel"};const r=(0,t.Ay)("Bulk update the history invalid timestamps for a channel");r.meta={name:"createAction",key:"createActionbulkUpdateMutationTimestamps",description:"Bulk update the history invalid timestamps for a channel"}},4405788578:(Q,C,e)=>{"use strict";e.d(C,{Kq:()=>d,QO:()=>r});var t=e(8161242485);const n=(0,t.Ay)(o=>o==null?void 0:o.channelMutationTimestamps);n.meta={name:"createSelector",key:"createSelectorgetAllMutationTimestamps",description:o=>o==null?void 0:o.channelMutationTimestamps};const s=(0,t.Ay)((o,a)=>{var i;return(i=n(o))===null||i===void 0?void 0:i[a]});s.meta={name:"createSelector",key:"createSelectorgetMutationTimestampsByChannelId",description:(o,a)=>{var i;return(i=n(o))===null||i===void 0?void 0:i[a]}};const r=(0,t.Ay)((o,a)=>{var i;return(i=s(o,a))===null||i===void 0?void 0:i.updatedTs});r.meta={name:"createSelector",key:"createSelectorgetUpdatedTimestamp",description:(o,a)=>{var i;return(i=s(o,a))===null||i===void 0?void 0:i.updatedTs}};const d=(0,t.Ay)((o,a)=>{var i;return(i=s(o,a))===null||i===void 0?void 0:i.historyInvalidTs});d.meta={name:"createSelector",key:"createSelectorgetHistoryInvalidTimestamp",description:(o,a)=>{var i;return(i=s(o,a))===null||i===void 0?void 0:i.historyInvalidTs}}},3273285825:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>n,j:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Update the last channel switch trigger");n.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const s=(0,t.Ay)("Update the last channel focus time");s.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},8233490363:(Q,C,e)=>{"use strict";e.d(C,{v:()=>m});var t=e(8161242485),n=e(3677514771),s=e(8847766420),r=e(6839188756),d=e(918457931),o=e(9884588328),a=e(2298581483),i=e(766806);const m=(0,t.Ay)((l,_)=>{let{channel:v,xwsAlpha:u=!1}=_;if(u&&(0,d.M)(v)){const f=(0,a.R)(l,v),p=(0,s.kN)(l),E=(0,i.wc)(l,"always_show_workspace_name"),g=E==null?void 0:E.filter(y=>p==null?void 0:p.includes(y)),A=f==null?void 0:f.map(y=>(0,n._J)(l,y)).filter(y=>g!=null&&g.length?!!(g!=null&&g.includes((0,r.ZT)(y)))&&!(0,r.t8)(y):!0).sort((y,T)=>{const M=(0,r.F1)(y),O=(0,r.F1)(T);return M.localeCompare(O)});if(A!=null&&A[0])return A[0]}const h=!(0,d.M)(v)&&(0,o.ne)(l,v);return(h?(0,n._J)(l,h):void 0)||(0,n.H7)(l)});m.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(l,_)=>{let{channel:v,xwsAlpha:u=!1}=_;if(u&&(0,d.M)(v)){const f=(0,a.R)(l,v),p=(0,s.kN)(l),E=(0,i.wc)(l,"always_show_workspace_name"),g=E==null?void 0:E.filter(y=>p==null?void 0:p.includes(y)),A=f==null?void 0:f.map(y=>(0,n._J)(l,y)).filter(y=>g!=null&&g.length?!!(g!=null&&g.includes((0,r.ZT)(y)))&&!(0,r.t8)(y):!0).sort((y,T)=>{const M=(0,r.F1)(y),O=(0,r.F1)(T);return M.localeCompare(O)});if(A!=null&&A[0])return A[0]}const h=!(0,d.M)(v)&&(0,o.ne)(l,v);return(h?(0,n._J)(l,h):void 0)||(0,n.H7)(l)}}},8146089001:(Q,C,e)=>{"use strict";e.d(C,{a:()=>r});var t=e(8161242485),n=e(6839188756),s=e(8233490363);const r=(0,t.Ay)((d,o)=>{let{channel:a,xwsAlpha:i=!1}=o;const m=(0,s.v)(d,{channel:a,xwsAlpha:i});return(0,n.F1)(m)});r.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(d,o)=>{let{channel:a,xwsAlpha:i=!1}=o;const m=(0,s.v)(d,{channel:a,xwsAlpha:i});return(0,n.F1)(m)}}},9606603587:(Q,C,e)=>{"use strict";e.d(C,{B:()=>r});var t=e(1031947056),n=e(3430841143),s=e(9530687876);const r=(0,t.Ay)(s.rd.ADD_CHANNEL,function(d,o){let{channel:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!a||!a.id||d((0,n.F)({channel:a,reason:s.rd.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:s.rd.ADD_CHANNEL}},1761027239:(Q,C,e)=>{"use strict";e.d(C,{t:()=>i});var t=e(6422693406),n=e(1031947056),s=e(4446301238),r=e(3430841143),d=e(9530687876),o=e(5267010247),a=e(8822892075);const i=(0,n.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(m,l,_)=>{let{channelId:v,users:u,subteams:h,inviteAll:f,force:p,propagateInviteResult:E}=_;return m((0,s.wb)({channelId:v,reason:d.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m((0,r.F)({channel:g,reason:d.rd.CHILD_CHANNEL_CREATED})),m((0,o.o)((0,a.pr)(g.id))),E?f||u||h?m((0,s.Cw)({channelId:g.id,users:u,subteams:h,inviteAll:f,force:p})).then(A=>({channel:g,inviteResult:A})):t.S.resolve({channel:g,inviteResult:{ok:!0}}):(m((0,s.Cw)({channelId:g.id,users:u,subteams:h})),t.S.resolve({channel:g}))})});i.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},4288405498:(Q,C,e)=>{"use strict";e.d(C,{N:()=>m});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(1131121),d=e(5267010247),o=e(3430841143),a=e(9530687876),i=e(8822892075);const m=(0,s.Ay)(a.rd.GET_RECORD_CHANNEL_AND_NAVIGATE,function(){var l=(0,t.coroutine)(function*(_,v,u){let{recordId:h}=u;if(!h)return;const f=yield _((0,r.V)({record:h,reason:"get-record-channel"}));if(!f.channel)return _((0,d.o)((0,i.Id)({recordId:h})));const p=_((0,o.F)({channel:f.channel}));return _((0,d.o)((0,i.pr)(p.id)))});return function(_,v,u){return l.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkgetRecordChannelAndNavigate",description:a.rd.GET_RECORD_CHANNEL_AND_NAVIGATE}},613926746:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>s});var t=e(1031947056),n=e(7631186994);const s=(0,t.Ay)("Create or open an IM",function(r,d){let{memberId:o,shouldNavigateToChannel:a=!0,reason:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=o?[o]:[];return r((0,n.r)({memberIds:m,shouldNavigateToChannel:a,reason:i}))});s.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},7631186994:(Q,C,e)=>{"use strict";e.d(C,{r:()=>v});var t=e(6422693406),n=e(9113979368),s=e(235108050),r=e(1031947056),d=e(5795074931),o=e(9884588328),a=e(4446301238),i=e(8822892075),m=e(9101533895),l=e(3430841143),_=e(5267010247);const v=(0,r.Ay)("Create or open an MPIM",function(u,h){let{memberIds:f,shouldNavigateToChannel:p=!0,isQuiet:E=!1,reason:g="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,n.A)(f))return t.S.resolve();const A=h(),y=c(O=>(u((0,_.o)((0,i.pr)(O.id))),t.S.resolve(O)),"navigateToChannel");let T,M;if(f.length===1)M=f,T=(0,m.Pu)(A,f[0]);else{const O=(0,d.WR)(A);M=(0,s.A)([O,...f]),T=(0,m.FB)(A,M)}return(0,o.nT)(T)?p?y(T):t.S.resolve(T):u((0,a.jP)({isQuiet:E,memberIds:M,reason:g})).then(O=>!O||!O.channel?t.S.reject(new Error("missing-channel")):(u((0,l.F)({channel:O.channel})),p?y(O.channel):t.S.resolve(O.channel)))});v.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},4711657482:(Q,C,e)=>{"use strict";e.d(C,{CS:()=>l,HM:()=>r,IX:()=>h,JC:()=>g,JT:()=>O,Kv:()=>W,MC:()=>T,MD:()=>le,Ov:()=>y,PV:()=>H,RS:()=>D,Ri:()=>N,VM:()=>M,Xr:()=>f,Xu:()=>a,Y5:()=>ne,Ye:()=>A,Yr:()=>n,Yy:()=>I,Z8:()=>q,_Q:()=>s,ai:()=>B,e0:()=>k,f:()=>J,fc:()=>L,fl:()=>p,ho:()=>j,i9:()=>i,kB:()=>u,ke:()=>E,l3:()=>K,mP:()=>b,mt:()=>te,qC:()=>P,r5:()=>Y,r6:()=>_,rl:()=>w,uN:()=>m,uX:()=>v,vp:()=>d,yK:()=>G,yQ:()=>o,yg:()=>R});var t=e(2140362605);const n=(0,t.Ay)("Checkout Address Form Data Loaded");n.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const s=(0,t.Ay)("Checkout Credit Card Form Loaded");s.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const r=(0,t.Ay)("Checkout States and Countries Data Loaded");r.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const d=(0,t.Ay)("Checkout Company Address Data Loaded");d.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const o=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");o.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const a=(0,t.Ay)("Update Company Address Field");a.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const i=(0,t.Ay)("Update is country from auto detect");i.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const m=(0,t.Ay)("Company Address Validated");m.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const l=(0,t.Ay)("Company Address Form Field Validated");l.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const _=(0,t.Ay)("Clear Company Address Form Field Validation Errors");_.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const v=(0,t.Ay)("Toggles if we are showing banner stating Stripe is down");v.meta={name:"createAction",key:"createActionupdateShowStripeDownBanner",description:"Toggles if we are showing banner stating Stripe is down"};const u=(0,t.Ay)("Upgrade Response Received");u.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const h=(0,t.Ay)("Purchase Attempt Response Received");h.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const f=(0,t.Ay)("Addon Purchase Attempt Response Received");f.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const p=(0,t.Ay)("Purchase Attempt Confirmation Response Received");p.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const E=(0,t.Ay)("Update Stripe API Key");E.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const g=(0,t.Ay)("Update Invoice Data Field");g.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const A=(0,t.Ay)("Invoice Data Validated");A.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const y=(0,t.Ay)("Invoice Form Field Validated");y.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const T=(0,t.Ay)("Clear Any Existing Payment Status or Errors");T.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const M=(0,t.Ay)("Self User Data Loaded");M.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const O=(0,t.Ay)("Update Is Processing Payment");O.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const I=(0,t.Ay)("Update Payment Method Selected");I.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const D=(0,t.Ay)("Update Show App Disconnect Dialog");D.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const P=(0,t.Ay)("Update Active Checkout Step");P.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const L=(0,t.Ay)("Update Active Checkout Step");L.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const k=(0,t.Ay)("Update Active Country");k.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const G=(0,t.Ay)("Checkout configuration data loaded");G.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const b=(0,t.Ay)("Update Checkout Flow API Error Indicator");b.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const W=(0,t.Ay)("Update checkout store values with configuration data");W.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const B=(0,t.Ay)("Redeem partner promo code failed");B.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const R=(0,t.Ay)("Redeem partner promo code success");R.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const j=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");j.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const w=(0,t.Ay)("Sets Active Payment Method Id");w.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const N=(0,t.Ay)("Sets Active Stripe Customer Id");N.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const K=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");K.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const J=(0,t.Ay)("Sets Payment Methods");J.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const Y=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");Y.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const q=(0,t.Ay)("Stripe UPE credit card form is complete");q.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const H=(0,t.Ay)("Stripe UPE credit card form has interactiono");H.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const ne=(0,t.Ay)("Is address form collapsed and not editable");ne.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const te=(0,t.Ay)("Select or deselect an addon by type");te.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const le=(0,t.Ay)("Select or deselect an addon by type");le.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},6460545324:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>a,bE:()=>o,eM:()=>r,gW:()=>d,x:()=>n,xj:()=>s});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_success:"trial_success"},n={overview:"overview",address:"address",payment:"payment",review:"review"},s=200,r={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",canvas_freemium_tenured_team_promo:"canvas_freemium_tenured_team_promo",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",new_year_discount_v2:"new_year_discount_v2",milestone_tenured_team_promo:"milestone_tenured_team_promo",winback_promo:"winback_promo",pricing_and_packaging_promo:"pricing_and_packaging_promo"},d="partner_growth",o={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},a=t},3559164431:(Q,C,e)=>{"use strict";e.d(C,{$3:()=>E,BD:()=>ue,Bj:()=>Ee,Bo:()=>m,Cb:()=>_e,D5:()=>ne,E$:()=>p,EX:()=>z,Ex:()=>j,GG:()=>ye,Hg:()=>Ue,IK:()=>Re,J5:()=>v,Ju:()=>Te,M:()=>I,MA:()=>M,Oe:()=>S,S_:()=>a,U$:()=>u,VE:()=>b,VV:()=>_,Vs:()=>G,WP:()=>H,Wq:()=>i,X:()=>le,YW:()=>h,Yv:()=>o,Zl:()=>g,Zn:()=>N,bB:()=>A,bW:()=>ee,bm:()=>re,c9:()=>V,cR:()=>te,ch:()=>F,d2:()=>J,fD:()=>ke,fx:()=>fe,gr:()=>O,h0:()=>he,hy:()=>Ae,iD:()=>Z,k7:()=>f,kr:()=>me,lK:()=>x,oi:()=>B,oy:()=>R,p:()=>X,qR:()=>ce,qn:()=>P,r2:()=>ge,r8:()=>w,rn:()=>K,t5:()=>W,tG:()=>l,vO:()=>$,wz:()=>y,y4:()=>Be,zj:()=>D,zk:()=>Y});var t=e(8161242485),n=e(5597672932),s=e(9113979368),r=e(6323355797),d=e(2689960678);const o=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.companyAddress||!se.checkoutFlow.companyAddress.validationErrors?!1:Object.values(se.checkoutFlow.companyAddress.validationErrors).some(ve=>ve));o.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.companyAddress||!se.checkoutFlow.companyAddress.validationErrors?!1:Object.values(se.checkoutFlow.companyAddress.validationErrors).some(ve=>ve)};const a=(0,t.Ay)(se=>{var ve;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.activeStripeCustomerId)||null});a.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:se=>{var ve;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.activeStripeCustomerId)||null}};const i=(0,t.Ay)(se=>{var ve;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.isFetchingCurrencyAfterCountryChange)||!1});i.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:se=>{var ve;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.isFetchingCurrencyAfterCountryChange)||!1}};const m=(0,t.Ay)(se=>{var ve,Me;return!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.activeStripeCustomerId)||!(!(se==null||(Me=se.checkoutFlow)===null||Me===void 0)&&Me.activePaymentMethodIdMap)?null:se.checkoutFlow.activePaymentMethodIdMap[se.checkoutFlow.activeStripeCustomerId]});m.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:se=>{var ve,Me;return!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.activeStripeCustomerId)||!(!(se==null||(Me=se.checkoutFlow)===null||Me===void 0)&&Me.activePaymentMethodIdMap)?null:se.checkoutFlow.activePaymentMethodIdMap[se.checkoutFlow.activeStripeCustomerId]}};const l=(0,t.Ay)(se=>{var ve;return!se||!se.checkoutFlow?null:(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.activePaymentMethodIdMap});l.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:se=>{var ve;return!se||!se.checkoutFlow?null:(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.activePaymentMethodIdMap}};const _=(0,t.Ay)(se=>{var ve;return!se||!se.checkoutFlow?null:(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.paymentMethodTypes});_.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:se=>{var ve;return!se||!se.checkoutFlow?null:(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.paymentMethodTypes}};const v=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.paymentMethods);v.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.paymentMethods};const u=(0,t.Ay)(se=>{const ve=m(se);if(!ve||(0,s.A)(ve))return null;const Me=v(se);return!ve||!Array.isArray(Me)?null:Me.find(be=>be.id===ve)});u.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:se=>{const ve=m(se);if(!ve||(0,s.A)(ve))return null;const Me=v(se);return!ve||!Array.isArray(Me)?null:Me.find(be=>be.id===ve)}};const h=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.companyAddress?null:se.checkoutFlow.companyAddress);h.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.companyAddress?null:se.checkoutFlow.companyAddress};const f=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isAddressFormCollapsed)});f.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isAddressFormCollapsed)}};const p=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isPaymentMethodSectionDisplayed)});p.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isPaymentMethodSectionDisplayed)}};const E=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:se.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);E.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:se.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const g=(0,t.Ay)(se=>{var ve,Me;return!(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.config)===null||Me===void 0)&&Me.countryMap?se.checkoutFlow.config.countryMap:null});g.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:se=>{var ve,Me;return!(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.config)===null||Me===void 0)&&Me.countryMap?se.checkoutFlow.config.countryMap:null}};const A=(0,t.Ay)(se=>{var ve;return se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.paymentElementError});A.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:se=>{var ve;return se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.paymentElementError}};const y=(0,t.Ay)(se=>{const ve=h(se);return ve?ve.country:null});y.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:se=>{const ve=h(se);return ve?ve.country:null}};const T=(0,t.Ay)(se=>{const ve=h(se);return!ve||!ve.validationErrors||!ve.validationErrors.country?null:ve.validationErrors.country.errorText});T.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:se=>{const ve=h(se);return!ve||!ve.validationErrors||!ve.validationErrors.country?null:ve.validationErrors.country.errorText}};const M=(0,t.Ay)(se=>{var ve,Me,be;return(ve=h(se))===null||ve===void 0||(Me=ve.validationErrors)===null||Me===void 0||(be=Me.vatId)===null||be===void 0?void 0:be.errorText});M.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:se=>{var ve,Me,be;return(ve=h(se))===null||ve===void 0||(Me=ve.validationErrors)===null||Me===void 0||(be=Me.vatId)===null||be===void 0?void 0:be.errorText}};const O=(0,t.Ay)(se=>{const ve=h(se);return ve?ve.postalCode:null});O.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:se=>{const ve=h(se);return ve?ve.postalCode:null}};const I=(0,t.Ay)(se=>{const ve=h(se);return ve?ve.region:null});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:se=>{const ve=h(se);return ve?ve.region:null}};const D=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.config?null:se.checkoutFlow.config);D.meta={name:"createSelector",key:"createSelectorgetConfig",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.config?null:se.checkoutFlow.config};const P=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration?null:se.checkoutFlow.checkoutConfiguration);P.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration?null:se.checkoutFlow.checkoutConfiguration};const L=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.currentTerm?null:se.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly);L.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.currentTerm?null:se.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly};const k=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:se.checkoutFlow.checkoutConfiguration.currentPlanLevel);k.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:se.checkoutFlow.checkoutConfiguration.currentPlanLevel};const G=(0,t.Ay)(se=>{var ve,Me;return(Me=se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.isCheckoutConfigurationDataLoaded)!==null&&Me!==void 0?Me:!1});G.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:se=>{var ve,Me;return(Me=se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.isCheckoutConfigurationDataLoaded)!==null&&Me!==void 0?Me:!1}};const b=(0,t.Ay)(se=>{var ve,Me;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0)&&Me.isFutureSwitch)});b.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:se=>{var ve,Me;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0)&&Me.isFutureSwitch)}};const W=(0,t.Ay)(se=>{var ve,Me;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0?void 0:Me.availableTerms)||null});W.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:se=>{var ve,Me;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0?void 0:Me.availableTerms)||null}};const B=(0,t.Ay)(se=>{var ve,Me;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0?void 0:Me.upeSelectedAvailableTerms)||null});B.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:se=>{var ve,Me;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0?void 0:Me.upeSelectedAvailableTerms)||null}};const R=(0,t.Ay)(se=>{var ve,Me;return se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0?void 0:Me.redirectUrl});R.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:se=>{var ve,Me;return se==null||(ve=se.checkoutFlow)===null||ve===void 0||(Me=ve.checkoutConfiguration)===null||Me===void 0?void 0:Me.redirectUrl}};const j=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isCheckoutAddressFormDataLoaded)});j.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isCheckoutAddressFormDataLoaded)}};const w=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isCountryFromAutoDetect)});w.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isCountryFromAutoDetect)}};const N=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isCheckoutCreditCardFormLoaded)});N.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isCheckoutCreditCardFormLoaded)}};const K=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isStripeUpeComplete)});K.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.isStripeUpeComplete)}};const J=(0,t.Ay)(se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.hasUPEInteraction)});J.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:se=>{var ve;return!!(!(se==null||(ve=se.checkoutFlow)===null||ve===void 0)&&ve.hasUPEInteraction)}};const Y=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.isShowingStripeDownBanner);Y.meta={name:"createSelector",key:"createSelectorselectShowStripeDownBanner",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.isShowingStripeDownBanner};const q=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.paymentStatus);q.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.paymentStatus};const H=(0,t.Ay)(se=>{const ve=q(se);return ve?ve.ok===!0&&!ve.error&&!ve.isActionRequiredOnPurchaseAttempt:!1});H.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:se=>{const ve=q(se);return ve?ve.ok===!0&&!ve.error&&!ve.isActionRequiredOnPurchaseAttempt:!1}};const ne=(0,t.Ay)(se=>{const ve=q(se);return ve?ve.error&&ve.msg?ve.msg:ve.error:""});ne.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:se=>{const ve=q(se);return ve?ve.error&&ve.msg?ve.msg:ve.error:""}};const te=(0,t.Ay)(se=>{const ve=q(se);return!!(ve!=null&&ve.isProcessingPayment)});te.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:se=>{const ve=q(se);return!!(ve!=null&&ve.isProcessingPayment)}};const le=(0,t.Ay)(se=>{const ve=D(se);return ve?ve.stripeApiKey:null});le.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:se=>{const ve=D(se);return ve?ve.stripeApiKey:null}};const he=(0,t.Ay)(se=>{const ve=D(se);return ve?ve.sourcesPayable:null});he.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:se=>{const ve=D(se);return ve?ve.sourcesPayable:null}};const Ie=(0,t.Ay)((se,ve)=>{if(ve===null)return{};const Me=he(se);if(!Me)return{};const be=Object.values(Me).find(xe=>xe.id===ve);return be||{}});Ie.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:(se,ve)=>{if(ve===null)return{};const Me=he(se);if(!Me)return{};const be=Object.values(Me).find(xe=>xe.id===ve);return be||{}}};const Ee=(0,t.Ay)(se=>{const ve=D(se);return!ve||!ve.user?!1:ve.user.is_owner});Ee.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:se=>{const ve=D(se);return!ve||!ve.user?!1:ve.user.is_owner}};const me=(0,t.Ay)(se=>{const ve=D(se);return!ve||!ve.user||!se||!se.checkoutFlow});me.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:se=>{const ve=D(se);return!ve||!ve.user||!se||!se.checkoutFlow}};const ce=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.invoiceData);ce.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.invoiceData};const X=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.paymentMethodSelected);X.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.paymentMethodSelected};const V=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.isAppDisconnectedDialogShown);V.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.isAppDisconnectedDialogShown};const x=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.activeCheckoutStep);x.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.activeCheckoutStep};const S=(0,t.Ay)(se=>{var ve;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.activeSteppedCheckoutStep)||null});S.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:se=>{var ve;return(se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.activeSteppedCheckoutStep)||null}};const U=(0,t.Ay)(se=>{var ve;return se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.promoCodeRedeem});U.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:se=>{var ve;return se==null||(ve=se.checkoutFlow)===null||ve===void 0?void 0:ve.promoCodeRedeem}};const F=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.failed)||!1});F.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.failed)||!1}};const Z=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.errorName)||""});Z.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.errorName)||""}};const z=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.discountName)||""});z.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.discountName)||""}};const $=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.discountPercentage)||0});$.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.discountPercentage)||0}};const ee=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.discountDuration)||0});ee.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.discountDuration)||0}};const de=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.attempted)||!1});de.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.attempted)||!1}};const ie=(0,t.Ay)(se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.code)||null});ie.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:se=>{var ve;return((ve=U(se))===null||ve===void 0?void 0:ve.code)||null}};const ue=(0,t.Ay)(se=>!se||!se.checkoutFlow?null:se.checkoutFlow.isCheckoutFlowAPIError);ue.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:se=>!se||!se.checkoutFlow?null:se.checkoutFlow.isCheckoutFlowAPIError};const fe=(0,t.Ay)(se=>{const ve=q(se);return!!(ve!=null&&ve.isActionRequiredOnPurchaseAttempt)});fe.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:se=>{const ve=q(se);return!!(ve!=null&&ve.isActionRequiredOnPurchaseAttempt)}};const re=(0,t.Ay)(se=>{const ve=q(se);return ve&&ve.intentSecret||""});re.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:se=>{const ve=q(se);return ve&&ve.intentSecret||""}};const _e=(0,t.Ay)(se=>{const ve=q(se);return ve&&ve.billingItemId||""});_e.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:se=>{const ve=q(se);return ve&&ve.billingItemId||""}};const Ue=(0,t.Ay)(se=>(0,n.x)(se,"self_serve_select"));Ue.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:se=>(0,n.x)(se,"self_serve_select")};const ye=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.addons?null:se.checkoutFlow.checkoutConfiguration.addons[0].id);ye.meta={name:"createSelector",key:"createSelectorselectAddonId",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.addons?null:se.checkoutFlow.checkoutConfiguration.addons[0].id};const Te=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration?!1:se.checkoutFlow.checkoutConfiguration.isPayingByInvoice);Te.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration?!1:se.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const ge=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.addons?null:se.checkoutFlow.checkoutConfiguration.addons.map(ve=>ve.id));ge.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.addons?null:se.checkoutFlow.checkoutConfiguration.addons.map(ve=>ve.id)};const Ae=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.addons?null:se.checkoutFlow.checkoutConfiguration.addons[0].type);Ae.meta={name:"createSelector",key:"createSelectorselectAddonType",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.addons?null:se.checkoutFlow.checkoutConfiguration.addons[0].type};const Re=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.selectedAddonTypes?d.Ml:se.checkoutFlow.selectedAddonTypes);Re.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.selectedAddonTypes?d.Ml:se.checkoutFlow.selectedAddonTypes};const Be=(0,t.Ay)(se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:se.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);Be.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:se=>!se||!se.checkoutFlow||!se.checkoutFlow.checkoutConfiguration||!se.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:se.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const ke=(0,t.Ay)(se=>{var ve;return!se||!se.checkoutFlow?null:(ve=se.checkoutFlow.checkoutConfiguration)===null||ve===void 0?void 0:ve.isEligibleForDataDeletion});ke.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:se=>{var ve;return!se||!se.checkoutFlow?null:(ve=se.checkoutFlow.checkoutConfiguration)===null||ve===void 0?void 0:ve.isEligibleForDataDeletion}}},8368515877:(Q,C,e)=>{"use strict";e.d(C,{l:()=>g});var t=e(9706240641),n=e(1031947056),s=e(3048437087),r=e(1649982175),d=e(9113979368),o=e(2927826522),a=e(6422693406),i=e(165535451),m=e(7520484642);const l=(0,n.Ay)("fetches all available pricing plans for the team.",(A,y,T)=>new a.S(M=>{A((0,i.iV)(T)).then(O=>{A((0,m.wt)(O)),M()})}));l.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const _=l;var v=e(6460545324),u=e(4711657482),h=e(6323355797);const f=c(A=>{var y,T;const M=((y=A.product)===null||y===void 0?void 0:y.level)===A.current_product.level,O=((T=A.product)===null||T===void 0?void 0:T.term)===A.current_product.term,I=A.selected_payment_method===h.uq.CREDIT_CARD;return M&&O&&I?[h.uq.CREDIT_CARD]:A.allowed_payment_methods},"filterAllowedPaymentMethods"),p=c(A=>{var y,T;const M=((y=A.product)===null||y===void 0?void 0:y.level)===A.current_product.level,O=((T=A.product)===null||T===void 0?void 0:T.term)===A.current_product.term;return A.selected_payment_method===h.uq.INVOICE&&M?O?[h.ck.monthly]:[h.ck.yearly]:A.available_terms},"getUpeSelectedAvailableTerms"),E=(0,n.Ay)("Load configuration data for checkout",function(){var A=(0,t.coroutine)(function*(y,T,M){let{checkoutConfigData:O}=M,I=(0,r.A)(O,["clientRequestId","requestId","args","method","ok"]);const D=!(0,d.A)(I);if(D){var P,L,k,G,b;I=Object.assign(I,{planLevel:(P=I.product)===null||P===void 0?void 0:P.level,term:(L=I.product)===null||L===void 0?void 0:L.term,isTrial:(k=I.product)===null||k===void 0?void 0:k.is_trial,isPayingByInvoice:I.current_product.is_invoice,currency:(G=I.product)===null||G===void 0?void 0:G.currency,productId:(b=I.product)===null||b===void 0?void 0:b.id,currentPlanLevel:I.current_product.level,currentTerm:I.current_product.term,currentIsTrial:I.current_product.is_trial,currentCurrency:I.current_product.currency,currentProductId:I.current_product.id,allowedPaymentMethods:f(I),upeSelectedAvailableTerms:p(I),isEligibleForDataDeletion:I.is_eligible_for_data_deletion}),delete I.product,delete I.current_product}I=(0,o.A)(I),y((0,u.yK)(I)),D&&(y((0,u.Kv)(I)),yield y(_({checkout_step:v.Ay.form})))});return function(y,T,M){return A.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const g=(0,n.Ay)("Fetch configuration data for checkout",function(){var A=(0,t.coroutine)(function*(y,T,M){let{productId:O=null}=M;const I="fetchConfigurationData",D=yield y((0,s.n)(O?{productId:O,reason:I}:{reason:I}));yield y(E({checkoutConfigData:D}))});return function(y,T,M){return A.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},2222994823:(Q,C,e)=>{"use strict";e.d(C,{I:()=>o});var t=e(2774532222),n=e(6323355797),s=e(4252064756),r=e(8234448831);const d=c(i=>{const m=(0,r.Ay)(i),l=m&&m.pathname;return(0,s.D)(m)&&(0,t.A)(l,(0,n.hZ)())},"isPlansAppUrl"),o=c(i=>i&&!d(i),"shouldCheckoutRedirect"),a={isPlansAppUrl:d}},4653418008:(Q,C,e)=>{"use strict";e.d(C,{LA:()=>r,Th:()=>d,kl:()=>s,yg:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set the current theme field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const s=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const d=(0,t.Ay)("Set the client typeface");d.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},5922222922:(Q,C,e)=>{"use strict";e.d(C,{C3:()=>s,k4:()=>t,u7:()=>n});const t="slack-client-theme",n="slack-client-theme-os-sync",s="client-typeface"},5923036663:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(1703559452),n=e(796111729),s=e(4096483543),r=e(958961878),d=e(3245843483),o=e(9139930183),a=e(6533394955),i=e(5922222922),m=e(4653418008),l=e(3328068409),_=e(767804497),v=e(3564619745),u=e(9012396182),h=e(9733150292);let f="light",p=!1,E="light",g;try{g=(0,h.W6)(i.C3)||void 0}catch{}try{r.w2&&(0,s.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(T=>{const M=T.matches?"dark":"light";E=M,p&&(f=E);const O=(0,a.getClientStoreInstance)();if(O){const I=O.getState(),D=(0,u.getBootedWorkspaces)(I),P=(0,t.A)(D.map(L=>(0,r.Ay)((0,a.getStateByTeamId)(L))));O.dispatch((0,m.LA)(M)),P&&(0,l.FW)(I)&&O.dispatch((0,_.P)(M))}})}catch(T){(0,n.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",T)}try{const T=window.localStorage.getItem(i.k4),M=window.localStorage.getItem(i.u7);f=T||"light",r.w2&&(M?p=M==="true":p=!T,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(E="dark"),p&&(f=E)),(0,d.g9M)()&&((0,d.cGU)({name:"userTheme",value:f}),(0,d.cGU)({name:"systemThemeSyncEnabled",value:p}))}catch(T){(0,n.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",T)}const y=(0,o.Ay)({},{clientTheme:f,systemSync:p,systemTheme:E,clientTypeface:g},{storeKey:"clientTheme",persistenceEnabled:!1}).on(m.yg,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...T,clientTheme:M}}).on(m.kl,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...T,systemSync:M}}).on(m.LA,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...T,systemTheme:M}}).on(m.Th,function(T){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.mZ;return{...T,clientTypeface:M}})},767804497:(Q,C,e)=>{"use strict";e.d(C,{P:()=>o});var t=e(796111729),n=e(3245843483),s=e(1031947056),r=e(5922222922),d=e(4653418008);const o=(0,s.Ay)("Set the current theme for the device",function(a,i){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.k4,m)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}a((0,d.yg)(m)),(0,n.cGU)({name:"userTheme",value:m})});o.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},5670953896:(Q,C,e)=>{"use strict";e.d(C,{$_:()=>h,Ci:()=>d,Dn:()=>r,F8:()=>l,N2:()=>i,RX:()=>a,Xc:()=>u,ij:()=>s,pq:()=>_,qE:()=>o,rj:()=>v,sR:()=>n,vN:()=>m});var t=e(2140362605);const n=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");n.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const s=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");s.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const r=(0,t.Ay)("Upserts a Slack Connect Invite");r.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const d=(0,t.Ay)("Upserts a pending Slack Connect Invite");d.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const o=(0,t.Ay)("Removes a Slack Connect Invite");o.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const a=(0,t.Ay)("Removes a pending Slack Connect Invite");a.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const i=(0,t.Ay)("Sets freshness flag for Slack Connect invites");i.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const m=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");m.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const l=(0,t.Ay)("Sets whether logged-in member's email verification has failed");l.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const _=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");_.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const v=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");v.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const u=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");u.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const h=(0,t.Ay)("Sets whether we are currently switching workspaces");h.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},1496122061:(Q,C,e)=>{"use strict";e.d(C,{d:()=>l});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(320199792),d=e(5914498199),o=e(5670953896),a=e(1605540670),i=e(3243667193),m=e(2368561198);const l=(0,s.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",function(){var _=(0,t.coroutine)(function*(v,u,h){let{reason:f}=h,p;const E=[i.k.Channel,i.k.Im];(0,m.i)(u())&&E.push(i.k.Workspace);const A=yield v((0,a.O)({reason:f,inviteTypes:E,onlyPendingInvites:!0}));if(A!=null&&A.connect_invites){p=A.connect_invites;const y=p.filter(r.Ef),T=p.filter(r.I4);v((0,d.R)({connectInvites:p})),v((0,o.ij)({pendingInboundConnectInvites:y,pendingOutboundConnectInvites:T}))}return p||[]});return function(v,u,h){return _.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},6111266013:(Q,C,e)=>{"use strict";e.d(C,{p:()=>l});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(3622175906),d=e(1605540670),o=e(5914498199),a=e(5670953896),i=e(3243667193),m=e(2368561198);const l=(0,s.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",function(){var _=(0,t.coroutine)(function*(v,u,h){let{reason:f,direction:p,includeInviteRequests:E}=h,g;const A=[i.k.Channel,i.k.Im];(0,m.i)(u())&&A.push(i.k.Workspace);const T=yield v((0,d.O)({reason:f,direction:p,inviteTypes:A,includeInviteRequests:E}));if(T!=null&&T.connect_invites){g=T.connect_invites,v((0,o.R)({connectInvites:g}));const M={inboundConnectInvites:p===r.D.Incoming?g:void 0,outboundConnectInvites:p===r.D.Outgoing?g:void 0};v((0,a.sR)(M))}return g||[]});return function(v,u,h){return _.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},5914498199:(Q,C,e)=>{"use strict";e.d(C,{R:()=>o});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(7679955939),d=e(320199792);const o=(0,s.Ay)("Upsert any non-local members referenced in the specified connect invites",function(){var a=(0,t.coroutine)(function*(i,m,l){let{connectInvites:_}=l;const v=[];_.forEach(u=>{const h=(0,d.$N)(u);if((0,d.I4)(u)&&h&&h.forEach(f=>{v.push((0,d.mZ)(f))}),(0,d.Ef)(u)){v.push((0,d.y1)(u));const f=(0,d.kR)(u);f&&v.push(f)}}),i((0,r.Ay)({members:v}))});return function(i,m,l){return a.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},6591744424:(Q,C,e)=>{"use strict";e.d(C,{A8:()=>f,IC:()=>m,If:()=>h,S_:()=>v,Uf:()=>u,Z3:()=>A,cf:()=>i,nT:()=>y,tD:()=>l,zm:()=>p});var t=e(8161242485),n=e(3385422400),s=e(2047021170),r=e(8262898118),d=e(5873468694),o=e(796111729);const a=(0,t.Ay)(T=>{var M;return T==null||(M=T.siwsDomains)===null||M===void 0?void 0:M.domainsCollection});a.meta={name:"createSelector",key:"createSelectorgetDomains",description:T=>{var M;return T==null||(M=T.siwsDomains)===null||M===void 0?void 0:M.domainsCollection}};const i=(0,t.Ay)(T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.loading});i.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.loading}};const m=c(T=>{const M=(0,s.ty)(T,"identity_links_prefs");if(M)try{return JSON.parse(M)}catch{return(0,o.Ay)({state:T}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),l=(0,n.Mz)(m,Object.keys),_=(0,t.Ay)(T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.apps});_.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.apps}};const v=(0,n.Mz)(l,_,(T,M)=>T.filter(O=>!M[O])),u=(0,n.Mz)(m,_,r.pf,function(T,M){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(T).map(P=>M[P]?{...M[P].profile||{},...(0,d.XK)(T[P])||{},domain:O[P]||{}}:null).filter(P=>Boolean(P))}),h=(0,n.Mz)(u,T=>T.filter(M=>M==null?void 0:M.completedTransfer).sort((M,O)=>O.dateCompletedTransfer-M.dateCompletedTransfer)),f=(0,n.Mz)(u,T=>T.filter(M=>M==null?void 0:M.dateDisconnected).sort((M,O)=>O.dateDisconnected-M.dateDisconnected)),p=(0,n.Mz)(u,T=>T.filter(M=>(M==null?void 0:M.numSkipped)&&!(M!=null&&M.completedTransfer)).sort((M,O)=>O.dateLastSkipped-M.dateLastSkipped)),E=c(T=>{const M=(0,s.ty)(T,"identity_links_global_prefs");if(M)try{return(0,d.XK)(JSON.parse(M))}catch{return(0,o.Ay)({state:T}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),g=(0,n.Mz)(E,T=>T==null?void 0:T.dateDisabled),A=(0,n.Mz)(g,T=>!T),y=(0,t.Ay)(T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.error});y.meta={name:"createSelector",key:"createSelectorselectError",description:T=>{var M;return T==null||(M=T.connectedApps)===null||M===void 0?void 0:M.error}}},6168781067:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9139930183),n=e(2456103428);const s={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},d=(0,t.Ay)({},s,{storeKey:"connectivity",persistenceEnabled:!1}).on(n.pm,(o,a)=>({...o,serviceOnline:!!a})).on(n.Uj,o=>o===s?{...o,lastSocketActivity:Date.now()}:(o.lastSocketActivity=Date.now(),o)).on(n.p9,(o,a)=>({...o,clientOnline:!!a,lastClientConnection:Date.now()})).on(n.hM,o=>({...o,lastSocketConnection:Date.now()}))},1314103953:(Q,C,e)=>{"use strict";e.d(C,{b:()=>s,k:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");n.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const s=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");s.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},9469211187:(Q,C,e)=>{"use strict";e.d(C,{d:()=>s,f:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Remove prefs for a given channel");n.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const s=(0,t.Ay)("Set channel prefs associated with a given channel");s.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},7914670207:(Q,C,e)=>{"use strict";e.d(C,{Dq:()=>h,YO:()=>f,im:()=>E});var t=e(9706240641),n=e.n(t),s=e(3398586081),r=e(6639221719),d=e(8352634987),o=e(6422693406),a=e(4423055085),i=e(1031947056),m=e(6533394955),l=e(9469211187),_=e(8081461848);const v=(0,i.Ay)("Fetch and upsert channel list prefs",function(){var A=(0,t.coroutine)(function*(y,T,M){let{channelId:O,teamId:I}=M;const D=yield y((0,r.U)({channel:O,reason:"client_redux_store"})),{prefs:P}=D;y((0,l.d)({channelId:O,prefs:P})),p(I,O)});return function(y,T,M){return A.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const u=(0,s.A)(()=>new d.Ay({storeKey:_.U,fetch:(A,y)=>o.S.map(y,T=>(0,m.dispatchForTeamId)(A,v({channelId:T,teamId:A}))),isEnabled:()=>!0,metricsName:_.U})),h=c((A,y)=>u().markObjectsAsStale(A,[y]),"markConversationsListPrefsAsStale"),f=c((A,y)=>u().markObjectsAsStale(A,y),"markConversationsListPrefsAsStaleForMultipleChannels"),p=c((A,y)=>u().markObjectsAsFresh(A,[y]),"markConversationsListPrefsAsFresh"),E=c((A,y)=>u().maybeRefetch(A,y),"maybeRefetchConversationsListPrefs"),g={fetchAndUpsertConversationsListPrefs:v};(0,a.zv)("conditionalFetchManagerConversationsListPrefs",u)},8081461848:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o,U:()=>s});var t=e(9139930183),n=e(9469211187);const s="conversationsListPrefs",r={},o=(0,t.Ay)({},r,{storeKey:s,persistenceEnabled:!0}).on(n.f,(a,i)=>{let{channelId:m}=i;if(!m||!a[m])return a;const l={...a};return delete l[m],l}).on(n.d,(a,i)=>{let{channelId:m,prefs:l}=i;return m?{...a,[m]:l}:a})},2527994834:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>o});var t=e(3385422400),n=e(8847766420),s=e(7914670207),r=e(8040098042);const d=c((a,i)=>{var m;const l=(0,n.ZT)(a);if(!l||!(0,r.A)(i))return null;(0,s.im)(l,i);var _;return(_=a==null||(m=a.conversationsListPrefs)===null||m===void 0?void 0:m[i])!==null&&_!==void 0?_:null},"getConversationsListPrefsByChannelId"),o=(0,t.Mz)((a,i,m)=>d(a,m),(a,i)=>i,(a,i)=>a==null?void 0:a[i])},330221449:(Q,C,e)=>{"use strict";e.d(C,{Ot:()=>s,S9:()=>d,X8:()=>n,d$:()=>a,d1:()=>i,en:()=>o,gx:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Adds the new set of custom emoji to the existing store");n.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const s=(0,t.Ay)("Resets the array of custom emoji in the store");s.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=(0,t.Ay)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const d=(0,t.Ay)("Renames a disabled custom emoji");d.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const o=(0,t.Ay)("Set the loading status for the API request when a new page is loading");o.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const a=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");a.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const i=(0,t.Ay)("Set the current sort category and direction for the table");i.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},1484767411:(Q,C,e)=>{"use strict";e.d(C,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Record that a message was deleted");n.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},6739248722:(Q,C,e)=>{"use strict";e.d(C,{k:()=>n});var t=e(8161242485);const n=(0,t.Ay)((s,r)=>{let{channelId:d,ts:o}=r;return s&&s.deletedMessages&&s.deletedMessages[d]&&!!s.deletedMessages[d][o]});n.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(s,r)=>{let{channelId:d,ts:o}=r;return s&&s.deletedMessages&&s.deletedMessages[d]&&!!s.deletedMessages[d][o]}}},1378315125:(Q,C,e)=>{"use strict";e.d(C,{$3:()=>i,Bt:()=>o,Ez:()=>s,LS:()=>l,Mk:()=>r,NN:()=>v,XF:()=>d,Y$:()=>u,Yv:()=>n,_F:()=>m,jC:()=>_,n9:()=>h,oR:()=>p,um:()=>f,yz:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Sets the highlight property of a download");n.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const s=(0,t.Ay)("An update of the desktop state from the desktop app");s.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=(0,t.Ay)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const d=(0,t.Ay)("Starts a download on the desktop app");d.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const o=(0,t.Ay)("Pauses a download on the desktop app");o.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const a=(0,t.Ay)("Resumes a download on the desktop app");a.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const i=(0,t.Ay)("Cancels a download on the desktop app");i.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const m=(0,t.Ay)("Clears all stopped downloads for the active team");m.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const l=(0,t.Ay)("Removes a download on the desktop app");l.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const _=(0,t.Ay)("Retries a download on the desktop app");_.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const v=(0,t.Ay)("Opens a file downloaded by the desktop app");v.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const u=(0,t.Ay)("Shows the folder that contains the downloaded file");u.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const h=(0,t.Ay)("Toggles the performance monitor");h.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const f=(0,t.Ay)("Sets the currently active team in the SSB");f.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const p=(0,t.Ay)("Update canvas system text settings in the SSB");p.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},7902571278:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(9139930183),n=e(4103274853),s=e(3571452446),r=e(2003990933),d=e(7715417323),o=e(3245843483),a=e(1378315125);const i=c((u,h)=>(0,n.A)(u,(f,p)=>(0,n.A)(f,(E,g)=>h(p,g,E))),"mapDownloads"),m=c(u=>({...{app:{},environment:{},settings:{},...(0,s.A)(u,["app","settings","environment"]),windows:(0,n.A)((u==null?void 0:u.windows)||{},f=>({frame:(0,s.A)(f.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:i((u==null?void 0:u.downloads)||{},(f,p,E)=>({...E,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,r.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),l=(0,o.g9M)()?m((0,r.A)(window,"desktop.redux.getState",d.A)()):null,v=(0,t.Ay)({},l,{storeKey:"desktop",persistenceEnabled:!1}).on(a.Ez,(u,h)=>{const f=h.downloads?i(h.downloads,(p,E,g)=>({...g,highlight:(0,r.A)(u.downloads,[p,E,"highlight"],!1)})):u.downloads;return{...u,...h,downloads:f}}).on(a.Mk,(u,h)=>{let{windowId:f,property:p,value:E}=h;var g,A,y;return{...u,windows:{...u.windows,[f]:{...((g=u.windows)===null||g===void 0?void 0:g[f])||{},frame:{...((A=u.windows)===null||A===void 0||(y=A[f])===null||y===void 0?void 0:y.frame)||{},[p]:E}}}}}).on(a.Yv,(u,h)=>{let{fileId:f,teamId:p,highlight:E}=h;return(0,r.A)(u.downloads,[p,f])?{...u,downloads:{...u.downloads,[p]:{...u.downloads[p],[f]:{...u.downloads[p][f],highlight:E}}}}:u}).on(a.n9,u=>({...u,debug:{...u.debug,isPerformanceMonitorEnabled:!u.debug.isPerformanceMonitorEnabled}})).on(a.um,(u,h)=>h?{...u,activeTeamId:h}:u)},7600673124:(Q,C,e)=>{"use strict";e.d(C,{y:()=>n});var t=e(5818203962);const n=c((s,r)=>(0,t.I$)(s,r),"getIsMemberDisconnectedById")},4318855015:(Q,C,e)=>{"use strict";e.d(C,{$x:()=>d,H9:()=>n,at:()=>a,j_:()=>m,jy:()=>i,o2:()=>r,qw:()=>s,su:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");n.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const s=(0,t.Ay)("Set and replace emoji collections");s.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=(0,t.Ay)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const d=(0,t.Ay)("Signals that an emoji collection has been uninstalled");d.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const o=(0,t.Ay)("Signals that badges should be added post-install");o.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const a=(0,t.Ay)("Signals that the message input badge should be removed");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const i=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");i.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const m=(0,t.Ay)("Increments emoji click count");m.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},3004085654:(Q,C,e)=>{"use strict";e.d(C,{Cs:()=>v,Ur:()=>p,_J:()=>E,_o:()=>h,fl:()=>g,nQ:()=>u,pG:()=>f,uI:()=>_});var t=e(2101927269),n=e(9113979368),s=e(2141441167),r=e(2048121586),d=e(6696292586),o=e(8161242485),a=e(3385422400),i=e(2047021170);const m=60*60*24*14,l=(0,o.Ay)((A,y)=>A&&A.emojiCollections&&A.emojiCollections.collections&&A.emojiCollections.collections[y]);l.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(A,y)=>A&&A.emojiCollections&&A.emojiCollections.collections&&A.emojiCollections.collections[y]};const _=(0,o.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.collections);_.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:A=>A&&A.emojiCollections&&A.emojiCollections.collections};const v=(0,a.Mz)(_,A=>(0,t.A)(A,y=>y.installed)),u=(0,o.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.hasFetched);u.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:A=>A&&A.emojiCollections&&A.emojiCollections.hasFetched};const h=(0,o.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.inputBadge);h.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:A=>A&&A.emojiCollections&&A.emojiCollections.inputBadge};const f=(0,o.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.tabBadge);f.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:A=>A&&A.emojiCollections&&A.emojiCollections.tabBadge};const p=(0,o.Ay)(A=>A&&A.emojiCollections&&A.emojiCollections.emojiClickCount);p.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:A=>A&&A.emojiCollections&&A.emojiCollections.emojiClickCount};const E=(0,o.Ay)(A=>{const y=_(A);if((0,n.A)(y))return null;const T=(0,s.A)(y);return(0,r.A)(T,M=>M.date_create)});E.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:A=>{const y=_(A);if((0,n.A)(y))return null;const T=(0,s.A)(y);return(0,r.A)(T,M=>M.date_create)}};const g=(0,o.Ay)(A=>{const y=(0,i.ty)(A,"emoji_packs_most_recent_available_time");if(!(0,d.A)(y))return!1;const T=y+m;return Date.now()/1e3<T});g.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:A=>{const y=(0,i.ty)(A,"emoji_packs_most_recent_available_time");if(!(0,d.A)(y))return!1;const T=y+m;return Date.now()/1e3<T}}},7564917982:(Q,C,e)=>{"use strict";e.d(C,{H:()=>u});var t=e(7156798807),n=e(1031947056),s=e(1194535350),r=e(4724591729),d=e(3004085654),o=e(4318855015),a=e(2048121586),i=e(2047021170),m=e(5510392579),l=e(387484329);const _=(0,n.Ay)("handle updating prefs if new emoji pack has become available",(h,f,p)=>{let{collections:E}=p;const g=f(),A=(0,m.h3)(g),y=(0,i.ty)(g,"emoji_packs_most_recent_available_time")||0,T=(0,a.A)(E,D=>D.date_create),{date_create:M,installed:O}=T||{};(A||O)&&M>y&&h((0,l.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});_.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const v=_,u=(0,n.Ay)("Process and add emoji collections",(h,f,p)=>{let{reason:E}=p;const g=f();(0,d.nQ)(g)||(h((0,o.H9)({hasFetched:!0})),h((0,s.KO)({reason:E})).then(A=>{const y=A.installed||[],T=A.available||[],M=(0,t.A)(y,"id"),O=T.map(I=>({...I,installed:!!M[I.id],localEmoji:M[I.id]?M[I.id].emoji:I.emoji}));h(v({collections:O})),(0,r.Cu)()?h((0,o.qw)({collections:O.filter(I=>!["1044122771874","11"].includes(I.id))})):h((0,o.qw)({collections:O}))}).catch(()=>{h((0,o.H9)({hasFetched:!1}))}))});u.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},1890276164:(Q,C,e)=>{"use strict";e.d(C,{R:()=>n,t:()=>r});var t=e(8161242485);const n=(0,t.Ay)((o,a)=>{var i;return!!(!((i=o.externalTeamIds)===null||i===void 0)&&i[a])});n.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(o,a)=>{var i;return!!(!((i=o.externalTeamIds)===null||i===void 0)&&i[a])}};var s;const r=(0,t.Ay)(o=>!!Object.keys((s=o.externalTeamIds)!==null&&s!==void 0?s:{}).length);var d;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:o=>!!Object.keys((d=o.externalTeamIds)!==null&&d!==void 0?d:{}).length}},5549390246:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>h});var t=e(9113979368),n=e(8161242485),s=e(8393662842),r=e(8276911661),d=e(8677230210),o=e(8170643398),a=e(9464746668),i=e(3244118357),m=e(1002129445),l=e(4910963364),_=e(8847766420),v=e(735940183);const u=new v.Ay("files"),h=(0,n.Ay)((f,p)=>{if(!p||!(0,s.Vx)(p))return null;let E=u.t("External App");const g=(p==null?void 0:p.bot_user_id)||(p==null?void 0:p.user);if(g){var A;const y=(A=(0,r.nv)(f,g))!==null&&A!==void 0?A:void 0;if((0,o.po)(y)){const T=(0,a.A)(f,y),M=(0,d.AF)(f,T)||void 0,O=(0,i.Hg)(M);if(E=O||E,(0,t.A)(O)&&T){const I=(0,l.G2)(f,{serviceId:T,homeWorkspaceId:(0,i.AW)({bot:M,member:y,currentTeamId:(0,_.ZT)(f)})});E=(0,m.fj)(I)||E}}}return E});h.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(f,p)=>{if(!p||!(0,s.Vx)(p))return null;let E=u.t("External App");const g=(p==null?void 0:p.bot_user_id)||(p==null?void 0:p.user);if(g){var A;const y=(A=(0,r.nv)(f,g))!==null&&A!==void 0?A:void 0;if((0,o.po)(y)){const T=(0,a.A)(f,y),M=(0,d.AF)(f,T)||void 0,O=(0,i.Hg)(M);if(E=O||E,(0,t.A)(O)&&T){const I=(0,l.G2)(f,{serviceId:T,homeWorkspaceId:(0,i.AW)({bot:M,member:y,currentTeamId:(0,_.ZT)(f)})});E=(0,m.fj)(I)||E}}}return E}}},6415612447:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>i,r:()=>a});var t=e(8161242485),n=e(9101533895),s=e(3634593162),r=e(497761763),d=e(2960290117),o=e(6078549397);const a=c(m=>{if((0,d.Ay)(m)){const{fileIdOrQuipThreadId:v=null}=(0,o.EX)(m)||{};if(v&&(0,r.A)(v)){const u=v,h=(0,s.p)(u);return{fileId:u,channelId:h}}}if((0,r.A)(m)){const v=m,u=(0,s.p)(v);return{fileId:v,channelId:u}}const l=m;return{fileId:(0,s.l)(l),channelId:l}},"getIds"),i=(0,t.Ay)(function(m,l){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:v}=a(l);return(0,n.OL)(m,v,_)});i.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(m,l){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:v}=a(l);return(0,n.OL)(m,v,_)}}},6403218297:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8086952004),n=e(3571452446),s=e(6217320234),r=e(6626377467),d=e(7231740695);function o(a,i){if(!a||!i)return i;const m=i.comments||[],l=(0,t.A)(m,E=>E.id===a.id),_=(0,n.A)(l,["is_starred","_rxn_key"]),v={...l,...a,..._},u=(0,s.A)((0,r.A)([v,...m],"id"),"timestamp"),h=i.initial_comment&&a.id===i.initial_comment.id,f=h?v:i.initial_comment;l||(0,d.bG)(i,a),h&&(0,d.Sx)(i);const p={...i,comments:u};return f&&(p.initial_comment=f),p}c(o,"addCommentToFile")},9553287e3:(Q,C,e)=>{"use strict";e.d(C,{n:()=>d});var t=e(1031947056),n=e(2384831516);const s=(0,n.Mz)(o=>o.fullscreenHistory);s.meta={name:"createSelector",key:"createSelectorgetFullscreenHistory",description:o=>o.fullscreenHistory};var r=e(8646192222);const d=(0,t.Ay)("Find view container for a specific window history entry",(o,a,i)=>{let{id:m}=i;const l=a();return(0,r.iB)(l)?s(l)[m]:void 0});d.meta={name:"createThunk",key:"createThunkgetFullscreenContainerByHistoryId",description:"Find view container for a specific window history entry"}},56562029:(Q,C,e)=>{"use strict";e.d(C,{G:()=>d});var t=e(9139930183),n=e(848813706),s=e(3193155968);const r={enabled:!1,containers:{}},d=(0,t.Ay)({},r,{storeKey:"fullscreen",persistenceEnabled:!1}).on(n.K$,o=>({...o,enabled:!0})).on(n.sM,o=>({...o,enabled:!1,containers:{}})).on(n.BR,(o,a)=>{let{container:i,windowId:m}=a;const l=m===s.N2?"main":m;if(o.containers[l]===i)return o;if(i)return{...o,containers:{...o.containers,[l]:i}};const _={...o};return delete _.containers[l],_})},2332058678:(Q,C,e)=>{"use strict";e.d(C,{r:()=>t,u:()=>n});const t={openCount:0,unreadCount:0},n={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},761034736:(Q,C,e)=>{"use strict";e.d(C,{fE:()=>le,ZL:()=>Ee,Fb:()=>N,wB:()=>ne,Cb:()=>q,sv:()=>H,wg:()=>te,tL:()=>he,aN:()=>me,Mu:()=>Ie,Kb:()=>K,cN:()=>Y,ZO:()=>J,Eq:()=>ce,PN:()=>X});var t=e(8161242485),n=e(8847766420),s=e(3398586081),r=e(2141441167),d=e(8352634987),o=e(6533394955),a=e(4848430086),i=e(1031947056),m=e(930270247),l=e(7629299684),_=e(2927826522);const v=(0,i.Ay)("Fetch product release cards into the store",(x,S,U)=>{let{locale:F}=U;return x((0,m.l)({count:3,type:"product_release_card",locale:F,reason:"client/fetch_published_product_release_cards"})).then(Z=>{let{cards:z}=Z;x((0,l.M0)((0,_.t)(z)))})});v.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var u=e(9532047472);const h=(0,i.Ay)("Fetch helpdesk articles into the store",(x,S,U)=>{let{locale:F,reason:Z}=U;return x((0,u.a)({locale:F,reason:Z})).then(z=>{let{articles:$}=z;x((0,l.NX)((0,_.t)($))),x((0,l.a4)(F))})});h.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var f=e(9706240641),p=e(3593297427),E=e(138202077),g=e(6422693406);const A=(0,i.Ay)("Fetch recommended articles into the store",(x,S,U)=>{let{locale:F,reason:Z}=U;return x((0,E.H)({reason:Z})).then(function(){var z=(0,f.coroutine)(function*($){let{articles:ee,request_id:de}=$;const ie=yield g.S.all(ee.map(function(){var ue=(0,f.coroutine)(function*(fe){return x((0,p.w)({articleId:fe.id,locale:F,reason:Z})).then(re=>{let{article:_e}=re;return{id:_e.article_id,title:_e.title}})});return function(fe){return ue.apply(this,arguments)}}()));x((0,l.LV)({articles:ie,requestId:de??""}))});return function($){return z.apply(this,arguments)}}())});A.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var y=e(8745755260);const T=(0,i.Ay)("Fetch help sections into the store",(x,S,U)=>{let{categoryId:F,locale:Z,reason:z}=U;return x((0,y.h)({categoryId:F,locale:Z,reason:z})).then($=>{let{sections:ee}=$;return x((0,l.CK)((0,_.t)(ee)))})});T.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var M=e(6936450040);const O=(0,i.Ay)("Fetch help categories into the store",(x,S,U)=>{let{locale:F,reason:Z}=U;return x((0,M.G)({locale:F,reason:Z})).then(z=>{let{categories:$}=z;x((0,l.KO)((0,_.t)($))),x((0,l.WL)(F))})});O.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const I=(0,s.A)(()=>new d.Ay({storeKey:"help",fetch:x=>(0,o.dispatchForTeamId)(x,(0,a.w)()),isEnabled:()=>!0})),D=(0,s.A)(x=>new d.Ay({storeKey:"help",fetch:S=>(0,o.dispatchForTeamId)(S,v({locale:x})),isEnabled:()=>!0})),P=(0,s.A)((x,S)=>new d.Ay({storeKey:"help",fetch:U=>(0,o.dispatchForTeamId)(U,h({locale:x,reason:S})),isEnabled:()=>!0})),L=(0,s.A)((x,S)=>new d.Ay({storeKey:"help",fetch:U=>(0,o.dispatchForTeamId)(U,A({locale:x,reason:S})),isEnabled:()=>!0,maxAge:()=>86400})),k=(0,s.A)((x,S,U)=>new d.Ay({storeKey:"help",fetch:F=>(0,o.dispatchForTeamId)(F,T({categoryId:x,locale:S,reason:U})),isEnabled:()=>!0}),(x,S)=>(0,r.A)([x,S]).join("_")),G=(0,s.A)((x,S)=>new d.Ay({storeKey:"help",fetch:U=>(0,o.dispatchForTeamId)(U,O({locale:x,reason:S})),isEnabled:()=>!0}));var b=e(2332058678),W=e(735940183),B=e(9907843289);const R=new W.Ay("help"),j="",w=(0,t.Ay)(x=>x&&x.help||b.u);w.meta={name:"createSelector",key:"createSelectorgetHelpState",description:x=>x&&x.help||b.u};const N=(0,t.Ay)((x,S)=>{const U=(0,n.ZT)(x),F=(0,B.db)();return w(x).zdLocale!==F&&P(F,S).markObjectsAsStale(U,[F]),P(F,S).maybeRefetch(U,F),w(x).helpSearchArticles||[]});N.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(x,S)=>{const U=(0,n.ZT)(x),F=(0,B.db)();return w(x).zdLocale!==F&&P(F,S).markObjectsAsStale(U,[F]),P(F,S).maybeRefetch(U,F),w(x).helpSearchArticles||[]}};const K=(0,t.Ay)(x=>{const S=(0,n.ZT)(x),U=(0,W.Yp)();return w(x).locale!==U&&D(U).markObjectsAsStale(S,[U]),D(U).maybeRefetch(S,U),w(x).productReleaseCards||[]});K.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:x=>{const S=(0,n.ZT)(x),U=(0,W.Yp)();return w(x).locale!==U&&D(U).markObjectsAsStale(S,[U]),D(U).maybeRefetch(S,U),w(x).productReleaseCards||[]}};const J=(0,t.Ay)((x,S)=>{var U;const F=(0,n.ZT)(x),Z=(0,W.Yp)();return w(x).locale!==Z&&L(Z,S).markObjectsAsStale(F,[Z]),L(Z,S).maybeRefetch(F,Z),((U=w(x).recommendedArticles)===null||U===void 0?void 0:U.articles)||[]});J.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(x,S)=>{var U;const F=(0,n.ZT)(x),Z=(0,W.Yp)();return w(x).locale!==Z&&L(Z,S).markObjectsAsStale(F,[Z]),L(Z,S).maybeRefetch(F,Z),((U=w(x).recommendedArticles)===null||U===void 0?void 0:U.articles)||[]}};const Y=(0,t.Ay)(x=>{var S;return((S=w(x).recommendedArticles)===null||S===void 0?void 0:S.requestId)||""});Y.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:x=>{var S;return((S=w(x).recommendedArticles)===null||S===void 0?void 0:S.requestId)||""}};const q=(0,t.Ay)(x=>w(x).helpNavigation||b.u.helpNavigation);q.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:x=>w(x).helpNavigation||b.u.helpNavigation};const H=(0,t.Ay)((x,S,U)=>{var F,Z;const z=(0,n.ZT)(x),$=(0,W.Yp)(),ee=w(x).locale,de=U??((F=w(x).helpNavigation)===null||F===void 0?void 0:F.categoryId),ie=(Z=w(x).helpSections[0])===null||Z===void 0?void 0:Z.categoryId;return de?(ie&&de!==ie?(k(de,$,S).markObjectsAsStale(z,[de.toString()]),k(de,$,S).maybeRefetch(z,de.toString())):ee!==$&&k(de,$,S).markObjectsAsStale(z,[$]),k(de,$,S).maybeRefetch(z,$),w(x).helpSections||[]):w(x).helpSections||[]});H.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(x,S,U)=>{var F,Z;const z=(0,n.ZT)(x),$=(0,W.Yp)(),ee=w(x).locale,de=U??((F=w(x).helpNavigation)===null||F===void 0?void 0:F.categoryId),ie=(Z=w(x).helpSections[0])===null||Z===void 0?void 0:Z.categoryId;return de?(ie&&de!==ie?(k(de,$,S).markObjectsAsStale(z,[de.toString()]),k(de,$,S).maybeRefetch(z,de.toString())):ee!==$&&k(de,$,S).markObjectsAsStale(z,[$]),k(de,$,S).maybeRefetch(z,$),w(x).helpSections||[]):w(x).helpSections||[]}};const ne=(0,t.Ay)((x,S)=>{const U=(0,n.ZT)(x),F=(0,W.Yp)();return w(x).locale!==F&&G(F,S).markObjectsAsStale(U,[F]),G(F,S).maybeRefetch(U,F),w(x).helpCategories||[]});ne.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(x,S)=>{const U=(0,n.ZT)(x),F=(0,W.Yp)();return w(x).locale!==F&&G(F,S).markObjectsAsStale(U,[F]),G(F,S).maybeRefetch(U,F),w(x).helpCategories||[]}};const te=(0,t.Ay)(x=>w(x).helpTour||b.u.helpTour);te.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:x=>w(x).helpTour||b.u.helpTour};const le=(0,t.Ay)(x=>w(x).anchorId||b.u.anchorId);le.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:x=>w(x).anchorId||b.u.anchorId};const he=(0,t.Ay)(x=>w(x).isArticleLoaded||b.u.isArticleLoaded);he.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:x=>w(x).isArticleLoaded||b.u.isArticleLoaded};const Ie=(0,t.Ay)(x=>{var S,U;if(!((S=x.desktop)===null||S===void 0||(U=S.app)===null||U===void 0)&&U.updateInfo){var F;const{releaseName:Z}=x.desktop.app.updateInfo;if(!((F=x.desktop)===null||F===void 0)&&F.environment){const{appVersion:z}=x.desktop.environment;if(Z.endsWith(z))return null}return Z}return null});Ie.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:x=>{var S,U;if(!((S=x.desktop)===null||S===void 0||(U=S.app)===null||U===void 0)&&U.updateInfo){var F;const{releaseName:Z}=x.desktop.app.updateInfo;if(!((F=x.desktop)===null||F===void 0)&&F.environment){const{appVersion:z}=x.desktop.environment;if(Z.endsWith(z))return null}return Z}return null}};const Ee=(0,t.Ay)(x=>{if(x.desktop&&x.desktop.app&&x.desktop.app.updateInfo){const{releaseName:S,releaseNotes:U,releaseDate:F}=x.desktop.app.updateInfo;return{timestamp:F?F.getTime():Date.now(),title:S,description:R.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:U,url_title:R.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});Ee.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:x=>{if(x.desktop&&x.desktop.app&&x.desktop.app.updateInfo){const{releaseName:S,releaseNotes:U,releaseDate:F}=x.desktop.app.updateInfo;return{timestamp:F?F.getTime():Date.now(),title:S,description:R.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:U,url_title:R.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const me=(0,t.Ay)(x=>{const S=Ee(x)||null;return S?S.timestamp:-1});me.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:x=>{const S=Ee(x)||null;return S?S.timestamp:-1}};const ce=(0,t.Ay)(x=>{const S=(0,n.ZT)(x);return I().maybeRefetch(S,j),w(x).stats||b.r});ce.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:x=>{const S=(0,n.ZT)(x);return I().maybeRefetch(S,j),w(x).stats||b.r}};const X=(0,t.Ay)(x=>ce(x).unreadCount);X.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:x=>ce(x).unreadCount};const V=(0,t.Ay)(x=>w(x).isHelpTipHistoryTourActive||b.u.isHelpTipHistoryTourActive);V.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:x=>w(x).isHelpTipHistoryTourActive||b.u.isHelpTipHistoryTourActive}},4848430086:(Q,C,e)=>{"use strict";e.d(C,{w:()=>r});var t=e(1031947056),n=e(8726791251),s=e(7629299684);const r=(0,t.Ay)("Fetch and upsert ticket stats into the store",d=>d((0,n.I)({reason:"fetchAndUpsertTicketStats"})).then(o=>{const a={unreadCount:o.unread_count||0,openCount:o.open_count||0};return d((0,s.SX)(a)),a}));r.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},6121742712:(Q,C,e)=>{"use strict";e.d(C,{NJ:()=>le,Fv:()=>te,cw:()=>ne,uQ:()=>B,q1:()=>j,Yl:()=>ce,pM:()=>q,N6:()=>Y,zZ:()=>H,bn:()=>G,Rz:()=>he,nd:()=>b,ad:()=>W,i8:()=>R,qC:()=>K,Iy:()=>Ie,VT:()=>J,jo:()=>N,pk:()=>V,Wk:()=>X});var t=e(2101927269),n=e(2141441167),s=e(4423055085),r=e(8161242485),d=e(4813703725),o=e(3385422400),a=e(8847766420),i=e(2569545045),m=e(1521013946),l=e(2823938397),_=e(9706240641),v=e(6422693406),u=e(3398586081),h=e(3037015781),f=e(6533394955),p=e(4947933789),E=e(5209876365),g=e(5380461521);const A=(0,u.A)(()=>new h.Ay({fetch:y,metricsName:"hermesTriggers",upsertKnown:T,upsertNonExistent:T}));function y(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.S.map(S,function(){var U=(0,_.coroutine)(function*(F){try{return(yield(0,f.dispatchForTeamId)(x,(0,p.B)({triggerId:F,includeWorkflowDetails:!0,reason:"hermes_triggers_ufm"}))).trigger}catch(Z){return{id:F,error:Z.name}}});return function(F){return U.apply(this,arguments)}}())}c(y,"fetchTriggersForTeamId");function T(x,S){const U=S.map(F=>F.id);(0,g.X)().markObjectsAsFresh(x,U),(0,f.dispatchForTeamId)(x,(0,E.z4)({triggers:S}))}c(T,"upsertTriggersForTeamId");var M=e(2689960678),O=e(8481467080),I=e(9552526132),D=e(3799600789),P=e(3906734293);const L=(0,r.Ay)(x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.triggersById});L.meta={name:"createSelector",key:"createSelectorgetTriggersById",description:x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.triggersById}};const k=(0,r.Ay)(x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.recentlyRunTriggerIds});k.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerIds",description:x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.recentlyRunTriggerIds}};const G=(0,d.eI)((x,S,U)=>{let{triggerId:F}=S;var Z,z;const $=x==null||(Z=x.hermesTriggers)===null||Z===void 0||(z=Z.triggersById)===null||z===void 0?void 0:z[F],ee=(0,a.ZT)(x);return ee?$?((0,g.X)().maybeRefetch(ee,F),$):U?A().fetchObjectWithId(ee,F):(0,l.WQ)(F):(0,l.WQ)(F)}),b=(0,d.eI)((x,S)=>{let{triggerIds:U}=S;const F=(0,a.ZT)(x);return F?U.length?U.map(Z=>{var z,$;const ee=x==null||(z=x.hermesTriggers)===null||z===void 0||($=z.triggersById)===null||$===void 0?void 0:$[Z];return ee?((0,g.X)().maybeRefetch(F,Z),ee):A().fetchObjectWithId(F,Z)}):M.Ml:U.map(Z=>(0,l.WQ)(Z))}),W=(0,r.Ay)(x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.workflowPickerSearchResults)||M.Ml});W.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResults",description:x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.workflowPickerSearchResults)||M.Ml}};const B=(0,r.Ay)(x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.channelPrimaryActionSearchResults)||M.Ml});B.meta={name:"createSelector",key:"createSelectorgetChannelPrimaryActionSearchResults",description:x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.channelPrimaryActionSearchResults)||M.Ml}};const R=(0,r.Ay)((x,S)=>{const U=L(x)||{},F=new RegExp(S,"i"),Z=Object.keys(U).map($=>U[$]||{});return(0,t.A)(Z,$=>$&&(($==null?void 0:$.name)||"").match(F))||[]});R.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResultsCached",description:(x,S)=>{const U=L(x)||{},F=new RegExp(S,"i"),Z=Object.keys(U).map($=>U[$]||{});return(0,t.A)(Z,$=>$&&(($==null?void 0:$.name)||"").match(F))||[]}};const j=(0,r.Ay)((x,S)=>{const U=L(x)||{},F=new RegExp(S,"i"),Z=Object.keys(U).map($=>U[$]||{});return(0,t.A)(Z,$=>$&&$.type===I.M.Shortcut&&(($==null?void 0:$.name)||"").match(F))||[]});j.meta={name:"createSelector",key:"createSelectorgetChannelPrimaryActionSearchResultsCached",description:(x,S)=>{const U=L(x)||{},F=new RegExp(S,"i"),Z=Object.keys(U).map($=>U[$]||{});return(0,t.A)(Z,$=>$&&$.type===I.M.Shortcut&&(($==null?void 0:$.name)||"").match(F))||[]}};const w=(0,r.Ay)(x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||null});w.meta={name:"createSelector",key:"createSelectorgetGuidedTourCoachmark",description:x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||null}};const N=(0,r.Ay)(x=>{var S;const U=(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||"";return U==="platform-coachmark-tour"||U==="announce-only-platform-coachmark-tour"});N.meta={name:"createSelector",key:"createSelectorisWorkflowCoachmarkOpen",description:x=>{var S;const U=(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||"";return U==="platform-coachmark-tour"||U==="announce-only-platform-coachmark-tour"}};const K=(0,r.Ay)(x=>{var S;return((x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||"")==="announce-only-platform-coachmark-tour"});K.meta={name:"createSelector",key:"createSelectorisAnnounceOnlyWorkflowCoachmarkOpen",description:x=>{var S;return((x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||"")==="announce-only-platform-coachmark-tour"}};const J=(0,r.Ay)(x=>{var S;return((x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||"")==="slash-commands-coachmark-tour"});J.meta={name:"createSelector",key:"createSelectorisSlashCommandsCoachmarkOpen",description:x=>{var S;return((x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.openTourId)||"")==="slash-commands-coachmark-tour"}};const Y=(0,r.Ay)(x=>{var S;return(S=k(x))===null||S===void 0?void 0:S.map(U=>G(x,{triggerId:U}))});Y.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggers",description:x=>{var S;return(S=k(x))===null||S===void 0?void 0:S.map(U=>G(x,{triggerId:U}))}};const q=(0,r.Ay)(x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.recentlyRunTriggerTimestamps)||{}});q.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerTimestamps",description:x=>{var S;return(x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.recentlyRunTriggerTimestamps)||{}}};const H=(0,r.Ay)(x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.recentlyRunTriggerWorkflowActivity});H.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggersWorkflowActivity",description:x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.recentlyRunTriggerWorkflowActivity}};const ne=(0,r.Ay)(x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.triggersAvailableForWorkflowBuilder});ne.meta={name:"createSelector",key:"createSelectorgetAvailableTriggersForWorkflowBuilder",description:x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.triggersAvailableForWorkflowBuilder}};const te=(0,r.Ay)(x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.triggerCategoriesAvailableForWorkflowBuilder});te.meta={name:"createSelector",key:"createSelectorgetAvailableTriggerCategoriesForWorkflowBuilder",description:x=>{var S;return x==null||(S=x.hermesTriggers)===null||S===void 0?void 0:S.triggerCategoriesAvailableForWorkflowBuilder}};const le=(0,o.Mz)(x=>L(x),x=>{if(!x)return M.Ml;const S=(0,n.A)(x);return(0,t.A)(S,F=>!(!(0,P.G)(F)||F.workflow_details&&!F.workflow_details.is_published))}),he=(0,r.Ay)((x,S)=>{let{appId:U}=S;const F=L(x)||{};return Object.values(F).find(z=>{var $;return(z==null||($=z.workflow)===null||$===void 0?void 0:$.app_id)===U})});he.meta={name:"createSelector",key:"createSelectorgetTriggerFromSlackAppId",description:(x,S)=>{let{appId:U}=S;const F=L(x)||{};return Object.values(F).find(z=>{var $;return(z==null||($=z.workflow)===null||$===void 0?void 0:$.app_id)===U})}};const Ie=(0,r.Ay)((x,S)=>{const U=(0,m.$N)(x,S);return U?(U==null?void 0:U.type)===m.im.SHORTCUT_LINK_TRIGGER:!1});Ie.meta={name:"createSelector",key:"createSelectorisHermesLinkTriggerFormat",description:(x,S)=>{const U=(0,m.$N)(x,S);return U?(U==null?void 0:U.type)===m.im.SHORTCUT_LINK_TRIGGER:!1}};const Ee=(0,r.Ay)((x,S)=>{let{triggerId:U}=S;const F=G(x,{triggerId:U},!1);return F==null?void 0:F.shortcut_url});Ee.meta={name:"createSelector",key:"createSelectorgetShortcutUrl",description:(x,S)=>{let{triggerId:U}=S;const F=G(x,{triggerId:U},!1);return F==null?void 0:F.shortcut_url}};const me=(0,r.Ay)((x,S)=>{let{triggerId:U}=S;var F;return!!(!(x==null||(F=x.hermesTriggers)===null||F===void 0)&&F.triggersMarkedStaleInSession[U])});me.meta={name:"createSelector",key:"createSelectorhasTriggerBeenMarkedStaleInSession",description:(x,S)=>{let{triggerId:U}=S;var F;return!!(!(x==null||(F=x.hermesTriggers)===null||F===void 0)&&F.triggersMarkedStaleInSession[U])}};const ce=(0,r.Ay)((x,S)=>{let{block:U}=S;var F;const Z=U.functionTriggerId,z=(0,O.U)(U);if(!me(x,{triggerId:Z}))return z;const ee=G(x,{triggerId:Z},!0),de=ee==null||(F=ee.workflow)===null||F===void 0?void 0:F.workflow_id,ie=de?(0,i.g)(x,de):void 0;return(0,l.mX)(ee)||!ie||(0,l.mX)(ie)?z:(0,D.V)({passedShortcutInfo:z,trigger:ee,workflow:ie})});ce.meta={name:"createSelector",key:"createSelectorgetFreshShortcutInfoForShareShortcutBlock",description:(x,S)=>{let{block:U}=S;var F;const Z=U.functionTriggerId,z=(0,O.U)(U);if(!me(x,{triggerId:Z}))return z;const ee=G(x,{triggerId:Z},!0),de=ee==null||(F=ee.workflow)===null||F===void 0?void 0:F.workflow_id,ie=de?(0,i.g)(x,de):void 0;return(0,l.mX)(ee)||!ie||(0,l.mX)(ie)?z:(0,D.V)({passedShortcutInfo:z,trigger:ee,workflow:ie})}};const X=(0,d.eI)((x,S)=>ne(x).filter(F=>{var Z,z;return(F==null||(Z=F.label)===null||Z===void 0?void 0:Z.length)&&(F==null||(z=F.label)===null||z===void 0?void 0:z.toLowerCase().includes(S.toLowerCase()))}).map(F=>({...F,title:F.label}))),V=(0,d.eI)((x,S)=>{const U=te(x);return Object.entries(U).filter(F=>{let[,Z]=F;var z;return(Z==null?void 0:Z.name.length)&&(Z==null||(z=Z.name)===null||z===void 0?void 0:z.toLowerCase().includes(S.toLowerCase()))}).map(F=>{let[Z,z]=F;return{id:z.name,title:z.name,appId:Z}})});(0,s.ul)("hermesTriggers",function(x,S){let{triggerId:U}=S,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return G(x,{triggerId:U},F)})},7478895768:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>E,tP:()=>p});var t=e(9706240641),n=e.n(t),s=e(8840779375),r=e(9268023148),d=e(6494470131),o=e(1031947056),a=e(5380461521),i=e(8847766420),m=e(5209876365),l=e(796111729),_=e(1948374838),v=e(6121742712);const u=(0,o.Ay)("Fetch triggers with query",function(){var A=(0,t.coroutine)(function*(y,T,M){let{query:O,currentChannelId:I,useLegacyCacheing:D=!1,includeAutomatedTriggers:P=!1,strictExposureRules:L=!0}=M;const k=T(),G=(0,i.ZT)(k),b=(0,_.X)(k),W=P?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(b.containsPrefixOf(O)){if(D){const B=P?(0,v.i8)(k,O):(0,v.q1)(k,O);return y(P?(0,m.we)({results:B}):(0,m.S8)({results:B})),B}}else try{const R=(yield y((0,d.v)({query:O,currentChannelId:I,strictExposureRules:L,triggerTypes:W,reason:"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,j=5;return R.length<j&&(b.addAsPrefix(O),b.clearRequestInFlight()),G&&(0,a.X)().markObjectsAsFresh(G,(0,s.A)(R,"id")),y((0,m.z4)({triggers:R})),D&&y(P?(0,m.we)({results:R}):(0,m.S8)({results:R})),R}catch(B){return(0,l.Wo)().error(B,"There was an issue fetching triggers with query"),[]}return[]});return function(y,T,M){return A.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const h=500,f=(0,r.A)((A,y)=>{let{query:T,includeAutomatedTriggers:M,strictExposureRules:O}=y;return A(u({query:T,includeAutomatedTriggers:M,strictExposureRules:O}))},h,{leading:!0,trailing:!0}),p=(0,o.Ay)("debounced fetch and upsert triggers with query",(A,y,T)=>{let{query:M,includeAutomatedTriggers:O,strictExposureRules:I}=T;return f(A,{query:M,includeAutomatedTriggers:O,strictExposureRules:I})});p.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const E=u,g={DEBOUNCE_MS:h}},5492254797:(Q,C,e)=>{"use strict";e.d(C,{P:()=>d,S:()=>o});var t=e(3398586081),n=e(796111729),s=e(6244014364);const r=c(a=>{try{return JSON.stringify(a)}catch(i){return(0,n.Wo)().error("stringify-error-constructing-link-trigger-context-from-message",i),""}},"stringifyObject"),d=(0,t.A)(a=>a!=null&&a.channelId?{location:"message",channelId:a.channelId,messageTs:(a==null?void 0:a.ts)||""}:{location:"markdown_link"},r),o=(0,t.A)((a,i)=>({eventId:s.EventId.HERMES_LINK_TRIGGER,uiComponentName:s.UiComponentName.LINK_TRIGGER_URL,entryPoint:a?"message":"other",workflowTriggerId:i.triggerId,channelId:a==null?void 0:a.channelId,onClick:{enableClogAction:!0}}),r)},2569545045:(Q,C,e)=>{"use strict";e.d(C,{g:()=>E,R:()=>g});var t=e(8161242485),n=e(2823938397),s=e(8847766420),r=e(8032027544),d=e(9706240641),o=e(3398586081),a=e(8840779375),i=e(6422693406),m=e(3037015781),l=e(6533394955),_=e(3118461857),v=e(4134951078);const u=(0,o.A)(()=>new m.Ay({fetch:h,upsertKnown:f,upsertNonExistent:f,isEnabled:()=>!0}));function h(A,y){return i.S.map(y,function(){var T=(0,d.coroutine)(function*(M){try{return(yield(0,l.dispatchForTeamId)(A,(0,_.D)({workflowId:M,reason:"hermes_workflows_store_unknown_fetching"}))).workflow}catch{var O;const D=(O=(0,l.getStateByTeamId)(A).hermesWorkflows)===null||O===void 0?void 0:O[M];return(0,m.GU)(D)?null:D}});return function(M){return T.apply(this,arguments)}}()).filter(T=>T)}c(h,"fetchWorkflowsForTeamId");function f(A,y){(0,r.G)().markObjectsAsFresh(A,(0,a.A)(y,"id")),(0,l.dispatchForTeamId)(A,(0,v.uY)({workflows:y}))}c(f,"upsertWorkflowsForTeamId");const p={fetchWorkflowsForTeamId:h,upsertWorkflowsForTeamId:f},E=(0,t.Ay)(function(A,y){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var M;const O=(0,s.ZT)(A),I=(M=A.hermesWorkflows)===null||M===void 0?void 0:M[y];return O?I?((0,r.G)().maybeRefetch(O,y),I):T?u().fetchObjectWithId(O,y):(0,n.WQ)(y):(0,n.WQ)(y)});E.meta={name:"createSelector",key:"createSelectorgetWorkflowById",description:function(A,y){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var M;const O=(0,s.ZT)(A),I=(M=A.hermesWorkflows)===null||M===void 0?void 0:M[y];return O?I?((0,r.G)().maybeRefetch(O,y),I):T?u().fetchObjectWithId(O,y):(0,n.WQ)(y):(0,n.WQ)(y)}};const g=(0,t.Ay)((A,y)=>{const T=E(A,y);return(0,n.GU)(T)?[]:T.steps});g.meta={name:"createSelector",key:"createSelectorgetWorkflowStepsById",description:(A,y)=>{const T=E(A,y);return(0,n.GU)(T)?[]:T.steps}}},8239363237:(Q,C,e)=>{"use strict";e.d(C,{GF:()=>m,Tk:()=>l,UI:()=>p,X_:()=>_,iN:()=>f,pm:()=>u,t6:()=>E,vc:()=>v,xA:()=>h});var t=e(3385422400),n=e(8393662842),s=e(937317117),r=e(1990810649),d=e(387328355);const o=c((g,A)=>{var y;return A?(y=(0,s.Lp)(g,A))===null||y===void 0?void 0:y.localUpdated:null},"getFileLocalUpdated"),a=c(g=>(0,d.lt)(g),"getFileId"),i=c(g=>(0,t.Mz)([A=>(0,d.JC)(A),A=>{const y=a(A);return o(A,y)},A=>{const y=a(A);return y?(0,s.Lp)(A,y):null}],(A,y,T)=>T!=null&&T.id&&(A===r.cM.CanvasFile||A===r.cM.QuipFile)?g(T):null),"selectFromUpdatedFile"),m=i(g=>g),l=i(g=>g==null?void 0:g.id),_=i(g=>g?(0,n.sJ)(g):!1),v=i(g=>g?(0,n.uO)(g):!1),u=i(g=>g?(0,n.WP)(g):null),h=i(g=>g==null?void 0:g.user),f=i(g=>!!g),p=i(g=>g?(0,n.l7)(g):!1),E=i(g=>g?(0,n.wL)(g):!1)},5145584581:(Q,C,e)=>{"use strict";e.d(C,{x:()=>g});var t=e(8628145494),n=e(1031947056),s=e(6533394955),r=e(4250409994),d=e(5286203919),o=e(387328355),a=e(1990810649),i=e(7434063642),m=e(6251210828),l=e(7723800688),_=e(2664504268),v=e(6470070112),u=e(6244014364),h=e(56548687),f=e(5737576046),p=e(7884000776);const E=c((y,T,M,O)=>{const I=(0,s.getStateForClientStore)(),D=(0,d.E9)(I),P=(0,v.$t)(T,{huddleId:D}),L=(0,v.kn)(I),k=(0,v.UE)(I),G=(0,m.Ec)(T,{huddleId:D});let b,W,B=null,R=null,j=null;if(M===a.cM.None)b=l.Hi.FOCUS_CLOSE,W=(0,m.U7)(T,{key:l.Hi.FOCUS_OPEN});else{var w;switch(b=l.Hi.FOCUS_OPEN,W=(0,_.A)(),j=(O==null||(w=O.item)===null||w===void 0?void 0:w.id)||null,M){case a.cM.Screenshare:B="focus_screenshare",R="screenshare";break;default:B="focus_file",R="file"}y((0,i.Mn)({key:l.Hi.FOCUS_OPEN,value:W}))}(0,h.e)({state:T}).track(u.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:G?G.toString():null,ui_properties:{element_name:b},action:u.UiAction.IMPRESSION},calls:k},...P,...L,interaction_id:W,canvas_dimension_marker:B,type:R,item_file_id:j})},"clogCanvasEvent"),g=(0,n.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(y,T,M)=>{if(!M||(0,t.A)(M.contentViewType))return;const O=T(),I=M.contentViewType,D=!1;if(I===a.cM.Screenshare){const L=(0,o.JC)(O),k=A(O);L===a.cM.None&&!k&&y((0,i.fI)({isThreadOpen:!1})),y((0,i.Zx)({userId:""}))}y((0,i.YC)({isFullscreen:D})),y((0,i.s7)({isNotesOpen:I===a.cM.QuipFile}));const P=M.contentViewType===a.cM.None||!M.contentViewConfig?{}:M.contentViewConfig;y((0,o.sK)({id:M.peerId,contentViewType:I,contentViewConfig:P})),(0,s.dispatchForClientStore)((0,r.xq)({contentViewType:I,contentViewConfig:P})),E(y,O,I,P)});g.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function A(y){const T=(0,s.getStateForClientStore)(),M=(0,d.E9)(T),O=(0,d.hc)(T),I=(0,m.fG)(y,{huddleId:M});if(!(I!=null&&I.ts)||!O)return!1;const D=(0,f.zC)({viewContext:p.Y.HUDDLE_THREADS,channelId:O,threadTs:I.ts});return(D==null?void 0:D.hasFocus())||!1}c(A,"doesThreadInputHaveFocus")},6758774099:(Q,C,e)=>{"use strict";e.d(C,{Lm:()=>r,T3:()=>s,U$:()=>d,WO:()=>n,dD:()=>a,h2:()=>o,jL:()=>i});var t=e(2140362605);const n=(0,t.Ay)("Enable huddle event log");n.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const s=(0,t.Ay)("Disable huddle event log");s.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=(0,t.Ay)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const d=(0,t.Ay)("Add non-transcription event");d.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const o=(0,t.Ay)("Update with latest transcription events");o.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const a=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");a.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const i=(0,t.Ay)("Set enabled state for huddle closed captions view");i.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},8409540889:(Q,C,e)=>{"use strict";e.d(C,{u:()=>n,y:()=>t});const t=2e3,n=2e3},4988306802:(Q,C,e)=>{"use strict";e.d(C,{Cb:()=>_,M3:()=>i,TP:()=>o,VN:()=>m,gL:()=>a,iv:()=>v});var t=e(3385422400),n=e(8161242485),s=e(8409540889),r=e(8783285437);const d=(0,n.Ay)(u=>u.huddleEvents);d.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:u=>u.huddleEvents};const o=(0,n.Ay)(u=>d(u).enabled);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:u=>d(u).enabled};const a=(0,n.Ay)(u=>d(u).isLoading);a.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:u=>d(u).isLoading};const i=(0,n.Ay)(u=>u.huddleEvents.isSideBySideEnabled);i.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:u=>u.huddleEvents.isSideBySideEnabled};const m=(0,n.Ay)(u=>u.huddleEvents.isClosedCaptionsEnabled);m.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:u=>u.huddleEvents.isClosedCaptionsEnabled};const l=(0,n.Ay)(u=>u.huddleEvents.isClosedCaptionsEnabled);l.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:u=>u.huddleEvents.isClosedCaptionsEnabled};const _=(0,t.Mz)(u=>d(u).events,u=>{const h=[];let f,p=[];const E=c(()=>{f&&h.push({...f,content:p.join(" ")})},"maybeCommit");return u.forEach(g=>{f&&g.type===r.v.TRANSCRIBE&&f.memberId===g.memberId&&g.timestampMs-f.endTimeMs<s.y?(p.push(g.content),f.endTimeMs=g.endTimeMs):(E(),g.type===r.v.TRANSCRIBE?(f={type:r.v.TRANSCRIBE,resultId:"",memberId:g.memberId,content:"",timestampMs:g.timestampMs,endTimeMs:g.endTimeMs},p=[g.content]):(f=null,p=[],h.push(g)))}),E(),h}),v=(0,t.Mz)(u=>_(u),u=>u.filter(h=>h.type===r.v.TRANSCRIBE||h.type===r.v.START_TRANSCRIPTION).slice(-5))},1889537412:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(727128009),d=e(6422693406),o=e(9640070512),a=e(2527782504),i=e(6758774099),m=e(4988306802),l=e(7004355564),_=e(6533394955),v=e(796111729),u=e(5286203919),h=e(8783285437),f=e(6694086724),p=e(8872167513),E=e(2709531527);const g=(0,s.Ay)("Start transcription for current huddle",function(){var y=(0,t.coroutine)(function*(T,M){if((0,m.TP)(M())||(0,m.gL)(M()))return d.S.resolve();const O=(0,_.getStateForClientStore)(),I=(0,u.E9)(O);return I?(T((0,i.WO)()),T((0,i.Lm)(!0)),yield(0,l.A)(),T((0,f.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),T((0,r.i)({reason:"start-event-log",callId:I})).catch(D=>{var P;if(((P=D.data)===null||P===void 0?void 0:P.error)==="permission_denied")return d.S.delay(5e3).then(()=>T((0,r.i)({reason:"start-event-log/retry",callId:I})));throw D}).catch(D=>{(0,v.Ay)({getState:M}).error(D),T((0,i.T3)())}).finally(()=>{T((0,i.Lm)(!1)),T((0,o.H)({focusKey:a.Ay.HUDDLE_CAPTIONS_TAB})),T((0,i.U$)({type:h.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:Date.now()}));const{huddleEventsTrace:D}=(0,p.A)().getAllTraceHandlers();D==null||D.update({name:E.p.TRANSCRIPT,type:E.G.START})})):d.S.reject(new Error("No active call ID for huddle"))});return function(T,M){return y.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const A=g},6855917924:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(1031947056),n=e(580220061),s=e(6422693406),r=e(6758774099),d=e(4988306802),o=e(6533394955),a=e(5286203919),i=e(8872167513),m=e(2709531527);const l=(0,t.Ay)("Stop transcription for current huddle",(v,u)=>{if(!(0,d.TP)(u())||(0,d.gL)(u()))return s.S.resolve();const h=(0,o.getStateForClientStore)(),f=(0,a.E9)(h);return f?(v((0,r.T3)()),v((0,r.Lm)(!0)),v((0,n.W)({reason:"stop-event-log",callId:f})).finally(()=>{v((0,r.Lm)(!1));const{huddleEventsTrace:p}=(0,i.A)().getAllTraceHandlers();p==null||p.update({name:m.p.TRANSCRIPT,type:m.G.STOP})})):s.S.reject(new Error("No active call ID for huddle"))});l.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const _=l},8783285437:(Q,C,e)=>{"use strict";e.d(C,{v:()=>t});var t;(function(n){n.JOIN="JOIN",n.LEAVE="LEAVE",n.SCREENSHARE_START="SCREENSHARE_START",n.SCREENSHARE_STOP="SCREENSHARE_STOP",n.TRANSCRIBE="TRANSCRIBE",n.SEND_REACTION="SEND_REACTION",n.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},4250409994:(Q,C,e)=>{"use strict";e.d(C,{Ag:()=>K,B5:()=>z,Bk:()=>k,Db:()=>S,Dj:()=>ue,Gx:()=>he,HC:()=>I,HF:()=>O,Hg:()=>ee,I9:()=>m,JM:()=>me,Jc:()=>f,Ko:()=>G,Lx:()=>V,M4:()=>_,OA:()=>x,QZ:()=>T,Rb:()=>L,Rh:()=>h,Rr:()=>M,Sd:()=>d,Sn:()=>A,TK:()=>de,VU:()=>s,WB:()=>W,WM:()=>w,WY:()=>X,YA:()=>y,Yi:()=>b,_H:()=>te,_I:()=>o,_U:()=>Y,_u:()=>ce,aO:()=>j,bV:()=>q,bk:()=>Ee,cx:()=>Ie,f2:()=>R,fP:()=>g,hB:()=>p,kg:()=>$,kn:()=>r,nI:()=>Z,nU:()=>l,nw:()=>U,o9:()=>F,og:()=>Be,ol:()=>D,pl:()=>i,qW:()=>a,qr:()=>H,so:()=>v,t2:()=>ie,u8:()=>E,xf:()=>u,xq:()=>J,yR:()=>P,yi:()=>le});var t=e(2140362605),n=e(1031947056);const s=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");s.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const r=(0,t.Ay)("Stores audio reference that will be passed to SDK");r.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const d=(0,t.Ay)("Start video shariing");d.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const o=(0,t.Ay)("Stop video shariing");o.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const a=(0,t.Ay)("Connect to Huddle media server");a.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const i=(0,t.Ay)("Leave the huddle and stop media transmission");i.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const m=(0,t.Ay)("Enable or disable local microphone");m.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const l=(0,t.Ay)("Send an emoji reaction");l.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const _=(0,t.Ay)("Send a sticky emoji reaction");_.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const v=(0,t.Ay)("Send a mute request");v.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const u=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");u.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const h=(0,t.Ay)("Upsert existing active huddle reference");h.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const f=(0,t.Ay)("Upsert existing active huddle channel");f.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const p=(0,t.Ay)("Set active huddle invite");p.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const E=(0,t.Ay)("Clear invite for given channel ID");E.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const g=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");g.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const A=(0,n.Ay)("Mark invite notifications as viewed by clearing them after a delay",(ke,se,ve)=>{let{delay:Me,teamId:be}=ve;setTimeout(()=>{ke(g({teamId:be,markBeforeMs:Date.now()-Me}))},Me)});A.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const y=(0,t.Ay)("Start screen share for current user with given mediaSourceId");y.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const T=(0,t.Ay)("Stop screen share for current user");T.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const M=(0,t.Ay)("Notify peers of changes to isDrawEnabled");M.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const O=(0,t.Ay)("Enabled annotations for screen share host");O.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const I=(0,t.Ay)("Notify middleware that a new preferred device was selected");I.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const D=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");D.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const P=(0,t.Ay)("Notify middleware that noise suppression setting has changed");P.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const L=(0,t.Ay)("Notify middleware that video background setting has changed");L.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const k=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");k.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const G=(0,t.Ay)("Internal store update for mini-panel visibility");G.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const b=(0,t.Ay)("Upsert join credentials for a channel");b.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const W=(0,t.Ay)("Clear the join credentials for a specific channel");W.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const B=(0,t.Ay)("Store and/or remote push Chime meeting events");B.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const R=(0,t.Ay)("Transition from the prejoin state to started");R.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const j=(0,t.Ay)("Action to update the store to either show or hide discovery banner");j.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const w=(0,t.Ay)("Toggle Video");w.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const N=(0,t.Ay)("Reporting CPU and memory usage stats");N.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const K=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");K.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const J=(0,t.Ay)("Set current focused view type");J.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const Y=(0,t.Ay)("Set last huddle start time");Y.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const q=(0,t.Ay)("Set last huddle end time");q.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const H=(0,t.Ay)("Set last huddle duration time");H.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const ne=(0,t.Ay)("Toggle video background filter");ne.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const te=(0,t.Ay)("Starts the video preview on the video element using the specified device");te.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const le=(0,t.Ay)("Stops the video preview on the video element");le.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const he=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");he.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const Ie=(0,t.Ay)("Resets the store");Ie.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const Ee=(0,t.Ay)("Start the canvas jukebox using content share");Ee.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const me=(0,t.Ay)("Stop the canvas jukebox");me.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const ce=(0,t.Ay)("Set selected song");ce.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const X=(0,t.Ay)("Send jukebox active song");X.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const V=(0,t.Ay)("Request a jukebox song");V.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const x=(0,t.Ay)("Request the jukebox stops");x.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const S=(0,t.Ay)("Send recording start notification");S.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const U=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");U.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const F=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");F.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const Z=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");Z.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const z=(0,t.Ay)("Reports to the SDK when the client is offline");z.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const $=(0,t.Ay)("Sets whether audio only mode is active or not.");$.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const ee=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");ee.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const de=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");de.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const ie=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");ie.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const ue=(0,t.Ay)("Asks for video permission and enumerates devices");ue.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const fe=(0,t.Ay)("Execute readiness check for audio input");fe.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const re=(0,t.Ay)("Execute readiness check for audio output");re.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const _e=(0,t.Ay)("Execute readiness check for video input");_e.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const Ue=(0,t.Ay)("Execute readiness check for a particular camera resolution");Ue.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const ye=(0,t.Ay)("Execute readiness check for audio connectivity");ye.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const Te=(0,t.Ay)("Execute readiness check for video connectivity");Te.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const ge=(0,t.Ay)("Execute readiness check for content share connectivity");ge.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const Ae=(0,t.Ay)("Execute readiness check for network UDP connectivity");Ae.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const Re=(0,t.Ay)("Execute readiness check for network TCP connectivity");Re.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Be=(0,t.Ay)("Sets that the Huddle was joined via prejoin");Be.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"}},5702042015:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d,p:()=>o});var t=e(5286203919),n=e(4250409994),s=e(1031947056);let r;const d=(0,s.Ay)("Temporarily show mini-panel",function(a,i){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),a((0,n.Ko)(!0)),r=setTimeout(()=>a((0,n.Ko)(!1)),m)});d.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const o=(0,s.Ay)("Temporarily pause mini-panel visibility transition",(a,i)=>{const m=i();(0,t.Ae)(m)&&clearTimeout(r)});o.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},2778217221:(Q,C,e)=>{"use strict";e.d(C,{WS:()=>s,nq:()=>n,o7:()=>t});const t="HUDDLES",n=864e5,s=2},5378147939:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ue});var t=e(9706240641),n=e(3398586081),s=e(387328355),r=e(1289024643),d=e(462591818),o=e(6533394955),a=e(5795074931),i=e(2047021170),m=e(1889537412),l=e(6758774099),_=e(4250409994),v=e(5881236351),u=e(1031947056),h=e(6562711329);const f=(0,u.Ay)("Fetch channel membership info for huddle member",(fe,re,_e)=>{let{channelId:Ue,userId:ye}=_e;return fe((0,h.z)({channelId:Ue,userIds:[ye]})).then(Te=>{let{membershipInfo:ge}=Te;return ge[ye]&&"isMember"in ge[ye]?!ge[ye].isMember:!0})});f.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var p=e(2778217221),E=e(7434063642),g=e(9548972574),A=e(5332875232),y=e(3677514771),T=e(8305649700),M=e(1883693579),O=e(9712681361),I=e(9680914051),D=e(4695727674),P=e(4540171876),L=e(6422693406),k=e(6470070112),G=e(6839188756),b=e(56548687),W=e(6244014364),B=e(5741354339),R=e(6929023741),j=e(4476913522),w=e(5286203919),N=e(4423055085),K=e(2141441167),J=e(4949104520),Y=e(796111729),q=e(9190452268),H=e(1651628626),ne=e(2664504268),te=e(1921074781),le=e(5203103513);const he=60*1e3,Ie=15*1e3,Ee=1e3*10,me=1e3*60,ce=5e3;let X=!1;const V=500,x=25;let S=c(class{setTargetState(re){var _e=this;return(0,t.coroutine)(function*(){_e.targetState=re;const{huddleState:Ue,huddleSubState:ye}=_e.targetState;_e.isValidHuddleSubState(Ue,ye)||(_e.targetState.huddleSubState=_e.getInitialSubStateForHuddleState(Ue)),(0,o.dispatchForClientStore)((0,_.Rh)(_e.getOptimisticState(re))),yield _e.process()})()}setTargetChannel(re){this.targetState.channelId=re}setTargetSubState(re){var _e=this;return(0,t.coroutine)(function*(){_e.isValidHuddleSubState(_e.targetState.huddleState,re)&&(_e.targetState.huddleSubState=re,yield _e.process())})()}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:O.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}waitForStartStop(){var re=this;return(0,t.coroutine)(function*(){return re.startStopDeferred||L.S.resolve()})()}isProcessing(){var re;return(re=this.startStopDeferred)===null||re===void 0?void 0:re.isPending()}isTargetState(){const{teamId:re,channelId:_e,huddleState:Ue}=this.getClientHuddleState();return(0,k.Ft)(this.targetState.huddleState)?Ue===this.targetState.huddleState:re===this.targetState.teamId&&_e===this.targetState.channelId&&Ue===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(re){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>re-V:!1}isValidHuddleSubState(re,_e){return re===O.RJ.STARTED?_e===void 0?!1:(0,K.A)(O.J_).includes(_e):_e===void 0}getInitialSubStateForHuddleState(re){if(re===O.RJ.STARTED)return O.J_.INITIAL_ALONE}process(){var re=this;return(0,t.coroutine)(function*(){if(re.isProcessing())return re.waitForStartStop();re.startStopDeferred=(0,B.u)();const _e=setTimeout((0,t.coroutine)(function*(){var Ue;if(!((Ue=re.startStopDeferred)===null||Ue===void 0)&&Ue.isPending()){const ye=new L.S.TimeoutError("HuddleStateManager timeout");yield re.handleErrorAndDisconnect(ye)}}),re.startStopTimeout);try{yield re.runLoop(),clearTimeout(_e),re.startStopDeferred.resolve()}catch(Ue){yield re.handleErrorAndDisconnect(Ue)}finally{clearTimeout(_e)}re.startStopDeferred=null})()}runLoop(){var re=this;return(0,t.coroutine)(function*(){let _e=0;for(;!re.isTargetState();){if(!re.isProcessing())return;if(_e+=1,_e>x)throw new Error("runLoop was stuck");const{teamId:Te,channelId:ge,huddleState:Ae}=re.getClientHuddleState(),{teamId:Re,channelId:Be,huddleState:ke,callId:se}=re.targetState;if(Te!==Re&&(delete re.clogger,delete re.logger,delete re.telemeter),[O.RJ.STARTED,O.RJ.PRE_JOINED].includes(ke)){if(Te!==Re||ge!==Be){switch(Ae){case O.RJ.PENDING:case O.RJ.STARTED:case O.RJ.PRE_JOINED:yield re.goToNext(O.RJ.ENDING);break;default:yield re.goToNext(O.RJ.STARTING)}continue}switch(Ae){case O.RJ.NOT_STARTED:yield re.goToNext(O.RJ.STARTING);break;case O.RJ.STARTING:try{yield re.goToNext(O.RJ.PENDING)}catch(ve){var Ue;if(!((Ue=re.credentials)===null||Ue===void 0)&&Ue.isQuickJoinCredentials){if(delete re.credentials,yield re.clearQuickJoinCredentials(),ve.message===O.M6.ChimeMeetingEnded)throw ve;if(se){const Ke=(0,g.P_)(re.getState(),se);if(Ke&&Ke.hasEnded)throw new Error(O.M6.ChimeMeetingEnded)}const Me=Date.now(),be=!0;yield re.safelyDisconnect(be);const Le=Date.now()-Me;re.getLogger().info(`Disconnecting after failed attempt to join huddle added ${Le}ms to TTI`),yield re.goToNext(O.RJ.STARTING)}else throw ve}break;case O.RJ.PENDING:yield re.goToNext(re.targetState.huddleState);break;case O.RJ.PRE_JOINED:yield re.goToNext(O.RJ.COMPLETING_PRE_JOIN);break;case O.RJ.COMPLETING_PRE_JOIN:yield re.completePrejoin({isStartMuted:re.targetState.muted}),yield re.goToNext(O.RJ.STARTED);break;case O.RJ.STARTED:throw new Error("This should not be possible");case O.RJ.ENDING:case O.RJ.SURVEY:case O.RJ.SURVEY_GOOD:default:yield re.goToNext(O.RJ.STARTING);break}continue}if([O.RJ.PENDING,O.RJ.STARTED,O.RJ.PRE_JOINED].includes(Ae)){yield re.goToNext(O.RJ.ENDING);continue}yield re.goToNext(ke)}let ye=0;for(;!re.isTargetSubState();){if(ye+=1,ye>x)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:Te,huddleSubState:ge}=re.getClientHuddleState(),{huddleSubState:Ae}=re.targetState;if(!re.isValidHuddleSubState(Te,Ae)){const Re=re.getInitialSubStateForHuddleState(Te);re.targetState.huddleSubState=Re,yield re.goToNextSubState(Re),re.getLogger().warn(p.o7,`attempted to reach invalid huddleSubstate (${Ae}) for the given huddleState (${Te})`);continue}if(Te===O.RJ.STARTED){switch(ge){case O.J_.INITIAL_ALONE:if(Ae===O.J_.INITIAL_ALONE_NOTICE_ACTIVE){yield re.goToNextSubState(Ae);break}yield re.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(Ae===O.J_.INITIAL_ALONE_NOTICE_DISMISSED){yield re.goToNextSubState(Ae);break}yield re.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.INITIAL_ALONE_NOTICE_DISMISSED:yield re.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.IN_PROGRESS_TOGETHER:yield re.goToNextSubState(O.J_.IN_PROGRESS_ALONE);break;case O.J_.IN_PROGRESS_ALONE:if(Ae===O.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){yield re.goToNextSubState(Ae);break}yield re.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(Ae===O.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){yield re.goToNextSubState(Ae);break}yield re.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;case O.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:yield re.goToNextSubState(O.J_.IN_PROGRESS_TOGETHER);break;default:yield re.goToNextSubState(O.J_.INITIAL_ALONE)}continue}yield re.goToNextSubState(void 0)}})()}goToNext(re){var _e=this;return(0,t.coroutine)(function*(){var Ue,ye,Te,ge;_e.getLogger().info(`Marking huddle as ${re} [${(Te=(Ue=_e.targetState)===null||Ue===void 0?void 0:Ue.teamId)!==null&&Te!==void 0?Te:"N/A"}, ${(ge=(ye=_e.targetState)===null||ye===void 0?void 0:ye.channelId)!==null&&ge!==void 0?ge:"N/A"}]`);const Ae=Date.now();_e.timeOfLastStateChange=Ae,_e.timeOfLastSubStateChange=Ae;const Re=_e.getInitialSubStateForHuddleState(re);if(re===O.RJ.STARTING){var Be,ke;const Me=_e.assertTargetTeamAndChannel(O.RJ.STARTING),be=_e.getOptimisticState(_e.targetState);_e.getLogger().info(`Optimistic state: ${be.optimisticHuddleState}`),(0,o.dispatchForClientStore)((0,_.xf)({huddleState:re,huddleSubState:Re,...Me,...be,isPrejoin:((Be=_e.targetState)===null||Be===void 0?void 0:Be.huddleState)===O.RJ.PRE_JOINED,sessionId:(0,ne.A)()})),_e.credentials=yield _e.fetchCredentials(),(ke=_e.getTelemeter())===null||ke===void 0||ke.mark(I.Bq);return}if(re===O.RJ.PENDING){const Me=_e.assert(_e.credentials,"Expected credentials to be set before PENDING");(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:re,huddleSubState:Re,..._e.assertTargetTeamAndChannel(O.RJ.PENDING),callId:Me.roomId})),yield _e.connectToChime(Me,_e.targetState),delete _e.credentials;return}if(re===O.RJ.STARTED){var se;const Me=_e.assertTargetTeamAndChannel(O.RJ.STARTED);(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:re,huddleSubState:Re,optimisticHuddleState:null,...Me,isPrejoin:!1})),(0,i.ty)(_e.getState(),"huddles_set_status")&&_e.scheduleHuddleStateExpirationIncrement(),_e.setCoachmarkTimeout(Re),(se=te.F.getInstance())===null||se===void 0||se.request()}else{var ve;(ve=te.F.getInstance())===null||ve===void 0||ve.release()}if(re===O.RJ.PRE_JOINED&&(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:re,huddleSubState:Re,optimisticHuddleState:null,..._e.assertTargetTeamAndChannel(O.RJ.PRE_JOINED)})),re===O.RJ.ENDING){(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:re,huddleSubState:Re})),yield _e.safelyDisconnect();return}(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:re,huddleSubState:Re,optimisticHuddleState:null}))})()}goToNextSubState(re){var _e=this;return(0,t.coroutine)(function*(){re===O.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var Ue;((Ue=_e.getClientHuddleState())===null||Ue===void 0?void 0:Ue.huddleSubState)===O.J_.IN_PROGRESS_ALONE&&_e.hasBeenInSubStateForAtLeastApproxTime(Ee)&&_e.setTargetSubState(O.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},Ee),_e.timeOfLastSubStateChange=Date.now(),(0,o.dispatchForClientStore)((0,_.Rh)({huddleSubState:re}))})()}handleErrorAndDisconnect(re){var _e=this;return(0,t.coroutine)(function*(){var Ue;_e.getLogger().error(re);const{huddleState:ye}=_e.getClientHuddleState();if([O.RJ.PENDING,O.RJ.STARTED].includes(ye))try{yield L.S.race([new L.S((Te,ge)=>{setTimeout(()=>ge(new Error("HuddleStateManager disconnect timeout")),_e.disconnectTimeout)}),_e.safelyDisconnect()])}catch(Te){_e.getLogger().error(Te)}(0,o.dispatchForClientStore)((0,_.Rh)({huddleState:O.RJ.NOT_STARTED,optimisticHuddleState:null})),yield L.S.resolve(_e.handleError(re,ye)),(Ue=_e.startStopDeferred)===null||Ue===void 0||Ue.reject(re)})()}getInitialAloneInHuddleTimeOutValue(){if(X)return ce;const re=this.getState(),_e=(0,i.ty)(re,le.VW);return _e?_e*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),me)}setCoachmarkTimeout(re){re===O.J_.INITIAL_ALONE&&(setTimeout(()=>{var _e;((_e=this.getClientHuddleState())===null||_e===void 0?void 0:_e.huddleSubState)===O.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.setTargetSubState(O.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var re;return!!(!((re=(0,s.Ng)(this.getState()))===null||re===void 0)&&re.isMicrophoneEnabled)}getClientHuddleState(){const re=(0,o.getStateForClientStore)(),_e=(0,w.EG)(re),{channelId:Ue,teamId:ye}=(0,w.Qn)(re)||{};if(!_e||_e===O.RJ.NOT_STARTED)return{huddleState:O.RJ.NOT_STARTED,channelId:Ue,teamId:ye};const Te=(0,w.EO)(re);return{huddleState:_e,huddleSubState:Te,channelId:Ue,teamId:ye}}assertTargetTeamAndChannel(re){const{teamId:_e,channelId:Ue}=this.targetState;return{teamId:this.assert(_e,`Expected teamId to be set for ${re}`),channelId:this.assert(Ue,`Expeted channelId to be set for ${re}`)}}getChannelIdOrDie(){const{channelId:re}=this.getClientHuddleState(),{channelId:_e}=this.targetState,Ue=re||_e;return this.assert(Ue,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:re}=this.getClientHuddleState(),{threadTs:_e}=this.targetState;return re||_e}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:re}=this.getClientHuddleState(),{teamId:_e}=this.targetState,Ue=re||_e;return this.assert(Ue,"No team ID or active huddle")}getCallIdOrDie(){const re=(0,o.getStateForClientStore)(),_e=(0,w.E9)(re);return this.assert(_e,"No call ID or active huddle")}getHuddleState(){const{huddleState:re}=this.getClientHuddleState();return re}dispatch(re){const _e=this.getTeamIdOrDie();return(0,o.dispatchForTeamId)(_e,re)}getState(re){const _e=re||this.getTeamIdOrDie();return(0,o.getStateByTeamId)(_e)}assert(re,_e){if(re==null)throw new Error(_e);return re}getClogger(){if(this.clogger)return this.clogger;const{teamId:re}=this.getClientHuddleState();return this.clogger=re?(0,b.e)({state:(0,o.getStateByTeamId)(re)}):(0,b.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,Y.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:re}=this.getClientHuddleState();return re?this.telemeter=(0,q.Cy)({state:(0,o.getStateByTeamId)(re)}):this.telemeter=(0,q.rh)(),this.telemeter}constructor({logLabel:re=p.o7,startStopTimeout:_e=he,disconnectTimeout:Ue=Ie}={}){this.targetState={huddleState:O.RJ.NOT_STARTED},this.startStopDeferred=null;var ye=this;this.safelyDisconnect=(0,t.coroutine)(function*(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{yield ye.disconnect(ge)}catch(Ae){ye.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",Ae)}});var Te=this;this.scheduleHuddleStateExpirationIncrement=(0,t.coroutine)(function*(){if(Te.isTargetState()&&Te.targetState.huddleState!==O.RJ.STARTED)return;const ge=60*5,Ae={huddle_state_expiration_ts:new Date().getTime()/1e3+ge};yield Te.dispatch((0,H.c)({profile:Ae,reason:"increment-huddle-state-expiration-ts"})),setTimeout(Te.scheduleHuddleStateExpirationIncrement,(0,J.A)(12e4,-.1,.1))}),this.logLabel=re,this.startStopTimeout=_e,this.disconnectTimeout=Ue,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,N.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{X=!0},resetShortTimeoutValue:()=>{X=!1}}),Object.defineProperty({shouldUseDebugTimeout:X},"shouldUseDebugTimeout",{get:()=>X,set:()=>{X=!0}});var F=e(7004355564),Z=e(4715430489),z=e(6251210828),$=e(415910655),ee=e(8872167513);class de extends S{start(re,_e,Ue,ye,Te,ge,Ae){var Re=this;return(0,t.coroutine)(function*(){yield Re.startHuddleWithTargetState(O.RJ.STARTED,re,_e,Ue,ye,Te,ge,Ae)})()}prejoin(re,_e,Ue,ye){var Te=this;return(0,t.coroutine)(function*(){yield Te.startHuddleWithTargetState(O.RJ.PRE_JOINED,re,_e,Ue,ye,void 0)})()}setOthersInHuddle(){var re=this;return(0,t.coroutine)(function*(){yield re.setTargetSubState(O.J_.IN_PROGRESS_TOGETHER)})()}setAloneInHuddle(){var re=this;return(0,t.coroutine)(function*(){yield re.setTargetSubState(O.J_.IN_PROGRESS_ALONE)})()}dismissAloneInHuddleWarning(re){var _e=this;return(0,t.coroutine)(function*(){const Ue=re?O.J_.INITIAL_ALONE_NOTICE_DISMISSED:O.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;yield _e.setTargetSubState(Ue)})()}startHuddleWithTargetState(re,_e,Ue,ye,Te,ge,Ae,Re){var Be=this;return(0,t.coroutine)(function*(){var ke;!((ke=Be.currentHuddleDeferred)===null||ke===void 0)&&ke.isPending()||(Be.currentHuddleDeferred=(0,B.u)()),yield Be.setTargetState({huddleState:re,teamId:_e,channelId:Ue,muted:ye,callId:Te,threadTs:ge,isMultiDevice:Ae,experimentStandaloneHuddlesOn:Re})})()}stop(){var re=this;return(0,t.coroutine)(function*(){var _e;const Ue=re.getState(),ye=re.getHuddleState()!==O.RJ.PRE_JOINED&&(0,g.Cd)(Ue)&&!re.isProcessing();ye&&(re.getLogger().info(`Show huddle survey in ${re.getChannelIdOrDie()}`),re.dispatch((0,M.Cd)({timeSeen:new Date().toISOString()}))),yield re.setTargetState({huddleState:ye?O.RJ.SURVEY:O.RJ.NOT_STARTED}),re.getHuddleState()===O.RJ.NOT_STARTED&&(!((_e=re.currentHuddleDeferred)===null||_e===void 0)&&_e.isPending())&&re.currentHuddleDeferred.resolve()})()}enterTerminalState(re){var _e=this;return(0,t.coroutine)(function*(){var Ue;!((Ue=_e.pendingHuddleStart)===null||Ue===void 0)&&Ue.isPending()?_e.pendingHuddleStart.reject(re):yield _e.handleErrorAndDisconnect(re)})()}waitForHuddleToEnd(){return L.S.resolve(this.currentHuddleDeferred)}handleError(re,_e){var Ue;this.getLogger().error(re);const ye=_e===O.RJ.STARTING||_e===O.RJ.PENDING;this.dispatch((0,D.A)({errorCode:(0,O.dJ)(re.name)?re.name:re.message,isJoinError:ye})),!((Ue=this.currentHuddleDeferred)===null||Ue===void 0)&&Ue.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(re){let{teamId:_e,channelId:Ue,huddleState:ye}=re;if([O.RJ.NOT_STARTED].includes(ye))return{optimisticHuddleState:O.RJ.ENDING};if([O.RJ.SURVEY].includes(ye))return{optimisticHuddleState:null};if(ye===O.RJ.PRE_JOINED)return{optimisticHuddleState:O.RJ.PRE_JOINED,isPrejoin:!0};if(ye===O.RJ.STARTED&&_e){var Te,ge;const Ae=(0,o.getStateByTeamId)(_e),Re=(0,o.getStateForClientStore)(),Be=(0,w.aQ)(Re),ke=(Be==null?void 0:Be.channelId)===Ue||!((Te=(0,g.Yw)(Ae,Ue))===null||Te===void 0||(ge=Te.activeParticipants)===null||ge===void 0)&&ge.length?null:O.RJ.STARTED;return(0,i.ty)(Ae,"huddles_global_mute")&&(0,o.dispatchForClientStore)((0,_.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:ke}}return{}}fetchCredentials(){var re=this;return(0,t.coroutine)(function*(){const _e=re.getTeamIdOrDie(),Ue=re.getChannelIdOrDie(),ye=re.getThreadTsOrNothing(),Te=(0,o.getStateForClientStore)(),ge=(0,g.Yw)(re.getState(),Ue),{ttiTrace:Ae}=(0,ee.A)().getAllTraceHandlers(),Re=(0,w.WL)(Te,Ue),Be=re.getIsMultiDevice(),ke=(0,Z.x)(re.getState());if(Ae==null||Ae.createFetchCredentialsSpan(),Re){Ae==null||Ae.setCachedTag({cached:!0});const se=(ge==null?void 0:ge.id)||(0,k.RW)(Re.credentials);if(se){const ve=(0,g.P_)(re.getState(),se);if(ve&&ve.hasEnded)throw yield re.clearQuickJoinCredentials(),new Error(O.M6.ChimeMeetingEnded)}return re.getTelemeter().count(I.K7),Ae==null||Ae.closeFetchCredentialsSpan(),{roomId:se,server:Re.credentials,isQuickJoinCredentials:!0}}if((0,A.CI)(re.getState(_e))){const se=(0,z._6)(re.getState(),{channelId:Ue});if(se){const ve=(0,g.it)(re.getState(_e),Ue),Me=(0,z.G5)(re.getState(),{channelId:Ue}),be=(0,k.RW)(se);return ve&&Me&&re.dispatch((0,T.KN)({channelId:Ue,threadTs:ve,lastRead:ve,reason:"huddles-rooms-join-kte"})),{roomId:be,server:se,isQuickJoinCredentials:!1}}}return re.getTelemeter().mark(I.aW),Ae==null||Ae.setCachedTag({cached:!1}),re.dispatch((0,P.O3)({teamId:_e,channelId:Ue,shouldFetchRegion:!ge,traceId:Ae==null?void 0:Ae.getTTITraceId(),parentSpanId:Ae==null?void 0:Ae.getFetchCredentialsSpanId(),...ye&&{threadTs:ye},...Be&&{isMultiDevice:Be}})).then(se=>{var ve,Me;if(!(!(se==null||(ve=se.server)===null||ve===void 0)&&ve.meeting)||!(!(se==null||(Me=se.server)===null||Me===void 0)&&Me.attendee))throw new Error("create_meeting_failed");Ae==null||Ae.closeFetchCredentialsSpan(),re.getTelemeter().mark(I.bW);const be=re.getTelemeter().measure(I.aW,I.iE,I.bW);re.getTelemeter().count(I.iE,be),(0,$.jm)({roomsJoinTime:be});let xe=Ue;return re.getIsExperimentStandaloneHuddlesOn()&&se.channelId&&(xe=se.channelId,re.setTargetChannel(xe),(0,o.dispatchForClientStore)((0,_.Jc)(xe))),(0,o.dispatchForClientStore)((0,_.Yi)({channelId:xe,joinCredentials:se.server,expiry:Date.now()+p.nq,fromInvite:!1})),se.rootThreadTs&&se.roomId&&(re.dispatch((0,E.ZL)({huddleId:se.roomId,thread:{channelId:xe,ts:se.rootThreadTs}})),re.dispatch((0,T.KN)({channelId:xe,threadTs:se.rootThreadTs,lastRead:se.rootThreadTs,reason:"canvas-rooms-join-api"})),re.dispatch(ke?(0,j.a)({channelId:xe,threadTs:se.rootThreadTs,oldest:se.rootThreadTs}):(0,R.a)({channelId:xe,threadTs:se.rootThreadTs,oldest:se.rootThreadTs}))),se})})()}connectToChime(re,_e){let{server:Ue,roomId:ye}=re,{muted:Te,huddleState:ge}=_e;var Ae=this;return(0,t.coroutine)(function*(){const{ttiTrace:Re}=(0,ee.A)().getAllTraceHandlers();return Re==null||Re.createConnectToMediaServiceSpan(),(0,o.dispatchForClientStore)((0,_.qW)({callResult:{server:Ue,roomId:ye,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:Te,waitForHuddleStart:(0,B.u)(),isPrejoin:ge===O.RJ.PRE_JOINED})),Ae.pendingHuddleStart=(0,B.u)(),ge===O.RJ.PRE_JOINED?L.S.resolve():Ae.pendingHuddleStart})()}resolvePendingJoin(re){var _e=this;return(0,t.coroutine)(function*(){try{var Ue;const Te=_e.getChannelIdOrDie(),{ttiTrace:ge}=(0,ee.A)().getAllTraceHandlers(),Ae=_e.getState(),Re=(0,o.getStateForClientStore)(),{callId:Be,optimisticHuddleState:ke}=(0,w.Qn)(Re)||{},se=(0,g.dy)(Ae);if(_e.getLogger().info(`Resolve pending huddle (${Te}, optimisticHuddleState: ${ke}, has optimisticTopic: ${!!se})`),!(!((Ue=_e.pendingHuddleStart)===null||Ue===void 0)&&Ue.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const ve=_e.assert(Be,"Room ID is not defined for pending join"),Me=(0,i.ty)(Ae,"huddles_cc_by_default");if((0,k.UA)(Ae,Te)&&Me&&(_e.dispatch((0,m.A)()),_e.dispatch((0,l.dD)(!0)),_e.dispatch((0,l.jL)(!0))),se){try{yield _e.dispatch((0,P.xB)({roomId:ve,name:se})),_e.dispatch((0,r.oU)({id:ve,name:se}))}catch(xe){_e.getLogger().error(xe)}_e.dispatch((0,v.Jc)(null))}(0,o.dispatchForClientStore)((0,_.u8)(Te)),ge==null||ge.closeConnectToMediaServiceSpan(),(0,b.e)({state:Ae}).track(W.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:ve,duration_ms:Math.round(re),channel_id:Te}}}),(0,$.jm)({audioConnectedTime:re}),(0,o.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!0})),_e.pendingHuddleStart.resolve()}catch(Te){var ye;(ye=_e.pendingHuddleStart)===null||ye===void 0||ye.reject(Te)}})()}completePrejoin(re){var _e=this;return(0,t.coroutine)(function*(){const Ue=_e.getChannelIdOrDie(),ye=(0,o.getStateForClientStore)(),{ttiTrace:Te}=(0,ee.A)().getAllTraceHandlers(),ge=(0,w.WL)(ye,Ue);return Te==null||Te.setCachedTag({cached:!!ge}),Te==null||Te.createConnectToMediaServiceSpan(),(0,o.dispatchForClientStore)((0,_.f2)({...re}))})()}clearQuickJoinCredentials(){return(0,t.coroutine)(function*(){const re=(0,o.getStateForClientStore)(),{channelId:_e}=(0,w.Qn)(re)||{};return(0,o.dispatchForClientStore)((0,_.WB)({channelId:_e}))})()}disconnect(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var _e=this;return(0,t.coroutine)(function*(){var Ue;const ye=_e.getState(),Te=(0,o.getStateForClientStore)(),{channelId:ge,teamId:Ae}=(0,w.Qn)(Te)||{};if(!re)try{(0,ee.A)().cleanup()}catch(Re){_e.getLogger().error(`Error cleaning up huddle tracing: ${Re}`)}try{(0,o.dispatchForClientStore)((0,_.Bk)(!1)),(0,A.lV)(ye)&&((0,o.dispatchForClientStore)((0,_.JM)()),(0,o.dispatchForClientStore)((0,_._u)({song:void 0}))),(0,o.dispatchForClientStore)((0,_.Rh)({isSelfJoined:!1}));const Be=(0,a.WR)(ye),ke=ge&&(0,g.Yw)(ye,ge);if(ke&&ge){const se=(ke.activeParticipants||[]).filter(Me=>!((0,d.MZ)(Me)&&Me.slackId===Be));_e.dispatch((0,r.oU)({id:ke.id,activeParticipants:se}));const ve=(0,r.H6)(_e.getState(),ke.id);ve&&_e.dispatch((0,v.mr)({call:ve,channelId:ge}))}if(ge){const se=yield(0,o.dispatchForTeamId)(Ae,f({channelId:ge,userId:Be})),ve=(0,y.H7)(ye),Me=(0,G.tc)(ve);(se||Me)&&(yield _e.clearQuickJoinCredentials()),(0,o.dispatchForClientStore)((0,_.u8)(ge))}}catch(Re){_e.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",Re)}try{const Re=(0,B.u)();(0,o.dispatchForClientStore)((0,_.pl)({waitForHuddleEnd:Re})),yield Re}catch(Re){_e.getLogger().error("An error occurred while disconnecting from the media server.",Re)}_e.dispatch((0,s.VL)({huddlesVideoActive:!1})),_e.dispatch((0,E.np)()),(0,o.dispatchForClientStore)((0,_.cx)()),!((Ue=_e.pendingHuddleStart)===null||Ue===void 0)&&Ue.isPending()&&_e.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))})()}}c(de,"HuddleStateManager");const ue=(0,n.A)(()=>{const fe=new de;return(0,F.R)(fe.waitForStartStop.bind(fe)),fe})},7004355564:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r,R:()=>s});var t=e(6422693406);let n;const s=c(d=>{n=d},"setWaitForStartStop"),r=c(()=>n?n():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},3065433701:(Q,C,e)=>{"use strict";e.d(C,{CE:()=>o,Gu:()=>a,vT:()=>n.vT});var t=e(1031947056),n=e(7366481123);const s=3*1e3,r={[n.vT.NoUserAudioStream]:!0,[n.vT.NoUserVideoStream]:!0,[n.vT.NoAudioOutputAudioElementError]:!0,[n.vT.NoAudioOutputAudioLevelError]:!0,[n.vT.SlowNetwork]:!0,[n.vT.PeerMuteRequest]:!0};let d={};const o=(0,t.Ay)("Display alert message for huddle call",(m,l,_)=>{let{alert:v,peerId:u}=_;if(!d[v]){if(r[v]){d[v]=setTimeout(()=>{d[v]&&(clearTimeout(d[v]),delete d[v]),m((0,n.Sb)({alert:v,peerId:u}))},s);return}m((0,n.Sb)({alert:v,peerId:u}))}});o.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const a=(0,t.Ay)("Undisplay an alert message for huddle call",(m,l,_)=>{d[_]&&(clearTimeout(d[_]),delete d[_]),m((0,n.LL)(_))});a.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:d},"alertTimeouts",{get:()=>d,set:m=>{d=m}})},5253428843:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(1031947056),n=e(5378147939);const s=(0,t.Ay)("Handle huddle error",(d,o,a)=>(0,n.A)().enterTerminalState(new Error(a.terminalState)));s.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const r=s},2766373332:(Q,C,e)=>{"use strict";e.d(C,{N$:()=>ye,KD:()=>re,kq:()=>fe,HU:()=>_e});var t=e(9706240641),n=e(1031947056),s=e(6533394955),r=e(387328355),d=e(9864164947),o=e(7067820909),a=e(7621809678),i=e(3245843483),m=e(2778217221),l=e(6134475965),_=e(1049642794),v=e(2802517438),u=e(3134334389),h=e(3288846409),f=e(3037015781),p=e(4979382452),E=e(8029613601),g=e(4947127560),A=e(4636370173),y=e(2465132699),T=e(8523371695),M=e(3606117573),O=e(2683115972),I=e(3165300465),D=e(1610251172),P=e(4481313819),L=e(2562405183),k=e(5363983309),G=e(5286203919),b=e(9101533895),W=e(9884588328),B=e(8921478798),R=e(1407713935),j=e(6244014364),w=e(735940183),N=e(8320929653),K=e(4233000497);function J(){return J=Object.assign||function(Te){for(var ge=1;ge<arguments.length;ge++){var Ae=arguments[ge];for(var Re in Ae)Object.prototype.hasOwnProperty.call(Ae,Re)&&(Te[Re]=Ae[Re])}return Te},J.apply(this,arguments)}c(J,"_extends");const Y=new w.Ay("huddles"),q={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:j.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},H={elementName:"huddles_invite_confirmation_dialog_ok",eventId:j.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function ne(Te){let{closeModal:ge,...Ae}=Te;const{channelId:Re,senderUserId:Be}=Ae,ke=(0,K.A)(Re),{handleDecline:se,handleJoin:ve,isLoading:Me,inviteText:be}=(0,N.lc)(Ae),xe=(0,L.d4)(st=>(0,B.I)(st,Be));let Le=Y.t("Huddle with {dmPersons}",{dmPersons:xe,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const Ke=(0,L.d4)(st=>(0,b.OL)(st,Re)),He=(0,L.d4)(st=>(0,f.uz)(Ke)?(0,W.SB)(st,Ke,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);He&&(Le=(0,R.JM)(Ke)?Y.t("Huddle with {dmPersons}",{dmPersons:He,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):Y.t("Huddle in {channelName}",{channelName:He,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Ye=(0,h.cw)(G.hc)===Re;(0,u.useEffect)(()=>{Ye&&!Me&&(ge==null||ge())},[Ye,Me,ge]);const Xe=(0,u.useCallback)(()=>{se(),ge==null||ge()},[ge,se]),et="huddle-invite-join-modal";return u.createElement(P.A,J({uiComponentName:j.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},ke),u.createElement(p.A,{labelledby:et,dataQa:et,closeModal:ge,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},u.createElement(E.A,null,u.createElement(g.A,{title:Le,id:et})),u.createElement(A.A,null,u.createElement(y.A,null,be)),u.createElement(T.A,null,u.createElement(M.A,null,u.createElement(O.Ay,{type:"outline",onClick:Xe,"data-qa":"huddle_invite_join_cancel",autoClogProps:q},Y.t("Not Now")),u.createElement(I.A,{type:"primary",loading:Me,onClick:ve,"data-qa":"huddle_invite_join_go",autoClogProps:H,autoFocus:!0},u.createElement(D.A,{type:"headphones"}),u.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},Y.t("Join")))))))}c(ne,"HuddleInviteJoinModal"),ne.displayName="HuddleInviteJoinModal";const te={HuddleInviteJoinModal:ne},le=(0,k.A)(ne);var he=e(605594140),Ie=e(6422693406),Ee=e(796111729),me=e(8040098042),ce=e(2960290117),X=e(6415612447),V=e(6470070112),x=e(56548687),S=e(571104883),U=e(8746998952),F=e(9712681361),Z=e(5702042015),z=e(7429662208),$=e(3193155968),ee=e(6695353875),de=e(9629572172),ie=e(352142497);const ue=c((Te,ge,Ae)=>{(0,x.e)({state:Te}).track(ge,{contexts:{calls:(0,V.gG)(Te,Ae),ui_context:{action:j.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),fe=(0,n.Ay)("Start huddle in highlighted channel or current primary view",function(){var Te=(0,t.coroutine)(function*(ge,Ae,Re){let{highlightedChannelId:Be}=Re;const ke=(0,s.getStateForClientStore)(),se=Ae(),ve=(0,ee.cc)(se),Me=ve,be=(0,z.e6)(se),xe=(0,v.A)(se),Le=Me?(0,z.F8)(se,{tab:be,container:$.mq.Primary}):null,Ke=Me?Le==null?void 0:Le.id:xe,He=Be||Ke,{channelId:Ye,teamId:Xe}=(0,G.Ak)(ke)||{};if(Ye&&Xe&&(!Be||Be===Ye)){(0,s.dispatchForTeamId)(Xe,(0,l.A)()),ue(se,j.EventId.HUDDLES_LEAVE,Ye);return}const et=(0,G.aQ)(ke);if(et&&!Be){const{channelId:ot,senderUserId:ct,callId:at,teamId:At}=et;(0,s.dispatchForTeamId)(At,le({channelId:ot,senderUserId:ct,callId:at}));return}if(!He||!(0,me.A)(He)&&!(0,ce.Ay)(He)){ve&&ge((0,he.A)());return}const st=(0,X.Y)(se,He);st&&(0,V.Bn)(se,st)&&(ue(se,j.EventId.HUDDLES_JOIN,st.id),ge((0,U.A)({channelId:st.id,forceFocus:!0,entryPoint:F.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});return function(ge,Ae,Re){return Te.apply(this,arguments)}}());fe.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const re=(0,n.Ay)("Start huddle in the current view",function(){var Te=(0,t.coroutine)(function*(ge,Ae,Re,Be){var ke,se;const ve=Ae(),{shouldUseNavigate:Me,isChildWindow:be,getViewSet:xe}=Be(de.U),Le=xe(ve);(!Me||!be||(Le==null||(ke=Le[$.mq.Primary])===null||ke===void 0?void 0:ke.viewType)!==ie.D.Channel)&&ge(fe({highlightedChannelId:void 0}));const Ke=Le==null||(se=Le[$.mq.Primary])===null||se===void 0?void 0:se.id;ge(fe({highlightedChannelId:Ke}))});return function(ge,Ae,Re,Be){return Te.apply(this,arguments)}}());re.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const _e=(0,n.Ay)("Toggle microphone from current value to opposite value",(Te,ge)=>{const Ae=(0,s.getStateForClientStore)(),{teamId:Re,channelId:Be}=(0,G.Ak)(Ae)||{};if(!Re)return;const ke=(0,s.getStateByTeamId)(Re),se=(0,r.Ng)(ke),ve=se==null?void 0:se.isMicrophoneEnabled;(0,s.dispatchForTeamId)(Re,(0,_.A)(!ve)),Te(ve?(0,d.Ho)():(0,d.qc)()),(0,Ee.Ay)({state:ke}).info(m.o7,`Keyboard shortcut invoked -- toggling mic to ${ve?j.EventId.HUDDLES_MUTE:j.EventId.HUDDLES_UNMUTE}`),Be&&ue(ke,ve?j.EventId.HUDDLES_MUTE:j.EventId.HUDDLES_UNMUTE,Be)});_e.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let Ue=!1;const ye=c(Te=>{var ge;return(0,S.dY)("4.13.0")?(Te&&!Ue&&((0,i.zin)(a.Sr.TOGGLE_MUTE,(0,t.coroutine)(function*(){const Ae=(0,s.getStateForClientStore)(),{teamId:Re}=(0,G.Ak)(Ae)||{};Re&&((0,s.dispatchForTeamId)(Re,_e()),(0,o.Sr)((0,s.getStateForClientStore)())||(0,s.dispatchForClientStore)((0,Z.A)()))})),Ue=!0),(ge=(0,i.wzE)(a.Sr.TOGGLE_MUTE,Te))===null||ge===void 0?void 0:ge.then(()=>Te)):Ie.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},1883693579:(Q,C,e)=>{"use strict";e.d(C,{uZ:()=>Ie,Tn:()=>me,Cd:()=>Ee});var t=e(796111729),n=e(1031947056),s=e(6533394955),r=e(387484329),d=e(2778217221),o=e(4250409994),a=e(9712681361),i=e(6422693406),m=e(5046160032),l=e(4914127094),_=e(8445020572),v=e(7299481592),u;(function(ce){ce.HuddleSurvey="huddle-survey",ce.ListsSurvey="lists-survey"})(u||(u={}));var h;(function(ce){ce.NoAudioInput="no-audio-input",ce.NoAudioOutput="no-audio-output",ce.LowVideoQuality="low-video-quality",ce.LowAudioQuality="low-audio-quality",ce.VideoNotWorking="video-not-working",ce.DeviceSelectionError="device-selection-error",ce.Disconnected="disconnected",ce.SomethingElse="something-else",ce.Dismiss="dismiss"})(h||(h={}));function f(ce){return ce.isOk}c(f,"isOkResult");const p=(0,n.Ay)("Send survey results",(ce,X,V)=>{var x,S;const U=X();var F;const Z=(F=V.callId)!==null&&F!==void 0?F:U.activeCall.id;if(!Z)return(0,v.M)(!1,"There should have been a call in order to send survey results."),i.S.reject(new Error("SendSurveyResult: No call"));var z;const $=(z=V.type)!==null&&z!==void 0?z:"vo-survey",ee=f(V)?void 0:{response_requested:!1,comments:V.comments,is_video:(x=U.activeCall)===null||x===void 0?void 0:x.hasVideoBeenEnabled,is_ss:(S=U.activeCall)===null||S===void 0?void 0:S.hasScreenshareBeenEnabled,list_id:V==null?void 0:V.listId,list_entry_point:V==null?void 0:V.listEntryPoint},de=f(V)||$===u.ListsSurvey?"ok":V.notOkResponses.join(","),ie={room:Z,event_type:$,event_value:de,event_metadata:JSON.stringify(ee)};return(0,m.A)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:(0,l.F)(U),versionTs:(0,_.HF)(),versionUid:(0,_.X3)(),args:ie})?i.S.resolve():i.S.reject(new Error("SendSurveyResult: beacon failed"))});p.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"};var E=e(3134334389),g=e(2562405183),A=e(6313685253),y=e(8300007136),T=e(6084388622),M=e(3989454579),O=e(6948117092),I=e(5016574668),D=e(3855029223),P=e(4798756512),L=e(6310192986),k=e(1616072515);const G="survey";var b;(function(ce){ce.Good="good",ce.Bad="bad",ce.Dismiss="dismiss"})(b||(b={}));const W="HUDDLES-SURVEY-TRACE",B=c(ce=>{let{teamId:X,callId:V,results:x}=ce;const S=X?(0,t.Ay)({label:W,teamId:X}):(0,t.Wo)({label:W});if(!X){S.warn("Missing team id. Exiting early");return}const U=(0,D.E)({teamOrEnterpriseId:X}),F=U.createTrace({traceName:I.Sq,tags:{__dataset:I.RN},samplingOptions:{sampleRate:1,sampleType:P.tS.SESSION}}),Z=F.startSpan(G),z={...x};(0,O.A)(z,"comments");const{notOkResponses:$,summary:ee}=z||{};if(!V){S.warn("Missing callId. Exiting early");return}if(!ee){S.warn("Missing summary. Exiting early");return}try{S.info(`Processing huddle survey response. callId: ${V} - traceId: ${F.getTraceId()} - results: ${JSON.stringify(z)}`)}catch(ue){S.error(ue)}const de={teamId:X,callId:V,surveySummary:ee,surveyResponseCount:($==null?void 0:$.length)||0,surveyResponses:$==null?void 0:$.join(" ")},ie=(0,k.tT)({...de,...(0,L.vP)()});Z.addTags(ie),Z.close(),S.info(`Reporting huddle survey trace with ${Object.keys(ie).length} tags (${F.getTraceId()})`),S.debug("Tags attached",ie),U.reportTrace(F),U.clearTrace(F)},"reportHuddleSurveyResultsTrace");var R=e(8847766420),j=e(980293773),w=e(7138682671),N=e(8472205500),K=e(735940183),J=e(8739505998),Y=e(5363983309),q=e(6968387112);const H=new K.Ay("huddles");function ne(ce){return(0,A.A)(ce,(X,V,x)=>(V&&X.push(x),X),[])}c(ne,"collectResponses");const te=c(ce=>{let{closeModal:X,callId:V}=ce;const x=(0,g.d4)(R.ZT),[S,U]=(0,E.useState)({}),[F,Z]=(0,E.useState)(""),[z,$]=(0,E.useState)(!1),ee=`https://${(0,q.qF)()}`,de=(0,y.wA)(),ie=[{value:h.NoAudioInput,text:H.t("Others couldn\u2019t hear me")},{value:h.NoAudioOutput,text:H.t("I couldn\u2019t hear others")},{value:h.DeviceSelectionError,text:H.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:h.LowAudioQuality,text:H.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:h.LowVideoQuality,text:H.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:h.VideoNotWorking,text:H.t("Video didn\u2019t work at all")},{value:h.Disconnected,text:H.t("I got disconnected from the Huddle")},{value:h.SomethingElse,text:H.t("Something else went wrong")}],ue=u.HuddleSurvey,fe=(0,E.useCallback)(()=>{$(!0);const Te={isOk:!1,notOkResponses:ne(S),comments:F,callId:V,type:ue};de(p(Te)).then(()=>{x&&B({teamId:x,callId:V,results:{summary:b.Bad,...Te}}),$(!1),X==null||X()})},[V,S,X,x,F,de,ue]),re=(0,E.useCallback)(()=>{de(p({isOk:!1,notOkResponses:[h.Dismiss],callId:V,type:ue})),X==null||X()},[X,V,ue,de]),_e=(0,E.useCallback)(Te=>Z(Te),[]),ye=!!S[h.SomethingElse];return E.createElement(j.dW,{closeModal:re,showCloseButton:!0,centered:!0,maxWidth:600},E.createElement(E.Fragment,null,E.createElement(j.rQ,null,E.createElement(j.Rc,{title:H.t("What went wrong?")})),E.createElement(j.$m,null,E.createElement(j.qf,null,ie.map(Te=>{let{value:ge,text:Ae}=Te;return E.createElement(w.A,{text:Ae,key:ge,id:ge,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},E.createElement(M.A,{name:ge,value:ge,checked:!!S[ge],onChange:Re=>U(Be=>({...Be,[ge]:Re.target.checked}))}))}),ye&&E.createElement(w.A,{className:"padding_top_75",text:H.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},E.createElement(N.A,{name:"details",id:"details",onChange:_e,value:F})))),E.createElement(j.jl,null,E.createElement(J.A,{href:`${ee}/privacy-policy`,target:"_blank"},H.t("Privacy Policy")),E.createElement(j.ox,null,E.createElement(T.$n,{onClick:re,type:"outline"},H.t("Dismiss")),E.createElement(T.lV,{loading:z,onClick:fe},H.t("Send"))))))},"HuddleSurveyModal");te.displayName="HuddleSurveyModal";const le=(0,Y.A)(te);var he=e(5286203919);const Ie=(0,n.Ay)("Close the mini survey after a postive response",(ce,X,V)=>{let{channelId:x}=V;(0,s.dispatchForClientStore)((0,o.Rh)({channelId:x,optimisticHuddleState:null,huddleState:a.RJ.NOT_STARTED}))});Ie.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const Ee=(0,n.Ay)("Set the date for when the user last saw the huddle survey",(ce,X,V)=>{let{timeSeen:x}=V;ce((0,r.AZ)({pref:"huddle_survey_last_seen",value:x}))});Ee.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const me=(0,n.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(ce,X,V)=>{let{result:x}=V;const S=(0,s.getStateForClientStore)(),U=(0,he.E9)(S),F=(0,he.hc)(S),Z=(0,he.l4)(S),z=u.HuddleSurvey;let $=a.RJ.NOT_STARTED,ee;switch(x){case"bad":U&&ce(le({callId:U}));break;case"good":$=a.RJ.SURVEY_GOOD,ce(p({isOk:!0,callId:U,type:z})),ee=b.Good;break;case"dismiss":ee=b.Dismiss,ce(p({isOk:!1,callId:U,notOkResponses:[h.Dismiss]}));break;default:}ee&&B({teamId:Z,callId:U,results:{summary:ee}}),(0,s.dispatchForClientStore)((0,o.Rh)({channelId:F,optimisticHuddleState:null,huddleState:$})),(0,t.Ay)({getState:X}).info(d.o7,`Marking huddle as ${$} in component: huddle-survey`)});me.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},6741408957:(Q,C,e)=>{"use strict";e.d(C,{GD:()=>h,Ss:()=>p,iz:()=>g});var t=e(3398586081),n=e(1289024643),s=e(4540171876),r=e(6422693406),d=e(3037015781),o=e(8352634987),a=e(1031947056),i=e(6533394955),m=e(9640070512),l=e(2527782504),_=e(5286203919),v=e(5881236351);const u=c((y,T)=>(0,i.dispatchForTeamId)(y,(0,s.Db)({callIds:T,reason:"all-calls-store/conditional-fetch"})).then(M=>M.map(O=>(0,i.dispatchForTeamId)(y,(0,n.oU)(O)))),"fetchAndUpsert"),h=(0,t.A)(()=>new o.Ay({storeKey:"allCalls",fetch:u,isEnabled:()=>!0})),f=c((y,T)=>{const M=T.map(O=>((0,i.dispatchForTeamId)(y,(0,n.oU)(O)),O.id));h().markObjectsAsFresh(y,M)},"upsertCalls"),p=(0,t.A)(()=>new d.Ay({fetch:(y,T)=>(0,i.dispatchForTeamId)(y,(0,s.Db)({callIds:T,reason:"all-calls-store/unknown-fetch"})),upsertKnown:f,upsertNonExistent:(y,T)=>f(y,T.map(M=>{let{id:O}=M;return{id:O,name:""}}))}));let E=0;const g=(0,a.Ay)("Set a huddle topic",(y,T,M)=>{let{channelId:O,topic:I}=M;const D=(0,i.getStateForClientStore)();if((0,_.aS)(D))return y((0,v.Jc)(I)),r.S.resolve();const P=(0,_.E9)(D);if(!P)return r.S.reject(new Error(`No callId for channel ${O}`));y((0,v.Jc)(I)),E+=1;const L=E;return y((0,s.xB)({roomId:P,name:I})).then(()=>y((0,n.oU)({id:P,name:I}))).finally(()=>{L===E&&y((0,v.Jc)(null)),y((0,m.H)({focusKey:l.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});g.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const A={fetchAndUpsert:u}},666760496:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(9706240641),n=e.n(t),s=e(4540171876),r=e(6422693406),d=e(1031947056),o=e(387328355),a=e(6533394955),i=e(9548972574),m=e(7723800688),l=e(6244014364),_=e(56548687),v=e(6470070112);const u=(0,d.Ay)("Notify members to join huddle",function(){var f=(0,t.coroutine)(function*(p,E,g){let{channelId:A,userIds:y}=g;const T=[];if(y&&y.length>0){y.forEach(k=>{p((0,o.oN)({userId:k})),T.push(new r.S((G,b)=>{p((0,s.OB)({userId:k,channelId:A,reason:"huddle-notify-member"})).then(G).catch(W=>{const B=new Error(W.message);B.invitedMemberId=k,B.inviteRejectionReason=W.name,b(B)})}))});const M=(0,a.getStateForClientStore)(),O=E(),I=(0,i.Yw)(O,A),D=(0,v.$t)(O,{huddleId:I==null?void 0:I.id}),P=(0,v.kn)(M),L=(0,v.UE)(M);(0,_.e)({state:O}).track(l.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:m.Hi.INVITATION_SENT},action:l.UiAction.INVITE_PEOPLE},calls:L},invited_user_ids:y,...D,...P})}return r.S.all(T).then(M=>M)});return function(p,E,g){return f.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const h=u},1070786785:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>i,V3:()=>o,kb:()=>a});var t=e(1031947056),n=e(6533394955),s=e(6134475965),r=e(5286203919);const d=(0,t.Ay)("End huddle for channelId if any",(m,l,_)=>{const v=(0,n.getStateForClientStore)(),u=(0,r.hc)(v);u&&u===_&&m((0,s.A)())});d.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const o=(0,t.Ay)("End last active huddle for channelId if any",(m,l,_)=>{var v;const u=(0,n.getStateForClientStore)(),h=(v=(0,r.Qn)(u))===null||v===void 0?void 0:v.channelId,f=(0,r.Ak)(u);(h&&h===_||f===null&&h&&h!==_)&&m((0,s.A)())});o.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const a=(0,t.Ay)("End huddle for call Id and channelId if any",(m,l,_)=>{let{channelId:v,callId:u}=_;const h=(0,n.getStateForClientStore)(),{channelId:f,callId:p}=(0,r.Qn)(h)||{};f&&f===v&&p===u&&m((0,s.A)())});a.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const i=d},9864164947:(Q,C,e)=>{"use strict";e.d(C,{Gt:()=>W,Ho:()=>L,LW:()=>P,Md:()=>O,OF:()=>N,Ux:()=>G,Wf:()=>w,dr:()=>E,fH:()=>I,gA:()=>D,gV:()=>R,qc:()=>k,rV:()=>b,s5:()=>B});var t=e(6998663753),n=e(5950652755),s=e(1031947056),r=e(2778217221),d=e(796111729),o=e(8664881451),a=e(2854284421),i=e(2047021170),m=e(3986753718),l=e(7022928841),_=e(5332875232),v=e(2791814261),u=e(5387083734),h=e(735940183);const f=(0,d.Wo)({label:"HUDDLE-SOUNDS"}),p=[a.o8,a.CZ,a.Ji,a.PV,a.wg,a.sQ,a.o3,a.nP,a.zd,a.qP],E=(0,t.A)(()=>{(0,u.IE)("pre-cache-huddles-sounds",()=>{p.forEach(K=>{f.info(`Adding huddle sound effect to in-memory cache: ${K}`),(0,o.qG)(K)})},{delay:1e3})}),g=(0,n.A)(function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(K?a.Ji:a.o8,{loop:!1})},7e3,{leading:!0,trailing:!1}),A=(0,n.A)(function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(K?a.PV:a.CZ,{loop:!1})},7e3,{leading:!0,trailing:!1}),y=(0,n.A)(function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,o.ZH)(K?a.DT:a.o,{loop:!1})},0,{leading:!0,trailing:!1}),T=(0,n.A)((K,J,Y)=>{let q=J?a.sQ:a.wg;const H=.25,ne=(0,v.L)(Y),te=(0,_.DR)(Y);J&&K==="gong"&&te&&ne&&(q=a.o3);const le=(0,_.Ey)(Y);J&&K==="duck"&&le&&ne&&(q=a.nP),(0,o.ZH)(q,{loop:!1,volume:H})},5e3,{leading:!0,trailing:!1}),M=c(K=>!(0,i.ty)(K,"mute_huddle_sounds"),"canPlayHuddleSound"),O=(0,s.Ay)("Play sound when user joins",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnUserJoin"),g(!1))});O.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const I=(0,s.Ay)("Play sound when user leaves",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnUserLeft"),A(!1))});I.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const D=(0,s.Ay)("Play sound when you join",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnYouJoin"),g(!0))});D.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const P=(0,s.Ay)("Play sound when you leave",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnYouLeft"),A(!0))});P.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const L=(0,s.Ay)("Play sound when user mutes the mic using keyboard shortcut",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnMicMute"),y(!0))});L.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const k=(0,s.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnMicUnmute"),y(!1))});k.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const G=(0,s.Ay)("Play sound when reaction is received",(K,J,Y)=>{let{emoji:q,isEffect:H}=Y;const ne=J();(0,i.ty)(ne,"huddles_reactions_play_sound")&&M(ne)?((0,d.Ay)({getState:J}).info(r.o7,"playSoundOnReaction"),T(q,H,ne)):(0,d.Ay)({getState:J}).info(r.o7,"did not playSoundOnReaction")});G.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const b=(0,s.Ay)("Plays the huddle invite sound",(K,J)=>{const Y=J();(0,m.YX)(Y)||!M(Y)||(0,o.ZH)((0,l.qF)(Y))});b.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const W=(0,s.Ay)("Plays the huddle new requester sound",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playHuddleNewRequesterSound"),(0,o.ZH)(a.rT,{loop:!1}))});W.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const B=(0,s.Ay)("Plays the huddle request accepted sound",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playHuddleNewRequestAcceptedSound"),(0,o.ZH)(a.rT,{loop:!1}))});B.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const R=(0,s.Ay)("Plays the huddle request expired sound",(K,J)=>{M(J())&&((0,d.Ay)({getState:J}).info(r.o7,"playHuddleNewRequestExpiredSound"),(0,o.ZH)(a.xE,{loop:!1}))});R.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const j=c(K=>{let J={onSound:void 0,offSound:void 0};switch(K){case"ja-JP":J={onSound:a.Q6,offSound:a.uv};break;case"es-LA":case"es-ES":J={onSound:a.ll,offSound:a.PK};break;default:J={onSound:a.sH,offSound:a.IZ};break}return J},"getHuddleSounds"),w=(0,s.Ay)("Plays the huddle recording on sound",(K,J)=>{const Y=(0,h.Yp)(),{onSound:q,offSound:H}=j(Y);q&&H&&((0,o.ds)(q),(0,o.ds)(H),(0,o.ZH)(q,{loop:!1}))});w.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const N=(0,s.Ay)("Plays the huddle recording off sound",(K,J)=>{const Y=(0,h.Yp)(),{onSound:q,offSound:H}=j(Y);q&&H&&((0,o.ds)(q),(0,o.ds)(H),(0,o.ZH)(H,{loop:!1}))});N.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},4156857608:(Q,C,e)=>{"use strict";e.d(C,{a:()=>v});var t=e(1031947056),n=e(6533394955),s=e(4250409994),r=e(7434063642),d=e(8783285437),o=e(6758774099),a=e(1990810649),i=e(387328355),m=e(8872167513),l=e(2709531527),_=e(5795074931);const v=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(u,h,f)=>{let{emoji:p,reactionType:E=a.o.Standard}=f;if(E===a.o.Sticker)u((0,r.Kp)({emoji:p})),(0,n.dispatchForClientStore)((0,s.M4)(p));else{(0,n.dispatchForClientStore)((0,s.nU)({emoji:p,reactionType:E})),u((0,i._x)({peerId:"self",emoji:p,isEmoji:!0,reactionType:E}));const{huddleEventsTrace:A}=(0,m.A)().getAllTraceHandlers();A==null||A.update({name:l.p.REACTION,type:l.G.ONCE,tags:{reactionType:E}})}const g=(0,_.WR)(h());g&&u((0,o.U$)({type:d.v.SEND_REACTION,memberId:g,timestampMs:Date.now(),emoji:p}))});v.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1049642794:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(9706240641),n=e.n(t),s=e(8571983633),r=e(1031947056),d=e(6533394955),o=e(8847766420),a=e(2778217221),i=e(4250409994),m=e(6694086724),l=e(5286203919),_=e(571104883),v=e(796111729),u=e(462591818),h=e(7434063642),f=e(6251210828),p=e(387328355),E=e(9365970888),g=e(3065433701),A=e(700984029);const y=(0,r.Ay)("Enable or disable local microphone",function(){var M=(0,t.coroutine)(function*(O,I,D){const P=(0,d.getStateForClientStore)(),L=I(),k=(0,v.Ay)({state:L}),G=(0,E.Hc)(L);if((0,f.RT)(L)||O((0,h.G4)({canShowMutedBanner:!0})),(0,_.y3)()||(yield(0,d.dispatchForClientStore)((0,A.e$)({mediaResourceType:u.mT.MICROPHONE}))),k.info(a.o7,`Set microphone to ${D}`),G&&D){k.warn(a.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,_.y3)()?O((0,g.CE)({alert:g.vT.NoSystemAudio})):O((0,g.CE)({alert:g.vT.NoBrowserAudioPermission}));return}const{teamId:W}=(0,l.Qn)(P)||{};if(W&&W!==(0,o.ZT)(L)){(0,d.dispatchForTeamId)(W,y(D));return}(0,s.A)(D)||((0,d.dispatchForClientStore)((0,i.I9)(D)),D&&(0,l.wQ)(P)&&O((0,m.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),O((0,p.kT)({id:"self",isMicrophoneEnabled:D}))});return function(O,I,D){return M.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const T=y},8746998952:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(1031947056),n=e(6422693406),s=e(796111729),r=e(9190452268),d=e(1452921056),o=e(5319025363),a=e(6533394955),i=e(6470070112),m=e(5286203919),l=e(5933621899),_=e(9680914051),v=e(8330768070),u=e(6259241484),h=e(716227588),f=e(1655938719),p=e(5332875232),E=e(5881236351),g=e(9712681361);const A=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(M,O,I)=>{let{channelId:D,threadTs:P,muted:L,callId:k,forceFocus:G,entryPoint:b,forceConfirmation:W,markTelemeter:B,isMultiDevice:R,isStandaloneHuddle:j}=I;const w=c(()=>{var N;B&&(0,r.Cy)({state:O()}).mark(_.qr),(N=M((0,d.A)({channelId:D,threadTs:P,muted:L,callId:k,forceFocus:G,entryPoint:b,isMultiDevice:R,isStandaloneHuddle:j})))===null||N===void 0||N.catch(K=>{(0,s.Ay)({getState:O}).error("Could not start huddle",K)})},"onConfirm");if((0,i.Qj)(O(),D,P)||W){P?M((0,f.iR)({event:{type:u.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,h.Hp)(O(),u.xu.LAUNCH_MODAL)===u.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?M((0,l.Wx)({channelId:D??"",onConfirm:w})):w()}):M((0,v.Oe)({channelId:D??"",onConfirm:w}));return}w()});A.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const y=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(M,O,I)=>{const{channelId:D}=I,P=O(),L=(0,p.pL)(P),k=(0,a.getStateForClientStore)(),G=(0,m.hc)(k),b=(0,m.EG)(k),W=(0,m.$V)(k),B=(0,i.r5)(P,{channelId:D});if(M((0,o.z)()),G&&D!==G&&!W)return M((0,v.Y6)({prevChannelId:G,nextChannelId:D??"",onConfirm:()=>{M(A({...I,markTelemeter:!1}))}}));if(L&&B){M((0,E.$Z)({channelId:D??"",onConfirm:R=>{let{isMultiDevice:j}=R;return M(A({...I,markTelemeter:!1,isMultiDevice:j}))}}));return}return G&&D===G&&b===g.RJ.STARTED?n.S.resolve():M(A({...I,markTelemeter:!0}))});y.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const T=y},1452921056:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ce});var t=e(9706240641),n=e(92886754);let s=null;const r=c(()=>s,"getOpenChannelId"),d=c(X=>{s=X},"setOpenChannelId");var o=e(3134334389),a=e(2562405183),i=e(3051824855),m=e(825587348),l=e(8739505998),_=e(4481313819),v=e(6244014364),u=e(6968387112),h=e(735940183),f=e(3078708518),p=e(4761125736);const E=new h.Ay("huddles");function g(X){let{closeModal:V}=X;const x=(0,a.d4)(f.A),S=(0,a.d4)(Z=>(0,p._Z)(Z,"adoption_instant_slack"))==="treatment";let U,F;if((0,n.yh)())U=E.t("Your browser does not support Huddles"),F=x&&S?E.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},Z=>{let{text:z}=Z;return o.createElement(l.A,{href:"https://www.google.com/chrome"},z)}):E.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},Z=>{let{tag:z,text:$}=Z;switch(z){case"desktop-link":return o.createElement(l.A,{href:`https://${(0,u.qF)()}/downloads`},$);case"chrome-link":return o.createElement(l.A,{href:"https://www.google.com/chrome"},$);default:return null}});else if((0,n.WT)())U=E.t("Please update Slack"),F=E.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return o.createElement(_.A,{eventId:v.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:v.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},o.createElement(m.A,{onClose:V,onSubmit:V,showCancelButton:!1,showSubmitButton:!0,title:U,submitButtonText:E.t("OK")},F))}c(g,"HuddleUnsupportedAlert"),g.displayName="HuddleUnsupportedAlert";const A=(0,i.e)(g);var y=e(6422693406),T=e(1031947056),M=e(5881236351),O=e(5378147939),I=e(6758774099),D=e(8847766420),P=e(1289024643),L=e(7304871158);const k=(0,T.Ay)("End active call",(X,V)=>{const x=(0,P.J2)(V());if(x){const S=(0,P.Ms)(x);S&&!S.isClosed()&&(0,L.R)(S,"endActiveCall")}});k.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var G=e(9640070512),b=e(2527782504),W=e(2832209848),B=e(7843142872),R=e(6533394955),j=e(9548972574),w=e(8935621861),N=e(5332875232),K=e(5795074931),J=e(2791814261),Y=e(5286203919),q=e(9712681361),H=e(7723800688),ne=e(56548687),te=e(6470070112),le=e(5470425448),he=e(5071086688),Ie=e(4250409994),Ee=e(8872167513);const me=(0,T.Ay)("Start huddle",function(){var X=(0,t.coroutine)(function*(V,x,S){let{channelId:U,threadTs:F,muted:Z,callId:z,forceFocus:$,entryPoint:ee=q.su.UNKNOWN,isMultiDevice:de,isStandaloneHuddle:ie}=S;(0,R.dispatchForClientStore)((0,Ie.t2)(!1));const ue=x();if(V(k()),V((0,I.Lm)(!1)),V((0,I.T3)()),(0,n.WT)()||(0,n.yh)())return V(A()),y.S.resolve();V((0,B.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,N.Ms)(ue),interactionType:W.X8.Click})),r()!==U&&V((0,M.Es)({channelId:U??"",open:!1}));const fe=(0,J.L)(ue),re=(0,D.ZT)(ue);(0,Ee.A)().initializeTraces({teamId:re,isTinySpeck:fe});const _e=!!(0,Y.gj)((0,R.getStateForClientStore)()),Ue=yield w.A.getInstance().getNearestChimeMediaRegion(re),{ttiTrace:ye,huddleEventsTrace:Te}=(0,Ee.A)().getAllTraceHandlers();ye.addTTIMetaTags({entryPoint:ee,preferredMediaRegion:Ue,isPrejoin:_e,isCreate:!(0,j.Yw)(ue,U)}),Te==null||Te.recordEntryPoint(ee),he.A.publish({type:le.lx.PreferredMediaRegion,update:{mediaRegionPreferred:Ue}});const ge=(0,O.A)(),Ae=(0,K.WR)(ue);return ge.start(re,U??"",Z,z,F,de,ie).then((0,t.coroutine)(function*(){const Re=(0,R.getStateForClientStore)(),Be=(0,te.$t)(ue,{huddleId:z}),ke=(0,te.kn)(Re),se=(0,te.UE)(Re);(0,ne.e)({state:ue}).track(v.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:ee,ui_properties:{element_name:H.Hi.CANVAS_JOIN},action:v.UiAction.TOGGLE},calls:se},...Be,...ke}),V((0,G.H)({focusKey:b.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:$})),V((0,M.xb)(!1)),z&&V((0,P.r_)({callId:z,userId:Ae}))}))});return function(V,x,S){return X.apply(this,arguments)}}());me.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const ce=me},5319025363:(Q,C,e)=>{"use strict";e.d(C,{z:()=>r});var t=e(1031947056),n=e(7022928841),s=e(8664881451);const r=(0,t.Ay)("Stop the huddle invite sound",(d,o)=>{(0,s.ds)((0,n.qF)(o()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},6694086724:(Q,C,e)=>{"use strict";e.d(C,{e:()=>l});var t=e(1031947056),n=e(796111729),s=e(4869203191),r=e(4250409994),d=e(6533394955),o=e(5332875232),a=e(5286203919),i=e(7434063642),m=e(6251210828);const l=(0,t.Ay)("Stops huddle lounge music from playing",(_,v,u)=>{let{clearOnEndedCallback:h,logContext:f,isStoppedByUser:p}=u;const E=v(),g=(0,n.Ay)({state:E}),A=(0,o.CI)(E),y=(0,m.jr)(E),T=(0,m.K8)(E),M=(0,d.getStateForClientStore)(),O=(0,a.E9)(M);s.Ay.getInstance().stopMusic({clearOnEndedCallback:h,logger:g,logContext:f}),(0,d.dispatchForClientStore)((0,r.Ag)(!1)),p&&O&&_((0,i.sH)({huddleId:O,hasUserStoppedLoungeMusic:p})),A&&(p||T)&&y&&_((0,i.ju)({stopMusic:!0}))});l.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6134475965:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(1031947056),n=e(5378147939),s=e(6533394955),r=e(6694086724),d=e(6855917924),o=e(5332875232),a=e(4250409994),i=e(7366481123);const m=(0,t.Ay)("Stop the active huddle",(_,v)=>{const u=v(),h=(0,o.lV)(u);return(0,s.dispatchForClientStore)((0,a.yi)({})),_((0,d.A)()),_((0,r.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),h&&(0,s.dispatchForClientStore)((0,a.JM)()),_((0,i.LL)(i.vT.HiddenUserJoinedHuddle)),(0,n.A)().stop()});m.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const l=m},6310192986:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>x,vP:()=>ce});var t=e(6313685253),n=e(9137897911),s=e(3398586081),r=e(716022512),d=e(6696292586),o=e(4518410378),a=e(9548972574),i=e(8233775522),m=e(6470070112),l=e(3245843483),_=e(5286203919),v=e(4988306802),u=e(9012396182),h=e(9101533895),f=e(6533394955),p=e(2767624118),E=e(6664301844),g=e(7429662208),A=e(387328355),y=e(1990810649),T=e(9365970888),M=e(6117529990),O=e(8736071954),I=e(610288365),D=e(5332875232),P=e(6251210828),L=e(2465464861),k=e(571104883),G=e(9195837907),b=e(1473609332),W=e(3193155968),B=e(6839188756);function R(S){return S?(0,B.tc)(S)?"free":(0,B.r7)(S)?"enterprise":"pro":"unknown"}c(R,"getTeamTier");var j=e(3677514771),w=e(4724591729),N=e(4761125736),K=e(8634352961),J=e(415910655),Y=e(5795074931),q=e(7366481123);const H=navigator.hardwareConcurrency,ne=navigator.platform,te=(0,k.zS)(),le=(0,w.b3)(),he=(0,w.$i)(),Ie=c(S=>(0,t.A)(S,(U,F,Z)=>{if(Z===W.N2)return U;const z=Z.split(/-|_/).slice(0,-1).join("-"),$=(0,n.A)(`windows-${z}-count`);return U[$]?U[$]+=1:U[$]=1,U},{}),"countWindowsByType"),Ee=c(S=>{if(!S)return"";let U=S;const F=/Default -/g;U=S.replace(F,"");const Z=/ *?\([^)]*?\) *?/g;return U=U.replace(Z,""),U=U.trim(),U},"scrubDeviceLabelForReporting");let me;const ce=c(()=>me,"getMostRecentStableTags"),X=(0,s.A)((S,U)=>{let{teamState:F,clientState:Z}=S;var z,$,ee,de,ie,ue,fe;const re=(0,_.E9)(Z),_e=(0,_.hc)(Z),Ue=(0,M.OV)(F),ye=(0,D.MJ)(F),Te=(0,D.nC)(F),ge=(0,D.ZI)(F),Ae=(0,D.DP)(F),Re=(0,D.JQ)(F),Be=(0,N._Z)(F,"huddles_h264_baseline",!1),ke=(0,N._Z)(F,"huddles_h264_baseline_screenshare",!1),se=(0,D.Cu)(F),ve=E.zF.sdkVersion,Me=(0,m.R8)(F),be=(0,D.Qq)(F),xe=(0,_.sQ)(Z),Le=(0,D.Jf)(F),Ke=(0,N._Z)(F,"huddles_filter_worker",!1),He=(0,_.l4)(Z),Ye=(0,j.H7)(F),Xe=R(Ye);var et;const st=(et=(z=(0,u.getBootedWorkspaces)(Z))===null||z===void 0?void 0:z.length)!==null&&et!==void 0?et:0,ot=(0,b.Bh)(),ct=(ot==null||($=ot.deviceIdPriorities)===null||$===void 0||(ee=$.camera)===null||ee===void 0?void 0:ee.length)||0,at=(ot==null||(de=ot.deviceIdPriorities)===null||de===void 0||(ie=de.microphone)===null||ie===void 0?void 0:ie.length)||0,At=(ot==null||(ue=ot.deviceIdPriorities)===null||ue===void 0||(fe=ue.output)===null||fe===void 0?void 0:fe.length)||0,Ct=(0,h.D5)(F),Tt=(Ct==null?void 0:Ct.length)||0,Rt=(0,J.s2)()||{},It=(0,k.pr)(),Mt={teamId:He,huddleId:re,huddleChannelId:_e,workspaceCount:st,chimeSdkVersion:ve,teamTier:Xe,isPreWarmed:be,isPrejoin:xe,isHuddlesIncreaseMaxParticipantsEnabled:Te,isTranscriptAllowed:Me,isChimeSdkExpEnabled:Ue,isHuddlesLaterEnabled:ye,isVideoQualityIncreaseEnabled:Le,disableAudioRedundancyGroup:Re,h264BaselineGroup:Be,h264BaselineScreenshareGroup:ke,isDevicesExpEnabled:ge,isRtmFilteringEnabled:Ae,osPlatform:ne,osVersion:te,devicePriorityListCameraCount:ct,devicePriorityListMicrophoneCount:at,devicePriorityListSpeakerCount:At,envIsJsPath:le,envIsQa:he,xwsChannelCount:Tt,isAv1ScreenshareEnabled:se,filterWorkerGroup:Ke,isCitrixBrowser:It,...Rt};return me=Mt,Mt},(S,U)=>U),x=c(S=>{let{state:U,appMetrics:F}=S;var Z,z,$,ee,de,ie,ue,fe;const re=(0,f.getClientStoreInstance)().getState(),_e=(0,_.cN)(re),Ue=(0,_.E9)(re),ye=`${_e}${Ue??""}`,Te=X({teamState:U,clientState:re},ye),{huddleId:ge,huddleChannelId:Ae,workspaceCount:Re,isRtmFilteringEnabled:Be}=Te,ke={},se=(0,g.e6)(U),ve=se?(0,g.Le)(U,{tab:se}):{},{primary:Me,secondary:be,sidebar:xe}=ve||{};Object.assign(ke,{viewPrimary:Me==null?void 0:Me.viewType,viewSecondary:be==null?void 0:be.viewType,viewSidebar:xe==null?void 0:xe.viewType,viewTab:se});const Le=(0,T.Hc)(U),Ke=(0,T.AZ)(U),He=(0,T.IO)(U),Ye=(0,T.JM)(U),Xe=(0,T.SR)(U),et=(0,T.f3)(U),st=(0,T.aA)(U),ot={microphoneIsBlocked:Le,microphoneIsAvailable:Ke,cameraIsBlocked:Xe,cameraIsAvailable:et,isMicrophoneBluetooth:He,isSpeakerBluetooth:Ye,isMicrophoneAndSpeakerOnSameDevice:st},ct=(0,i.fq)(U),at={};if(ct){const pe=Object.keys(ct);Object.assign(at,{windowsTotalOpen:pe.length,windowsOpenTypes:pe.length?pe.join(" "):"",windowsTypeWithFocus:(0,r.A)(ct,Se=>!!Se.isFocused),...Ie(ct)})}const At=(0,m.Fm)(U),Ct=At&&At.type===q.vT.AudioOnlyModeRecommended,Tt=(0,L._R)(U),Rt=Tt!==null,It={isTroubleshootingPanelOpen:Rt,isAudioOnlyModeEnabled:(0,_.Rv)(re),troubleshootingPanelTab:Rt?(0,L.Eh)(U):null,troubleshootingPillPage:(0,L.Wg)(U),troubleshootingEntryPointWas:(0,L.qV)(U),troubleshootingSessionId:Rt?`${(0,Y.WR)(U)}${ge}:${(0,L.$i)(U)}`:null,troubleshootingBannerInView:Ct,troubleshootingSource:Tt},Mt=(0,a.UK)(U),nn=(Z=(0,T.ql)(U,O.lW.Camera))===null||Z===void 0?void 0:Z.label,Ot=(z=(0,T.ql)(U,O.lW.Microphone))===null||z===void 0?void 0:z.label,bt=($=(0,T.ql)(U,O.Q4))===null||$===void 0?void 0:$.label,{isScreenshareEnabled:Jt,isHostDrawEnabled:en,isHostDrawRendererActive:sn,isCameraEnabled:zt,isMicrophoneEnabled:Yt,isConnected:hn}=(0,A.Ng)(U),Qe=!!Jt,Wt=!!zt,gn=(0,A.fU)(U,{id:"self"}),rn=(0,A.MY)(U),ut=rn==="self",Pt=Mt.filter(pe=>pe.isCameraEnabled).length,Bt=(0,p.H)(Ae),Ft=(0,b.Bh)(),un=Wt&&(Ft==null||(ee=Ft.video)===null||ee===void 0?void 0:ee.effect)===G.t.Blur,Sn=!!(!(Ft==null||(de=Ft.audio)===null||de===void 0)&&de.enableNoiseSuppression),Un=Sn&&ut,Cn=Wt&&(Ft==null||(ie=Ft.video)===null||ie===void 0?void 0:ie.effect)===G.t.Background&&(Ft==null||(ue=Ft.video)===null||ue===void 0?void 0:ue.effectBgKey)!==void 0,Ln=!!rn,yn=!!Pt,nt=(0,A.nD)(U).length,pt=!!nt,Dt=nt+(Qe?1:0),Qt=Dt===2,tn=pt||Qe,an=(0,L.gA)(U),ht=(0,v.VN)(U),yt=(0,v.M3)(U),Ut=Ln?(fe=Mt.find(pe=>pe.id===rn))===null||fe===void 0?void 0:fe.userId:void 0,Gt=(0,P.dj)(U,{huddleId:ge})||!1,mn=o.J.document.visibilityState==="visible",Oe={isBackgroundBlurActive:un,isNoiseSuppressionEnabled:Sn,isNoiseSuppressionActive:Un,isCustomVideoBackgroundActive:Cn,isClosedCaptionsEnabled:ht,isSideBySideCaptionsEnabled:yt},we=Be?(0,K.zT)():void 0,Fe=Be?(0,K.kB)():void 0,qe=(0,K.oB)(),ze={callId:Ue,isMicrophoneEnabled:Yt,isActiveSpeaker:ut,isSomeoneSpeaking:Ln,isSomeoneSharingScreen:tn,isVideoEnabledForSomeone:an,isSharingScreen:Qe,isHostDrawEnabled:en,isHostDrawActive:sn,isSelfVideoEnabled:Wt,isPeerVideoEnabled:yn,isHuddleWindowVisible:Bt,selectedCamera:Ee(nn),selectedMicrophone:Ee(Ot),selectedSpeakers:Ee(bt),activeSpeakerUserId:Ut,isPeerSharingScreen:pt,isDualScreenshareActive:Qt,cpuCount:H,remotePeerCount:Mt.length,remotePeersWithVideoCount:Pt,peersScreensharingCount:nt,activeScreenshareCount:Dt,workspaceCount:Re,huddleStartTimestamp:_e,isDisconnected:hn===!1,isMainWindowVisible:mn,rtmPercentSkipped:we,rtmTopAllowedTypes:Fe,rtmRatePerSecond:qe,isHuddleSummaryActive:Gt};let Ge={};if(F){const{cpu:pe,memory:Se,gpu:Ne,thermalState:lt,speedLimit:dt}=F,it=(0,d.A)(pe)?Math.round(pe*H):void 0,kt=(0,d.A)(Ne)?Math.round(Ne*H):void 0,{useHwAcceleration:$t}=(0,l.oQe)("settings")||{};Ge={cpuUseRelative:pe?Math.round(pe):void 0,cpuUse:it,gpuUse:kt,memoryUse:(Se==null?void 0:Se.workingSetSize)||void 0,isHardwareAccelerationEnabled:$t,osThermalState:lt,osSpeedLimit:dt,osIsThrottlingCpu:dt&&dt!==0?dt<30:void 0}}let Ze={huddleViewMode:(0,P.HH)(U,{huddleId:ge})};if(Bt){var _t;const pe=(0,P.Ec)(U,{huddleId:ge}),Se=(0,P.SC)(U,{huddleId:ge,surface:pe});Ze={...Ze,huddleWindowSurface:pe,huddleWindowFocusedContentType:(gn==null||(_t=gn.item)===null||_t===void 0?void 0:_t.type)||y.cM.None,huddleWindowIsFullscreen:(0,P.g0)(U),huddleWindowIsSelfDrawingEnabled:(0,P.ny)(U),huddleWindowWindowHeight:Se==null?void 0:Se.height,huddleWindowWindowWidth:Se==null?void 0:Se.width}}const Et=(0,I.Ay)(),je={batteryIsUsing:Et.isUsingBatteryPower(),batteryPercentRemaining:Et.getLevel()};return{...ze,...Oe,...Ge,...Ze,...ke,...ot,...je,...It,...at,...Te}},"getHuddleStateSnapshot")},4742719639:(Q,C,e)=>{"use strict";e.d(C,{o:()=>d});var t=e(2384831516),n=e(9548972574),s=e(8847766420),r=e(6741408957);const d=(0,t.Mz)((o,a)=>{const i=(0,n.dy)(o);if(i)return i;const m=(0,n.Yw)(o,a);if(!m)return null;const l=(0,s.ZT)(o);return m.name===void 0?((0,r.Ss)().fetchObjectWithId(l,m.id),null):((0,r.GD)().maybeRefetch(l,m.id),m.name)});d.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(o,a)=>{const i=(0,n.dy)(o);if(i)return i;const m=(0,n.Yw)(o,a);if(!m)return null;const l=(0,s.ZT)(o);return m.name===void 0?((0,r.Ss)().fetchObjectWithId(l,m.id),null):((0,r.GD)().maybeRefetch(l,m.id),m.name)}}},1921074781:(Q,C,e)=>{"use strict";e.d(C,{F:()=>a});var t=e(9706240641),n=e.n(t),s=e(8571983633),r=e(6422693406),d=e(796111729),o=e(2778217221);class a{static getInstance(){if(!a.wakeLockManager)try{a.wakeLockManager=new a}catch(m){(0,d.Wo)({label:o.o7}).warn("Error instantiating WakeLockManager,",m.message)}return a.wakeLockManager}static doesInstanceExist(){return!(0,s.A)(a.wakeLockManager)}request(){var m=this;return(0,t.coroutine)(function*(){if(m.wakeLockSentinel)return r.S.resolve();m.wakeLockSentinel=yield m.wakeLock.request("screen").catch(l=>(m.logger.warn("WakeLock acquire failed",l.message),null)),m.addHandlers()})()}release(){var m=this;return(0,t.coroutine)(function*(){if(!m.wakeLockSentinel)return r.S.resolve();m.shouldRemoveVisibilityHandler=!0,yield m.wakeLockSentinel.release(),m.logger.info("WakeLock released")})()}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}handleWakeLockReleased(){var m=this;return(0,t.coroutine)(function*(){m.logger.info("WakeLock released by browser"),m.cleanupHandlers()})()}handleDocumentVisibilityChange(){var m=this;return(0,t.coroutine)(function*(){document.visibilityState==="visible"&&m.request()})()}constructor(){if(this.logger=(0,d.Wo)({label:o.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}c(a,"WakeLockManager")},8478954380:(Q,C,e)=>{"use strict";e.d(C,{Li:()=>u,ML:()=>d,Rt:()=>a,_6:()=>v,aS:()=>i,al:()=>o,bW:()=>l,it:()=>_,qO:()=>m});var t=e(2140362605),n=e(1031947056),s=e(5071086688),r=e(5470425448);const d=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");d.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const o=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");o.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const a=(0,n.Ay)("Set the screen sharing of a peer.",(h,f,p)=>{s.A.publish({type:r.lx.TroubleshootingEntryPoint,update:(p==null?void 0:p.entryPoint)||null}),h(o(p))});a.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const i=(0,t.Ay)("Sets active pill page for tracing.");i.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const m=(0,t.Ay)("Update stable metrics state");m.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const l=(0,t.Ay)("Update unstable metrics and warnings state");l.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const _=(0,t.Ay)("Update stable warnings state");_.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const v=(0,t.Ay)("Update stable alert state");v.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const u=(0,t.Ay)("Update unstable alert state");u.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},2465464861:(Q,C,e)=>{"use strict";e.d(C,{$i:()=>l,Eh:()=>a,FP:()=>E,Ku:()=>A,Wf:()=>p,Wg:()=>m,Z8:()=>o,_R:()=>i,cB:()=>h,gA:()=>y,h:()=>f,m:()=>g,qV:()=>_});var t=e(8161242485),n=e(2689960678),s=e(6790819894),r=e(7091646278),d=e(387328355);const o=3,a=(0,t.Ay)(T=>T.huddleTroubleshooting.view.activeAccordionView);a.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveAccordionView",description:T=>T.huddleTroubleshooting.view.activeAccordionView};const i=(0,t.Ay)(T=>T.huddleTroubleshooting.view.source);i.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelSource",description:T=>T.huddleTroubleshooting.view.source};const m=(0,t.Ay)(T=>T.huddleTroubleshooting.view.activePillPage);m.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPillPageTrace",description:T=>T.huddleTroubleshooting.view.activePillPage};const l=(0,t.Ay)(T=>T.huddleTroubleshooting.view.source?T.huddleTroubleshooting.view.openCounter:-1);l.meta={name:"createSelector",key:"createSelectorgetTroubleshootingSessionCounterIdTrace",description:T=>T.huddleTroubleshooting.view.source?T.huddleTroubleshooting.view.openCounter:-1};const _=(0,t.Ay)(T=>T.huddleTroubleshooting.view.entryPoint);_.meta={name:"createSelector",key:"createSelectorgetTroubleshootingEntryPointTrace",description:T=>T.huddleTroubleshooting.view.entryPoint};const v=(0,t.Ay)(T=>T.huddleTroubleshooting.view.alertCount>=o);v.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:T=>T.huddleTroubleshooting.view.alertCount>=o};const u=(0,t.Ay)(T=>T.huddleTroubleshooting.metrics.stable);u.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:T=>T.huddleTroubleshooting.metrics.stable};const h=(0,t.Ay)(T=>T.huddleTroubleshooting.metrics.unstable);h.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:T=>T.huddleTroubleshooting.metrics.unstable};const f=(0,t.Ay)(T=>T.huddleTroubleshooting.warnings.stable);f.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:T=>T.huddleTroubleshooting.warnings.stable};const p=(0,t.Ay)(T=>T.huddleTroubleshooting.warnings.unstable);p.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:T=>T.huddleTroubleshooting.warnings.unstable};const E=(0,t.Ay)(T=>T.huddleTroubleshooting.alerts.stable);E.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:T=>T.huddleTroubleshooting.alerts.stable};const g=(0,t.Ay)(T=>T.huddleTroubleshooting.alerts.unstable);g.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:T=>T.huddleTroubleshooting.alerts.unstable};const A=(0,s.F)(T=>E(T)||n.t0,T=>g(T)||n.t0,T=>f(T)||n.t0,(T,M,O)=>{const{isMicrophoneBlocked:I,isCameraBlocked:D,isDisconnected:P,isMicrophoneNotSendingAudio:L}=T,{isAudioQualityPoor:k,isCpuCompetitionPoor:G,isNetworkQualityPoor:b,networkQualityHealth:W}=M,{isCameraProbablyIphone:B,isSpeakerBluetooth:R}=O,j=!!(k&&b),w=!!(k&&G),N=!!(R&&k||D||I||L||B),K=!!(j||w||D||I||L||P),J=k||P?r.bz.Bad:W;return{shouldSurfaceGeneralWarning:K,shouldSurfaceSystemWarning:w,shouldSurfaceDevicesWarning:N,aggregateNetworkHealth:J}}),y=(0,s.F)(d.Ng,d.nt,(T,M)=>{const{isCameraEnabled:O}=T;return!!(O||M)})},7091646278:(Q,C,e)=>{"use strict";e.d(C,{ML:()=>n,bz:()=>s,pK:()=>t});var t;(function(r){r.Network="network",r.System="system",r.Devices="devices",r.Overview="overview"})(t||(t={}));var n;(function(r){r.EnlargedWindow="EnlargedWindow",r.CompactWindow="CompactWindow",r.MiniPlayer="MiniPlayer"})(n||(n={}));var s;(function(r){r.Good="good",r.Warn="warn",r.Bad="bad"})(s||(s={}))},7763971809:(Q,C,e)=>{"use strict";e.d(C,{V:()=>t});const t="identity_links_prefs"},2239896522:(Q,C,e)=>{"use strict";e.d(C,{IC:()=>i,Kb:()=>u,LG:()=>h,R1:()=>_,SU:()=>f,Xe:()=>v,bm:()=>l});var t=e(6790819894),n=e(8161242485),s=e(2047021170),r=e(8847766420),d=e(5597672932),o=e(796111729),a=e(7763971809);const i=(0,t.F)(p=>(0,s.ty)(p,a.V),p=>(0,r.ZT)(p),function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",E=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(p)}catch(g){return(0,o.Ay)({teamId:E}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",g),{}}}),m=(0,n.Ay)(p=>(0,d.x)(p,a.V));m.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:p=>(0,d.x)(p,a.V)};const l=(0,n.Ay)(p=>{const E=m(p);var g;return(g=E==null?void 0:E.is_enabled)!==null&&g!==void 0?g:!1});l.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:p=>{const E=m(p);var g;return(g=E==null?void 0:E.is_enabled)!==null&&g!==void 0?g:!1}};const _=(0,n.Ay)((p,E)=>{const g=i(p);var A;return(A=g==null?void 0:g[E])!==null&&A!==void 0?A:!1});_.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(p,E)=>{const g=i(p);var A;return(A=g==null?void 0:g[E])!==null&&A!==void 0?A:!1}};const v=(0,n.Ay)((p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.date_opted_out)!==null&&A!==void 0?A:null});v.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.date_opted_out)!==null&&A!==void 0?A:null}};const u=(0,n.Ay)((p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.completed_transfer)!==null&&A!==void 0?A:!1});u.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.completed_transfer)!==null&&A!==void 0?A:!1}};const h=(0,n.Ay)((p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.num_skipped)!==null&&A!==void 0?A:0});h.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.num_skipped)!==null&&A!==void 0?A:0}};const f=(0,n.Ay)((p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.date_disconnected)!==null&&A!==void 0?A:null});f.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(p,E)=>{const g=_(p,E);var A;return(A=g==null?void 0:g.date_disconnected)!==null&&A!==void 0?A:null}}},1469799399:(Q,C,e)=>{"use strict";e.d(C,{C:()=>v});var t=e(9706240641),n=e.n(t),s=e(3134334389),r=e(1031947056),d=e(796111729),o=e(8262898118),a=e(8031326843),i=e(2375333597),m=e(6591744424),l=e(97319433),_=e(2239896522);const v=(0,r.Ay)("Handle a user clicking on an identity link",function(){var u=(0,t.coroutine)(function*(h,f,p){let{url:E,channelId:g}=p;const A=(0,d.Ay)({getState:f}),y=(0,o.ND)(f(),E),T=(0,o.pF)(f(),E),M=(0,m.Z3)(f());if(!(0,o.w$)(f(),E)){window.open(E,"_blank","noopener,noreferrer");return}if(!y){A.error(`error getting appId for domain: ${T}`,E),window.open(E,"_blank","noopener,noreferrer");return}const O=(0,_.SU)(f(),y);if(!M||O){window.open(E,"_blank","noopener,noreferrer");return}if((0,_.Kb)(f(),y)){h((0,l.Ap)({appId:y,url:E,channelId:g,domain:T}));return}if((0,_.Xe)(f(),y)===null){h((0,i.q)({element:s.createElement(a.A,{appId:y,domain:T,url:E,channelId:g}),isStackable:!0}));return}window.open(E,"_blank","noopener,noreferrer")});return function(h,f,p){return u.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},97319433:(Q,C,e)=>{"use strict";e.d(C,{zL:()=>E,Ap:()=>p});var t=e(9706240641),n=e(1031947056),s=e(796111729),r=e(3810796320),d=e(5257368278),o=e(2927826522),a=e(4433296946);const i=(0,d.A)("Get SIWS transfer payload",(A,y,T)=>{let{appId:M,clientMsgId:O,url:I,channelId:D}=T;return A((0,r.o)({appId:M,clientMsgId:O,uri:I,reason:"siws-get-transfer-payload",channelId:D})).then(P=>({...(0,o.t)(P)})).catch(P=>{var L;throw((L=P.data)===null||L===void 0?void 0:L.error)==="invalid_client_cache"&&A((0,a._)()),P})});i.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};const m=i;var l=e(571104883),_=e(3134334389),v=e(2375333597),u=e(8031326843);const h=(0,n.Ay)("opens the Identity Transfer Modal when we want to Reverify Email",function(){var A=(0,t.coroutine)(function*(y,T,M){let{appId:O,domain:I,url:D,channelId:P}=M;y((0,v.q)({element:_.createElement(u.A,{appId:O,domain:I,url:D,channelId:P,reverifyEmail:!0}),isStackable:!0}))});return function(y,T,M){return A.apply(this,arguments)}}());h.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};const f={window:null,appId:void 0},p=(0,n.Ay)("Fetch and open the initialization URL for an identity link",function(){var A=(0,t.coroutine)(function*(y,T,M){let{appId:O,url:I,domain:D,clientMsgId:P,shouldCloseWindowOnCompletion:L=!1,channelId:k}=M;const G=(0,s.Ay)({getState:T,label:"IDENTITY_LINKS"});let b=null;try{if((0,l.y3)()){const{initiateUrl:W}=yield y(m({appId:O,clientMsgId:P,url:I,channelId:k}));window.open(W,"_blank","noopener,noreferrer")}else{b=window.open("","_blank");const{initiateUrl:W}=yield y(m({appId:O,clientMsgId:P,url:I,channelId:k}));b.location.href=W,G.info(`opened identity transfer window for appId ${O}`),L&&(f.window=b,f.appId=O)}}catch(W){const B=W==null?void 0:W.data;G.error(`error getting transfer payload for link with appId ${O}`,B==null?void 0:B.error),(B==null?void 0:B.error)===r.V.EmailNotVerified?(b==null||b.close(),y(h({appId:O,channelId:k,domain:D,url:I}))):b?b.location.href=I:window.open(I,"_blank","noopener,noreferrer")}});return function(y,T,M){return A.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const E=(0,n.Ay)("Close the browser window used for the identity transfer flow with the given app, if it exists",(A,y,T)=>{let{appId:M}=T;const O=(0,s.Ay)({getState:y,label:"IDENTITY_LINKS"});if(O.info(`checking if there's an identity transfer window to close for appId ${M}`),M&&f.appId===M&&f.window){try{var I,D;f==null||(I=f.window)===null||I===void 0||(D=I.close)===null||D===void 0||D.call(I),O.info(`closed identity transfer window for appId ${M}`)}catch(P){O.error(`error attempting to close identity transfer window for appId ${M}`,P)}f.window=null,f.appId=void 0}});E.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const g={lastOpenedWindowRef:f}},5973312896:(Q,C,e)=>{"use strict";e.d(C,{J:()=>a});var t=e(1031947056),n=e(387484329),s=e(796111729),r=e(475074488),d=e(2239896522),o=e(7763971809);const a=(0,t.Ay)("Set all or some identity links user prefs in single call",(i,m,l)=>{let{appId:_,completedTransfer:v,dateOptedOut:u,numSkipped:h,dateLastSkipped:f}=l;const p=(0,d.IC)(m()),E=(0,d.R1)(m(),_);let g="{}";const A={completedTransfer:v,dateOptedOut:u,numSkipped:h,dateLastSkipped:f};try{g=JSON.stringify({...p,[_]:{...E,...(0,r.Ay)(A)}})}catch(y){(0,s.Ay)({getState:m}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",y)}return i((0,n.AZ)({pref:o.V,value:g}))});a.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},9943020700:(Q,C,e)=>{"use strict";e.d(C,{$W:()=>m,$o:()=>f,Am:()=>h,At:()=>ce,C2:()=>O,CO:()=>_,Cj:()=>p,DB:()=>le,Dx:()=>I,EX:()=>w,Fm:()=>v,GI:()=>l,IC:()=>G,IE:()=>te,I_:()=>o,KF:()=>he,KJ:()=>q,Lu:()=>H,OG:()=>u,Ot:()=>Ee,Qk:()=>s,Qq:()=>V,RL:()=>L,TD:()=>me,TW:()=>B,To:()=>D,Tt:()=>K,U_:()=>E,Uo:()=>J,VV:()=>a,XB:()=>k,ZE:()=>P,_L:()=>T,_R:()=>R,ab:()=>M,av:()=>X,aw:()=>S,d0:()=>N,fg:()=>j,g:()=>g,iI:()=>x,kJ:()=>U,qD:()=>Ie,tK:()=>n,w$:()=>b,wW:()=>Y,w_:()=>W,yw:()=>i,zD:()=>y,zl:()=>ne});var t=e(2140362605);const n=(0,t.Ay)("Remove a list");n.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const s=(0,t.Ay)("trigger animation for view");s.meta={name:"createAction",key:"createActiontriggerAnimationForViewId",description:"trigger animation for view"};const r=(0,t.Ay)("Add / update a list column");r.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const d=(0,t.Ay)("Remove a list column");d.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const o=(0,t.Ay)("Fill column with info data or default value");o.meta={name:"createAction",key:"createActionfillColumnData",description:"Fill column with info data or default value"};const a=(0,t.Ay)("Replace all of a list's records");a.meta={name:"createAction",key:"createActionreplaceRecords",description:"Replace all of a list's records"};const i=(0,t.Ay)("Add / update multiple records");i.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const m=(0,t.Ay)("Add / update a list record");m.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const l=(0,t.Ay)("Remove a list record");l.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const _=(0,t.Ay)("Add/update a record position in a view");_.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const v=(0,t.Ay)("Add / update multiple templates");v.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const u=(0,t.Ay)("Add / update multiple starter templates");u.meta={name:"createAction",key:"createActionbulkUpsertStarterTemplates",description:"Add / update multiple starter templates"};const h=(0,t.Ay)("Remove a starter template by ID");h.meta={name:"createAction",key:"createActionremoveStarterTemplate",description:"Remove a starter template by ID"};const f=(0,t.Ay)("Set the list's banner message");f.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const p=(0,t.Ay)("Clear the specified type of banner message for this list");p.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear the specified type of banner message for this list"};const E=(0,t.Ay)("Add / update a list record field");E.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const g=(0,t.Ay)("Add / update a list cell");g.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const A=(0,t.Ay)("Add / update a workflow for a list");A.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const y=(0,t.Ay)("Apply an edit action to a list");y.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const T=(0,t.Ay)("Clear edit history for a list");T.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const M=(0,t.Ay)("Update local filters");M.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const O=(0,t.Ay)("Update local sorts");O.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const I=(0,t.Ay)("Update local collapsed grids");I.meta={name:"createAction",key:"createActionchangeViewLocalCollapsedGrids",description:"Update local collapsed grids"};const D=(0,t.Ay)("Update the current viewId set by refine in the active window");D.meta={name:"createAction",key:"createActionsetRefineView",description:"Update the current viewId set by refine in the active window"};const P=(0,t.Ay)("Set filter pill to auto open");P.meta={name:"createAction",key:"createActionsetFilterPillKeyById",description:"Set filter pill to auto open"};const L=(0,t.Ay)("Set group by pill to auto open");L.meta={name:"createAction",key:"createActionsetGroupByPillAutoOpen",description:"Set group by pill to auto open"};const k=(0,t.Ay)("Set search query for list");k.meta={name:"createAction",key:"createActionsetListSearchQuery",description:"Set search query for list"};const G=(0,t.Ay)("Destroy local refinements");G.meta={name:"createAction",key:"createActiondestroyLocalRefinements",description:"Destroy local refinements"};const b=(0,t.Ay)("Add / update my items");b.meta={name:"createAction",key:"createActionupsertMyItems",description:"Add / update my items"};const W=(0,t.Ay)("Add / update a list cell edit");W.meta={name:"createAction",key:"createActionupsertCellEdit",description:"Add / update a list cell edit"};const B=(0,t.Ay)("set refinement pill to auto open in view");B.meta={name:"createAction",key:"createActionsetRefinePillAutoOpenByViewId",description:"set refinement pill to auto open in view"};const R=(0,t.Ay)("Add / update last read timestamp by list ID");R.meta={name:"createAction",key:"createActionupsertLastReadTimestampById",description:"Add / update last read timestamp by list ID"};const j=(0,t.Ay)("Mark records as new to highlight it");j.meta={name:"createAction",key:"createActionhighlightRecordsAsNew",description:"Mark records as new to highlight it"};const w=(0,t.Ay)("Mark record read to unhighlight it");w.meta={name:"createAction",key:"createActionremoveRecordHighlight",description:"Mark record read to unhighlight it"};const N=(0,t.Ay)("Set record as open in flexpane");N.meta={name:"createAction",key:"createActionrecordFlexpaneOpen",description:"Set record as open in flexpane"};const K=(0,t.Ay)("Set record flexpane closed");K.meta={name:"createAction",key:"createActionrecordFlexpaneClosed",description:"Set record flexpane closed"};const J=(0,t.Ay)("Load all recently viewed lists");J.meta={name:"createAction",key:"createActionloadRecentlyViewedLists",description:"Load all recently viewed lists"};const Y=(0,t.Ay)("Add recently opened list to the store");Y.meta={name:"createAction",key:"createActionaddToRecentlyViewedLists",description:"Add recently opened list to the store"};const q=(0,t.Ay)("Remove deleted lists from the store");q.meta={name:"createAction",key:"createActionremoveFromRecentlyViewedLists",description:"Remove deleted lists from the store"};const H=(0,t.Ay)("Update local field visibility");H.meta={name:"createAction",key:"createActionchangeLocalViewFieldVisibility",description:"Update local field visibility"};const ne=(0,t.Ay)("Update local view type");ne.meta={name:"createAction",key:"createActionchangeLocalViewType",description:"Update local view type"};const te=(0,t.Ay)("Update local show completed items");te.meta={name:"createAction",key:"createActionchangeLocalShowCompletedItems",description:"Update local show completed items"};const le=(0,t.Ay)("Update local group by");le.meta={name:"createAction",key:"createActionchangeLocalViewGroupBy",description:"Update local group by"};const he=(0,t.Ay)("Subscribe/unsubscribe a list record");he.meta={name:"createAction",key:"createActionsetRecordIsSubscribed",description:"Subscribe/unsubscribe a list record"};const Ie=(0,t.Ay)("Set new view ids for badging");Ie.meta={name:"createAction",key:"createActionsetListNewViewBadgingById",description:"Set new view ids for badging"};const Ee=(0,t.Ay)("Set highlight column in the item flexpane");Ee.meta={name:"createAction",key:"createActionsetHighlightColumnId",description:"Set highlight column in the item flexpane"};const me=(0,t.Ay)("Clear highlight column in the item flexpane");me.meta={name:"createAction",key:"createActionclearHighlightColumnId",description:"Clear highlight column in the item flexpane"};const ce=(0,t.Ay)("Set local views for optimistic updates");ce.meta={name:"createAction",key:"createActionsetLocalViewsByListId",description:"Set local views for optimistic updates"};const X=(0,t.Ay)("Updates the UI state for the refine edit view menu component");X.meta={name:"createAction",key:"createActionrefineEditViewMenuComponentState",description:"Updates the UI state for the refine edit view menu component"};const V=(0,t.Ay)("Sets the reference tracker map for my tasks list");V.meta={name:"createAction",key:"createActionsetMyTasksReferenceTracker",description:"Sets the reference tracker map for my tasks list"};const x=(0,t.Ay)("Adds a reference to the reference tracker map for my tasks list");x.meta={name:"createAction",key:"createActionaddToMyTasksReferenceTracker",description:"Adds a reference to the reference tracker map for my tasks list"};const S=(0,t.Ay)("Removes a reference from the reference tracker map for my tasks list");S.meta={name:"createAction",key:"createActionremoveFromMyTasksReferenceTracker",description:"Removes a reference from the reference tracker map for my tasks list"};const U=(0,t.Ay)("Should show list description");U.meta={name:"createAction",key:"createActionsetShowListDescriptionById",description:"Should show list description"}},4001611198:(Q,C,e)=>{"use strict";e.d(C,{ez:()=>a,mY:()=>i});var t=e(3398586081),n=e(8352634987),s=e(574001087),r=e(6533394955);const d=(0,t.A)(m=>new n.Ay({storeKey:"lists",fetch:(l,_)=>(0,r.dispatchForTeamId)(l,(0,s.o)({idsToFetch:_,listId:m})),isEnabled:()=>!0,metricsName:"lists-record-fetcher"})),o=c((m,l,_)=>d(_).markObjectsAsStale(m,l),"markObjectsAsStale"),a=c((m,l,_)=>d(_).maybeRefetch(m,l),"maybeRefetch"),i=c((m,l,_)=>d(_).markObjectsAsFresh(m,l),"markObjectsAsFresh")},4224126550:(Q,C,e)=>{"use strict";e.d(C,{w9:()=>re,uu:()=>Un,mJ:()=>st,vg:()=>le,K0:()=>Xe,rm:()=>V,kS:()=>x,E4:()=>Wt,fc:()=>Gt,Yq:()=>Ot,k7:()=>en,$8:()=>gn,nh:()=>rn,Jc:()=>Te,$N:()=>nn,zH:()=>Rt,lq:()=>He,Te:()=>ve,YI:()=>ke,dR:()=>ut,iP:()=>Cn,qC:()=>pt,Ws:()=>nt,tu:()=>Qt,hA:()=>Sn,Tj:()=>At,jv:()=>Ct,vS:()=>H,PZ:()=>un,I9:()=>_e,DU:()=>Ee,C0:()=>z,C5:()=>Pt,vD:()=>$,Rl:()=>ne,jH:()=>hn,P6:()=>te,Mr:()=>Ie,bA:()=>bt,ot:()=>Bt,Bj:()=>yn,qO:()=>et,Cf:()=>an,rh:()=>Mt,iM:()=>ct,dE:()=>at,EI:()=>ce,kG:()=>S,_H:()=>Ft,wx:()=>X,Xb:()=>fe,nZ:()=>ue,X0:()=>ot,hL:()=>Yt,BO:()=>Tt,K1:()=>Re,gu:()=>Qe,aY:()=>be,hY:()=>tn,Pj:()=>mn,Yb:()=>Xt,XR:()=>Le,WE:()=>Ke,x2:()=>Z,$F:()=>U,yv:()=>F,n7:()=>se,iX:()=>he,Es:()=>sn,mc:()=>ht,TF:()=>Ln,le:()=>Be,jW:()=>xe});var t=e(166097325),n=e(3385422400),s=e(1737183214),r=e(3001769570),d=e(9216332371),o=e(3032483460),a=e(8191156954),i=e(9884588328),m=e(8393662842),l=e(5917710436),_=e(6642124196),v=e(2009641291),u=e(1521013946),h=e(6106034567),f=e(3110884894),p=e(1305633231),E=e(3339229351),g=e(2689960678),A=e(796111729),y=e(6471801899),T=e(8161242485),M=e(8847766420),O=e(4813703725),I=e(8455301571),D=e(937317117),P=e(6415612447),L=e(4001611198),k=e(3398586081),G=e(3037015781),b=e(6533394955),W=e(164394607);const B=(0,k.A)(Oe=>new G.Ay({fetch:(we,Fe)=>(0,b.dispatchForTeamId)(we,(0,W.q5)({idsToFetch:Fe,listId:Oe})),upsertKnown:(we,Fe)=>(0,b.dispatchForTeamId)(we,(0,W.x3)({records:Fe,listId:Oe})),upsertNonExistent:(we,Fe)=>(0,b.dispatchForTeamId)(we,(0,W.x3)({records:Fe,listId:Oe})),isEnabled:()=>!0}));var R=e(5942687316),j=e(7606781622),w=e(2567914105),N=e(9113979368);const K=(0,T.Ay)(Oe=>!(0,N.A)(Oe.overlays));K.meta={name:"createSelector",key:"createSelectorisOverlayOpen",description:Oe=>!(0,N.A)(Oe.overlays)};var J=e(2047021170);const Y=1e3*60*60*24,q=c(Oe=>Oe.lists,"getListsState"),H=(0,T.Ay)((Oe,we)=>(0,D.Lp)(Oe,we));H.meta={name:"createSelector",key:"createSelectorgetList",description:(Oe,we)=>(0,D.Lp)(Oe,we)};const ne=(0,T.Ay)((Oe,we)=>{var Fe;return we&&((Fe=q(Oe).listsById[we])===null||Fe===void 0?void 0:Fe.records)||g.t0});ne.meta={name:"createSelector",key:"createSelectorgetListRecords",description:(Oe,we)=>{var Fe;return we&&((Fe=q(Oe).listsById[we])===null||Fe===void 0?void 0:Fe.records)||g.t0}};const te=(0,n.Mz)(H,Oe=>Oe==null?void 0:Oe.title),le=(0,T.Ay)(Oe=>q(Oe).clock);le.meta={name:"createSelector",key:"createSelectorgetClock",description:Oe=>q(Oe).clock};const he=(0,T.Ay)(Oe=>q(Oe).triggerAnimationForViewId);he.meta={name:"createSelector",key:"createSelectorgetViewToAnimate",description:Oe=>q(Oe).triggerAnimationForViewId};const Ie=(0,T.Ay)(Oe=>(0,D.Im)(Oe));Ie.meta={name:"createSelector",key:"createSelectorgetLists",description:Oe=>(0,D.Im)(Oe)};const Ee=(0,T.Ay)((Oe,we)=>Oe.files[we].list_limits);Ee.meta={name:"createSelector",key:"createSelectorgetListLimits",description:(Oe,we)=>Oe.files[we].list_limits};const me=(0,T.Ay)((Oe,we,Fe)=>{var qe,ze;const Ge=(0,M.ZT)(Oe);if(!Ge)return;const Ze=(qe=q(Oe).listsById[we])===null||qe===void 0||(ze=qe.records)===null||ze===void 0?void 0:ze[Fe];return Ze?(!(0,l.z7)(Ze)&&!B(we).isFetchPendingForId(Ge,Fe)&&(0,L.ez)(Ge,Fe,we),Ze):B(we).fetchObjectWithId(Ge,Fe)});me.meta={name:"createSelector",key:"createSelectorgetRecordSmart",description:(Oe,we,Fe)=>{var qe,ze;const Ge=(0,M.ZT)(Oe);if(!Ge)return;const Ze=(qe=q(Oe).listsById[we])===null||qe===void 0||(ze=qe.records)===null||ze===void 0?void 0:ze[Fe];return Ze?(!(0,l.z7)(Ze)&&!B(we).isFetchPendingForId(Ge,Fe)&&(0,L.ez)(Ge,Fe,we),Ze):B(we).fetchObjectWithId(Ge,Fe)}};const ce=(0,T.Ay)((Oe,we,Fe,qe)=>{var ze,Ge;return qe?me(Oe,we,Fe):(ze=q(Oe).listsById[we])===null||ze===void 0||(Ge=ze.records)===null||Ge===void 0?void 0:Ge[Fe]});ce.meta={name:"createSelector",key:"createSelectorgetRecord",description:(Oe,we,Fe,qe)=>{var ze,Ge;return qe?me(Oe,we,Fe):(ze=q(Oe).listsById[we])===null||ze===void 0||(Ge=ze.records)===null||Ge===void 0?void 0:Ge[Fe]}};const X=(0,T.Ay)((Oe,we,Fe)=>{var qe,ze;return(0,p.A)(Oe,(qe=ce(Oe,we,Fe))===null||qe===void 0||(ze=qe.fields)===null||ze===void 0?void 0:ze.name)});X.meta={name:"createSelector",key:"createSelectorgetRecordNameAsPlainText",description:(Oe,we,Fe)=>{var qe,ze;return(0,p.A)(Oe,(qe=ce(Oe,we,Fe))===null||qe===void 0||(ze=qe.fields)===null||ze===void 0?void 0:ze.name)}};const V=(0,T.Ay)((Oe,we,Fe)=>{const qe=H(Oe,we),ze=(0,l.uA)(qe);return ze==null?void 0:ze.find(Ge=>Ge.key===Fe)});V.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(Oe,we,Fe)=>{const qe=H(Oe,we),ze=(0,l.uA)(qe);return ze==null?void 0:ze.find(Ge=>Ge.key===Fe)}};const x=(0,T.Ay)((Oe,we,Fe)=>{var qe;return(qe=V(Oe,we,Fe))===null||qe===void 0?void 0:qe.id});x.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(Oe,we,Fe)=>{var qe;return(qe=V(Oe,we,Fe))===null||qe===void 0?void 0:qe.id}};const S=(0,T.Ay)((Oe,we,Fe)=>{var qe;const ze=(qe=q(Oe).listsById[we])===null||qe===void 0?void 0:qe.records;if(ze)return Object.values(ze).find(Ge=>Ge.threadTs===Fe)});S.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(Oe,we,Fe)=>{var qe;const ze=(qe=q(Oe).listsById[we])===null||qe===void 0?void 0:qe.records;if(ze)return Object.values(ze).find(Ge=>Ge.threadTs===Fe)}};const U=(0,T.Ay)((Oe,we)=>q(Oe).templatesById[we]);U.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(Oe,we)=>q(Oe).templatesById[we]};const F=(0,T.Ay)(Oe=>q(Oe).templatesById);F.meta={name:"createSelector",key:"createSelectorgetTemplates",description:Oe=>q(Oe).templatesById};const Z=(0,T.Ay)(Oe=>q(Oe).starterTemplatesById);Z.meta={name:"createSelector",key:"createSelectorgetStarterTemplates",description:Oe=>q(Oe).starterTemplatesById};const z=(0,T.Ay)(Oe=>{const we=[],Fe=Ie(Oe);for(const ze of Fe){var qe;const Ge={id:ze.id,title:(qe=ze.title)!==null&&qe!==void 0?qe:""};we.push(Ge)}return we});z.meta={name:"createSelector",key:"createSelectorgetListMentions",description:Oe=>{const we=[],Fe=Ie(Oe);for(const ze of Fe){var qe;const Ge={id:ze.id,title:(qe=ze.title)!==null&&qe!==void 0?qe:""};we.push(Ge)}return we}};const $=(0,T.Ay)((Oe,we)=>{const Fe=Ie(Oe),qe=(0,y.V3)(we);if(!qe)return[];const{listTitle:ze}=qe,Ge=(0,y.xL)(Fe,ze);if(!Ge)return[];const Ze=(0,D.Lp)(Oe,Ge.id),_t=ee(Ge),Et=[],je=ne(Oe,Ge.id);for(const Ne of Object.values(je??{})){var oe,pe;const lt=(pe=Ne==null||(oe=Ne.fields)===null||oe===void 0?void 0:oe[_t])!==null&&pe!==void 0?pe:[];var Se;const dt={id:Ne.id,name:(0,p.A)(Oe,lt),blocks:lt,listId:Ze.id,listTitle:(Se=Ze.title)!==null&&Se!==void 0?Se:""};Et.push(dt)}return Et});$.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(Oe,we)=>{const Fe=Ie(Oe),qe=(0,y.V3)(we);if(!qe)return[];const{listTitle:ze}=qe,Ge=(0,y.xL)(Fe,ze);if(!Ge)return[];const Ze=(0,D.Lp)(Oe,Ge.id),_t=ee(Ge),Et=[],je=ne(Oe,Ge.id);for(const Ne of Object.values(je??{})){var oe,pe;const lt=(pe=Ne==null||(oe=Ne.fields)===null||oe===void 0?void 0:oe[_t])!==null&&pe!==void 0?pe:[];var Se;const dt={id:Ne.id,name:(0,p.A)(Oe,lt),blocks:lt,listId:Ze.id,listTitle:(Se=Ze.title)!==null&&Se!==void 0?Se:""};Et.push(dt)}return Et}};function ee(Oe){let we;const Fe=(0,l.uA)(Oe);for(const qe of Fe??[])if(qe.type==="text"&&(we||(we=qe),qe.key.toUpperCase()==="NAME"))return qe.key;return we?we.key:"name"}c(ee,"findColumnKeyForMention");const de=(0,T.Ay)(Oe=>(0,_.isListsEnabled)(Oe)?!!(0,J.ty)(Oe,"seen_onboarding_lists"):!0);de.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:Oe=>(0,_.isListsEnabled)(Oe)?!!(0,J.ty)(Oe,"seen_onboarding_lists"):!0};const ie=(0,T.Ay)((Oe,we)=>{var Fe;const qe=H(Oe,we);return(Fe=(0,l.uA)(qe))===null||Fe===void 0?void 0:Fe.find(ze=>(ze==null?void 0:ze.key)==="name")});ie.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(Oe,we)=>{var Fe;const qe=H(Oe,we);return(Fe=(0,l.uA)(qe))===null||Fe===void 0?void 0:Fe.find(ze=>(ze==null?void 0:ze.key)==="name")}};const ue=(0,T.Ay)((Oe,we,Fe)=>{const qe=ce(Oe,we,Fe),ze=(0,P.Y)(Oe,we),Ge=(0,i.FB)(ze),Ze=qe!=null&&qe.threadTs?(0,j.Ld)(Oe,Ge,qe.threadTs):void 0;var _t;return(_t=Ze==null?void 0:Ze.reply_count)!==null&&_t!==void 0?_t:null});ue.meta={name:"createSelector",key:"createSelectorgetRecordThreadReplyCount",description:(Oe,we,Fe)=>{const qe=ce(Oe,we,Fe),ze=(0,P.Y)(Oe,we),Ge=(0,i.FB)(ze),Ze=qe!=null&&qe.threadTs?(0,j.Ld)(Oe,Ge,qe.threadTs):void 0;var _t;return(_t=Ze==null?void 0:Ze.reply_count)!==null&&_t!==void 0?_t:null}};const fe=(0,T.Ay)((Oe,we,Fe)=>{const qe=ce(Oe,we,Fe),ze=(0,P.Y)(Oe,we),Ge=(0,i.FB)(ze),Ze=qe!=null&&qe.threadTs?(0,j.Ld)(Oe,Ge,qe.threadTs):void 0,_t=(0,f.Iu)(Ge,qe==null?void 0:qe.threadTs),Et=Ze&&_t?(0,I.r7)(Oe,_t)||{timestamps:[],reachedStart:!0}:null,je=Ze?(0,d.Nh)(Oe,Ge,(Et==null?void 0:Et.timestamps)||[])||(Ze==null?void 0:Ze.ts):"";var oe;const pe=(oe=Ze==null?void 0:Ze._subscribed)!==null&&oe!==void 0?oe:!1;var Se;const Ne=(Se=Ze==null?void 0:Ze._last_read)!==null&&Se!==void 0?Se:"0";return pe?je>Ne:!1});fe.meta={name:"createSelector",key:"createSelectorgetRecordThreadIsUnread",description:(Oe,we,Fe)=>{const qe=ce(Oe,we,Fe),ze=(0,P.Y)(Oe,we),Ge=(0,i.FB)(ze),Ze=qe!=null&&qe.threadTs?(0,j.Ld)(Oe,Ge,qe.threadTs):void 0,_t=(0,f.Iu)(Ge,qe==null?void 0:qe.threadTs),Et=Ze&&_t?(0,I.r7)(Oe,_t)||{timestamps:[],reachedStart:!0}:null,je=Ze?(0,d.Nh)(Oe,Ge,(Et==null?void 0:Et.timestamps)||[])||(Ze==null?void 0:Ze.ts):"";var oe;const pe=(oe=Ze==null?void 0:Ze._subscribed)!==null&&oe!==void 0?oe:!1;var Se;const Ne=(Se=Ze==null?void 0:Ze._last_read)!==null&&Se!==void 0?Se:"0";return pe?je>Ne:!1}};const re=(0,T.Ay)((Oe,we)=>q(Oe).listBannerMessagesbyId[we]);re.meta={name:"createSelector",key:"createSelectorgetBannerMessagesForList",description:(Oe,we)=>q(Oe).listBannerMessagesbyId[we]};const _e=(0,T.Ay)((Oe,we)=>{const Fe=(0,v.A)(Oe),qe=(0,D.Lp)(Oe,we);return!qe||!qe.access||!(0,m.mW)(qe)||!Fe});_e.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(Oe,we)=>{const Fe=(0,v.A)(Oe),qe=(0,D.Lp)(Oe,we);return!qe||!qe.access||!(0,m.mW)(qe)||!Fe}};const Ue=(0,T.Ay)(Oe=>(0,M.ZT)(Oe)==="T024BE7LD");Ue.meta={name:"createSelector",key:"createSelectoronTinySpeckDevOrg",description:Oe=>(0,M.ZT)(Oe)==="T024BE7LD"};const ye=(0,T.Ay)(Oe=>(0,M.jV)(Oe)===E.uh);ye.meta={name:"createSelector",key:"createSelectoronTinySpeckOrg",description:Oe=>(0,M.jV)(Oe)===E.uh};const Te=(0,T.Ay)((Oe,we)=>q(Oe).historyById[we]);Te.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(Oe,we)=>q(Oe).historyById[we]};const ge=(0,T.Ay)((Oe,we)=>{const Fe=H(Oe,we),qe=ne(Oe,we);if(!Fe||!qe)return null;let ze="";for(const Ze of Object.values(qe)){Ze.position&&ze<Ze.position&&(ze=Ze.position);var Ge;for(const _t of Object.values((Ge=Ze.viewPositions)!==null&&Ge!==void 0?Ge:{}))ze<_t&&(ze=_t)}return ze||null});ge.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(Oe,we)=>{const Fe=H(Oe,we),qe=ne(Oe,we);if(!Fe||!qe)return null;let ze="";for(const Ze of Object.values(qe)){Ze.position&&ze<Ze.position&&(ze=Ze.position);var Ge;for(const _t of Object.values((Ge=Ze.viewPositions)!==null&&Ge!==void 0?Ge:{}))ze<_t&&(ze=_t)}return ze||null}};const Ae=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localFiltersById[qe]});Ae.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localFiltersById[qe]}};const Re=(0,O.Rb)((Oe,we,Fe)=>H(Oe,we),(Oe,we,Fe)=>Fe,(Oe,we)=>{const Fe=(0,l.Qq)(Oe,we);var qe;const ze=(qe=Fe==null?void 0:Fe.filters)!==null&&qe!==void 0?qe:[];var Ge;const Ze=(Ge=Fe==null?void 0:Fe.infoColumnFilters)!==null&&Ge!==void 0?Ge:[];return[...ze,...Ze]}),Be=c((Oe,we)=>(0,n.Mz)(Fe=>Re(Fe,Oe,we),Fe=>Fe),"makeGetServerFiltersByViewIdSelector"),ke=(0,n.Mz)(Ae,Re,(Oe,we)=>Oe?Oe.length!==(we==null?void 0:we.length)?!0:!(0,r.bw)(Oe,we,"columnId"):!1),se=(0,n.Mz)(Ae,Re,(Oe,we)=>{if(!Oe)return new Set;const Fe=new Map(we==null?void 0:we.map(ze=>[ze.key,ze])),qe=Oe.filter(ze=>(0,r.bV)(ze,Fe)).map(ze=>ze.key);return new Set(qe)}),ve=(0,n.Mz)(Ae,Re,(Oe,we)=>Oe!==void 0?Oe:we||[]),Me=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localSortsById[qe]});Me.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localSortsById[qe]}};const be=(0,O.Rb)((Oe,we,Fe)=>H(Oe,we),(Oe,we,Fe)=>Fe,(Oe,we)=>{const Fe=(0,l.Qq)(Oe,we);return(Fe==null?void 0:Fe.sorts)||[]}),xe=c((Oe,we)=>(0,n.Mz)(Fe=>be(Fe,Oe,we),Fe=>Fe),"makeGetServerSortsByViewIdSelector"),Le=(0,n.Mz)(Me,be,(Oe,we)=>Oe!==void 0?Oe:we||[]),Ke=(0,n.Mz)(Me,be,(Oe,we)=>Oe?Oe.length!==(we==null?void 0:we.length)?!0:!(0,r.bw)(Oe,we,"columnId"):!1),He=(0,T.Ay)((Oe,we,Fe)=>{var qe,ze;const Ge=(0,R.zZ)({listId:we,viewId:Fe});return(qe=q(Oe))===null||qe===void 0||(ze=qe.filterPillKeyById)===null||ze===void 0?void 0:ze[Ge]});He.meta={name:"createSelector",key:"createSelectorgetFilterPillKeyById",description:(Oe,we,Fe)=>{var qe,ze;const Ge=(0,R.zZ)({listId:we,viewId:Fe});return(qe=q(Oe))===null||qe===void 0||(ze=qe.filterPillKeyById)===null||ze===void 0?void 0:ze[Ge]}};const Ye=(0,T.Ay)(Oe=>{var we;return(we=q(Oe))===null||we===void 0?void 0:we.groupByPillAutoOpen});Ye.meta={name:"createSelector",key:"createSelectorgetGroupByPillAutoOpen",description:Oe=>{var we;return(we=q(Oe))===null||we===void 0?void 0:we.groupByPillAutoOpen}};const Xe=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localCollapsedGridsById[qe]});Xe.meta={name:"createSelector",key:"createSelectorgetCollapsedGridsByViewId",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localCollapsedGridsById[qe]}};const et=(0,T.Ay)(Oe=>q(Oe).myItemMap);et.meta={name:"createSelector",key:"createSelectorgetMyItemMap",description:Oe=>q(Oe).myItemMap};const st=(0,T.Ay)((Oe,we)=>q(Oe).editActivityMap[we]);st.meta={name:"createSelector",key:"createSelectorgetCellEditByTimestamp",description:(Oe,we)=>q(Oe).editActivityMap[we]};const ot=(0,T.Ay)((Oe,we)=>{var Fe;return(Fe=q(Oe).refinePillAutoOpenByViewId)===null||Fe===void 0?void 0:Fe[we]});ot.meta={name:"createSelector",key:"createSelectorgetRefinePillAutoOpenByViewId",description:(Oe,we)=>{var Fe;return(Fe=q(Oe).refinePillAutoOpenByViewId)===null||Fe===void 0?void 0:Fe[we]}};const ct=(0,T.Ay)(Oe=>q(Oe).recentlyViewedLists);ct.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedLists",description:Oe=>q(Oe).recentlyViewedLists};const at=(0,T.Ay)(Oe=>q(Oe).recentlyViewedListsLastLoadedMs);at.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedListsLastLoadedMs",description:Oe=>q(Oe).recentlyViewedListsLastLoadedMs};const At=(0,T.Ay)(Oe=>{const we=at(Oe);return we?Date.now()-we>Y:!0});At.meta={name:"createSelector",key:"createSelectorgetIsRecentlyViewedListsExpired",description:Oe=>{const we=at(Oe);return we?Date.now()-we>Y:!0}};const Ct=(0,T.Ay)((Oe,we)=>{var Fe;return(Fe=q(Oe).lastReadTimestampById)===null||Fe===void 0?void 0:Fe[we]});Ct.meta={name:"createSelector",key:"createSelectorgetLastReadTimestampByListId",description:(Oe,we)=>{var Fe;return(Fe=q(Oe).lastReadTimestampById)===null||Fe===void 0?void 0:Fe[we]}};const Tt=(0,n.Mz)((Oe,we,Fe)=>{const qe=H(Oe,we);return(0,l.cv)(qe,Fe)},Oe=>{var we;return Oe==null||(we=Oe.columns)===null||we===void 0?void 0:we.reduce((qe,ze)=>{let{key:Ge,visible:Ze}=ze;return Ze!==void 0&&(qe[Ge]=Ze),qe},{})}),Rt=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe}),ze=q(Oe).localFieldVisibilityByViewId[qe];if(!ze)return;const Ge=Tt(Oe,we,Fe);return Object.entries(ze).filter(_t=>{let[Et,je]=_t;return je!==(Ge==null?void 0:Ge[Et])}).map(_t=>{let[Et,je]=_t;return{key:Et,visible:je}})});Rt.meta={name:"createSelector",key:"createSelectorgetFieldsThatChangedVisibility",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe}),ze=q(Oe).localFieldVisibilityByViewId[qe];if(!ze)return;const Ge=Tt(Oe,we,Fe);return Object.entries(ze).filter(_t=>{let[Et,je]=_t;return je!==(Ge==null?void 0:Ge[Et])}).map(_t=>{let[Et,je]=_t;return{key:Et,visible:je}})}};const It=(0,O.eI)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe}),ze=q(Oe).localFieldVisibilityByViewId[qe],Ge=Tt(Oe,we,Fe);return ze&&{...Ge,...ze}}),Mt=(0,O.eI)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localFieldVisibilityByViewId[qe]}),nn=(0,n.Mz)(It,Tt,(Oe,we)=>Oe?!(0,t.A)(Oe,we):!1),Ot=(0,T.Ay)((Oe,we,Fe)=>{const qe=It(Oe,we,Fe);return qe||Tt(Oe,we,Fe)});Ot.meta={name:"createSelector",key:"createSelectorgetCurrentViewFieldVisibilityByViewId",description:(Oe,we,Fe)=>{const qe=It(Oe,we,Fe);return qe||Tt(Oe,we,Fe)}};const bt=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localViewTypeByViewId[qe]});bt.meta={name:"createSelector",key:"createSelectorgetLocalViewType",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localViewTypeByViewId[qe]}};const Jt=(0,O.ow)((Oe,we,Fe)=>{const qe=H(Oe,we),ze=(0,l.Qq)(qe,Fe);return ze==null?void 0:ze.type}),en=(0,T.Ay)((Oe,we,Fe)=>{const qe=bt(Oe,we,Fe);return qe!==void 0?qe:Jt(Oe,we,Fe)});en.meta={name:"createSelector",key:"createSelectorgetCurrentViewTypeByViewId",description:(Oe,we,Fe)=>{const qe=bt(Oe,we,Fe);return qe!==void 0?qe:Jt(Oe,we,Fe)}};const sn=(0,T.Ay)((Oe,we,Fe)=>{const qe=bt(Oe,we,Fe);if(!qe)return!1;const ze=Jt(Oe,we,Fe);return qe!==ze});sn.meta={name:"createSelector",key:"createSelectorgetViewTypeHasChanged",description:(Oe,we,Fe)=>{const qe=bt(Oe,we,Fe);if(!qe)return!1;const ze=Jt(Oe,we,Fe);return qe!==ze}};const zt=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localGroupByViewId[qe]});zt.meta={name:"createSelector",key:"createSelectorgetLocalGroupBy",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localGroupByViewId[qe]}};const Yt=(0,T.Ay)((Oe,we)=>{var Fe;return(Fe=q(Oe))===null||Fe===void 0?void 0:Fe.refineViewByWindowId[we]});Yt.meta={name:"createSelector",key:"createSelectorgetRefineView",description:(Oe,we)=>{var Fe;return(Fe=q(Oe))===null||Fe===void 0?void 0:Fe.refineViewByWindowId[we]}};const hn=(0,T.Ay)((Oe,we)=>{var Fe;return(Fe=q(Oe))===null||Fe===void 0?void 0:Fe.listSearchQueriesByWindowId[we]});hn.meta={name:"createSelector",key:"createSelectorgetListSearchQuery",description:(Oe,we)=>{var Fe;return(Fe=q(Oe))===null||Fe===void 0?void 0:Fe.listSearchQueriesByWindowId[we]}};const Qe=(0,O.ow)((Oe,we,Fe)=>{const qe=H(Oe,we),ze=(0,l.Qq)(qe,Fe);return ze==null?void 0:ze.grouping}),Wt=(0,T.Ay)((Oe,we,Fe)=>{const qe=zt(Oe,we,Fe);return qe||Qe(Oe,we,Fe)});Wt.meta={name:"createSelector",key:"createSelectorgetCurrentGroupByViewId",description:(Oe,we,Fe)=>{const qe=zt(Oe,we,Fe);return qe||Qe(Oe,we,Fe)}};const gn=(0,T.Ay)(Oe=>(0,J.ty)(Oe,"lists_add_to_list_default_list"));gn.meta={name:"createSelector",key:"createSelectorgetDefaultListForAddToList",description:Oe=>(0,J.ty)(Oe,"lists_add_to_list_default_list")};const rn=(0,n.Mz)(Oe=>(0,J.ty)(Oe,"lists_default_view"),Oe=>{try{return JSON.parse(Oe||"{}")}catch(we){return(0,A.Ay)({label:"lists"}).error("error parsing default lists view prefs",we),{}}}),ut=(0,T.Ay)((Oe,we,Fe)=>{var qe;const ze=zt(Oe,we,Fe);if(!ze)return!1;const Ge=Qe(Oe,we,Fe);return!(!(ze==null||(qe=ze.groupBy)===null||qe===void 0)&&qe.length)&&!(Ge!=null&&Ge.groupBy)?!1:(ze==null?void 0:ze.groupBy)!==(Ge==null?void 0:Ge.groupBy)});ut.meta={name:"createSelector",key:"createSelectorgetHasGroupByChanged",description:(Oe,we,Fe)=>{var qe;const ze=zt(Oe,we,Fe);if(!ze)return!1;const Ge=Qe(Oe,we,Fe);return!(!(ze==null||(qe=ze.groupBy)===null||qe===void 0)&&qe.length)&&!(Ge!=null&&Ge.groupBy)?!1:(ze==null?void 0:ze.groupBy)!==(Ge==null?void 0:Ge.groupBy)}};const Pt=(0,T.Ay)((Oe,we)=>q(Oe).listNewViewBadgingById[we]);Pt.meta={name:"createSelector",key:"createSelectorgetListNewViewBadgingById",description:(Oe,we)=>q(Oe).listNewViewBadgingById[we]};const Bt=(0,T.Ay)((Oe,we)=>{var Fe;return((Fe=q(Oe).localViewsByListId)===null||Fe===void 0?void 0:Fe[we])||g.Ml});Bt.meta={name:"createSelector",key:"createSelectorgetLocalViewsByListId",description:(Oe,we)=>{var Fe;return((Fe=q(Oe).localViewsByListId)===null||Fe===void 0?void 0:Fe[we])||g.Ml}};const Ft=(0,T.Ay)((Oe,we,Fe)=>{var qe,ze,Ge;return(qe=q(Oe).listsById[we])===null||qe===void 0||(ze=qe.records)===null||ze===void 0||(Ge=ze[Fe])===null||Ge===void 0?void 0:Ge.isSubscribed});Ft.meta={name:"createSelector",key:"createSelectorgetRecordIsSubscribed",description:(Oe,we,Fe)=>{var qe,ze,Ge;return(qe=q(Oe).listsById[we])===null||qe===void 0||(ze=qe.records)===null||ze===void 0||(Ge=ze[Fe])===null||Ge===void 0?void 0:Ge.isSubscribed}};const un=(0,T.Ay)((Oe,we)=>{var Fe;if(_e(Oe,we))return!1;const qe=(0,D.Lp)(Oe,we);if(!qe||!((Fe=qe.editors)===null||Fe===void 0)&&Fe.length)return!1;const ze=Te(Oe,we);if(ze!=null&&ze.undoStack.length||ze!=null&&ze.redoStack.length)return!1;const Ge=ne(Oe,we);for(const Ze of Object.values(Ge??{}))if(String(Ze.dateCreated)!==Ze.updatedTimestamp)return!1;return!0});un.meta={name:"createSelector",key:"createSelectorgetListIsEditableAndNeverUpdated",description:(Oe,we)=>{var Fe;if(_e(Oe,we))return!1;const qe=(0,D.Lp)(Oe,we);if(!qe||!((Fe=qe.editors)===null||Fe===void 0)&&Fe.length)return!1;const ze=Te(Oe,we);if(ze!=null&&ze.undoStack.length||ze!=null&&ze.redoStack.length)return!1;const Ge=ne(Oe,we);for(const Ze of Object.values(Ge??{}))if(String(Ze.dateCreated)!==Ze.updatedTimestamp)return!1;return!0}};const Sn=(0,T.Ay)(Oe=>(0,J.ty)(Oe,"lists_template_sidebar_collapsed"));Sn.meta={name:"createSelector",key:"createSelectorgetIsListsTemplateSidebarCollapsedUserPref",description:Oe=>(0,J.ty)(Oe,"lists_template_sidebar_collapsed")};const Un=(0,T.Ay)((Oe,we)=>{const Fe=H(Oe,we);return un(Oe,we)&&(0,l.BS)(Fe)});Un.meta={name:"createSelector",key:"createSelectorgetCanShowListEmptyStateSidebar",description:(Oe,we)=>{const Fe=H(Oe,we);return un(Oe,we)&&(0,l.BS)(Fe)}};const Cn=(0,T.Ay)((Oe,we,Fe,qe)=>{const ze=(0,R.pe)(we,Fe,qe);return q(Oe).highlightColumnMap[ze]});Cn.meta={name:"createSelector",key:"createSelectorgetHighlightColumnId",description:(Oe,we,Fe,qe)=>{const ze=(0,R.pe)(we,Fe,qe);return q(Oe).highlightColumnMap[ze]}};const Ln=(0,T.Ay)(Oe=>(0,w.oY)(Oe)||K(Oe));Ln.meta={name:"createSelector",key:"createSelectorisModalOrOverlayOpen",description:Oe=>(0,w.oY)(Oe)||K(Oe)};const yn=(0,T.Ay)((Oe,we)=>{if(!we)return null;const Fe=(0,u.$N)(Oe,we);return!Fe||Fe.type!==u.im.MESSAGE||!Fe.channelId||!Fe.ts?null:(0,j.Ld)(Oe,Fe.channelId,Fe.ts)});yn.meta={name:"createSelector",key:"createSelectorgetMessageFromCellValue",description:(Oe,we)=>{if(!we)return null;const Fe=(0,u.$N)(Oe,we);return!Fe||Fe.type!==u.im.MESSAGE||!Fe.channelId||!Fe.ts?null:(0,j.Ld)(Oe,Fe.channelId,Fe.ts)}};const Xt=(0,T.Ay)((Oe,we)=>(0,_.isListsAutomationsEntrypointsEnabled)(Oe)&&(0,s.I)(Oe)&&!_e(Oe,we));Xt.meta={name:"createSelector",key:"createSelectorgetShowListAutomationsEntrypoint",description:(Oe,we)=>(0,_.isListsAutomationsEntrypointsEnabled)(Oe)&&(0,s.I)(Oe)&&!_e(Oe,we)};const nt=(0,T.Ay)(Oe=>{const we=(0,h.p)(Oe),Fe=we===h.v.IMAGES_ONLY,qe=we===h.v.DISABLE_ALL;return Fe||qe});nt.meta={name:"createSelector",key:"createSelectorgetIsListCsvImportDisabled",description:Oe=>{const we=(0,h.p)(Oe),Fe=we===h.v.IMAGES_ONLY,qe=we===h.v.DISABLE_ALL;return Fe||qe}};const pt=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.o2)(we,Fe),ze=q(Oe).refineComponentsState[qe];var Ge;return(Ge=ze==null?void 0:ze.isEditViewMenuOpen)!==null&&Ge!==void 0?Ge:!1});pt.meta={name:"createSelector",key:"createSelectorgetIsEditViewMenuComponentOpen",description:(Oe,we,Fe)=>{const qe=(0,R.o2)(we,Fe),ze=q(Oe).refineComponentsState[qe];var Ge;return(Ge=ze==null?void 0:ze.isEditViewMenuOpen)!==null&&Ge!==void 0?Ge:!1}};const Dt=(0,T.Ay)(Oe=>q(Oe).myTasksReferenceTrackingMap);Dt.meta={name:"createSelector",key:"createSelectorgetMyTasksReferenceTrackingMap",description:Oe=>q(Oe).myTasksReferenceTrackingMap};const Qt=(0,T.Ay)((Oe,we)=>{const Fe=we==null?void 0:we.slack_list;if(!Fe||!Fe.list_id||!Fe.list_record_id)return!1;const qe=ce(Oe,Fe.list_id,Fe.list_record_id,!0);return qe==null?void 0:qe.isDeleted});Qt.meta={name:"createSelector",key:"createSelectorgetIsListRootDeletedFromMsg",description:(Oe,we)=>{const Fe=we==null?void 0:we.slack_list;if(!Fe||!Fe.list_id||!Fe.list_record_id)return!1;const qe=ce(Oe,Fe.list_id,Fe.list_record_id,!0);return qe==null?void 0:qe.isDeleted}};const tn=(0,T.Ay)((Oe,we)=>q(Oe).shouldShowListDescriptionByListId[we]);tn.meta={name:"createSelector",key:"createSelectorgetShouldShowListDescriptionById",description:(Oe,we)=>q(Oe).shouldShowListDescriptionByListId[we]};const an=(0,T.Ay)((Oe,we)=>{var Fe;if(!(0,_.isTodosEnabled)(Oe))return;const qe=(0,J.N$)(Oe);var ze;const Ge=(ze=qe==null?void 0:qe[0])!==null&&ze!==void 0?ze:void 0,Ze=H(Oe,Ge),_t=(0,l.uA)(Ze),Et=ne(Oe,Ge),je=_t==null?void 0:_t.find(pe=>pe.type===a.$.Reference);return!je||!Et?null:(Fe=Object.values(Et))===null||Fe===void 0?void 0:Fe.find(pe=>{var Se,Ne,lt;if((0,o.gk)(pe))return!1;const dt=pe==null||(Se=pe.fields)===null||Se===void 0?void 0:Se[je.key];if((0,o.No)(we)){var it,kt;return(dt==null||(it=dt.message)===null||it===void 0?void 0:it.channel_id)===we.message.channelId&&(dt==null||(kt=dt.message)===null||kt===void 0?void 0:kt.ts)===we.message.ts}return(dt==null||(Ne=dt.list_record)===null||Ne===void 0?void 0:Ne.list_id)===we.listRecord.listId&&(dt==null||(lt=dt.list_record)===null||lt===void 0?void 0:lt.row_id)===we.listRecord.rowId})});an.meta={name:"createSelector",key:"createSelectorgetMyTasksItem",description:(Oe,we)=>{var Fe;if(!(0,_.isTodosEnabled)(Oe))return;const qe=(0,J.N$)(Oe);var ze;const Ge=(ze=qe==null?void 0:qe[0])!==null&&ze!==void 0?ze:void 0,Ze=H(Oe,Ge),_t=(0,l.uA)(Ze),Et=ne(Oe,Ge),je=_t==null?void 0:_t.find(pe=>pe.type===a.$.Reference);return!je||!Et?null:(Fe=Object.values(Et))===null||Fe===void 0?void 0:Fe.find(pe=>{var Se,Ne,lt;if((0,o.gk)(pe))return!1;const dt=pe==null||(Se=pe.fields)===null||Se===void 0?void 0:Se[je.key];if((0,o.No)(we)){var it,kt;return(dt==null||(it=dt.message)===null||it===void 0?void 0:it.channel_id)===we.message.channelId&&(dt==null||(kt=dt.message)===null||kt===void 0?void 0:kt.ts)===we.message.ts}return(dt==null||(Ne=dt.list_record)===null||Ne===void 0?void 0:Ne.list_id)===we.listRecord.listId&&(dt==null||(lt=dt.list_record)===null||lt===void 0?void 0:lt.row_id)===we.listRecord.rowId})}};const ht=(0,T.Ay)((Oe,we)=>{if(!(0,_.isTodosEnabled)(Oe))return!1;var Fe;const qe=(Fe=Dt(Oe))!==null&&Fe!==void 0?Fe:{},ze=(0,o.qC)(we),Ge=qe[ze];return!!Ge&&!(0,o.gk)(Ge)});ht.meta={name:"createSelector",key:"createSelectorisAddedToMyTasks",description:(Oe,we)=>{if(!(0,_.isTodosEnabled)(Oe))return!1;var Fe;const qe=(Fe=Dt(Oe))!==null&&Fe!==void 0?Fe:{},ze=(0,o.qC)(we),Ge=qe[ze];return!!Ge&&!(0,o.gk)(Ge)}};const yt=(0,T.Ay)((Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localShowCompletedItemsByViewId[qe]});yt.meta={name:"createSelector",key:"createSelectorgetLocalShowCompletedItems",description:(Oe,we,Fe)=>{const qe=(0,R.zZ)({listId:we,viewId:Fe});return q(Oe).localShowCompletedItemsByViewId[qe]}};const Ut=(0,O.ow)((Oe,we,Fe)=>{const qe=H(Oe,we),ze=(0,l.Qq)(qe,Fe);var Ge;return(Ge=ze==null?void 0:ze.showCompletedItems)!==null&&Ge!==void 0?Ge:!1}),Gt=(0,T.Ay)((Oe,we,Fe)=>{const qe=yt(Oe,we,Fe);return qe||Ut(Oe,we,Fe)});Gt.meta={name:"createSelector",key:"createSelectorgetCurrentShowCompletedItemsByViewId",description:(Oe,we,Fe)=>{const qe=yt(Oe,we,Fe);return qe||Ut(Oe,we,Fe)}};const mn=(0,T.Ay)((Oe,we,Fe)=>{const qe=yt(Oe,we,Fe);if(!qe)return!1;const ze=Ut(Oe,we,Fe);return qe!==ze});mn.meta={name:"createSelector",key:"createSelectorgetShowCompletedItemsHasChanged",description:(Oe,we,Fe)=>{const qe=yt(Oe,we,Fe);if(!qe)return!1;const ze=Ut(Oe,we,Fe);return qe!==ze}}},4525672255:(Q,C,e)=>{"use strict";e.d(C,{E:()=>l});var t=e(9706240641),n=e.n(t),s=e(5513050121),r=e(6554371307),d=e(9329555292),o=e(796111729),a=e(1031947056),i=e(2947836378),m=e(832411022);const l=(0,a.Ay)("Fetch lists",function(){var _=(0,t.coroutine)(function*(v,u){let{query:h,sort:f,reason:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const E=yield h?v((0,r.yz)({query:`type:list ${h}`,includeShares:!0,reason:p||"get-lists",bypassCache:!0})):v((0,d.jQ)({module:"files",query:"type:list",sort:f||m.VU.lastRead,reason:p||"get-lists",context:s.Oj.ListsDefault})).then(g=>{let{items:A}=g;return A});v((0,i.b)({files:E}))}catch(E){(0,o.Ay)({label:"lists"}).error("error fetching lists",E)}});return function(v,u){return _.apply(this,arguments)}}());l.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},164394607:(Q,C,e)=>{"use strict";e.d(C,{Kd:()=>v,ky:()=>f,q5:()=>u,x3:()=>h});var t=e(9706240641),n=e.n(t),s=e(2694081143),r=e(796111729),d=e(6471801899),o=e(1031947056),a=e(8847766420),i=e(5795074931),m=e(9943020700),l=e(4001611198),_=e(9629831899);const v=(0,o.Ay)("Fetch list and list record",function(){var p=(0,t.coroutine)(function*(E,g,A){let{listId:y,id:T,includeIsSubscribed:M,reason:O="get-list-record"}=A;try{const{list:b,record:W}=yield E((0,s.T)({listId:y,id:T,includeIsSubscribed:M,reason:O}));E((0,_.y)({lists:[b]}));var I,D,P,L,k;const B=(0,d.jG)({id:W.id,fields:W.fields,dateCreated:W.date_created,createdBy:(I=W.created_by)!==null&&I!==void 0?I:"",threadTs:(D=W.thread_ts)!==null&&D!==void 0?D:"",position:(P=W.position)!==null&&P!==void 0?P:"",updatedTimestamp:(L=W.updated_timestamp)!==null&&L!==void 0?L:"",updatedBy:(k=W.updated_by)!==null&&k!==void 0?k:"",viewPositions:W.view_positions,platformRefs:W.platform_refs,saved:W.saved,savedFields:W.saved_fields,isSubscribed:W.is_subscribed});return E((0,m.$W)({listId:y,record:B})),null}catch(b){var G;return(0,r.Ay)({label:"lists"}).error("error fetching list record",b),{error:b==null||(G=b.data)===null||G===void 0?void 0:G.error}}});return function(E,g,A){return p.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkfetchRecord",description:"Fetch list and list record"};const u=(0,o.Ay)("Fetch and upsert list record",function(){var p=(0,t.coroutine)(function*(E,g,A){let{idsToFetch:y,listId:T}=A;return n().all(y.map(function(){var M=(0,t.coroutine)(function*(O){try{const b=(yield E((0,s.T)({listId:T,id:O,includeIsSubscribed:!0,reason:"get-list-record"}))).record;var I,D,P,L,k;return(0,d.jG)({id:b.id,fields:b.fields,dateCreated:b.date_created,createdBy:(I=b.created_by)!==null&&I!==void 0?I:"",threadTs:(D=b.thread_ts)!==null&&D!==void 0?D:"",position:(P=b.position)!==null&&P!==void 0?P:"",updatedTimestamp:(L=b.updated_timestamp)!==null&&L!==void 0?L:"",updatedBy:(k=b.updated_by)!==null&&k!==void 0?k:"",viewPositions:b.view_positions,platformRefs:b.platform_refs,saved:b.saved,savedFields:b.saved_fields})}catch(G){return G.data.error==="record_deleted"?{id:O,isDeleted:!0}:{id:O,isNonExistent:!0}}});return function(O){return M.apply(this,arguments)}}()))});return function(E,g,A){return p.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkfetchRecordsForList",description:"Fetch and upsert list record"};const h=(0,o.Ay)("Format and upsert list records",(p,E,g)=>{let{records:A,listId:y}=g;p((0,m.yw)({listId:y,records:A}));const T=(0,i.WR)(E());p((0,m.fg)({listId:y,currentUserId:T}));const M=A.map(I=>I.id),O=(0,a.ZT)(E())||"";(0,l.mY)(O,M,y)});h.meta={name:"createThunk",key:"createThunkupsertRecordsForList",description:"Format and upsert list records"};const f=(0,o.Ay)("Fetch and upsert list record",function(){var p=(0,t.coroutine)(function*(E,g,A){let{idsToFetch:y,listId:T}=A;return E(u({idsToFetch:y,listId:T})).then(M=>{E(h({records:M,listId:T}))})});return function(E,g,A){return p.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecordsForList",description:"Fetch and upsert list record"}},9174292896:(Q,C,e)=>{"use strict";e.d(C,{D:()=>i});var t=e(9706240641),n=e.n(t),s=e(444762595),r=e(796111729),d=e(6471801899),o=e(1031947056),a=e(9943020700);const i=(0,o.Ay)("Fetch list records",function(){var m=(0,t.coroutine)(function*(l,_,v){let{listId:u,currentUserId:h}=v;try{const p=(yield l((0,s.z)({listId:u,reason:"get-list-records"}))).records.map(E=>{var g,A,y,T,M;return(0,d.jG)({id:E.id,fields:E.fields,dateCreated:E.date_created,createdBy:(g=E.created_by)!==null&&g!==void 0?g:"",threadTs:(A=E.thread_ts)!==null&&A!==void 0?A:"",position:(y=E.position)!==null&&y!==void 0?y:"",updatedTimestamp:(T=E.updated_timestamp)!==null&&T!==void 0?T:"",updatedBy:(M=E.updated_by)!==null&&M!==void 0?M:"",viewPositions:E.view_positions,platformRefs:E.platform_refs,saved:E.saved,savedFields:E.saved_fields})});return l((0,a.VV)({listId:u,records:p})),l((0,a.fg)({listId:u,currentUserId:h})),p}catch(f){(0,r.Ay)({label:"lists"}).error("error fetching list records",f)}return null});return function(l,_,v){return m.apply(this,arguments)}}());i.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},9629831899:(Q,C,e)=>{"use strict";e.d(C,{y:()=>o});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(3237710044),d=e(937317117);const o=(0,s.Ay)("Fetch list",function(){var a=(0,t.coroutine)(function*(i,m,l){let{lists:_}=l;_.forEach(v=>{const u=(0,d.Lp)(m(),v.id);i((0,r.sM)({...u,...v}))})});return function(i,m,l){return a.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkupsertLocalListFiles",description:"Fetch list"}},5942687316:(Q,C,e)=>{"use strict";e.d(C,{o2:()=>s,pe:()=>n,zZ:()=>t});const t=c(r=>{let{listId:d,viewId:o}=r;return`${d}-${o}`},"getLocalRefinementsId"),n=c((r,d,o)=>`${r.toString()}-${d}-${o}`,"makeHighlightStoreKey"),s=c((r,d)=>`${r.toString()}-${d}`,"makeRefineComponentStateStoreKey")},2938177083:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(796111729),n=e(1031947056),s=e(6422693406),r=e(6259241484),d=e(716227588),o=e(3603672985),a=e(7003004874),i=e(3707193570);const m=(0,n.Ay)("record a dismissal on a megaphone notification",(_,v,u)=>{const{spaceName:h,...f}=u,p=u.channelId||u.entityId,E=(0,t.Wo)();if(!h)return E.error(r.cK,"spaceName is required when dispatching recordAndClearNotification."),s.S.resolve();const g=v(),A=(0,d.Hp)(g,h,p);return(0,i.Ay)(p)&&u.entityType==="team"?_((0,o.pn)({spaceName:h,channelId:p})):_((0,o.KT)({spaceName:h,channelId:p})),_((0,a.A)({notificationName:A,...f}))});m.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const l=m},7003004874:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_,j:()=>l});var t=e(796111729),n=e(1031947056),s=e(8760181906),r=e(6485511687),d=e(6422693406),o=e(6259241484);const a=(0,n.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(v,u,h)=>{const{notificationName:f,...p}=h,E=(0,t.Wo)();var g;const A=(g=h.reason)!==null&&g!==void 0?g:"record-notification-event";if(!f)return E.error(o.cK,"notificationName is required when dispatching recordNotificationEvent."),d.S.resolve();const y={notification:f,...p,reason:A};return v((0,r.a)(y))});a.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const i=6e4,m=!1,l=(0,s.A)(a,i,m,void 0,!1),_=a},7487228876:(Q,C,e)=>{"use strict";e.d(C,{h:()=>r});var t=e(796111729),n=e(6259241484);const s=(0,t.Wo)(),r=c(d=>{let{spaceName:o,notificationName:a}=d;a&&s.error(n.cK,`${a} is not a recognized notification name for space ${o}.`)},"maybeLogUnrecognizedNotification")},2374999399:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(8161242485),n=e(8276911661);const s=(0,t.Ay)((d,o)=>(0,n.nv)(d,o).profile.statusEmojiDisplayInfo||void 0);s.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(d,o)=>(0,n.nv)(d,o).profile.statusEmojiDisplayInfo||void 0};const r=s},1345620242:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8161242485),n=e(8170643398),s=e(8276911661),r=e(3428522109);const d=(0,t.Ay)((a,i)=>{const m=(0,s.nv)(a,i),{status_text_canonical:l}=m.profile;return l?(0,n.UM)(m):(0,r.K)(a,m)?0:(0,n.UM)(m)});d.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(a,i)=>{const m=(0,s.nv)(a,i),{status_text_canonical:l}=m.profile;return l?(0,n.UM)(m):(0,r.K)(a,m)?0:(0,n.UM)(m)}};const o=d},2072540560:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(8086952004),n=e(8161242485),s=e(8276911661),r=e(8956918631),d=e(3428522109);const o=(0,n.Ay)((i,m)=>{const l=(0,s.nv)(i,m),{status_text_canonical:_}=l.profile;if(_){let v;const u=(0,r.A)(i);return u&&(v=((0,t.A)(u,h=>h.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(v=s.Ru.t("On a call")),v||l.profile.status_text||""}return(0,d.K)(i,l)?s.Ru.t("In a huddle"):l.profile.status_text||""});o.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(i,m)=>{const l=(0,s.nv)(i,m),{status_text_canonical:_}=l.profile;if(_){let v;const u=(0,r.A)(i);return u&&(v=((0,t.A)(u,h=>h.canonical===_)||{}).text||null),_.toLowerCase()==="on a call"&&(v=s.Ru.t("On a call")),v||l.profile.status_text||""}return(0,d.K)(i,l)?s.Ru.t("In a huddle"):l.profile.status_text||""}};const a=o},1651628626:(Q,C,e)=>{"use strict";e.d(C,{c:()=>o});var t=e(5797466484),n=e(1031947056),s=e(6422693406),r=e(6333950786),d=e(9291336591);const o=(0,n.Ay)("Submits changes to the current user\u2019s profile",(a,i,m)=>{let{profile:l,reason:_="submitProfileChange"}=m;if(!(0,t.A)(l))return s.S.resolve();const v={...l},u=i();return l.status_text&&(v.status_text=(0,r.A)(u,l.status_text)),a((0,d.n)({profile:JSON.stringify(v),reason:_}))});o.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},7651407571:(Q,C,e)=>{"use strict";e.d(C,{p:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Upsert fetched ordered membership list for channel");n.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},8188087967:(Q,C,e)=>{"use strict";e.d(C,{GD:()=>h,Nd:()=>p});var t=e(3398586081),n=e(8352634987),s=e(6422693406),r=e(6533394955),d=e(3339229351),o=e(7058495549),a=e(8847766420),i=e(7651407571),m=e(1031947056),l=e(8760181906),_=e(4949104520),v=e(796111729);const u=1e4,h=(0,t.A)(()=>new n.Ay({storeKey:"membershipOrdered",fetch:(g,A)=>s.S.all(A.map(y=>(0,r.dispatchForTeamId)(g,E({channelId:y,count:d.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),f=(0,m.Ay)("marks objects as stale via CFM for Membership List",function(g,A){let{teamId:y,channelId:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h().markObjectsAsStale(y,[T])});f.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const p=(0,l.A)(f,(0,_.A)(u,0,.5)),E=(0,m.Ay)("Fetches top members for the channel",function(g,A){let{channelId:y,count:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.ds)(g,A,y,T).then(M=>{const O=(0,a.ZT)(A());if(!O){(0,v.Wo)().info("MOS","No teamId found");return}return h().markObjectsAsFresh(O,[y]),g((0,i.p)({channelId:y,memberList:M}))})});E.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},1794107122:(Q,C,e)=>{"use strict";e.d(C,{$:()=>d});var t=e(8161242485),n=e(8847766420),s=e(8188087967),r=e(2689960678);const d=(0,t.Ay)((o,a)=>{const i=(0,n.ZT)(o);return i&&(0,s.GD)().maybeRefetch(i,a),o&&o.membershipOrdered&&o.membershipOrdered[a]?o.membershipOrdered[a]:r.Ml});d.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(o,a)=>{const i=(0,n.ZT)(o);return i&&(0,s.GD)().maybeRefetch(i,a),o&&o.membershipOrdered&&o.membershipOrdered[a]?o.membershipOrdered[a]:r.Ml}}},6562711329:(Q,C,e)=>{"use strict";e.d(C,{z:()=>u});var t=e(6422693406),n=e(7823346015),s=e(8403493408),r=e(1031947056),d=e(1407713935),o=e(8798294025),a=e(6533394955),i=e(5795074931),m=e(8847766420),l=e(9101533895),_=e(3730613858),v=e(2480881364);const u=(0,r.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(h,f){let{channelId:p,userIds:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=f(),[A,y]=(0,n.A)(E,O=>(0,_.wr)(g,p,O)),T=(0,l.OL)(g,p);if((0,d.LI)(T)){const O=(0,o.e)(T),I=(0,i.WR)(g);(0,s.A)(y,O,I),E!=null&&E.includes(O)&&A.push(O),E!=null&&E.includes(I)&&A.push(I)}const M={};return A.forEach(O=>{M[O]=(0,_.Ql)(g,p,O)}),y.length?(0,a.dispatchForTeamId)((0,m.ZT)(g),(0,v.R)({channelId:p,userIds:y})).then(O=>O&&O.payload&&O.payload.membershipInfo?{membershipInfo:{...O.payload.membershipInfo,...M}}:{membershipInfo:M}):t.S.resolve({membershipInfo:M})});u.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},5345057011:(Q,C,e)=>{"use strict";e.d(C,{T:()=>n,s:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Add a placeholder to the store");n.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const s=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");s.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},6445408916:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8161242485);const n=(0,t.Ay)(s=>s==null?void 0:s.messagePlaceholders);n.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:s=>s==null?void 0:s.messagePlaceholders}},5774398667:(Q,C,e)=>{"use strict";e.d(C,{I:()=>s});var t=e(8161242485),n=e(6445408916);const s=(0,t.Ay)((r,d)=>{var o;return(o=(0,n.A)(r))===null||o===void 0?void 0:o[d]});s.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,d)=>{var o;return(o=(0,n.A)(r))===null||o===void 0?void 0:o[d]}}},6347367879:(Q,C,e)=>{"use strict";e.d(C,{o:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Start delete animation for a message");n.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},1508337910:(Q,C,e)=>{"use strict";e.d(C,{h:()=>d});var t=e(8161242485),n=e(2689960678);const s=(0,t.Ay)(a=>a==null?void 0:a.messagesMeta);s.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:a=>a==null?void 0:a.messagesMeta};var r;const d=(0,t.Ay)((a,i)=>{let{channelId:m,ts:l}=i;var _,v;return(r=(_=s(a))===null||_===void 0||(v=_[m])===null||v===void 0?void 0:v[l])!==null&&r!==void 0?r:n.t0});var o;d.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(a,i)=>{let{channelId:m,ts:l}=i;var _,v;return(o=(_=s(a))===null||_===void 0||(v=_[m])===null||v===void 0?void 0:v[l])!==null&&o!==void 0?o:n.t0}}},3521202413:(Q,C,e)=>{"use strict";e.d(C,{j:()=>g});var t=e(1031947056),n=e(7606781622),s=e(9101533895),r=e(8289365785),d=e(8726613433),o=e(8233775522),a=e(6347367879),i=e(9121476043),m=e(9629572172),l=e(4096483543),_=e(3110884894);const v=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(A,y){let{channelId:T,ts:M,threadTs:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=arguments.length>3?arguments[3]:void 0;const D=y(),{getViewSet:P}=I(m.U),L=!(0,l.A)()||(0,d.T2)(D),k=(0,o.ko)(D)&&L,G=(0,d.Qm)(D);var b;const{primary:W,secondary:B}=(b=P(D))!==null&&b!==void 0?b:{},R=W==null?void 0:W.id,j=B==null?void 0:B.id,w=c(()=>A((0,a.o)({channelId:T,ts:M})),"doAnimation");if(k){if(O&&(j==="convo"||j==="thread")&&(0,r.A)(G)===(0,_.Iu)(T,O)){w();return}if(R===T){w();return}}A((0,i.A)({channelId:T,ts:M,threadTs:O}))});v.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const u=v;var h=e(1484767411),f=e(2986581466),p=e(1508337910),E=e(796111729);const g=(0,t.Ay)("Delete a message by channel ID and timestamp",function(A,y){let{deleted_ts:T,channel:M,_from_evt_log:O,previous_message:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var D;const P=y(),L=(0,E.Ay)({state:P});if(!T){L.error("Error in messageDeleted: no deleted_ts");return}const k=(0,s.gT)(P,M)&&(0,s.OL)(P,M);if(!k){L.error(`Unknown channelId: ${M}`);return}if((D=(0,p.h)(P,{channelId:M,ts:T}))===null||D===void 0?void 0:D.isDeleting)return;(0,f.yj)(k,{deleted_ts:T});const b=!1,B=(0,n.Ld)(P,M,T,b)||I;A(B?u({channelId:M,ts:T,threadTs:B.thread_ts,fromEvtLog:O}):(0,i.A)({channelId:M,ts:T})),A((0,h.o)({channelId:M,ts:T}))});g.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},5688490863:(Q,C,e)=>{"use strict";e.d(C,{J_:()=>i,PB:()=>l,Up:()=>d,Zs:()=>a,iN:()=>r,m3:()=>o,oh:()=>v,qA:()=>_,qj:()=>u,yw:()=>m});var t=e(2689960678),n=e(8161242485);const s=(0,n.Ay)(h=>h.modernSelling.salesListViews);s.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:h=>h.modernSelling.salesListViews};const r=(0,n.Ay)(h=>s(h).listViewActiveObjectOption);r.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:h=>s(h).listViewActiveObjectOption};const d=(0,n.Ay)(h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.listViewSearchResults});d.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.listViewSearchResults}};const o=(0,n.Ay)((h,f)=>{var p;const E=(p=s(h))===null||p===void 0?void 0:p.listViewIdSearchResultsMap;return(E==null?void 0:E[f])||t.t0});o.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(h,f)=>{var p;const E=(p=s(h))===null||p===void 0?void 0:p.listViewIdSearchResultsMap;return(E==null?void 0:E[f])||t.t0}};const a=(0,n.Ay)((h,f,p)=>o(h,f)[p]||t.Ml);a.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(h,f,p)=>o(h,f)[p]||t.Ml};const i=(0,n.Ay)(h=>{var f;return((f=s(h))===null||f===void 0?void 0:f.listViewActiveSearchResultIds)||t.Ml});i.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:h=>{var f;return((f=s(h))===null||f===void 0?void 0:f.listViewActiveSearchResultIds)||t.Ml}};const m=(0,n.Ay)(h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.listViewActiveSearchQuery});m.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.listViewActiveSearchQuery}};const l=(0,n.Ay)(h=>s(h).shouldShowOpportunitiesListViewBanner);l.meta={name:"createSelector",key:"createSelectorgetShouldShowOpportunitiesListViewBanner",description:h=>s(h).shouldShowOpportunitiesListViewBanner};const _=(0,n.Ay)(h=>{var f;return((f=s(h))===null||f===void 0?void 0:f.adminSuggestedListViews)||t.Ml});_.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:h=>{var f;return((f=s(h))===null||f===void 0?void 0:f.adminSuggestedListViews)||t.Ml}};const v=(0,n.Ay)(h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.areAdminSuggestedListViewsForSidebarFresh});v.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.areAdminSuggestedListViewsForSidebarFresh}};const u=(0,n.Ay)(h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.adminConfiguredObjects});u.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:h=>{var f;return(f=s(h))===null||f===void 0?void 0:f.adminConfiguredObjects}}},8149648525:(Q,C,e)=>{"use strict";e.d(C,{b:()=>i});var t=e(5104468117),n=e(8956161330),s=e(1031947056),r=e(7146087658),d=e(5688490863),o=e(1670025826),a=e(146149780);const i=(0,s.Ay)("Search list views by query",(m,l,_)=>{let{isFullSearch:v=!1,objectType:u,query:h,salesforceOrgId:f}=_;const p=l(),E=v?t.Iq:t.TD,g=(0,n.Qb)(p);let A;return u?A=[u]:A=(0,d.qj)(p).map(T=>T.sobject_api_name),m((0,o.R)({limit:E,listviewObjectScopes:A,query:h,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:f,reason:"list_view_search"})).then(y=>{let{records:T}=y;const M=T.map(I=>({id:I.value,label:I.label,lastViewedDate:g?void 0:I.extras.LastViewedDate,objectType:I.extras.SobjectType,salesforceOrgId:f})),O=m((0,a.x)({listViews:M,salesforceOrgId:f}));return v&&m((0,r.hA)(O)),M})});i.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},146149780:(Q,C,e)=>{"use strict";e.d(C,{x:()=>s});var t=e(1031947056),n=e(7146087658);const s=(0,t.Ay)("Upsert list views fetched by search or other API",(r,d,o)=>{let{listViews:a,salesforceOrgId:i}=o;const m=[],l={},_={};return a.forEach(v=>{const u=v.id,h=v.objectType;l[u]={id:u,label:v.label,lastViewedDate:v.lastViewedDate,objectType:h,salesforceOrgId:i},_[h]=_[h]||[],_[h].push(u),m.push(u)}),r((0,n.TO)(l)),r((0,n.KT)({salesforceOrgId:i,listViewObjMap:_})),m});s.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},2413251042:(Q,C,e)=>{"use strict";e.d(C,{p$:()=>n,rB:()=>s,x8:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");n.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const s=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");s.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const r=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");r.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"}},6303140164:(Q,C,e)=>{"use strict";e.d(C,{UY:()=>s,Vb:()=>t,_J:()=>n});const t="slack-inverted-sidebar-initial-setting",n="slack-peeks-enabled-on-mouse-enter-initial-setting",s="slack-zoom-initial-setting"},1838435986:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(4423055085),n=e(9139930183),s=e(2140362605);const r=(0,s.Ay)("NOOP");r.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"};var d=e(6533394955),o=e(1642614792);const a=0,m=(0,n.Ay)({},a,{storeKey:"noop",persistenceEnabled:!1}).on(r,l=>l+1);(0,t.ul)("dispatchNoop",()=>{(0,d.dispatchForTeamId)((0,o.oI)(),r())})},4309043566:(Q,C,e)=>{"use strict";e.d(C,{l:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");n.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},3180420025:(Q,C,e)=>{"use strict";e.d(C,{y:()=>o});var t=e(2384831516),n=e(4309043566),s=e(2689960678);const r=s.t0,d={persistenceEnabled:!1,storeKey:"overlays"},o=(0,t.vy)({},r,d).on(n.l,(a,i)=>i)},983004675:(Q,C,e)=>{"use strict";e.d(C,{OI:()=>a,cg:()=>s,kK:()=>n,ot:()=>o,qH:()=>d,us:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Sets the current loading state for a channel");n.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const s=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");s.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=(0,t.Ay)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const d=(0,t.Ay)("Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)");d.meta={name:"createAction",key:"createActionprependPinnedItem",description:"Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)"};const o=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");o.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const a=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");a.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},4352409775:(Q,C,e)=>{"use strict";e.d(C,{G:()=>a});var t=e(3398586081),n=e(6422693406),s=e(8352634987),r=e(6533394955),d=e(983004675),o=e(6701536972);const a=(0,t.A)(()=>new s.Ay({storeKey:"pins",fetch:(i,m)=>n.S.map(m,l=>((0,r.dispatchForTeamId)(i,(0,d.ot)({channelId:l})),(0,r.dispatchForTeamId)(i,(0,o.b)({channelId:l})))),isEnabled:()=>!0,metricsName:"pins"}))},6247263305:(Q,C,e)=>{"use strict";e.d(C,{R:()=>t,b:()=>n});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},n={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},7158699554:(Q,C,e)=>{"use strict";e.d(C,{$U:()=>l,A_:()=>_,Wt:()=>v,YG:()=>h,c7:()=>u,jR:()=>m});var t=e(2384831516),n=e(8847766420),s=e(7606781622),r=e(6457401668),d=e(937317117),o=e(4352409775),a=e(6247263305),i=e(4813703725);const m=(0,t.Mz)(function(p,E){let{refetchIfNeeded:g=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g){const A=(0,n.ZT)(p);(0,o.G)().maybeRefetch(A,E)}return p&&p.pins&&p.pins.pinsByChannel[E]});m.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(p,E){let{refetchIfNeeded:g=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g){const A=(0,n.ZT)(p);(0,o.G)().maybeRefetch(A,E)}return p&&p.pins&&p.pins.pinsByChannel[E]}};const l=(0,t.Mz)((p,E)=>{var g,A;return p&&p.pins&&p.pins.pinsByChannel[E]?(g=p.pins.pinsByChannel)===null||g===void 0||(A=g[E])===null||A===void 0?void 0:A.length:0});l.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(p,E)=>{var g,A;return p&&p.pins&&p.pins.pinsByChannel[E]?(g=p.pins.pinsByChannel)===null||g===void 0||(A=g[E])===null||A===void 0?void 0:A.length:0}};const _=(0,t.Mz)((p,E)=>p&&p.pins&&p.pins.loadingStateByChannel[E]);_.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(p,E)=>p&&p.pins&&p.pins.loadingStateByChannel[E]};const v=(0,t.Mz)((p,E)=>{let{channelId:g,ts:A}=E;const y=!1,T=(0,s.Ld)(p,g,A,y);if(!T)return!1;if((0,r.m)(T)&&T.comment){const M=(0,d.yd)(p,T.file,T.comment.id);return M?!!(M.pinned_to&&M.pinned_to.includes(g)):!1}return!!(T.pinned_to&&T.pinned_to.includes(g))});v.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(p,E)=>{let{channelId:g,ts:A}=E;const y=!1,T=(0,s.Ld)(p,g,A,y);if(!T)return!1;if((0,r.m)(T)&&T.comment){const M=(0,d.yd)(p,T.file,T.comment.id);return M?!!(M.pinned_to&&M.pinned_to.includes(g)):!1}return!!(T.pinned_to&&T.pinned_to.includes(g))}};const u=c((p,E)=>{switch(E.type){case a.R.MESSAGE:return{...(0,s.Ld)(p,E.channel,E.ts),type:a.R.MESSAGE};case a.R.FILE:return{...(0,d.Lp)(p,E.id),type:a.R.FILE};case a.R.FILE_COMMENT:return{...(0,d.yd)(p,E.fileId,E.id),fileId:E.fileId,type:a.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),h=(0,i.eI)((p,E)=>{const g=m(p,E);return g?g.map(A=>u(p,A)):[]}),f=(0,t.Mz)(p=>p&&p.pins&&p.pins.popoverScrollTop);f.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:p=>p&&p.pins&&p.pins.popoverScrollTop}},6701536972:(Q,C,e)=>{"use strict";e.d(C,{b:()=>h});var t=e(796111729),n=e(9109082163),s=e(2947836378),r=e(1031947056),d=e(8847766420),o=e(6403218297),a=e(6665892446),i=e(10127715),m=e(6247263305),l=e(983004675),_=e(1581380967),v=e(4352409775),u=e(5792544570);const h=(0,r.Ay)("Fetch pinned items list for channel",(f,p,E)=>{const g=E.channelId;return f((0,l.kK)({loadingState:m.b.LOADING,channelId:g})),f((0,n.xs)({reason:"fetchPinsList",...E})).then(function(){let{items:A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=A.filter(O=>O.type.includes(m.R.FILE)).map(O=>{if(O.type===m.R.FILE_COMMENT){const{comment:I,file:D,...P}=O,L=(0,o.A)(I,D);return{...P,file:L}}return O}),T=A.filter(O=>O.type===m.R.MESSAGE);if(y.length){const O=y.filter(D=>D.type!==m.R.FILE_COMMENT),I=y.filter(D=>D.type===m.R.FILE_COMMENT);f((0,s.b)({files:O.map(D=>D.file)})),f((0,s.b)({files:I.map(D=>D.file)}))}if(T.length){const O=T.map(D=>{let{message:P}=D;return P}),I=f((0,a.A)({imsgs:O,channelId:g}));f((0,i.Kc)(I))}f((0,_.K)({channelId:g,count:A.length})),f((0,l.cg)({items:A.map(u.B),channelId:g})),f((0,l.kK)({loadingState:m.b.LOADED,channelId:g}));const M=(0,d.ZT)(p());(0,v.G)().markObjectsAsFresh(M,[g])}).catch(A=>{throw f((0,l.kK)({loadingState:m.b.NOT_LOADED,channelId:g})),(0,t.Ay)({getState:p}).error(`Error in fetchPinsList: ${JSON.stringify(A)}`),A})});h.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},1581380967:(Q,C,e)=>{"use strict";e.d(C,{K:()=>i});var t=e(1031947056),n=e(9606603587),s=e(9101533895),r=e(796111729),d=e(9676369204),o=e(6247263305),a=e(7158699554);const i=(0,t.Ay)("update a pin count for a channel",(m,l,_)=>{let{channelId:v,count:u,forceUpdate:h=!1}=_;const f=l(),p={...(0,s.OL)(f,v)},E=(0,a.jR)(f,v,{refetchIfNeeded:!1}),g=(0,a.A_)(f,v),A=!h&&g===o.b.LOADED?E==null?void 0:E.length:u;if(A===p.pinned_items_count)return;(0,r.Ay)({state:f}).info("PINS",`Pins count updated for channel ${v}: ${A}`);const y={...p,pinned_items_count:A};m((0,n.B)({channel:y})),(0,d.L6)(p,u)});i.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},5792544570:(Q,C,e)=>{"use strict";e.d(C,{B:()=>n});var t=e(6247263305);const n=c(s=>{switch(s.type){case t.R.MESSAGE:var r;return{type:s.type,channel:s.channel,ts:(r=s.message)===null||r===void 0?void 0:r.ts};case t.R.FILE:var d,o;return{type:s.type,id:s.file?s.file.id:(d=s.files)===null||d===void 0||(o=d[0])===null||o===void 0?void 0:o.id};case t.R.FILE_COMMENT:var a;return{type:s.type,id:s.comment.id,fileId:(a=s.file)===null||a===void 0?void 0:a.id};default:return{}}},"formatPinFromAPI")},4079686795:(Q,C,e)=>{"use strict";e.d(C,{j:()=>s,z:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Set a channel pref");n.meta={name:"createAction",key:"createActionsetChannelPref",description:"Set a channel pref"};const s=(0,t.Ay)("Bulk set channel prefs");s.meta={name:"createAction",key:"createActionbulkSetChannelsPrefs",description:"Bulk set channel prefs"}},1523378513:(Q,C,e)=>{"use strict";e.d(C,{E:()=>i,d:()=>a});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(4446301238),d=e(8243083011),o=e(4079686795);const a=(0,s.Ay)("Fetch and upsert channel pref data",function(){var m=(0,t.coroutine)(function*(l,_,v){let{channelId:u,prefName:h,reason:f}=v;if(h==="enable_at_channel"&&!(0,d.q)(_(),u))return;const p=yield l((0,r.d9)({channelId:u,prefName:h,reason:f||"fetch-channel-pref"}));l((0,o.z)({channelId:u,pref:h,value:p==null?void 0:p.pref_value}))});return function(l,_,v){return m.apply(this,arguments)}}());a.meta={name:"createThunk",key:"createThunkgetChannelPref",description:"Fetch and upsert channel pref data"};const i=(0,s.Ay)("Set and upsert channel pref data",function(){var m=(0,t.coroutine)(function*(l,_,v){let{channelId:u,newPrefs:h,reason:f}=v;const p=yield l((0,r.E9)({channelId:u,newPrefs:h,reason:f||"set-channel-prefs"})),E={[u]:p.prefs};l((0,o.j)(E))});return function(l,_,v){return m.apply(this,arguments)}}());i.meta={name:"createThunk",key:"createThunksetChannelPrefs",description:"Set and upsert channel pref data"}},7665060966:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(8161242485),n=e(2047021170);const s=(0,t.Ay)(d=>(0,n.ty)(d,"messages_theme")==="dense"?"dense":"light");s.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:d=>(0,n.ty)(d,"messages_theme")==="dense"?"dense":"light"};const r=s},1317368584:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8161242485),n=e(9599231336),s=e(2047021170),r=e(7665060966);const d=(0,t.Ay)(a=>!(0,n.P)(a)&&!!(0,s.ty)(a,"jumbomoji")&&(0,r.A)(a)!=="dense");d.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:a=>!(0,n.P)(a)&&!!(0,s.ty)(a,"jumbomoji")&&(0,r.A)(a)!=="dense"};const o=d},7520484642:(Q,C,e)=>{"use strict";e.d(C,{$n:()=>h,DS:()=>n,Eu:()=>m,JB:()=>u,Lk:()=>f,QU:()=>E,UR:()=>d,Ye:()=>l,aF:()=>p,cl:()=>a,dz:()=>r,gJ:()=>_,mC:()=>o,mo:()=>i,wt:()=>s,zG:()=>v});var t=e(2140362605);const n=(0,t.Ay)("Switch currently active plan");n.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const s=(0,t.Ay)("Successfully fetched available plans");s.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const r=(0,t.Ay)("Successfully fetched cost for current plan");r.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const d=(0,t.Ay)("Successfully fetched cost for current addon");d.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const o=(0,t.Ay)("Received an API error");o.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const a=(0,t.Ay)("Plans and cost data loaded");a.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const i=(0,t.Ay)("Mark plans and cost data as not loaded");i.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const m=(0,t.Ay)("Set Plan Level");m.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const l=(0,t.Ay)("Set Payment Method");l.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const _=(0,t.Ay)("Update Is Plans Data Loading");_.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const v=(0,t.Ay)("Update Is Cost Data Loading");v.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const u=(0,t.Ay)("Load Plans Page Boot Data Success");u.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const h=(0,t.Ay)("Mark plans page boot data as not loaded");h.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const f=(0,t.Ay)("Mark plan payment status data as not loaded");f.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const p=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");p.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const E=(0,t.Ay)("Team plan status loaded");E.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},962959561:(Q,C,e)=>{"use strict";e.d(C,{L9:()=>_,d:()=>v});var t=e(8161242485),n=e(7268021173),s=e(3677514771),r=e(6839188756),d=e(6323355797),o=e(5773584938);const a=[{promoType:d.ZO.PaidFeatureTrial,promoSubtype:d.zG.MessageLimit},{promoType:d.ZO.PaidFeatureTrial,promoSubtype:d.zG.Vhq},{promoType:d.ZO.PaidFeatureTrial,promoSubtype:d.zG.Canvas},{promoType:d.ZO.PaidFeatureTrial,promoSubtype:d.zG.SharedChannels}],i=(0,t.Ay)(u=>a.some(h=>{let{promoType:f,promoSubtype:p}=h;return(0,n.G)(u,f,p)}));i.meta={name:"createSelector",key:"createSelectorisCurrentTrialEligiblePromoCampaign",description:u=>a.some(h=>{let{promoType:f,promoSubtype:p}=h;return(0,n.G)(u,f,p)})};const m=(0,t.Ay)(u=>a.some(h=>{let{promoType:f,promoSubtype:p}=h;return(0,n.hq)(u,f,p)}));m.meta={name:"createSelector",key:"createSelectorisEligiblePromoCampaign",description:u=>a.some(h=>{let{promoType:f,promoSubtype:p}=h;return(0,n.hq)(u,f,p)})};const l=(0,t.Ay)(u=>{const h=(0,s.H7)(u);return!(0,r.tc)(h)&&(0,n.tV)(u)&&i(u)&&(0,o.Ii)(u)});l.meta={name:"createSelector",key:"createSelectorisCurrentlyOnAutoChargeFeatureTrial",description:u=>{const h=(0,s.H7)(u);return!(0,r.tc)(h)&&(0,n.tV)(u)&&i(u)&&(0,o.Ii)(u)}};const _=(0,t.Ay)(u=>{const h=(0,s.H7)(u);return(0,r.tc)(h)&&!(0,n.iH)(u)&&m(u)&&(0,o.Ii)(u)});_.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeFeatureTrial",description:u=>{const h=(0,s.H7)(u);return(0,r.tc)(h)&&!(0,n.iH)(u)&&m(u)&&(0,o.Ii)(u)}};const v=(0,t.Ay)(u=>_(u)&&(0,d.jo)());v.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeAndCheckoutRoute",description:u=>_(u)&&(0,d.jo)()}},5512605238:(Q,C,e)=>{"use strict";e.d(C,{F:()=>n});var t=e(8161242485);const n=(0,t.Ay)(s=>s&&s.promo&&s.promo.showTrialStartedCelebration);n.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:s=>s&&s.promo&&s.promo.showTrialStartedCelebration}},398781533:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>a});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(962959561),d=e(5773584938),o=e(1384076438);const a=(0,s.Ay)("Maybe try logging exposure after checking eligibility",function(){var i=(0,t.coroutine)(function*(m,l,_){const v=l();(0,d.Ii)(v)&&(_&&(yield m((0,o.A)(_))),(0,r.L9)(l())&&m((0,d.Fg)()))});return function(m,l,_){return i.apply(this,arguments)}}());a.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposureAndCheck",description:"Maybe try logging exposure after checking eligibility"}},1384076438:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(6422693406),n=e(1031947056),s=e(8760181906),r=e(2607644860),d=e(1939990292),o=e(3677514771),a=e(9869343146),i=e(6839188756),m=e(796111729);const l=(0,n.Ay)("Fetch promo campaign eligibility",(h,f,p)=>{let{campaignType:E,campaignSubType:g,context:A,reason:y}=p;const T=(0,o.H7)(f());return(0,i.tc)(T)?(h((0,d.zg)({campaignType:E,campaignSubType:g,isFetching:!0})),h((0,a.V)({campaignType:E,campaignSubType:g,context:A,reason:y})).then(O=>{const{isEligible:I,discountPercent:D,expirationTimestamp:P,discountDuration:L}=O;return h((0,d.xt)({campaignType:E,campaignSubType:g,isEligible:I,discountPercent:D,expirationTimestamp:P,discountDuration:L})),h((0,d.zg)({campaignType:E,campaignSubType:g,isFetching:!1})),O}).catch(O=>((0,m.Ay)({state:f()}).error(O.message),h((0,d.zg)({campaignType:E,campaignSubType:g,isFetching:!1})),O))):t.S.resolve({isEligible:!1})});l.meta={name:"createThunk",key:"createThunkfetchPromoEligibility",description:"Fetch promo campaign eligibility"};const v=(0,s.A)(l,r.C,!0,["context","reason"]),u={fetchPromoEligibility:l}},2607644860:(Q,C,e)=>{"use strict";e.d(C,{C:()=>t,y:()=>n});const t=3e5,n={shareChannelPaywall:"share_channel_paywall",sharedChannelsIntro:"shared_channels_intro",trialStart:"trial_start",limitedHistoryBanner:"limited_history_banner",slackConnectHub:"slack_connect_hub",slackConnectHubHeader:"slack_connect_hub_header",slackConnectDMBanner:"slack_connect_dm_banner",addMoreItemsLink:"add_more_items_link",connectionsChannelSection:"connections_channel_section",paidBenefitsPage:"paid_benefits_page",adminBillingOverview:"admin_billing_overview",channelInviteModal:"channel_invite_modal",huddleChannelJoinMsgText:"huddle_channel_join_msg_text",fileStorageWarning:"file_storage_warning",huddleInviteModal:"huddle_invite_modal",canvasPageSyntheticView:"canvas_page_synthetic_view",workflowBuilderFreemiumBanner:"workflow_builder_freemium_banner",workflowPublishButton:"workflow_publish_button",workflowBuilderSidebar:"workflow_builder_sidebar"}},6822097892:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(9706240641),n=e.n(t),s=e(7307560139),r=e(2346425530),d=e(9629572172),o=e(3193155968),a=e(6078549397),i=e(5033667e3),m=e(7429662208),l=e(9108490430),_=e(1031947056);const v=(0,_.Ay)("Open a document on a specific version",function(){var h=(0,t.coroutine)(function*(f,p,E,g){const{fileId:A,windowId:y,version:T,isFromCloseActivityHistory:M,replaceHistoryState:O}=E,I=p(),{versionId:D,sequence:P}={...T};if(!A)return;const{isMainWindow:L,closeView:k,getViewSet:G}=g(d.U),b=(0,m.e6)(I),W=(0,r.xu)(I,y),{versionId:B,sequence:R}={...W},j=M?void 0:D||B,w=M?void 0:P||R;if(M||f((0,s.fw)({windowId:y,versionId:D||B})),O){const N=L?G(I):(0,m.hZ)(I,{windowId:y});if(N){const K=N[o.mq.Primary];if(K){const J={...N,[o.mq.Primary]:{...N[o.mq.Primary],params:{...K.params,versionId:j,sequence:w}}};f(L?(0,i.A)({windowId:o.N2,tab:b,viewSet:J}):(0,i.A)({windowId:y.toString(),viewSet:J}))}}}else{const N={id:(0,a.Lo)({id:A}),versionId:j,sequence:w,preserveExistingSecondaryView:!M};f(L?(0,l.IZ)({windowId:o.N2,tab:b,container:o.mq.Primary,params:N}):(0,l.IZ)({windowId:y.toString(),container:o.mq.Primary,params:N})),M&&k(o.mq.Secondary)}M&&f((0,s.NA)({windowId:y}))});return function(f,p,E,g){return h.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const u=v},7115106069:(Q,C,e)=>{"use strict";e.d(C,{Bi:()=>s,d0:()=>d,oj:()=>r});var t=e(8161242485);const n=(0,t.Ay)(o=>o==null?void 0:o.quipDocEmbeds);n.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:o=>o==null?void 0:o.quipDocEmbeds};const s=(0,t.Ay)(o=>{const a=n(o);return a&&Object.keys(a).length>0});s.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:o=>{const a=n(o);return a&&Object.keys(a).length>0}};const r=(0,t.Ay)(o=>{const a=n(o);return Object.keys(a)});r.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:o=>{const a=n(o);return Object.keys(a)}};const d=(0,t.Ay)((o,a)=>{const i=n(o);var m;return((m=i[a])!==null&&m!==void 0?m:0)>0});d.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(o,a)=>{const i=n(o);var m;return((m=i[a])!==null&&m!==void 0?m:0)>0}}},2494018541:(Q,C,e)=>{"use strict";e.d(C,{O:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Store the corresponding file id for temp quip id");n.meta={name:"createAction",key:"createActionsetFileIdForTempId",description:"Store the corresponding file id for temp quip id"}},4368281601:(Q,C,e)=>{"use strict";e.d(C,{N:()=>i,al:()=>o,jw:()=>d,k:()=>n,uo:()=>s,yw:()=>r,z5:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Store/replace client.counts for this channel");n.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const s=(0,t.Ay)("increment mention count for the channel");s.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const r=(0,t.Ay)("decrement mention count for the channel");r.meta={name:"createAction",key:"createActiondecQuipUnreadCountForChannel",description:"decrement mention count for the channel"};const d=(0,t.Ay)("Add canvases to hide on undo");d.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const o=(0,t.Ay)("clear new mention flag for the channel");o.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const a=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");a.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const i=(0,t.Ay)("Set the last seen timestamp for a badged channel canvas animation");i.meta={name:"createAction",key:"createActionsetLastSeenChannelCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged channel canvas animation"}},9692760785:(Q,C,e)=>{"use strict";e.d(C,{Hg:()=>r,aR:()=>s});var t=e(2140362605),n=e(8872900367);const s=(0,t.Ay)("Add records to the store by layoutType");s.meta={name:"createAction",key:"createActionupsertLayoutTypeRecords",description:"Add records to the store by layoutType"};const r=(0,t.Ay)("Delete all locally cached records by Salesforce org id");r.meta={name:"createAction",key:"createActiondeleteCachedRecordsBySalesforceOrgId",description:"Delete all locally cached records by Salesforce org id"};const d=c(o=>s(o.map(a=>({id:a.id,layoutType:LayoutType.RecordCrud,record:a}))),"upsertRecordDetails")},8096107629:(Q,C,e)=>{"use strict";e.d(C,{CK:()=>w,D1:()=>D,Eh:()=>k,F3:()=>y,FB:()=>B,H9:()=>j,Mo:()=>R,Ss:()=>M,Yo:()=>P,_s:()=>b,ez:()=>O,pV:()=>h,x6:()=>G});var t=e(9706240641),n=e.n(t),s=e(3037015781),r=e(8352634987),d=e(6422693406),o=e(6533394955),a=e(3398586081),i=e(9692760785),m=e(2823938397),l=e(7217613594),_=e(8872900367);const v="records",u=60*10;function h(N){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.c.RecordNotFound;return{...(0,m.WQ)(N),error:K}}c(h,"makeNonExistentRecord");function f(N,K,J){return p.apply(this,arguments)}c(f,"fetchRecordDetailForTeamId");function p(){return p=(0,t.coroutine)(function*(N,K,J){try{return(yield(0,o.dispatchForTeamId)(N,(0,l.H)({record:K,reason:"record-detail-conditional-fetch",layoutType:J,mode:"Edit"}))).record}catch(Y){return h(K,Y.name)}}),p.apply(this,arguments)}c(p,"_fetchRecordDetailForTeamId");function E(N,K,J){return d.S.map(K,Y=>f(N,Y,J))}c(E,"fetchRecordDetailsForTeamId");function g(N,K,J){(0,o.dispatchForTeamId)(N,(0,i.aR)(K.map(Y=>({id:Y.id,layoutType:J,record:Y}))))}c(g,"upsertRecords");const A=c((N,K,J)=>E(N,K,J).then(Y=>g(N,Y,J)),"fetchAndUpsertKnownRecords"),y=c((N,K,J)=>f(N,K,J).then(Y=>(g(N,[Y],J),Y)),"fetchAndUpsertKnownRecord"),T=(0,a.A)(N=>new r.Ay({storeKey:"recordDetails",maxAge:()=>u,metricsName:v,fetch:(K,J)=>A(K,J,N)})),M=(0,a.A)(N=>new s.Ay({fetch:(K,J)=>E(K,J,N),upsertNonExistent:(K,J)=>g(K,J,N),upsertKnown:(K,J)=>{g(K,J,N);const Y=J.filter(m.uz).map(q=>q.id);T(N).markObjectsAsFresh(K,Y)}})),O=c(function(N,K){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p.RecordCrud;return T(J).maybeRefetch(N,K)},"maybeRefetch"),I=c(function(N,K){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud;return T(J).markObjectsAsFresh(N,K)},"markObjectsAsFresh"),D=c(function(N,K){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p.RecordCrud;return T(J).markObjectsAsStale(N,K)},"markObjectsAsStale"),P=c((N,K)=>{Object.keys(_.p).forEach((J,Y)=>T(J).markObjectsAsStale(N,K))},"markObjectsAsStaleForAllLayoutTypes"),L=c(function(N,K){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud;return T(J).isObjectFresh(N,K)},"isObjectFresh");function k(N){return(0,m.mX)(N)}c(k,"isUnknownRecord");function G(N){return(0,m.lv)(N)}c(G,"isNonExistentRecord");function b(N){return(0,m.uz)(N)}c(b,"isExistentRecord");function W(N){return K=>G(K)&&(K==null?void 0:K.error)===N}c(W,"createRecordErrorHelper");const B=W(l.c.RecordNotFound),R=W(l.c.TokenNotFound),j=W(l.c.InsufficientRecordAccess),w=W(l.c.SalesHomeUserConfigNotFound)},7045654828:(Q,C,e)=>{"use strict";e.d(C,{Of:()=>l,PQ:()=>m,VY:()=>v});var t=e(8161242485),n=e(8847766420),s=e(8096107629),r=e(6790819894),d=e(8417858288),o=e(8872900367);const a=Object.freeze((0,s.pV)("INVALID_RECORD_ID"));function i(u,h){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o.p.RecordCrud;var E,g,A;const y=(0,n.JY)(u)||"",T=h&&((E=u.recordDetails)===null||E===void 0||(g=E.records)===null||g===void 0||(A=g[h])===null||A===void 0?void 0:A[p]);return T?((0,s.ez)(y,h,p),T):h&&f?(0,s.Ss)(p).fetchObjectWithId(y,h):f?a:null}c(i,"getRecordDetailByIdSelector");const m=(0,t.Ay)(i);m.meta={name:"createSelector",key:"createSelectorgetRecordDetailById",description:i};const l=(0,r.F)(u=>u.recordDetails.records,(u,h)=>h,(u,h)=>Object.keys(u).filter(f=>{var p;return((p=(0,d.B)(f))===null||p===void 0?void 0:p.orgId)===h}));function _(u,h){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.p.RecordCrud;var p,E,g;return h?(p=u.recordDetails)===null||p===void 0||(E=p.lastRecordUpserts)===null||E===void 0||(g=E[h])===null||g===void 0?void 0:g[f]:void 0}c(_,"getLastRecordUpsertSelector");const v=(0,t.Ay)(_);v.meta={name:"createSelector",key:"createSelectorgetLastRecordUpsert",description:_}},8872900367:(Q,C,e)=>{"use strict";e.d(C,{p:()=>t});var t;(function(n){n.RecordCrud="RecordCrud",n.UrlUnfurling="UrlUnfurling",n.Compact="Compact"})(t||(t={}))},5446033290:(Q,C,e)=>{"use strict";e.d(C,{b:()=>n,q:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Set the last executed encoded search string");n.meta={name:"createAction",key:"createActionsetLastExecutedEncodedSearchString",description:"Set the last executed encoded search string"};const s=(0,t.Ay)("Clear the last executed encoded search string");s.meta={name:"createAction",key:"createActionclearLastExecutedEncodedSearchString",description:"Clear the last executed encoded search string"}},532953487:(Q,C,e)=>{"use strict";e.d(C,{$:()=>s});var t=e(8161242485),n=e(304127728);const s=(0,t.Ay)(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.I;var o,a;return r==null||(o=r.searchHistory)===null||o===void 0||(a=o[d])===null||a===void 0?void 0:a.lastExecutedEncodedSearchString});s.meta={name:"createSelector",key:"createSelectorgetLastExecutedEncodedSearchString",description:function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.I;var o,a;return r==null||(o=r.searchHistory)===null||o===void 0||(a=o[d])===null||a===void 0?void 0:a.lastExecutedEncodedSearchString}}},5078909337:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(1031947056),n=e(2036289572),s=e(1839426804),r=e(30533254),d=e(6249041335),o=e(6125148745),a=e(6313685253),i=e(3078252698),m=e(9846149684),l=e(2414816894),_=e(1707481146),v=e(6106767915);function u(M){let{highlightWords:O,shouldRenderEmojiAsText:I,emojiNames:D,locale:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const L=(0,m.A)(M,{highlightWords:O,shouldRenderEmojiAsText:I,emojiNames:D,locale:P,useChannelTagging:!1});return(0,a.A)(L.contents,(k,G)=>{if(G.attributes&&G.attributes.slackmention){const b=G.attributes.slackmention.id;return(0,l.A)(b)?`${k}@${(0,v.A)(b)}`:(0,_.A)(b)?`${k}${G.attributes.slackmention.label}`:b.charAt(0)==="S"?`${k}<!subteam^${b}|${G.attributes.slackmention.label}>`:`${k}<@${b}>`}return G.insert&&!(0,i.A)(G.insert)&&G.insert.slackemoji?k+G.insert.slackemoji.text:k+G.insert},"")}c(u,"convertContentsStringForEncodedMembers");function h(M,O,I){let D=(0,d.A)(I);return D=u(D,{shouldRenderEmojiAsText:!0}),(0,o.O)(M,O,D)}c(h,"convertClientQueryToAPIQuery");var f=e(2354384409),p=e(304127728),E=e(352142497),g=e(4139359963),A=e(4761125736);const y=(0,t.Ay)("Set the query in the request which is being edited",(M,O,I)=>{let{query:D,mode:P,module:L,page:k,encodedSearchString:G,preventQueryRewrite:b}=I;const W=O(),B=(0,A._Z)(W,"omniswitcher_delta")==="treatment",R=(0,A._Z)(O(),"search_mixed_results_v2")==="on",j=!!G,w=(0,g.A)(W,{viewType:E.D.Search});M((0,n.p4)({windowId:p.I})),!j&&!w&&M((0,s.Vx)({windowId:p.I,isMixedResults:R})),M((0,s.Cr)({windowId:p.I})),M((0,s.Di)({windowId:p.I})),M((0,s.FS)({moduleType:"messages",loading:!0})),M((0,s.FS)({moduleType:"files",loading:!0})),M((0,s.FS)({moduleType:"canvases",loading:!0}));const N=(0,r.vA)(W,D);return M((0,n.c3)({queryFilter:N})),B?(M((0,n.Rm)({query:D})),M((0,f.A)({query:D,fetchSuggestions:!0,mode:P,module:L,page:k,preventQueryRewrite:b}))):h(M,O,D).then(K=>(M((0,n.Rm)({query:K})),M((0,f.A)({query:K,fetchSuggestions:!0,mode:P,module:L,page:k,preventQueryRewrite:b}))))});y.meta={name:"createThunk",key:"createThunksetEditableRequestQueryThenRequest",description:"Set the query in the request which is being edited"};const T=y},2354384409:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(1031947056),n=e(6422693406),s=e(2036289572),r=e(9329555292),d=e(2505585477),o=e(796111729),a=e(9046992894),i=e(9436609557),m=e(6601726845),l=e(5446033290),_=e(1839426804),v=e(832411022),u=e(304127728),h=e(5267010247),f=e(8822892075),p=e(5513050121);const E=(0,t.Ay)("Set a request from the editable request",(A,y,T)=>{let{query:M,fetchSuggestions:O=!0,module:I,mode:D,page:P,preventQueryRewrite:L=!1}=T;A((0,s.qo)({windowId:u.I}));const k=y(),G=M||(0,d.Uz)(k)||"",b=(0,o.Ay)({getState:y}),W=(0,d.nI)(k);let B;if(I){b.info(a.Y,`Retrying previous search for ${I} module`);const j=(0,i.oL)(k,I)||{};B=A((0,r.u3)({page:P??j.page,module:I,reason:"search-retry-module",context:(0,p.Z_)(I)}))}else b.info(a.Y,"Starting new search"),A((0,s.p4)({windowId:u.I})),B=A((0,r.Ad)({query:G,reason:"search-new-query",fetchSuggestions:O,preventQueryRewrite:L}));const R=(0,m._t)(y());return R?(A((0,l.b)({value:R})),A((0,h.o)((0,f.oV)(R))),A((0,_.y8)({tab:I?v.Ai[I]:"all",position:0})),G&&A((0,r.Q3)({query:G,type:D||"unknown"})),W&&A((0,s.aZ)({windowId:u.I})),B):n.S.reject(new Error("Error getting route param from search state"))});E.meta={name:"createThunk",key:"createThunksetRequestFromEditableRequest",description:"Set a request from the editable request"};const g=E},2169241232:(Q,C,e)=>{"use strict";e.d(C,{_:()=>r});var t=e(1031947056),n=e(678604478),s=e(304127728);const r=(0,t.Ay)("Sets a new ID for the query session",d=>{d((0,n.Ko)({windowId:s.I}))});r.meta={name:"createThunk",key:"createThunkendQuerySession",description:"Sets a new ID for the query session"}},6189112794:(Q,C,e)=>{"use strict";e.d(C,{u:()=>m});var t=e(1031947056),n=e(4761125736),s=e(1839426804),r=e(2169241232),d=e(678604478),o=e(304127728),a=e(796111729),i=e(9046992894);const m=(0,t.Ay)("Sets a new ID for the search and query sessions",(l,_)=>{const v=(0,a.Ay)({getState:_}),u=(0,n._Z)(_(),"search_sort_reset")==="treatment";l((0,r._)()),l((0,d.gA)({windowId:o.I})),l((0,d.Z8)({windowId:o.I})),l((0,s.bZ)({windowId:o.I})),l((0,s.pQ)({windowId:o.I})),u&&l((0,s.Dl)({windowId:o.I})),v.info(i.Y,"Ending search session")});m.meta={name:"createThunk",key:"createThunkendSearchSession",description:"Sets a new ID for the search and query sessions"}},2939274763:(Q,C,e)=>{"use strict";e.d(C,{s:()=>P,w:()=>L});var t=e(1031947056),n=e(9436609557),s=e(7143409288),r=e(2864477491),d=e(796111729),o=e(9046992894),a=e(7435861102),i=e(3998401757),m=e(2036289572),l=e(1839426804),_=e(6189112794),v=e(2169241232),u=e(6729174604),h=e(832411022),f=e(304127728),p=e(5446033290);const E=(0,t.Ay)("Clear query session data on session expiration",k=>{k((0,l.LM)({querySessionTimeoutId:null})),k((0,v._)()),k((0,m.Pz)({windowId:f.I})),k((0,u.o2)({inputId:h.Jx.OMNISWITCHER})),k((0,l.Vx)({windowId:f.I}))});E.meta={name:"createThunk",key:"createThunkclearQuerySessionData",description:"Clear query session data on session expiration"};const g=(0,t.Ay)("Clear search session data on session expiration",k=>{k((0,l.jT)({sessionTimeoutId:null})),k((0,_.u)()),k((0,m.Pz)({windowId:f.I})),k((0,u.o2)({inputId:h.Jx.OMNISWITCHER})),k((0,l.Vx)({windowId:f.I})),k((0,p.q)({windowId:f.I}))});g.meta={name:"createThunk",key:"createThunkclearSearchSessionData",description:"Clear search session data on session expiration"};var A=e(3606346624),y=e(5234724663),T=e(2527782504),M=e(9640070512),O=e(4761125736),I=e(471411288),D=e(8354595181);const P=(0,t.Ay)("Clear session timeouts on search mount",(k,G)=>{const b=G();(0,n.nj)(b)?((0,d.Ay)({getState:G}).info(o.Y,"Navigated to search page and session is already active: Clearing timer"),k((0,s.A)())):(0,r.G0)(b)||((0,d.Ay)({getState:G}).info(o.Y,"Navigated to search page without active session: Starting new session"),k((0,a.N)())),(0,n.a1)(b)||k((0,l.O3)({lastOpenMethod:"history"})),k((0,y.Ih)()),k((0,M.H)({focusKey:T.Ay.Search,forceFocus:!0}))});P.meta={name:"createThunk",key:"createThunkclearSessionTimeoutsOnSearchMount",description:"Clear session timeouts on search mount"};const L=(0,t.Ay)("Start session timeouts on search unmount",(k,G)=>{const b=G(),W=h.Jx.OMNISWITCHER;if((0,O._Z)(b,"omniswitcher_delta")==="treatment"){if(!(0,I.A)(new D.Ru((0,i.le)(b,W))))return}else if(!(0,i.NR)(b,W))return;(0,d.Ay)({getState:G}).info(o.Y,"Navigated from search page with active query: Starting timeout to clear session");const R=setTimeout(()=>{const w=G();(0,n.AW)(w)===R&&k(E())},A.R);k((0,l.LM)({querySessionTimeoutId:R}));const j=setTimeout(()=>{const w=G();(0,n.nj)(w)===j&&k(g())},A.l);k((0,l.jT)({sessionTimeoutId:j})),k((0,y.yW)()),k((0,l.O3)({lastOpenMethod:null}))});L.meta={name:"createThunk",key:"createThunkstartSessionTimeoutsOnSearchUnmount",description:"Start session timeouts on search unmount"}},7143409288:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(1031947056),n=e(9436609557),s=e(1839426804);const r=(0,t.Ay)("Reset session timeout ids when someone returns to their search",(o,a)=>{clearTimeout((0,n.nj)(a())),o((0,s.jT)({sessionTimeoutId:null})),o((0,s.LM)({querySessionTimeoutId:null}))});r.meta={name:"createThunk",key:"createThunkresetSessionTimeoutIds",description:"Reset session timeout ids when someone returns to their search"};const d=r},117899263:(Q,C,e)=>{"use strict";e.d(C,{_:()=>s});var t=e(8161242485),n=e(1960898919);const s=(0,t.Ay)(r=>{var d;return(d=(0,n.ax)(r,"is_new_human"))!==null&&d!==void 0?d:!1});s.meta={name:"createSelector",key:"createSelectorisNewHuman",description:r=>{var d;return(d=(0,n.ax)(r,"is_new_human"))!==null&&d!==void 0?d:!1}}},5773584938:(Q,C,e)=>{"use strict";e.d(C,{Fg:()=>_,Ii:()=>a});var t=e(8161242485),n=e(1031947056),s=e(6209625934),r=e(4761125736);const d=(0,t.Ay)(v=>(0,r._Z)(v,"paid_feature_trial_auto_charge",!1));d.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeGetAssignment",description:v=>(0,r._Z)(v,"paid_feature_trial_auto_charge",!1)};const o=(0,t.Ay)(v=>(0,r._Z)(v,"paid_feature_trial_auto_charge",!1)==="control");o.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsControl",description:v=>(0,r._Z)(v,"paid_feature_trial_auto_charge",!1)==="control"};const a=(0,t.Ay)(v=>(0,r._Z)(v,"paid_feature_trial_auto_charge",!1)==="treatment");a.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsTreatment",description:v=>(0,r._Z)(v,"paid_feature_trial_auto_charge",!1)==="treatment"};const i=(0,t.Ay)(v=>{var u;return["treatment"].includes((u=(0,r._Z)(v,"paid_feature_trial_auto_charge",!1))!==null&&u!==void 0?u:"")});i.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsAnyTreatment",description:v=>{var u;return["treatment"].includes((u=(0,r._Z)(v,"paid_feature_trial_auto_charge",!1))!==null&&u!==void 0?u:"")}};const m=(0,t.Ay)(v=>o(v)||i(v));m.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsExposed",description:v=>o(v)||i(v)};const l=c(v=>{const u=(0,r.KK)(v,"paid_feature_trial_auto_charge");u&&u.log_exposures&&(0,s.K)("paid_feature_trial_auto_charge",u,v)},"paidFeatureTrialAutoChargeLogExposure"),_=(0,n.Ay)("Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed",(v,u)=>{m(u())&&l(u())});_.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposure",description:"Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed"}},4719739515:(Q,C,e)=>{"use strict";e.d(C,{i:()=>n});var t=e(2140362605);const n=(0,t.Ay)("Adds a list of salesforce orgs to the store");n.meta={name:"createAction",key:"createActionupsertSalesforceOrgs",description:"Adds a list of salesforce orgs to the store"}},2032902007:(Q,C,e)=>{"use strict";e.d(C,{Ob:()=>E,jt:()=>l,lF:()=>g,qp:()=>h});var t=e(9706240641),n=e.n(t),s=e(8352634987),r=e(3037015781),d=e(7156798807),o=e(3398586081),a=e(6533394955),i=e(8480246703),m=e(4719739515);const l="SFDC_ORG_INFO_FETCH_ID";function _(A,y){(0,a.dispatchForTeamId)(A,(0,m.i)(y))}c(_,"upsertSalesforceOrgList");function v(A){return u.apply(this,arguments)}c(v,"fetchSalesforceOrgList");function u(){return u=(0,t.coroutine)(function*(A){const y=yield(0,a.dispatchForTeamId)(A,(0,i.k)({reason:"sfdc-org-info-conditional-fetch"}));return[{id:l,orgs:(0,d.A)(y.salesforce_orgs,"id")}]}),u.apply(this,arguments)}c(u,"_fetchSalesforceOrgList");function h(A){return v(A).then(y=>((0,a.dispatchForTeamId)(A,(0,m.i)(y)),y))}c(h,"fetchAndUpsertSalesforceOrgList");const f=(0,o.A)(()=>new s.Ay({fetch:h,metricsName:"sfdc-org-info",storeKey:"sfdcOrgInfo"})),p=(0,o.A)(()=>new r.Ay({fetch:v,upsertNonExistent:_,upsertKnown:(A,y)=>{_(A,y),f().markObjectsAsFresh(A,[l])}})),E=c(A=>{f().maybeRefetch(A,l)},"maybeRefetchSalesforceOrgs"),g=c(A=>p().fetchObjectWithId(A,l),"fetchSalesforceOrgs")},4158363050:(Q,C,e)=>{"use strict";e.d(C,{V:()=>l,k:()=>m});var t=e(8161242485),n=e(8234448831),s=e(8847766420),r=e(2823938397),d=e(2032902007);const o=Object.freeze((0,r.WQ)("INVALID_ORG_ID")),a=Object.freeze((0,r.WQ)("MISSING_ORG_ID"));function i(_){function v(u,h){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const p=(0,s.JY)(u)||"",E=u.sfdcOrgInfo.orgInfos[d.jt];return E?((0,d.Ob)(p),h&&(0,r.uz)(E)&&_(E.orgs,h)||a):f?h?(0,d.lF)(p):o:null}return c(v,"getSalesforceOrgInfoInner"),(0,t.Ay)(v)}c(i,"createSalesforceOrgInfoSelector");const m=i((_,v)=>_[v]),l=i((_,v)=>Object.values(_).find(u=>(0,n.Ay)(u.instance_url).hostname===v))},9968803145:(Q,C,e)=>{"use strict";e.d(C,{N:()=>n,t:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Updates the domains collection from the server");n.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const s=(0,t.Ay)("Clears any domains currently stored on the client side");s.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},8262898118:(Q,C,e)=>{"use strict";e.d(C,{pf:()=>f,Ls:()=>h,ND:()=>_,pF:()=>v,w$:()=>u});var t=e(8161242485),n=e(3385422400),s=e(9113979368),r=e(8234448831),d=e(2364576462);function o(p,E){var g;if((0,s.A)(p))return{appId:void 0,domain:""};const A=(0,r.Ay)(p),y=(0,d.Ww)(A,!0),T=A.hostname,M=T||y;let O=E==null||(g=E.domains)===null||g===void 0?void 0:g[M];if(!O){var I;const D=Object.keys((I=E==null?void 0:E.wildcards)!==null&&I!==void 0?I:{}).find(P=>T.endsWith(`.${P}`));D&&(O=E.wildcards[D])}return{appId:O,domain:M}}c(o,"getSIWSLinkInfo");var a=e(4919351998);function i(p,E){if((0,s.A)(p))return!1;const g=(0,r.Ay)(p);return m(g,E)}c(i,"isSIWSLink");function m(p,E){var g;if(p.protocol!=="http:"&&p.protocol!=="https:"||(0,a.gU)(p))return!1;const A=(0,d.Ww)(p,!0);if(!p.hostname||!A)return!1;const y=p.hostname,T=y.length>A.length+1,M=!!(!(E==null||(g=E.domains)===null||g===void 0)&&g[y]);var O;const I=T&&Object.keys((O=E==null?void 0:E.wildcards)!==null&&O!==void 0?O:{}).some(D=>y.endsWith(`.${D}`));return M||I}c(m,"isParsedUrlSIWSLink");const l=(0,t.Ay)(p=>{var E;return p==null||(E=p.siwsDomains)===null||E===void 0?void 0:E.domainsCollection});l.meta={name:"createSelector",key:"createSelectorgetDomains",description:p=>{var E;return p==null||(E=p.siwsDomains)===null||E===void 0?void 0:E.domainsCollection}};const _=(0,t.Ay)((p,E)=>{var g;return(g=o(E,l(p)))===null||g===void 0?void 0:g.appId});_.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(p,E)=>{var g;return(g=o(E,l(p)))===null||g===void 0?void 0:g.appId}};const v=(0,t.Ay)((p,E)=>{var g;return(g=o(E,l(p)))===null||g===void 0?void 0:g.domain});v.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(p,E)=>{var g;return(g=o(E,l(p)))===null||g===void 0?void 0:g.domain}};const u=(0,t.Ay)((p,E)=>i(E,l(p)));u.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(p,E)=>i(E,l(p))};const h=(0,t.Ay)((p,E)=>m(E,l(p)));h.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(p,E)=>m(E,l(p))};const f=(0,n.Mz)(l,function(p){let{domains:E,wildcards:g}=p;const A=Object.entries(E).map(T=>{let[M,O]=T;return{appId:O,domain:M,isWildcard:!1}});return[...Object.entries(g).map(T=>{let[M,O]=T;return{appId:O,domain:M,isWildcard:!0}}),...A].reduce((T,M)=>({...T,[M.appId]:{domain:M.domain,isWildcard:M.isWildcard}}),{})})},4433296946:(Q,C,e)=>{"use strict";e.d(C,{_:()=>a});var t=e(1031947056),n=e(1269227002),s=e(5257368278);const r=(0,s.A)("Get SIWS registered domains list",i=>i((0,n.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(m=>({cacheTs:m.domains_ts,domains:m.domains,wildcardDomains:m.wildcard_domains})));r.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};const d=r;var o=e(9968803145);const a=(0,t.Ay)("Load remote domains into Redux",i=>{i(d()).then(m=>{let{cacheTs:l,domains:_,wildcardDomains:v}=m;const u=Date.now();i((0,o.N)({cacheTs:l,domains:_,lastGetDomainsTs:u,wildcardDomains:v}))})});a.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},3577873706:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(9706240641),n=e.n(t),s=e(1031947056),r=e(2332966328),d=e(8910811843),o=e(4144687165);const a=(0,s.Ay)("Fetch Slack Doc file IDs for and re-map",function(){var m=(0,t.coroutine)(function*(l,_,v){let{quipThreadId:u,reason:h="get-and-upsert-slack-doc-file-id"}=v;const f=(0,o.R)(_(),u);if(f)return f;const{file_id:p}=yield l((0,r.I)({quipThreadId:u,reason:h}));return l((0,d.Gc)({objects:[{id:u,fileId:p}]})),p});return function(l,_,v){return m.apply(this,arguments)}}());a.meta={name:"createThunk",key:"createThunkgetAndUpsertSlackDocFileId",description:"Fetch Slack Doc file IDs for and re-map"};const i=a},7359239710:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>m,I$:()=>i,iJ:()=>a});var t=e(5571264920),n=e(1031947056),s=e(5502459222);const r=(0,n.Ay)("Fetch slack doc last read timestamps and re-map",(l,_,v)=>{let{ids:u}=v;return l((0,s.R)({fileIds:u,reason:"fetch-slack-doc-last-read"})).then(h=>{let{files:f}=h;return f.map(p=>({id:p.file_id,lastReadByUser:p.last_read_timestamp}))})});r.meta={name:"createThunk",key:"createThunkfetchSlackDocLastReadTimestamps",description:"Fetch slack doc last read timestamps and re-map"};const d=r,{reducer:o,actions:{upsertObjects:a},selectors:{getObjectById:i}}=(0,t.A)({storeKey:"slackDocLastRead",persistenceEnabled:!0},{fetchObjects:d}),m=o},2985066322:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(1031947056),n=e(7359239710);const s=(0,t.Ay)("Upsert a slack doc last read for a given file ID",(d,o,a)=>{let{fileId:i,lastReadByUser:m}=a;return d((0,n.iJ)({objects:[{id:i,lastReadByUser:m}]}))});s.meta={name:"createThunk",key:"createThunkupsertSlackDocLastReadByUserForFileId",description:"Upsert a slack doc last read for a given file ID"};const r=s},1302213854:(Q,C,e)=>{"use strict";e.d(C,{C7:()=>n,Ln:()=>r,Mb:()=>s,UM:()=>d});var t=e(2140362605);const n=(0,t.Ay)("Have we already sent boot metrics");n.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const s=(0,t.Ay)("Should we log team switch metrics");s.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const r=(0,t.Ay)("Set whether we should continue logging time to visible metrics");r.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const d=(0,t.Ay)("Set whether we should continue logging time to usable metrics");d.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},4476913522:(Q,C,e)=>{"use strict";e.d(C,{a:()=>u});var t=e(8086952004),n=e(12126472),s=e(6626377467),r=e(235108050),d=e(7530630315),o=e(5729325965),a=e(2240330919),i=e(1116859610),m=e(6422693406),l=e(1031947056),_=e(3110884894),v=e(2155512519);const u=(0,l.Ay)("gets thread replies from the API",(h,f,p)=>{const{channelId:E,threadTs:g,oldest:A,limit:y}=p;let T=p.latest;A===T&&T===p.threadTs&&(T=null);const M=(0,_.Iu)(E,g);return A&&T?m.S.all([h((0,v.$b)({channelId:E,threadTs:g,latest:T,limit:y})),h((0,v.$b)({channelId:E,threadTs:g,oldest:A,limit:y}))]).then(O=>{let[I,D]=O;const P=(0,t.A)(I.msgs,{ts:g})||(0,t.A)(D.msgs,{ts:g}),L=(0,n.A)(I.msgs,{ts:g}),k=(0,n.A)(D.msgs,{ts:g}),G=I.deleted,b=D.deleted,W=(0,s.A)(L.concat(k),"ts"),B=(0,r.A)((0,d.A)(G,b));!I.hasMore&&P&&W.unshift(P);const R=W.map(j=>j.ts);return h((0,i.A)({msgs:W,channelId:M,hasMore:{hasMoreStart:I.hasMore,hasMoreEnd:D.hasMore},oldest:(0,o.A)([A,(0,o.A)(R)]),latest:(0,a.A)([T,(0,a.A)(R)]),deleted:B})),{msgs:W}}):h((0,v.$b)({channelId:E,threadTs:g,oldest:A,latest:T,limit:y})).then(function(){let{msgs:O,deleted:I,hasMore:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const P=T&&!D||A===g||T===g||!A&&!T&&!D;let L=O;P||(L=(0,n.A)(O,{ts:g}));let k=D;!A&&!T&&(k={hasMoreStart:D,hasMoreEnd:!1}),h((0,i.A)({msgs:L,channelId:M,hasMore:k,oldest:A,latest:T,deleted:I}));const G=(0,t.A)(O,{ts:g});return G&&A===g&&h((0,i.A)({msgs:[G],channelId:M,hasMore:!1,latest:g})),{msgs:L}})});u.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},6929023741:(Q,C,e)=>{"use strict";e.d(C,{a:()=>u});var t=e(8086952004),n=e(12126472),s=e(6626377467),r=e(235108050),d=e(7530630315),o=e(5729325965),a=e(2240330919),i=e(1116859610),m=e(6422693406),l=e(1031947056),_=e(3110884894),v=e(2155512519);const u=(0,l.Ay)("gets thread replies from the API",(h,f,p)=>{const{channelId:E,threadTs:g,oldest:A,limit:y}=p;let T=p.latest;A===T&&T===p.threadTs&&(T=null);const M=(0,_.Iu)(E,g);return A&&T?m.S.all([h((0,v.$b)({channelId:E,threadTs:g,latest:T,limit:y})),h((0,v.$b)({channelId:E,threadTs:g,oldest:A,limit:y}))]).then(O=>{let[I,D]=O;const P=(0,t.A)(I.msgs,{ts:g})||(0,t.A)(D.msgs,{ts:g}),L=(0,n.A)(I.msgs,{ts:g}),k=(0,n.A)(D.msgs,{ts:g}),G=I.deleted,b=D.deleted,W=(0,s.A)(L.concat(k),"ts"),B=(0,r.A)((0,d.A)(G,b));!I.hasMore&&P&&W.unshift(P);const R=W.map(j=>j.ts);return h((0,i.A)({msgs:W,channelId:M,hasMore:{hasMoreStart:I.hasMore,hasMoreEnd:D.hasMore},oldest:(0,o.A)([A,(0,o.A)(R)]),latest:(0,a.A)([T,(0,a.A)(R)]),deleted:B})),{msgs:W}}):h((0,v.$b)({channelId:E,threadTs:g,oldest:A,latest:T,limit:y})).then(function(){let{msgs:O,deleted:I,hasMore:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const P=T&&!D||A===g||T===g||!A&&!T&&!D;let L=O;P||(L=(0,n.A)(O,{ts:g}));let k=D;!A&&!T&&(k={hasMoreStart:D,hasMoreEnd:!1}),h((0,i.A)({msgs:L,channelId:M,hasMore:k,oldest:A,latest:T,deleted:I}));const G=(0,t.A)(O,{ts:g});return G&&A===g&&h((0,i.A)({msgs:[G],channelId:M,hasMore:!1,latest:g})),{msgs:L}})});u.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},1827030018:(Q,C,e)=>{"use strict";e.d(C,{_:()=>i});var t=e(9746734072),n=e(5238395322),s=e(2101927269),r=e(7486305635),d=e(1031947056),o=e(9101533895),a=e(157328471);const i=(0,d.Ay)("Update the unread count for the all threads view",(m,l,_)=>{let{threadsHasUnreads:v,threadsUnreadCountByChannel:u,threadsMentionCountByChannel:h,threadsLastUpdatedTimestamp:f}=_;const p=(0,t.A)(h)?{}:h,E=l(),g=(0,n.A)((0,s.A)(p,(y,T)=>{const M=(0,o.OL)(E,T);return(0,r.WK)(E,M)&&!(0,r.fA)(E,M)}));let A=0;u?A=(0,n.A)((0,s.A)(u,(y,T)=>{const M=(0,o.OL)(E,T);return(0,r.WK)(E,M)})):A=v?1:0,m((0,a.LI)({threadsUnreadCount:A,threadsUnreadCountByChannel:u,threadsMentionCount:g,threadsMentionCountByChannel:p,threadsLastUpdatedTimestamp:f,suppressThreads:(0,r.dQ)(E)}))});i.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},9132245692:(Q,C,e)=>{"use strict";e.d(C,{g:()=>n,y:()=>s});var t=e(2140362605);const n=(0,t.Ay)("Update unread counts for the specified user alert types");n.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const s=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");s.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},2433936990:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(6422693406),n=e(1031947056),s=e(796111729),r=e(9673616141),d=e(2023092677),o=e(1835177371),a=e(7681350303);const i="USER_GROUPS",m=(0,n.Ay)("Fetch and upsert the members of a user group",(_,v,u)=>{let{groupId:h,reason:f="fetchAndUpsertUserGroupMembers"}=u;const p=v(),E=(0,o.lJ)(p,h);if((0,d.Zx)(E)||!(0,d.V1)(E))return t.S.resolve();if(!E||E!=null&&E.isNonExistent)throw new Error(`cannot fetch usergroup members for unknown or nonexistent group ${E?E==null?void 0:E.id:"[unknown group id]"}`);if(!(E!=null&&E.team_id))throw new Error(`cannot fetch usergroup members for ${E.id} because there is no team_id for that group`);return _((0,r.p)({usergroup:h,teamId:E.team_id,reason:f})).then(g=>{let{users:A}=g;return _((0,a.zz)({groupId:h,users:A})),A}).catch(g=>{throw(0,s.Ay)({getState:v}).error(i,`Error in fetchAndUpsertUserGroupMembers: ${JSON.stringify(g)}`),g})});m.meta={name:"createThunk",key:"createThunkfetchAndUpsertUserGroupMembers",description:"Fetch and upsert the members of a user group"};const l=m},2696160384:(Q,C,e)=>{"use strict";e.d(C,{D_:()=>s,FI:()=>n,Sr:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Sets whether the mini player is open or not");n.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const s=(0,t.Ay)("Sets mini video player config");s.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const r=(0,t.Ay)("Clears mini video player config");r.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"}},9813790040:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3750057149),n=e(9121100949),s=e(9139930183),r=e(1201539379),d=e(7489442332),o=e(9733150292);const a={persistenceEnabled:!1,storeKey:"viewLayout"},i={sidebarWidthIntent:void 0,sidebarWidthMode:d.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:d.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:d.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:d.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:d.tR.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{i.sidebarWidthIntent=(0,o.W6)(n.ke)||void 0,i.sidebarWideWidthIntent=(0,o.W6)(n.u1)||void 0,i.sidebarExtraWideWidthIntent=(0,o.W6)(n.jt)||void 0,i.secondaryWidthIntent=(0,o.W6)(n.gN)||void 0,i.sidebarWidthMode=(0,o.W6)(n.ts)||d.tR.AUTO,i.splitWidthIntent=(0,o.W6)(n.qD)||void 0,i.splitWidthMode=(0,o.W6)(n.$D)||d.tR.AUTO,i.sidebarWidthMode=(0,o.W6)(n.ts)||d.tR.AUTO,i.sidebarWideWidthMode=(0,o.W6)(n.r1)||d.tR.AUTO,i.sidebarExtraWideWidthMode=(0,o.W6)(n.OR)||d.tR.AUTO,i.secondaryWidthMode=(0,o.W6)(n.Ts)||d.tR.AUTO;const _=(0,o.W6)(n.jG);i.isSidebarVisible=(0,t.A)(_)?_:!0;const v=(0,o.W6)(n.WU);i.isWorkspaceSwitcherVisible=(0,t.A)(v)?v:!1;const u=(0,o.W6)(n.RC);i.isCompactModeEnabled=(0,t.A)(u)?u:!1}catch{}const l=(0,s.Ay)({},i,a).on(r.SP,(_,v)=>{let{sidebarWidthIntent:u,sidebarWidthMode:h}=v;return{..._,sidebarWidthIntent:u,sidebarWidthMode:h}}).on(r.hk,(_,v)=>{let{sidebarWideWidthIntent:u,sidebarWideWidthMode:h}=v;return{..._,sidebarWideWidthIntent:u,sidebarWideWidthMode:h}}).on(r.$t,(_,v)=>{let{sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:h}=v;return{..._,sidebarExtraWideWidthIntent:u,sidebarExtraWideWidthMode:h}}).on(r.ie,(_,v)=>{let{secondaryWidthIntent:u,secondaryWidthMode:h}=v;return{..._,secondaryWidthIntent:u,secondaryWidthMode:h}}).on(r.yL,(_,v)=>{let{splitWidthIntent:u,splitWidthMode:h}=v;return{..._,splitWidthIntent:u,splitWidthMode:h}}).on(r.KY,(_,v)=>({..._,isSidebarVisible:v})).on(r.Eo,(_,v)=>({..._,isSidebarVisibleWhenFloating:v})).on(r.mV,(_,v)=>({..._,isWorkspaceSwitcherVisible:v})).on(r.Fe,(_,v)=>({..._,isCompactModeEnabled:v}))},4172221507:(Q,C,e)=>{"use strict";e.d(C,{F:()=>o});var t=e(9121100949),n=e(1031947056),s=e(6533394955),r=e(1201539379),d=e(9733150292);const o=(0,n.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(a,i,m)=>{(0,d.q9)(t.jG,m),a((0,r.KY)(m)),(0,s.dispatchForClientStore)((0,r.KY)(m))});o.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},8707579690:(Q,C,e)=>{"use strict";e.d(C,{J:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified secondary width and mode",(a,i,m)=>{let{secondaryWidthIntent:l,secondaryWidthMode:_}=m;(0,d.q9)(t.gN,l),(0,d.q9)(t.Ts,_),a((0,s.ie)({secondaryWidthIntent:l,secondaryWidthMode:_})),(0,r.dispatchForClientStore)((0,s.ie)({secondaryWidthIntent:l,secondaryWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},2779520532:(Q,C,e)=>{"use strict";e.d(C,{R:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified sidebar width and mode",(a,i,m)=>{let{sidebarWidthIntent:l,sidebarWidthMode:_}=m;(0,d.q9)(t.ke,l),(0,d.q9)(t.ts,_),a((0,s.SP)({sidebarWidthIntent:l,sidebarWidthMode:_})),(0,r.dispatchForClientStore)((0,s.SP)({sidebarWidthIntent:l,sidebarWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},7128275929:(Q,C,e)=>{"use strict";e.d(C,{a:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified extra wide sidebar width and mode",(a,i,m)=>{let{sidebarExtraWideWidthIntent:l,sidebarExtraWideWidthMode:_}=m;(0,d.q9)(t.jt,l),(0,d.q9)(t.OR,_),a((0,s.$t)({sidebarExtraWideWidthIntent:l,sidebarExtraWideWidthMode:_})),(0,r.dispatchForClientStore)((0,s.$t)({sidebarExtraWideWidthIntent:l,sidebarExtraWideWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},9341298:(Q,C,e)=>{"use strict";e.d(C,{q:()=>o});var t=e(9121100949),n=e(1031947056),s=e(1201539379),r=e(6533394955),d=e(9733150292);const o=(0,n.Ay)("Set the user-specified wide sidebar width and mode",(a,i,m)=>{let{sidebarWideWidthIntent:l,sidebarWideWidthMode:_}=m;(0,d.q9)(t.u1,l),(0,d.q9)(t.r1,_),a((0,s.hk)({sidebarWideWidthIntent:l,sidebarWideWidthMode:_})),(0,r.dispatchForClientStore)((0,s.hk)({sidebarWideWidthIntent:l,sidebarWideWidthMode:_}))});o.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},4139359963:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(2384831516),n=e(7429662208);const s=(0,t.Mz)((m,l)=>{let{viewType:_}=l;const v=(0,n.zi)(m);return Object.keys(v).map(p=>v[p]).some(p=>Object.keys(p).some(g=>{var A;return((A=p[g])===null||A===void 0?void 0:A.viewType)===_}))});s.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInChildWindow",description:(m,l)=>{let{viewType:_}=l;const v=(0,n.zi)(m);return Object.keys(v).map(p=>v[p]).some(p=>Object.keys(p).some(g=>{var A;return((A=p[g])===null||A===void 0?void 0:A.viewType)===_}))}};const r=s,d=(0,t.Mz)((m,l)=>{let{viewType:_}=l;const v=(0,n.e6)(m),u=(0,n.Le)(m,{tab:v});return u?Object.keys(u).some(p=>{var E;return((E=u[p])===null||E===void 0?void 0:E.viewType)===_}):!1});d.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInMainWindow",description:(m,l)=>{let{viewType:_}=l;const v=(0,n.e6)(m),u=(0,n.Le)(m,{tab:v});return u?Object.keys(u).some(p=>{var E;return((E=u[p])===null||E===void 0?void 0:E.viewType)===_}):!1}};const o=d,a=(0,t.Mz)((m,l)=>{let{viewType:_}=l;return r(m,{viewType:_})||o(m,{viewType:_})});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisible",description:(m,l)=>{let{viewType:_}=l;return r(m,{viewType:_})||o(m,{viewType:_})}};const i=a},7573598208:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(352142497),n=e(8834730594),s=e(2960290117),r=e(8040098042),d=e(1826991857),o=e(4862221402),a=e(8813411026),i=e(8414867410);const m={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,channel_files:t.D.ChannelFiles,ai_app:t.D.AiApp,workflow_details:t.D.WorkflowDetails},_=c(v=>v?(0,n.A)(v)?t.D.AppSpace:(0,s.Ay)(v)?t.D.Canvas:(0,r.A)(v)?t.D.Channel:(0,a.T)(v)?(0,i.F8)(v):v&&v[0]==="V"?t.D.Threads:(0,d.A)(v)?t.D.Thread:(0,o.A)(v)?t.D.UserGroup:m[v]?m[v]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},9936094925:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>p,cB:()=>u,ds:()=>v,w9:()=>h,wg:()=>_});var t=e(9113979368),n=e(498506970),s=e(1618349278),r=e(1649982175),d=e(9139930183),o=e(3193155968),a=e(7590914282);const i=100,m={},l={persistenceEnabled:!1,storeKey:"windowHistory"};function _(E){let{windowState:g,entry:A}=E;const y=g?g.stack:[],T=(0,t.A)(y)?null:1;return{stack:[(0,n.A)(A)].concat(y).slice(0,i),index:0,previousIndex:T}}c(_,"handlePushHistoryEntryForWindow");function v(E){let{windowState:g,index:A,previousIndex:y}=E;return{stack:g.stack,index:A,previousIndex:y}}c(v,"handleUpdateIndexForWindow");function u(E){let{windowState:g,index:A}=E;return{stack:(0,s.A)(g.stack,A),index:g.index,previousIndex:null}}c(u,"handlePopHistoryAboveIndexForWindow");function h(E){let{windowState:g,entry:A}=E;const y=[...g.stack];return y[g.index]=(0,n.A)(A),{...g,stack:y}}c(h,"handleReplaceCurrentHistoryEntryForWindowInternal");const p=(0,d.Ay)({},m,l).on(a.xU,(E,g)=>{let{windowId:A,entry:y}=g;return!A||!y?E:{...E,[A]:_({windowState:E[A],entry:y})}}).on(a.aV,(E,g)=>{let{windowId:A}=g;return(0,r.A)(E,A)}).on(a.Nr,(E,g)=>{let{windowId:A,index:y,previousIndex:T}=g;return{...E,[A]:v({windowState:E[A],index:y,previousIndex:T})}}).on(a.o1,(E,g)=>{let{windowId:A,entry:y}=g;return{...E,[A]:{stack:[(0,n.A)(y)],index:0,previousIndex:null}}}).on(a.s0,(E,g)=>{let{windowId:A,index:y}=g;return E[A]?{...E,[A]:u({windowState:E[A],index:y})}:E}).on(a.iV,(E,g)=>{let{windowId:A,entry:y}=g;return E[A]?{...E,[A]:h({windowState:E[A],entry:y})}:E}).on(a.$Z,(E,g)=>{let{windowId:A,viewParams:y,index:T}=g;if(!E[A])return E;const O=[...E[A]?E[A].stack:[]];if(!O[T])return E;const{id:I,...D}=(0,n.A)(O[T]),P=D[o.mq.Primary];if(!(P!=null&&P.id))return E;const L={...D,[o.mq.Primary]:{...P,params:{...P.params,...y}}};return O[T]={id:I,...L},{...E,[A]:{...E[A],stack:O}}})},4256476552:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(9139930183),n=e(1780675971),s=e(3193155968);const r={[s.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},o=(0,t.Ay)({},r,{storeKey:"window",persistenceEnabled:!1}).on(n._p,(a,i)=>{let{windowId:m=s.N2,...l}=i;if(!a[m])return a;const _={[s.N2]:{...a[s.N2]}};return _[m]={...a[m],...l},Reflect.ownKeys(a).forEach(v=>{v!==m&&l.isFocused&&(_[v]={...a[v],isFocused:!1})}),{...a,..._}}).on(n.w3,(a,i)=>{let{windowId:m=s.N2,...l}=i;return a[m]?{...a,[m]:{...a[m],isUnloading:l.isUnloading}}:a}).on(n.d1,(a,i)=>{let{windowId:m=s.N2,...l}=i;return{...a,[m]:{...a[m],...l,windowId:m}}}).on(n.pb,(a,i)=>{let{windowId:m=s.N2,...l}=i;return a[m]?{...a,[m]:{...a[m],bootType:l.bootType}}:a}).on(n.jO,(a,i)=>{let{windowId:m}=i;if(m===s.N2||!a[m])return a;const l={...a};return delete l[m],l}).on(n.NV,(a,i)=>{let{windowId:m,viewport:l}=i;return a[m]?{...a,[m]:{...a[m],viewport:l}}:a})},2591023465:(Q,C,e)=>{"use strict";e.d(C,{FO:()=>r,KY:()=>d,SP:()=>n,iJ:()=>a,lT:()=>s,vm:()=>o});var t=e(2140362605);const n=(0,t.Ay)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");n.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const s=(0,t.Ay)("Set the user-specified sidebar width and mode (use setInspectorColumn instead)");s.meta={name:"createAction",key:"createActionsetInspectorColumnInternal",description:"Set the user-specified sidebar width and mode (use setInspectorColumn instead)"};const r=(0,t.Ay)("Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)");r.meta={name:"createAction",key:"createActionsetIsTeamSidebarVisibleInternal",description:"Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)"};const d=(0,t.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");d.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const o=(0,t.Ay)("Sets whether or not the sidebar is currently visible when in collapsed mode");o.meta={name:"createAction",key:"createActionsetIsSidebarVisibleWhenFloating",description:"Sets whether or not the sidebar is currently visible when in collapsed mode"};const a=(0,t.Ay)("Sets whether the user prefers a responsive sidebar");a.meta={name:"createAction",key:"createActionsetUserPrefersResponsiveSidebarInternal",description:"Sets whether the user prefers a responsive sidebar"}},894072650:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3750057149),n=e(7489442332),s=e(9139930183),r=e(2591023465),d=e(9733150292);const o={persistenceEnabled:!1,storeKey:"workspaceLayout"},a={inspectorWidthIntent:null,inspectorWidthMode:n.tR.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isTeamSidebarVisible:!0,sidebarWidthIntent:null,sidebarWidthMode:n.tR.AUTO,userPrefersResponsiveSidebar:!0};try{a.sidebarWidthIntent=(0,d.W6)(n.ke)||null,a.inspectorWidthIntent=(0,d.W6)(n.j0)||null,a.sidebarWidthMode=(0,d.W6)(n.ts)||"auto",a.inspectorWidthMode=(0,d.W6)(n.mu)||"auto";const l=(0,d.W6)(n.jG);a.isSidebarVisible=(0,t.A)(l)?l:!0;const _=(0,d.W6)(n.Xg);a.isTeamSidebarVisible=(0,t.A)(_)?_:!0;const v=(0,d.W6)(n.Lb);a.userPrefersResponsiveSidebar=(0,t.A)(v)?v:!0}catch{}const m=(0,s.Ay)({},a,o).on(r.SP,(l,_)=>{let{sidebarWidthIntent:v,sidebarWidthMode:u}=_;return{...l,sidebarWidthIntent:v,sidebarWidthMode:u}}).on(r.lT,(l,_)=>{let{inspectorWidthIntent:v,inspectorWidthMode:u}=_;return{...l,inspectorWidthIntent:v,inspectorWidthMode:u}}).on(r.KY,(l,_)=>({...l,isSidebarVisible:_})).on(r.vm,(l,_)=>({...l,isSidebarVisibleWhenFloating:_})).on(r.FO,(l,_)=>({...l,isTeamSidebarVisible:_})).on(r.iJ,(l,_)=>({...l,userPrefersResponsiveSidebar:_}))},3674298388:(Q,C,e)=>{"use strict";e.d(C,{In:()=>i,Vo:()=>o,r8:()=>a,xx:()=>m});var t=e(8161242485);const n=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthIntent});n.meta={name:"createSelector",key:"createSelectorgetSidebarWidthIntent",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthIntent}};const s=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthMode});s.meta={name:"createSelector",key:"createSelectorgetSidebarWidthMode",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.sidebarWidthMode}};const r=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthIntent});r.meta={name:"createSelector",key:"createSelectorgetInspectorWidthIntent",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthIntent}};const d=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthMode});d.meta={name:"createSelector",key:"createSelectorgetInspectorWidthMode",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.inspectorWidthMode}};const o=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisible});o.meta={name:"createSelector",key:"createSelectorgetIsSidebarVisible",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisible}};const a=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisibleWhenFloating});a.meta={name:"createSelector",key:"createSelectorgetIsSidebarVisibleWhenFloating",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.isSidebarVisibleWhenFloating}};const i=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.isTeamSidebarVisible});i.meta={name:"createSelector",key:"createSelectorgetIsTeamSidebarVisible",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.isTeamSidebarVisible}};const m=(0,t.Ay)(l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.userPrefersResponsiveSidebar});m.meta={name:"createSelector",key:"createSelectorgetUserPrefersResponsiveSidebar",description:l=>{var _;return l==null||(_=l.workspaceLayout)===null||_===void 0?void 0:_.userPrefersResponsiveSidebar}}},2802517438:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(4096483543),n=e(8414867410),s=e(5084575109),r=e(4522919696),d=e(3080748521);const a=c(i=>{if((0,t.A)()){const m=(0,d.MC)(i),l=m&&m.entityId,_=(0,n.US)(l);return(0,n.l1)(i,_)?_.id:(0,s.n)(l)?Object.keys(r.F).find(v=>r.F[v]===l):l}return i&&i.workspace&&i.workspace.primaryViewId},"getPrimaryView")},9083290776:(Q,C,e)=>{"use strict";e.d(C,{Gy:()=>l,HO:()=>n,Hu:()=>o,K$:()=>a,Lo:()=>d,fw:()=>i,j0:()=>v,k0:()=>_,lH:()=>u,nG:()=>r,ne:()=>m,xW:()=>h});var t=e(2140362605);const n=(0,t.Ay)("Sets the primary view in workspace store");n.meta={name:"createAction",key:"createActionsetPrimaryViewInternal",description:"Sets the primary view in workspace store"};const s=n.getType(),r=(0,t.Ay)("Sets the secondary view in workspace store");r.meta={name:"createAction",key:"createActionsetSecondaryViewInternal",description:"Sets the secondary view in workspace store"};const d=(0,t.Ay)("Sets the flexpane origin store");d.meta={name:"createAction",key:"createActionsetFlexOriginInternal",description:"Sets the flexpane origin store"};const o=(0,t.Ay)("Sets the flexpane restore store");o.meta={name:"createAction",key:"createActionsetFlexRestoreInternal",description:"Sets the flexpane restore store"};const a=(0,t.Ay)("Sets the focused workspaces from the client-store");a.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const i=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");i.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const m=(0,t.Ay)("Sets the props we need to re-open the last flexpane");m.meta={name:"createAction",key:"createActionsetPreviousFlexpane",description:"Sets the props we need to re-open the last flexpane"};const l=(0,t.Ay)("Sets channelDetailsOpen");l.meta={name:"createAction",key:"createActionsetChannelDetailsOpen",description:"Sets channelDetailsOpen"};const _=(0,t.Ay)("Sets flexpane highlight state");_.meta={name:"createAction",key:"createActionsetFlexpaneHighlight",description:"Sets flexpane highlight state"};const v=(0,t.Ay)("Sets flexpane section currently docked");v.meta={name:"createAction",key:"createActionsetDockedFlexpaneSection",description:"Sets flexpane section currently docked"};const u=(0,t.Ay)("Add or remove from list expanded inputs");u.meta={name:"createAction",key:"createActionsetMessageInputExpanded",description:"Add or remove from list expanded inputs"};const h=(0,t.Ay)("Sets the last tab for a given channel id");h.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},1116859610:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(2101927269),n=e(8840779375),s=e(3750057149),r=e(1031947056),d=e(9536404279),o=e(4350638406),a=e(10127715),i=e(3521202413),m=e(8847766420),l=e(3110884894),_=e(8040098042),v=e(6739248722),u=e(2791814261),h=e(4587446194),f=e(796111729),p=e(9190452268),E=e(1284885799),g=e(3528815215),A=e(2689960678);const y=(0,r.Ay)("Add messages from history",(M,O,I)=>{let{msgs:D,channelId:P,isLimited:L,latest:k,oldest:G,hasMore:b,loading:W,forceUnreadCount:B,deleted:R=[]}=I;const j=O(),w=(0,p.Cy)({getState:O});(0,u.L)(j)&&w.mark("rmsgs_addMessagesFromHistory");const N=(0,t.A)(D,q=>{const H=(0,v.k)(j,{channelId:P,ts:q.ts});return H&&(0,f.Ay)({getState:O}).warn(`Filtering out ${q.ts} in ${P} history response because it was deleted`),!H}),K=L?D.filter(q=>q.is_beyond_free_limit).map(q=>q.ts):A.Ml,J=(0,n.A)(N,"ts"),Y=(0,_.A)(P)?P:(0,l.Sb)(P).channelId;Y&&(0,o.mY)((0,m.ZT)(j),Y,J),M((0,a.tT)(N)),M((0,d.VG)({channelId:P,timestamps:J,isLimited:L,blurredMessages:K,latest:k,oldest:G,hasMore:b,loading:W,forceUnreadCount:B})),(0,s.A)(W)&&M(W?(0,E.v)({channelId:P,loadingOlder:!!k}):(0,g.f)({channelId:P})),(0,u.L)(j)&&w.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),R.forEach(q=>M((0,i.j)({deleted_ts:q,channel:Y}))),N.forEach(q=>(0,h.IY)(O,M,q,q))});y.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const T=y},8243624171:(Q,C,e)=>{"use strict";e.d(C,{Fj:()=>G,Vq:()=>k});var t=e(9706240641),n=e.n(t),s=e(6422693406),r=e(1069376685),d=e(4446301238),o=e(5274604535),a=e(5373179915),i=e(8170643398),m=e(5096647761),l=e(148278831),_=e(6536982570),v=e(2023092677),u=e(5184226701),h=e(3339229351),f=e(4327331459),p=e(4862221402),E=e(1031947056),g=e(1761027239),A=e(4761125736),y=e(8276911661),T=e(3730613858);const M=c((b,W)=>W.map(B=>B.pasted&&!B.entity?{value:B.value,entity:(0,y.nv)(b,B.value)}:B),"getMemberInfoForPastedMembers"),O=c(b=>{const W=b.entity||{};return(0,f.A)(b==null?void 0:b.value)||(0,i.NB)(W)},"isAMember"),I=c(b=>{const W=b.entity||{};return(0,p.A)(b.value)||(0,v.PH)(W)},"isAUserGroup"),D={[h.IS.ALREADY_IN_CHANNEL]:!0,[h.IS.CANNOT_INVITE_SELF]:!0,[h.IS.ALREADY_IN_CHANNEL_UG]:!0},P={},L=c(b=>{let{shouldPreserve:W,teamId:B}=b;P[B]=W},"setShouldPreserveModalsOnNavigation"),k=c(b=>{let{teamId:W}=b;return P[W]},"getShouldPreserveModalsOnNavigation"),G=(0,E.Ay)("Add users and user groups to channel",function(){var b=(0,t.coroutine)(function*(W,B,R){let{selectedMembers:j,addMemberMode:w,channel:N,keepChannelHistory:K,teamId:J,shouldSkipInitialStage:Y}=R;const q={channelId:N.id,force:!0,reason:"submit-invite-channel-invite-modal"};let H,ne;if(w===r.D.AllMembers)q.inviteAll=!0,H=[],ne=[];else{const ce=M(B(),j),X=(0,o.A)(B(),N),V=(0,a.R)(B(),N);H=ce.reduce((x,S)=>{if(S&&O(S)&&S.entity){const U=S,F=(0,T.Sv)(B(),N.id,U.value);if(!F.isKnown||!F.isMember){const Z=(0,_.dQ)(U.entity),z=(0,l.S)(B(),U.entity,N);(V||(0,m.g)(U.entity)&&Z&&X.includes(Z)||z)&&x.push(U.value)}}return x},[]),q.users=H.join(","),ne=j.reduce((x,S)=>(S&&I(S)&&x.push(S.value),x),[]),q.subteams=ne.join(",")}const te=q.inviteAll||!!q.users||!!q.subteams,le=(0,A._Z)(B(),"shared_channel_invite_requested_event")==="on",he={addedExistingMembers:te,userInviteResults:H.map(ce=>({ok:!0,invitee:ce,inviteeType:u.T0.User,accessType:u.BD.Member,error:""})),groupInviteResults:ne.map(ce=>({ok:!0,invitee:ce,inviteeType:u.T0.UserGroup,accessType:u.BD.Member})),newChannelId:void 0};let Ie;try{if(K)te&&(yield W((0,d.Cw)(q)).then(ce=>{const{requested_invites:X=[]}=ce;Ie=X}),le&&(he.userInviteResults=he.userInviteResults.map(ce=>{const X=Ie.find(V=>V.user_id===ce.invitee);return{...ce,accessType:X?u.BD.SharedChannel:ce.accessType,inviteeType:X?u.T0.Email:ce.inviteeType,...le&&{isRequestedInvite:!!X}}})));else{L({shouldPreserve:!Y,teamId:J}),q.propagateInviteResult=!0;const{channel:ce}=yield W((0,g.t)(q));he.newChannelId=ce.id,L({shouldPreserve:!1,teamId:J})}}catch(ce){var Ee;L({shouldPreserve:!1,teamId:J});const X=ce==null||(Ee=ce.data)===null||Ee===void 0?void 0:Ee.errors;if(!X){var me;if(!D[ce==null||(me=ce.data)===null||me===void 0?void 0:me.error])throw ce}X==null||X.forEach(V=>{if(D[V.error])return;const x=he.userInviteResults.filter(U=>U.invitee===V.user);if(x.length)x[0].ok=!1,x[0].error=V.error;else if(j.length===1&&!V.user&&Y){var S;he.userInviteResults=[{ok:!1,invitee:(S=j[0])===null||S===void 0?void 0:S.value,inviteeType:u.T0.User,error:V.error,accessType:u.BD.Member}]}else he.userInviteResults.push({ok:!1,invitee:V.user,inviteeType:u.T0.User,error:V.error,accessType:u.BD.Member})})}return s.S.resolve(he)});return function(W,B,R){return b.apply(this,arguments)}}());G.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},8854307618:(Q,C,e)=>{"use strict";e.d(C,{r:()=>o});var t=e(1031947056),n=e(8620339321),s=e(6533394955),r=e(6695353875),d=e(4326266690);const o=(0,t.Ay)("Go back in history",(a,i)=>{const m=i();if((0,r.yZ)(m)){(0,d.ud)((0,s.getStateForClientStore)())||(0,s.dispatchForClientStore)((0,n.oX)());return}window.history.back()});o.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},7606925238:(Q,C,e)=>{"use strict";e.d(C,{h:()=>s});var t=e(1031947056),n=e(6695353875);const s=(0,t.Ay)("Go forward in history",(r,d)=>{const o=d();(0,n.yZ)(o)||window.history.forward()});s.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},8496310524:(Q,C,e)=>{"use strict";e.d(C,{I:()=>d,u:()=>r});var t=e(2689960678),n=e(7969244833),s=e(9101533895);const r=c(o=>(o==null?void 0:o.name)||"","getActionName"),d=c((o,a,i)=>{const m=!i;let l=t.Ml;if(i){const _=(0,s.OL)(o,i);l=_&&(0,n.f)(o,_)||t.Ml}return a.teams&&(l.length||m)&&!a.isWorkspaceAgnostic?m?a.teams:a.teams.filter(v=>l.includes(v)):t.Ml},"getActionRelatedWorkspaces")},8210487023:(Q,C,e)=>{"use strict";e.d(C,{HM:()=>s,Uk:()=>d,fs:()=>o,iS:()=>r});var t=e(1658558415),n=e(4096483543);const s=c(()=>(0,n.A)()||(0,t.A)(),"areAppPopoutsEnabled"),r={openAppDialog:"openAppDialog",openBlockKitModal:"openBlockKitModal"},d="initStateQuery",o="postMessageCallback"},3982416567:(Q,C,e)=>{"use strict";e.d(C,{O4:()=>r,OB:()=>o});var t=e(937317117),n=e(5597672932);const s="canvas_version_history_enabled",r=c(a=>(0,n.x)(a,s),"getCanvasVersionHistoryEnabledTeamPref"),d=c((a,i)=>{const m=(0,t.Lp)(a,i);return m?m.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),o=c((a,i)=>i?!!r(a)&&!!d(a,i):!1,"isCanvasVersionHistoryEnabled")},2063075339:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>r});var t=e(1407713935),n=e(6007206761),s=e(6113051341);const r=c((d,o)=>!(0,t.JM)(o)&&!(0,n.F)(o)&&!(0,s.N)(o),"canBeExternallyShared")},2912967402:(Q,C,e)=>{"use strict";e.d(C,{B2:()=>a,Bw:()=>h,CM:()=>v,FA:()=>m,Jr:()=>u,Kg:()=>A,QS:()=>o,Vp:()=>E,bS:()=>g,bw:()=>i,oP:()=>_});var t=e(3078252698),n=e(735940183),s=e(4724591729),r=e(796111729);const d=new n.Ay("channels"),o=250,a=250;function i(T){return(0,t.A)(T)?T.length>o:((0,s.Cu)()&&(0,r.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}c(i,"channelTopicExceedsLimit");const m="too_long",l="restricted_action",_="user_is_restricted",v="method_not_supported_for_channel_type",u="method_not_supported_for_dm";function h(T){switch(T){case m:return d.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:o});case l:case _:return d.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case v:return d.t("It\u2019s not possible to set a topic here, unfortunately.");case u:return d.t("Regrettably, direct messages do not have topics.");default:return d.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}c(h,"getChannelTopicError");const f="too_long",p="restricted_action",E="user_is_restricted",g="method_not_supported_for_channel_type",A="method_not_supported_for_dm";function y(T){switch(T){case f:return d.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:a});case p:case E:return d.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case g:return d.t("It\u2019s not possible to set a purpose here, unfortunately.");case A:return d.t("Regrettably, direct messages do not have purposes.");default:return d.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}c(y,"getChannelPurposeError")},8243083011:(Q,C,e)=>{"use strict";e.d(C,{q:()=>a});var t=e(3677514771),n=e(9101533895),s=e(1407713935),r=e(6113051341),d=e(6839188756),o=e(8040098042);const a=c((i,m)=>{if(!m||!(0,o.A)(m))return!1;const l=(0,t.H7)(i),_=(0,n.OL)(i,m),v=(0,s.JM)(_),u=(0,r.N)(_),h=(0,d.Ny)(l);return!(v||!h&&!u)},"doBroadcastKeywordPrefsApplyForChannel")},4559887502:(Q,C,e)=>{"use strict";e.d(C,{i:()=>s});var t=e(9884588328),n=e(1407713935);const s=c((r,d)=>{if((0,n.JM)(d)||!r)return!1;const o=(0,t.mG)(d),a=o?r.get(o):null;return a?(a==null?void 0:a.length)>1:!1},"doesChannelHaveNonUniqueName")},7868634217:(Q,C,e)=>{"use strict";e.d(C,{Z:()=>i,Y:()=>m});var t=e(2689960678),n=e(8701485242),s=e(8921478798),r=e(8276911661),d=e(3037015781),o=e(9262712126);function a(l,_,v){const u=!v;var h;const f=(h=(0,r.nv)(l,_,{preferNonExistentToNull:!1,fetchIfMissing:u}))!==null&&h!==void 0?h:void 0;return!f||v&&(0,d.mX)(f)?_:(0,o.wg)(f)}c(a,"getRealMemberNameById");const i=c((l,_)=>_?_.map(v=>({id:v,name:(0,s.I)(l,v)})).sort((v,u)=>(0,n.Ay)(v.name,u.name)).map(v=>v.id):t.Ml,"getAlphabeticallySortedMemberIds"),m=c((l,_)=>!_||!_.length?t.Ml:_.map(v=>({id:v,name:a(l,v)})).sort((v,u)=>(0,n.Ay)(v.name,u.name)).map(v=>v.id),"getRealNameAlphabeticallySortedMemberIds")},6045879501:(Q,C,e)=>{"use strict";e.d(C,{H:()=>t});function t(n){return n&&n.emoji}c(t,"getEmojiCollectionEmoji")},370406050:(Q,C,e)=>{"use strict";e.d(C,{M:()=>t});function t(n){return n&&n.name}c(t,"getEmojiCollectionName")},5071545805:(Q,C,e)=>{"use strict";e.d(C,{j:()=>t});function t(n){return n&&n.installed}c(t,"isEmojiCollectionInstalled")},3890290905:(Q,C,e)=>{"use strict";e.d(C,{Y:()=>t});const t=c(n=>n&&n.name,"getEmojiName")},4282439381:(Q,C,e)=>{"use strict";e.d(C,{x:()=>n});var t=e(4761125736);const n=c(s=>(0,t._Z)(s,"a11y_emoji_group")==="on","isEmojiGroupEnabled")},6247499644:(Q,C,e)=>{"use strict";e.d(C,{q:()=>t});function t(n){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(n)}c(t,"isValidEmojiName")},9362126998:(Q,C,e)=>{"use strict";e.d(C,{$R:()=>k,BM:()=>me,DC:()=>N,JC:()=>b,Jn:()=>te,Kj:()=>q,NG:()=>Ee,RI:()=>Y,UF:()=>B,Wg:()=>ne,cG:()=>K,hP:()=>w,lL:()=>he,p4:()=>ce,qh:()=>Ie,rY:()=>j,y0:()=>H,yD:()=>W});var t=e(9113979368),n=e(8840779375),s=e(1703559452),r=e(2384831516),d=e(1316483933),o=e(571104883),a=e(5795074931),i=e(9101533895),m=e(8455301571),l=e(7606781622),_=e(5597672932),v=e(8276911661),u=e(3534324375),h=e(937317117),f=e(4827886670),p=e(340763958),E=e(3110884894),g=e(8393662842),A=e(1257883628),y=e(4702704067),T=e(9884588328),M=e(9536443280),O=e(735940183),I=e(2689960678),D=e(3207321841),P=e(6946629059);const L=new O.Ay("stories_av"),k=c((X,V)=>{const x=!!V&&(0,p.ju)(V);let S=!0;return x?S=(0,_.x)(X,"allow_video_clips")&&(0,_.x)(X,"allow_video_clip_sharing_slack_connect"):S=(0,_.x)(X,"allow_video_clips"),S},"isVideoClipSharingEnabledForChannel"),G=c((X,V,x)=>{const S=(0,i.OL)(X,V),U=k(X,S);return(!V||!x&&(0,f.E)(X,V)||!!x&&(0,T.NI)(X,S))&&U},"canDestinationReceiveVideoClips"),b=c((X,V,x)=>G(X,V,x),"canPostVideoClipInDestination"),W=c((X,V,x)=>G(X,V,x)&&b(X,V,x)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),B=c((X,V)=>{const x=!!V&&(0,p.ju)(V);let S=!0;return x?S=(0,_.x)(X,"allow_audio_clips")&&(0,_.x)(X,"allow_audio_clip_sharing_slack_connect"):S=(0,_.x)(X,"allow_audio_clips"),S},"isAudioClipSharingEnabledForChannel"),R=c((X,V,x)=>{const S=(0,i.OL)(X,V),U=B(X,S);return(!V||!x&&(0,f.E)(X,V)||!!x&&(0,T.NI)(X,S))&&U},"canDestinationReceiveAudioClips"),j=c((X,V,x)=>R(X,V,x),"canPostAudioMessageInDestination"),w=c((X,V,x)=>R(X,V,x)&&j(X,V,x)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),N=c((X,V)=>{if(!te(V))return!0;const x=(0,_.x)(X,"allow_clip_downloads"),S=(0,a.WR)(X),U=(0,d.qc)(X,S);if(x==="anyone"||U)return!0;const F=V.user!==null&&V.user===S;return!!(x==="creator_and_admins"&&F)},"canDownloadClip"),K=c((X,V)=>N(X,V)||(0,o.y3)(),"canOpenClipInNewWindow"),J=(0,r.Mz)((X,V)=>{if(!V)return!1;if((0,t.A)(V.files))return I.Ml;const x=(0,n.A)(V.files,S=>(0,h.Lp)(X,S));return(0,s.A)(x,A.A)});J.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(X,V)=>{if(!V)return!1;if((0,t.A)(V.files))return I.Ml;const x=(0,n.A)(V.files,S=>(0,h.Lp)(X,S));return(0,s.A)(x,A.A)}};function Y(X){let{state:V,threadKey:x,includeAllMessages:S=!1,startTs:U}=X;const{channelId:F,threadTs:Z}=(0,E.Sb)(x),{timestamps:z,reachedStart:$,reachedEnd:ee}=(0,m.r7)(V,x,U||Z)||{},de=z!=null&&z.length&&F?z.map(ie=>(0,l.Ld)(V,F,ie)).filter(P.b):[];return{messages:S?de:de.filter(ie=>J(V,ie)),reachedStart:!!$,reachedEnd:!!ee}}c(Y,"getMediaThread");function q(X){var V;return X!=null&&X.vtt?M.D.available:(X==null||(V=X.transcription)===null||V===void 0?void 0:V.status)==="processing"?M.D.processing:M.D.none}c(q,"getCaptionsAvailability");const H=c(X=>(0,_.x)(X,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function ne(X,V){let x="";if(V.user){const U=(0,v.nv)(X,V.user);x=U?(0,u.sE)(X,U):""}let S;return x?S=(0,y.A)(V)?L.t("Audio clip from {memberName}",{memberName:x}):L.t("Video clip from {memberName}",{memberName:x}):S=(0,y.A)(V)?L.t("Audio clip"):L.t("Video clip"),S}c(ne,"getLabelForClip");function te(X){return X!=null&&X.subtype?le(X.subtype):!1}c(te,"isClip");function le(X){let{clipsSubtypes:V=D.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return V.includes(X)}c(le,"isClipsSubtype");function he(X){return X===D.iN}c(he,"isAudioClipSubtype");function Ie(X){return X&&X.some(V=>le(V.subtype))}c(Ie,"containsClip");function Ee(X){return X?X.filter(V=>le(V.subtype)):[]}c(Ee,"findClips");function me(X,V){const x=(0,a.WR)(X);return(V==null?void 0:V.user)===x}c(me,"canRemoveTranscriptPreview");function ce(X){return(0,g.pI)(X)?(X==null?void 0:X.aac)||(X==null?void 0:X.url_private):(X==null?void 0:X.mp4)||(X==null?void 0:X.url_private)}c(ce,"getMediaSrc")},7747467459:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3037015781);function n(s){return(0,t.mX)(s)}c(n,"isFileUnknown")},102566929:(Q,C,e)=>{"use strict";e.d(C,{Fh:()=>m,Iz:()=>i,gC:()=>a});var t=e(8161242485),n=e(937317117),s=e(497761763),r=e(6078549397),d=e(2823938397);const o=(0,t.Ay)((l,_)=>{const{fileIdOrQuipThreadId:v}=(0,r.EX)(_);if((0,s.A)(v)){var u;return(u=(0,n.Lp)(l,v))!==null&&u!==void 0?u:null}return null});o.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(l,_)=>{const{fileIdOrQuipThreadId:v}=(0,r.EX)(_);if((0,s.A)(v)){var u;return(u=(0,n.Lp)(l,v))!==null&&u!==void 0?u:null}return null}};const a=(0,t.Ay)((l,_)=>{const v=o(l,_);return v&&(0,d.uz)(v)?v:null});a.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(l,_)=>{const v=o(l,_);return v&&(0,d.uz)(v)?v:null}};function i(l){return l.linked_channel_id}c(i,"getLinkedChannelId");function m(l){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(l)}c(m,"isSampleCanvas")},7148679525:(Q,C,e)=>{"use strict";e.d(C,{eY:()=>I,QX:()=>L,dL:()=>D,oG:()=>k,Lz:()=>P,L7:()=>j,J5:()=>R,XH:()=>G,nY:()=>b});var t=e(2837660778),n=e(1340402138),s=e(7969244833),r=e(3792998666),d=e(8323393403),o=e(6839188756),a=e(9950739645),i=e(7112191091),m=e(6693783993),l=e(4761125736),_=e(9951956014),v=e(8289365785);function u(w){return w&&{...w,type:(0,v.A)(w==null?void 0:w.type)==="owner"?["org_admin"]:["admin"]}}c(u,"mapToWhoCanStyle");function h(w,N){return(0,_.g)(w,"who_can_manage_guests",[N],u)}c(h,"canUserDoManageGuestsTeamPrefForTeamId");const f={mapToWhoCanStyle:u};var p=e(5795074931);const E=c((w,N)=>{if((0,l._Z)(w,"light_read_who_can_manage_guests_pref_migration")==="on"){const J=(0,p.TZ)(w);return N&&J?(0,m.l0)(w).includes(N.id):(0,m.mZ)(w)}return N?(0,o.r7)(N)?h(w,N.id)||!1:(0,i.Me)(w,N.id):!1},"canUserInviteGuests");var g=e(5184226701),A=e(504058561),y=e(9101533895),T=e(8276911661),M=e(5597672932),O=e(3677514771);function I(w){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const K=(0,T.cA)(w),J=N??(0,O.H7)(w);if(!J)return!1;const Y=(0,i.Me)(w,J.id),q=(0,m.tx)(w,{teamOrEnterpriseIds:[J.id]});return Y||q?!0:(0,r.P)(K)?!1:(0,M.x)(w,"invites_only_admins",N==null?void 0:N.id)?E(w,J):!0}c(I,"canUserInviteMembersToWorkspace");function D(w,N,K){const J=N||(0,T.cA)(w),Y=K||(0,O.H7)(w);return!(!Y&&!Y||(0,r.P)(J)||!(0,M.x)(w,"invite_requests_enabled",Y.id))}c(D,"canUserRequestToInvite");function P(w){const N=(0,T.cA)(w),K=(0,O.H7)(w);return!K||(0,n.R)(w)?!1:(0,o.r7)(K)?!!(0,t.Mo)(w).filter(Y=>D(w,N,Y)||I(w,Y)).length:!!(D(w,N,K)||I(w))}c(P,"canUserSeeInviteModal");function L(w,N){const K=(0,O.H7)(w);if(!K)return!1;const J=(0,y.OL)(w,N),Y=(0,o.tc)(K),q=(0,o.r7)(K),H=(0,d.D7)(w,N),ne=q?!b(w,J):P(w);return Y&&ne||!Y&&(ne||H)}c(L,"canUserInviteToChannelByEmail");function k(w,N){const K=(0,T.cA)(w),J=N?(0,O._J)(w,N):(0,O.H7)(w);return!J||(0,o.tc)(J)?!1:D(w,K,J)?!0:E(w,J)}c(k,"canUserSeeAccountTypeOptions");function G(w,N){let{ignoreGuestSettings:K}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const J=(0,T.cA)(w),Y=N?(0,O._J)(w,N):(0,O.H7)(w);if(!(0,o.r7)(Y))return!1;const q=(0,i.Me)(w,Y.id),H=(0,m.tx)(w,{teamOrEnterpriseIds:[Y.id]});return q||H||!(0,M.x)(w,"invites_only_admins",Y.id)||D(w,J,Y)?!1:K?!0:E(w,Y)}c(G,"shouldDisableFullMemberInviteOption");function b(w,N){const K=(0,s.f)(w,N);return!!(K!=null&&K.every(J=>G(w,J,{ignoreGuestSettings:!0})))}c(b,"shouldDisableFullMemberInviteOptionForChannel");function W(w){let{state:N,team:K,inviteType:J}=w,Y=K;if(!K&&(Y=getCurrentTeam(N),!Y))return!1;const q=getTeamPref(N,"auth_mode"),H=q==="google"||q==="saml";return isEnterpriseOrEnterpriseWorkspace(Y)&&J===AccessType.Member||H&&getTeamPref(N,"sso_auth_restrictions")===0}c(W,"shouldShowSsoAlert");function B(w){let{state:N,inviteType:K}=w;const J=getTeamPref(N,"auth_mode"),Y=getTeamPref(N,"sso_auth_restrictions");return J==="google"?K===AccessType.Member&&(Y===0||Y===1)||(K===AccessType.MultiChannelGuest||K===AccessType.SingleChannelGuest)&&Y===0:!1}c(B,"shouldShowGoogleDomainsNotice");function R(w){let{state:N,inviteType:K,team:J}=w;if(!K||!(0,g.LX)(K))throw new Error(`Invalid invite type: ${K}`);const Y=J||(0,O.H7)(N);if(!Y||(0,a.N)(J))return!1;const q=(0,M.x)(N,"invites_only_admins",Y==null?void 0:Y.id),H=(0,i.Me)(N,Y.id),ne=(0,m.tx)(N,{teamOrEnterpriseIds:[Y.id]}),te=E(N,Y);switch(K){case g.BD.Member:return H||ne?!1:!!q;case g.BD.MultiChannelGuest:case g.BD.SingleChannelGuest:return!te;default:return!0}}c(R,"isRequestingInvitesForType");function j(w){let{state:N}=w;const K=(0,O.H7)(N);return(0,A.z$)()?!0:(0,o.r7)(K)?!!(0,M.x)(N,"hide_gsuite_invite_option"):!1}c(j,"isGoogleDirectoryDisabled")},9438480351:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(9101533895),n=e(9884588328);function s(r,d){const o=(0,t.Pu)(r,d&&d.id);return o?(0,n.$M)(o):null}c(s,"getImUnreadCountByMember")},9541658228:(Q,C,e)=>{"use strict";e.d(C,{P:()=>o});var t=e(2003990933),n=e(5096647761),s=e(8847766420),r=e(6536982570),d=e(8170643398);function o(a,i){if(!a||!i||(0,n.g)(i))return!1;const m=(0,r.QI)(i);return(0,d.dk)(i)&&(m===(0,s.jV)(a)||m===(0,t.A)(i,"enterprise_user.enterprise_id"))}c(o,"isMemberFromOrg")},148278831:(Q,C,e)=>{"use strict";e.d(C,{S:()=>i});var t=e(918457931),n=e(2298581483),s=e(6536982570),r=e(5096647761),d=e(2003903489),o=e(9541658228),a=e(893266994);const i=c((m,l,_)=>{if((0,r.g)(l))return!1;if((0,o.P)(m,l)){if((0,d.S)(_))return!0;if((0,t.t)(_))return(0,n.R)(m,_).some(h=>(0,s.nO)(l,h))}const v=(0,a.c)(_);return(0,s.nO)(l,v)},"isMemberOnSomeChannelWorkspace")},863407566:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(8455301571),n=e(2155512519),s=e(7606781622),r=e(3730613858),d=e(5795074931),o=e(8276911661),a=e(8170643398),i=e(4562579337),m=e(7334104107),l=e(9187449049),_=e(7616363684),v=e(1794107122),u=e(9290914927),h=e(1809170903);const f=23;function p(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,n.UL)(),A),T=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(E,g))return[];const M=(0,t.r7)(E,g);if(!M||!M.timestamps)return[];const O=(0,s.h8)(E,g),I=M.timestamps.slice(-y),D=(0,d.WR)(E);let P=[],L=[],k=!1;const G=[],b=[],W=[],B=[],R=[],j=[];let w=!1;for(let K=I.length-1;K>=0;K--){const J=O[I[K]],Y=(0,m.Hr)(J);if(!Y)continue;if(T&&Y===D){w=!0;continue}if(!(T?G.includes(Y)||W.includes(Y)||R.includes(Y):P.includes(Y))&&!(0,_.A)(J)&&(0,l.A)(J,D)){const H=(0,r.Sv)(E,g,Y),ne=(0,o.nv)(E,Y);if(k||(k=!(H!=null&&H.isKnown)||(0,a.t8)(ne)),!k&&(H!=null&&H.isKnown)&&(H!=null&&H.isMember)&&!(0,i.A)(ne)&&!(0,a.oy)(ne)){if(T){if((0,u.gd)(E,Y)==="active"?(0,h.Vd)(E,Y)?(W.push(Y),B.push(ne)):(G.push(Y),b.push(ne)):(R.push(Y),j.push(ne)),b.length===A||W.length+j.length===f-A)break}else if(P.push(Y),L.push(ne),L.length===A)break}}}if(k)return[];if(T&&(b.length===A?(L=b,P=G):(L=b.concat(B.slice(0,A-b.length)),P=G.concat(W.slice(0,A-R.length)),L.length<A&&(L=L.concat(j.slice(0,A-b.length)),P=P.concat(R.slice(0,A-R.length))))),L.length>=A)return L;const N=(0,v.$)(E,g);if(!N.length)return[];for(let K=0;K<N.length;K++){const J=N[K];if(J&&!P.includes(J)&&(T&&J===D?w=!0:(P.push(J),L.push((0,o.nv)(E,J)))),L.length===A)break}return L.length===0&&w&&(P.push(D),L.push((0,o.nv)(E,D))),L}c(p,"getLastNRelevantMembersInChannel")},1198382523:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3078252698),n=e(8289365785),s=e(4138249182),r=e(8393662842);function d(o,a){if(!o)return"";let i="";if(o&&o.subtype!=="tombstone"){i=(0,t.A)(o.text)?o.text:"";const m=(0,n.A)(o.attachments);if(m&&m.is_msg_unfurl&&(!i||(0,s.A)(o))){const l=typeof m.original_url=="string"?m.original_url:"";i=m.text||l||""}}if(!i&&a&&!(a!=null&&a.isNonExistent)){const m=(0,r.SB)(a);m&&(i=m)}return i}c(d,"getMessageRootText")},7980641:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(2003990933),n=e(8289365785),s=e(937317117),r=e(8276911661),d=e(3339229351),o=e(9464746668),a=e(8677230210),i=e(8393662842),m=e(7334104107),l=e(9101533895),_=e(9548972574),v=e(1407713935),u=e(6470070112),h=e(735940183),f=e(9373230523);const p=new h.Ay("huddles"),g=c(j=>{let{msg:w,state:N,roomId:K}=j;var J;const Y=(0,l.OL)(N,w.channel),q=(0,v.LI)(Y),H=(0,v.yz)(Y)||q;let ne=p.t("Huddles");const te=(0,u.Vh)({state:N,roomId:K}),le=(0,_.E$)(N,K),he=(0,u.Qw)(N,K),Ie=(0,_.xx)(N,K),Ee=(0,_._5)(N,K),me=(0,_.l)(N,K),ce=Ee.length+me.length,X=(J=(0,_.Ej)(N,K))===null||J===void 0?void 0:J.trim();if(te&&!le)if(X){var V;ne=(V=p.rt("{huddleTopic} is happening",{huddleTopic:X}).props)===null||V===void 0?void 0:V.children}else if(!H||ce===0)ne=p.t("A huddle is happening");else{const F=Ee.slice(0,2),Z=me.slice(0,2);let z,$;F.forEach(ee=>{z?$||($=(0,f.A)(N,ee)):z=(0,f.A)(N,ee)}),Z.forEach(ee=>{z?$||($=ee):z=ee}),ne=p.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:ce-1,firstParticipant:z,secondParticipant:$})}if(te&&le)if(X){var x;ne=(x=p.rt("You joined {huddleTopic}",{huddleTopic:X}).props)===null||x===void 0?void 0:x.children}else ne=p.t("You joined the huddle");if(!te)if(he)ne=p.t("You missed a huddle");else if(X&&Ie.length){var S;ne=(S=p.rt("{huddleTopic} happened",{huddleTopic:X}).props)===null||S===void 0?void 0:S.children}else if(X&&!Ie.length){var U;ne=(U=p.rt("{huddleTopic} happened, but no one joined",{huddleTopic:X}).props)===null||U===void 0?void 0:U.children}else ne=p.t("A huddle happened");return ne},"HuddleMessageUserName");var A=e(5332875232),y=e(5795074931);const T=new h.Ay("huddles"),O=c(j=>{let{schedule:w,state:N}=j;var K;if(!(0,A.MJ)(N)||!w)return null;const q=(0,y.WR)(N)===w.inviter_user_id;var H;const ne=(0,f.A)(N,(H=w.inviter_user_id)!==null&&H!==void 0?H:""),te=T.rt("You scheduled a huddle"),le=T.rt("{memberName} scheduled a huddle",{memberName:ne});let he=q?te:le;const Ie=w.topic;if(Ie){const Ee=T.rt("You scheduled {huddleTopic}",{huddleTopic:Ie}),me=T.rt("{memberName} scheduled {huddleTopic}",{memberName:ne,huddleTopic:Ie});he=q?Ee:me}return(K=he.props)===null||K===void 0?void 0:K.children},"ScheduledHuddleUserName"),I=new h.Ay("huddles"),P=c(j=>{let{schedule:w,state:N}=j;if(!(0,A.MJ)(N))return"";let J=I.t("A scheduled huddle is canceled");const Y=w==null?void 0:w.topic;return Y&&(J=I.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:Y})),J},"DeleteScheduledHuddleUserName");var L=e(7274827479),k=e(9280052135),G=e(6457401668),b=e(7606781622);const W=new h.Ay("assistant"),B=new h.Ay("huddles");function R(j,w,N){let K=w.user||(0,t.A)(w,"comment.user");const J=w.document_comment;J&&(J.most_recent_editor?K=J.most_recent_editor:J.authors&&J.authors.length>0&&(K=J.authors[0]));const Y=w.username;let q=null;const H=w.file||(0,n.A)(w.files),ne=N||(H?(0,s.Lp)(j,H):null);let te=w.bot_id||ne&&ne.bot_id;if(!te){const U=(0,r.nv)(j,K);var le;te=(le=(0,o.A)(j,U))!==null&&le!==void 0?le:void 0}let he=null;te&&(q=(0,a.AF)(j,te),he=q?q.app_id:null);const Ie=(0,k.l)(j),Ee=(0,L.In)(j);if((0,m.mb)(w))return{username:g({msg:w,state:j,roomId:w.room_id}),isHuddleMsg:!0,huddleActivityStatus:(0,u.K8)(j,w.room_id)};if(Ee&&(w==null?void 0:w.subtype)==="ai"){var me,ce,X;const U=B.t("AI huddle notes are ready");return{username:(w==null||(me=w.ai_context)===null||me===void 0?void 0:me.result_status)==="complete"&&(w==null||(ce=w.ai_context)===null||ce===void 0||(X=ce.summary)===null||X===void 0?void 0:X.type)==="huddle"?U:W.t("Slack AI"),isHuddleMsg:!0}}if(Ie&&(0,G.qZ)(w))return{username:"Assistant",isAssistantThread:!0};if(Ie&&(w!=null&&w.thread_ts)&&(w==null?void 0:w.user)==="USLACKBOT"&&(0,G.qZ)((0,b.Ld)(j,w==null?void 0:w.channel,w==null?void 0:w.thread_ts)))return{username:"Assistant",isAssistantThread:!0};if((0,m.zv)(w)){const U=(0,A.MJ)(j);var V;const F=(V=w.schedule)!==null&&V!==void 0?V:null;return{username:U?O({schedule:F,state:j}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if((0,m.GO)(w)){const U=(0,A.MJ)(j);var x;const F=(x=w.schedule)!==null&&x!==void 0?x:null;return{username:U?P({schedule:F,state:j}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if((0,m.aH)(w)){var S;return{userId:(S=w.list_edit)===null||S===void 0?void 0:S.created_by,isListEditMsg:!0}}return(0,G.cb)(w)?{username:"Canvas updated"}:(0,G.Ni)(w)?{username:"Canvas tab updated"}:K===d.Q$&&ne&&ne.bot_id?ne.filetype==="email"&&q&&q.name?{...(0,i.xR)(ne),botId:te,appId:he}:{...(0,i.xR)(ne),username:Y||ne.username,botId:te,appId:he}:K?{appId:he,botId:te,userId:K}:{appId:he,botId:te,username:Y}}c(R,"getMsgSenderEntity")},4138249182:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(675958705),n=e(8289365785),s=e(9802930866),r=e(8389327410);function d(o){const a=(0,n.A)(o.attachments);if(!a||!a.is_msg_unfurl)return!1;const i=a.from_url;if((0,t.A)(o)){const m=(0,n.A)(o.blocks);if(!m||!m.elements)return!1;const l=(0,s.A)(m.elements,{hasMsgLink:!1,hasOtherContent:!1},(_,v)=>v.type===r.Lv.LINK&&v.url===i&&(!v.text||v.text===i)?{..._,hasMsgLink:!0}:{..._,hasOtherContent:!0});return l.length===1&&l[0].hasMsgLink&&!l[0].hasOtherContent}return!o.text||o.text===`<${i}>`}c(d,"isSimpleMessageUnfurl")},7616363684:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(7334104107),n=e(3339229351);function s(r){return(0,t.Hr)(r)===n.Q$}c(s,"isSlackbotMessage")},1521013946:(Q,C,e)=>{"use strict";e.d(C,{$N:()=>T,Tg:()=>O,WJ:()=>I,Wm:()=>A,XN:()=>M,im:()=>E});var t=e(362134992),n=e(9101533895),s=e(3677514771),r=e(9022734571),d=e(4204210053),o=e(8234448831),a=e(497761763),i=e(4327331459),m=e(1233969417),l=e(110305600),_=e(8040098042),v=e(6212362990),u=e(462591818),h=e(6188550760),f=e(8959118205),p=e(311893736),E;(function(D){D.MESSAGE="message",D.FILE="file",D.MEMBER="member",D.ROOM="room",D.FREE_WILLY="free-willy",D.QUIP="quip",D.SEARCH="search",D.SLACKHELP="slackhelp",D.SHORTCUT_LINK_TRIGGER="shortcuts",D.HUDDLE="huddle",D.LIST="list",D.CHANNEL_CANVAS="canvas",D.ORG_CHART="org_chart",D.WIDGETS="widgets",D.CREATE="create"})(E||(E={}));function g(D,P){if(!P)return null;const L=!1;return(0,n.OL)(D,P,L)||(0,n.Pu)(D,P.replace(/^@/,""))||(0,n.Os)(D,P)}c(g,"findChannelByIdentifier");function A(D){switch(D){case"archives":case"messages":case"conversation":return E.MESSAGE;case"file":case"files":return E.FILE;case"team":return E.MEMBER;case"calls":return E.ROOM;case"free-willy":return E.FREE_WILLY;case"docs":return E.QUIP;case"search":return E.SEARCH;case"slackhelp":return E.SLACKHELP;case"shortcuts":return E.SHORTCUT_LINK_TRIGGER;case"huddle":return E.HUDDLE;case"lists":return E.LIST;case"canvas":return E.CHANNEL_CANVAS;case"org_chart":return E.ORG_CHART;case"widgets":return E.WIDGETS;case"create":return E.CREATE;default:return null}}c(A,"getPermalinkType");function y(D,P,L,k){const G=(0,t.A)(P.split("/")),b=A(G[0]);switch(b){case E.CREATE:{if(G.length<=2)return null;const q=G[1];return q==="channel"?{type:b,id:G[2],entity:q}:null}case E.MESSAGE:{var W;const q=G[1],H=g(D,q),ne=H&&H.id||q;if(!ne)return null;if(G[2]==="tabs"){var B;return{type:b,channelId:ne,tabId:(B=G[3])===null||B===void 0?void 0:B.toString()}}const te=(0,r.nT)(L),le=(0,v.A)(G[2]),he=(0,v.A)((W=te.thread_ts)===null||W===void 0?void 0:W.toString());return{type:b,channelId:ne,ts:le,threadTs:he}}case E.HUDDLE:{if(!G[1])return null;let q=null,H;if((0,_.A)(G[1])?q=G[1]:(0,_.A)(G[2])&&(H=G[1],q=G[2]),q){const ne=g(D,q),te=ne&&ne.id||q;return te?{type:b,channelId:te,teamId:H}:null}return(0,u.bU)(G[1])?{type:b,roomId:G[1]}:null}case E.FILE:{const q=G[2];return(0,a.A)(q)?{type:b,fileId:q}:null}case E.MEMBER:{const q=G[1];return(0,i.A)(q)?{type:b,memberId:q}:null}case E.ROOM:{const q=G[1];if(q&&(0,u.bU)(q))return{type:b,roomId:q};const H=G.length>2?G[2]:null;return H&&(0,u.cd)(H)?{type:b,callId:H,channelId:G[1]}:H&&(0,u.bU)(H)?{type:b,roomId:H,teamId:G[1]}:null}case E.FREE_WILLY:{const q=G[2];return q&&(0,u.cd)(q)?{type:b,callId:q,channelId:G[1]}:q&&(0,u.bU)(q)?{type:b,roomId:q,teamId:G[1]}:null}case E.QUIP:{const q=G[1],H=G[2];if(H&&(0,a.A)(H)&&k!=="app"){var R,j;const ne=(0,r.nT)(L),te=(0,v.A)((R=ne.focus_thread_ts)===null||R===void 0?void 0:R.toString())||"";return{type:b,fileId:H,teamId:q,focusThreadTs:te,focusSectionId:((j=ne.focus_section_id)===null||j===void 0?void 0:j.toString())||""}}return null}case E.LIST:{const q=G[2];if(q&&(0,a.A)(q)){var w,N,K;const H=(0,r.nT)(L),ne=(0,v.A)((w=H.focus_thread_ts)===null||w===void 0?void 0:w.toString())||"";return{type:b,fileId:q,recordId:((N=H.record_id)===null||N===void 0?void 0:N.toString())||"",viewId:((K=H.view_id)===null||K===void 0?void 0:K.toString())||"",focusThreadTs:ne}}return null}case E.SEARCH:{const q=G[1];return{type:b,encodedSearchString:q}}case E.SLACKHELP:{if(G.length>=2){if((0,m.A)(G[2]))return{type:b,articleId:G[2]};if(G[1]==="whats_new")return{type:b,articleId:"whats_new"}}return{type:b}}case E.SHORTCUT_LINK_TRIGGER:return(0,l.A)(G[1])?{type:b,triggerId:G[1]}:null;case E.CHANNEL_CANVAS:{var J,Y;const q=G[1],H=g(D,q),ne=H&&H.id||q;if(!ne)return null;const te={type:b,channelId:ne},le=(0,r.nT)(L),he=(J=le.focus_section_id)===null||J===void 0?void 0:J.toString(),Ie=(Y=le.last_read_ts)===null||Y===void 0?void 0:Y.toString();if(he&&(te.focusSectionId=he),Ie){const Ee=Ie.length<13?1e3:1;te.lastReadTs=Number(Ie)*Ee}return te}case E.ORG_CHART:{const q=G[1];return(0,i.A)(q)?{type:b,memberId:q}:null}case E.WIDGETS:return{type:b,widgetId:G[1]};default:return null}}c(y,"getPermalinkParams");function T(D,P){if(!P)return null;const L=(0,o.Ay)(P);return M(D,L)}c(T,"parsePermalink");function M(D,P){const{hostname:L,pathname:k,search:G}=P;if(!L||!k||!(0,d.A)(L))return null;let b;L!=="slack.com"&&(b=L.split(".")[0]);const W=y(D,k,G,b);return W?{subdomain:b,...W}:null}c(M,"parsePermalinkFromParsedUrl");function O(D,P){const L={channel:null,team:null};if(!D||!P)return L;const k=T(D,P);if(!k)return L;const{subdomain:G,channelId:b}=k,W=(0,n.OL)(D,b),B=(0,s.lL)(D,G);return{channel:W,team:B}}c(O,"getTeamAndChannelFromPermalink");function I(D,P){const L=(0,p.A)(D,P.subdomain);if(L)switch(P.type){case E.FILE:if(P.channelId&&P.fileId)return(0,h.M5)(f.De,{teamId:L,entityId:P.channelId,fileId:P.fileId});break;case E.MEMBER:if(P.channelId&&P.memberId)return P.ts?(0,h.M5)(f.Q$,{teamId:L,entityId:P.channelId,memberId:P.memberId,timestamp:P.ts}):(0,h.M5)(f.Q$,{teamId:L,entityId:P.channelId,memberId:P.memberId});break;case E.MESSAGE:if(P.channelId)return P.ts&&P.threadTs?(0,h.M5)(f.lM,{teamId:L,entityId:P.channelId,threadId:`${P.channelId}-${P.threadTs}`,replyTs:P.threadTs}):P.ts?(0,h.M5)(f._G,{teamId:L,entityId:P.channelId,timestamp:P.ts}):(0,h.M5)(f._G,{teamId:L,entityId:P.channelId});break;default:}}c(I,"getSonicUrlForPermalink")},9951956014:(Q,C,e)=>{"use strict";e.d(C,{L:()=>m,g:()=>a});var t=e(9507365519),n=e(1328783052),s=e(8847766420),r=e(7969244833),d=e(9101533895),o=e(497537177);const a=c((l,_,v,u)=>{if((0,o.X)(l))return!0;const h=(0,t.p)(l,_,v);return Object.entries(h).map(f=>{let[p,E]=f;return[p,u(E)]}).some(f=>{let[p,E]=f;return(0,n.Ic)(l,E,p)})},"canUserDoCustomTeamPrefForTeamIds"),i=c((l,_,v,u)=>{if(!v)return!1;const h=(0,r.f)(l,v);return h?a(l,_,h,u):!1},"canUserDoCustomTeamPrefForChannel"),m=c(l=>({getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:(_,v)=>(0,s.VO)(_).filter(h=>a(_,v,[h],l)),canUserDoCustomTeamPrefInSomeWorkspace:(_,v)=>{const u=(0,s.VO)(_);return a(_,v,u,l)},canUserDoCustomTeamPrefForChannel:(_,v,u)=>i(_,v,u,l),canUserDoCustomTeamPrefForChannelById:(_,v,u)=>{const h=(0,d.OL)(_,u);return i(_,v,h,l)}}),"createUserCanDoCustomTeamPrefRules")},5169892262:(Q,C,e)=>{"use strict";e.d(C,{Cr:()=>d,DH:()=>r});var t=e(9951956014),n=e(1328783052);const s=c(i=>i?n.eT.ADMIN:n.eT.RA,"mapOnlyAdminToWhoCanStyle"),{getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:r,canUserDoCustomTeamPrefInSomeWorkspace:d,canUserDoCustomTeamPrefForChannel:o,canUserDoCustomTeamPrefForChannelById:a}=(0,t.L)(s)},3769619294:(Q,C,e)=>{"use strict";e.d(C,{V:()=>d,X:()=>r});var t=e(9101533895),n=e(7969244833),s=e(1328783052);const r=c((o,a,i)=>{if(!i)return!1;const m=(0,n.f)(o,i);return m?(0,s.TE)(o,a,m):!1},"canUserDoTeamPrefForChannel"),d=c((o,a,i)=>{const m=(0,t.OL)(o,i);return r(o,a,m)},"canUserDoTeamPrefForChannelById")},3683888369:(Q,C,e)=>{"use strict";e.d(C,{l:()=>r});var t=e(1552255081),n=e(6839188756),s=e(3677514771);const r=c(d=>(0,t.F)(d)&&!(0,n.tc)((0,s.H7)(d)),"teamCanCreateStandaloneCanvas")},5757070316:(Q,C,e)=>{"use strict";e.d(C,{J:()=>s});var t=e(78546762),n=e(1802262330);const s=c((r,d)=>{var o,a;let i,m,l;r&&(r.subtype==="file_comment"?[m,i]=["file_comment",r.comment]:(0,t.A)(r.subtype)?[m,i]=["file",d]:[m,i,l]=["message",r,r.channel]);const _=m==="message"?(o=i)===null||o===void 0?void 0:o.ts:(a=i)===null||a===void 0?void 0:a.id;return i&&(i._rxn_key||(0,n.B)(m,_,l))},"getReactionKey")},9001455011:(Q,C,e)=>{"use strict";e.d(C,{t:()=>s});var t=e(8161242485),n=e(9889493721);const s=(0,t.Ay)(r=>!((0,n.Bf)(r)||!(0,n.pr)(r)));s.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:r=>!((0,n.Bf)(r)||!(0,n.pr)(r))}},2585735826:(Q,C,e)=>{"use strict";e.d(C,{R:()=>m});var t=e(3677514771),n=e(1407713935),s=e(340763958),r=e(6113051341);const d=c((l,_)=>!(0,n.JM)(_)&&(0,s.ju)(_)&&!(0,r.N)(_),"canBeDisconnected");var o=e(1359849784),a=e(6839188756),i=e(6025726268);function m(l,_){if(_&&!d(l,_))return!1;if(_&&(0,i.M)(l,_))return!0;const v=(0,t.H7)(l);return(0,a.tc)(v)?!0:(0,o.I)(l,_)}c(m,"canUserDisconnectExternalSharedChannel")},4803097854:(Q,C,e)=>{"use strict";e.d(C,{RY:()=>m,cG:()=>d,l6:()=>i});var t=e(7358758030),n=e(1650729052),s=e(5861086925),r=e(6841796315);const d={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},o={ok:!1,reason:d.CanCreateExternalLimitedPref},a={ok:!1,reason:d.WhoCanCreateExternalLimitedPref},i=c(l=>{if(!(0,t.i)(l))return o;const v=s.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,n.y)(l,v)?r.O:a},"canUserInviteExternalLimitedMembersWithReason"),m=c(l=>i(l).ok,"canUserInviteExternalLimitedMembers")},8323393403:(Q,C,e)=>{"use strict";e.d(C,{D7:()=>A,JO:()=>p,NU:()=>g,wi:()=>_});var t=e(6027162153),n=e(9101533895),s=e(3677514771),r=e(2063075339),d=e(7969244833),o=e(1407713935),a=e(5455782105),i=e(3916100664),m=e(6839188756),l=e(6841796315);const _={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},v={ok:!1,reason:_.InvalidParams},u={ok:!1,reason:_.FreeTeam},h={ok:!1,reason:_.CannotRequest},f={ok:!1,reason:_.InvalidChannel},p=c((y,T)=>{if(!(0,o.jq)(T))return v;const M=(0,a.k)(y),O=(0,m.qR)((0,s.H7)(y));if(!M&&!O)return u;const D=(0,i.lR)(y,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,d.f)(y,T)});return!(D!=null&&D.ok)&&(0,t.A)(D==null?void 0:D.reasons,i.jM.UserCannotCreateChannel,i.jM.AllowedWorkspacePref).length>0?h:(0,r.Z)(y,T)?l.O:f},"canUserInviteExternalMembersToChannelWithReason"),E=c((y,T)=>{const O=(0,n.OL)(y,T,!1);return O?p(y,O):v},"canUserInviteExternalMembersToChannelWithReasonById"),g=c((y,T)=>p(y,T).ok,"canUserInviteExternalMembersToChannel"),A=c((y,T)=>E(y,T).ok,"canUserInviteExternalMembersToChannelById")},3916100664:(Q,C,e)=>{"use strict";e.d(C,{jM:()=>A,Tc:()=>T,lR:()=>y});var t=e(8847766420),n=e(3677514771),s=e(5455782105),r=e(3559837422),d=e(4803097854),o=e(2643151579),a=e(9087248458),i=e(5980399196),m=e(8359728598),l=e(3071940241),_=e(4761125736);const v=(0,m.A)((M,O)=>{const{teams:I,value:D}=O;switch(D){case"ONLY_SELECTED":return(0,a.A)(M,I).length===M.length;case"ALL_EXCEPT_SELECTED":return(0,i.A)(M,I).length===M.length;default:return!0}},2);function u(M){let{slackConnectAllowedWorkspacesPref:O,teamIds:I}=M;return I!=null&&I.length?v(I,O):!1}c(u,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function h(M,O){return!(0,s.k)(M)||(0,_._Z)(M,"sc_allowed_workspaces_pref_override")==="on"?!0:u({slackConnectAllowedWorkspacesPref:(0,l.a)(M),teamIds:O})}c(h,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var f=e(6992769897),p=e(1507833885),E=e(6839188756);const g={ok:!0},A={...d.cG,...o.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},y=c(function(M){let{mustEveryWorkspaceBeAllowed:O,teamIds:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const D=[],P=(0,n.H7)(M),L=(0,s.k)(M),k=(0,E.qR)(P),G=!L&&!k;if((0,r.AB)(M)||(0,r.sV)(M))return D.push(A.UserIsRestricted),{ok:!1,reasons:D};var b;const W=(b=I??(0,t.kN)(M))!==null&&b!==void 0?b:[];(O?p._t:p.Uq)(M,W)||D.push(A.UserCannotCreateChannel),(O?h:f.A)(M,W)||D.push(A.AllowedWorkspacePref),G&&D.push(A.FreeTeam);const j=(0,d.l6)(M),w=(0,o._d)(M);return!j.ok&&!w.ok&&D.push(j.reason,w.reason),D.length>0?{ok:!!G,reasons:D}:g},"canUserInviteExternalMembersWithReason"),T=c((M,O)=>y(M,O).ok,"canUserInviteExternalMembers")},2643151579:(Q,C,e)=>{"use strict";e.d(C,{Xg:()=>d,_d:()=>i,ml:()=>m});var t=e(5225510813),n=e(1650729052),s=e(5861086925),r=e(6841796315);const d={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},o={ok:!1,reason:d.CanCreateExternalUnlimitedPref},a={ok:!1,reason:d.WhoCanCreateExternalUnlimitedPref},i=c(l=>{if(!(0,t.C)(l))return o;const v=s.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,n.y)(l,v)?r.O:a},"canUserInviteExternalUnlimitedMembersWithReason"),m=c(l=>i(l).ok,"canUserInviteExternalUnlimitedMembers")},1359849784:(Q,C,e)=>{"use strict";e.d(C,{I:()=>A,r:()=>g});var t=e(4761125736),n=e(8276911661),s=e(6693783993),r=e(3677514771),d=e(598369692),o=e(9884588328),a=e(1407713935),i=e(5455782105),m=e(7224980887),l=e(3792998666),_=e(5861086925),v=e(5331698805),u=e(6839188756),h=e(7112191091),f=e(5510392579),p=e(7174777686),E=e(9087248458);function g(y){const T=(0,t._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",M=(0,r.H7)(y);if(T)return(0,u.tc)(M)?!1:(0,s.Du)(y);const O=(0,n.cA)(y),I=(0,v.u)(y);if(!(I!=null&&I.value))return!1;if((0,i.k)(y)){let D=[];switch(I.value){case _.GX.ALL_ADMINS_AND_OWNERS:return(0,h.EC)(y)||(0,m.n5)(O)||(0,m.rr)(O);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,m.n5)(O)||(0,m.rr)(O)?!0:(D=(0,d.QF)(y),!!((0,p.A)(I.users,O==null?void 0:O.id)||(0,E.A)(I.userGroups,D).length));case _.GX.EVERYONE:return!(0,l.Ez)(O);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,m.n5)(O)||(0,m.rr)(O)}}if((0,u.qR)(M))switch(I.value){case _.GX.TOPLEVEL_OWNERS:return(0,f.p2)(y);case _.GX.EVERYONE:return!(0,l.Ez)(O);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,f.p2)(y)||(0,f.Zo)(y)}return!1}c(g,"canUserManageExternalSharedChannels");function A(y,T){const M=(0,t._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",O=(0,r.H7)(y);if(M){if((0,u.tc)(O)||!(0,a.jq)(T))return!1;const P=(0,o.FB)(T);return(0,s.Du)(y,{channelId:P})}const I=(0,n.cA)(y),D=(0,v.u)(y);if(!(D!=null&&D.value))return!1;if((0,i.k)(y)){let P=[];switch(D.value){case _.GX.ALL_ADMINS_AND_OWNERS:return(0,h.S4)(y,T);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,m.n5)(I)||(0,m.rr)(I)?!0:(P=(0,d.QF)(y),!!((0,p.A)(D.users,I==null?void 0:I.id)||(0,E.A)(D.userGroups,P).length));case _.GX.EVERYONE:return!(0,l.Ez)(I);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,m.n5)(I)||(0,m.rr)(I)}}if((0,u.qR)(O))switch(D.value){case _.GX.TOPLEVEL_OWNERS:return(0,f.p2)(y);case _.GX.EVERYONE:return!(0,l.Ez)(I);case _.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,f.p2)(y)||(0,f.Zo)(y)}return!1}c(A,"canUserManageSlackConnectChannel")},7324846416:(Q,C,e)=>{"use strict";e.d(C,{VX:()=>_});var t=e(4087360693),n=e(8276911661),s=e(5096647761);function r(v){return v==null?void 0:v[t.bl]}c(r,"getMemberWhoCanShareContactCardPref");function d(v,u){const h=(0,n.nv)(v,u);if(!h)return!1;const f=r(h);return f===t.X4.NO_ONE?!1:(0,s.g)(h)?f===t.X4.EVERYONE:!0}c(d,"isMemberContactInfoShareableById");var o=e(7982171047),a=e(5795074931),i=e(8170643398);const m={...o.BC,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function l(v,u){let h=[];(0,a.WR)(v)===u&&(h=h.concat(m.CONTACT_IS_SELF));const p=(0,n.nv)(v,u);(0,i.ls)(p)||(h=h.concat(m.CONTACT_NOT_ACTIVE_MEMBER));const E=(0,o.Hp)(v);return!E.ok&&E.reasons&&(h=h.concat(E.reasons)),d(v,u)||h.push(m.CONTACT_PREFS_RESTRICTED),h.length>0?{ok:!1,reasons:h}:{ok:!0}}c(l,"canUserShareContactByIdWithReasons");function _(v,u){return l(v,u).ok}c(_,"canUserShareContactById")},7982171047:(Q,C,e)=>{"use strict";e.d(C,{BC:()=>a,Cq:()=>m,Hp:()=>i});var t=e(3792998666),n=e(6536982570),s=e(6839188756),r=e(8276911661),d=e(5795074931),o=e(3677514771);const a={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function i(l){const _=[],v=(0,d.WR)(l),u=(0,r.nv)(l,v),h=(0,n.Ux)(l,u);var f;const p=(f=(0,o._J)(l,h))!==null&&f!==void 0?f:null;return(0,t.Ez)(u)&&_.push(a.RESTRICTED_USER),(0,s.tc)(p)&&_.push(a.USER_IS_ON_FREE_TEAM),_.length>0?{ok:!1,reasons:_}:{ok:!0}}c(i,"canUserShareContactsWithReasons");function m(l){return i(l).ok}c(m,"canUserShareContacts")},1273480023:(Q,C,e)=>{"use strict";e.d(C,{u:()=>d});var t=e(3677514771),n=e(340763958),s=e(6839188756),r=e(2063075339);const d=c((o,a)=>{const i=(0,t.H7)(o);return(0,s.tc)(i)&&(0,n.ju)(a)&&(0,r.Z)(o,a)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},8767621462:(Q,C,e)=>{"use strict";e.d(C,{S:()=>o});var t=e(7600673124),n=e(8276911661),s=e(5096647761),r=e(8170643398),d=e(9107158149);const o=c((a,i)=>{const m=(0,n.nv)(a,i);return(0,r.Zx)(m)?!1:(0,s.g)(m)?!!((0,d.bo)(a,i)&&(0,d.zP)(a,i)&&!(0,t.y)(a,i)):!0},"isMemberConnectedById")},3071940241:(Q,C,e)=>{"use strict";e.d(C,{_:()=>o,a:()=>a});var t=e(2003990933),n=e(766806),s=e(5455782105),r=e(2689960678),d=e(6790819894);const o={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},a=(0,d.F)(s.k,i=>(0,n.SI)(i,"slack_connect_allowed_workspaces"),(i,m)=>i?{value:(0,t.A)(m,"type[0]"),teams:(m==null?void 0:m.team)||r.Ml}:{value:o.All,teams:r.Ml})},7358758030:(Q,C,e)=>{"use strict";e.d(C,{i:()=>a});var t=e(766806),n=e(5597672932),s=e(3677514771),r=e(5455782105),d=e(5861086925),o=e(6839188756);const a=c(i=>{const m=(0,r.k)(i),l=(0,s.H7)(i);return!m&&(0,o.tc)(l)?!1:(m?t.SI:n.x)(i,d.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},5225510813:(Q,C,e)=>{"use strict";e.d(C,{C:()=>a});var t=e(766806),n=e(5597672932),s=e(3677514771),r=e(5455782105),d=e(5861086925),o=e(6839188756);const a=c(i=>{const m=(0,r.k)(i),l=(0,s.H7)(i);return!m&&(0,o.tc)(l)?!1:(m?t.SI:n.x)(i,d.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},1650729052:(Q,C,e)=>{"use strict";e.d(C,{y:()=>u});var t=e(7174777686),n=e(9087248458),s=e(5795074931),r=e(3677514771),d=e(5455782105),o=e(3559837422),a=e(5510392579),i=e(5343157203),m=e(6839188756),l=e(5861086925),_=e(8087758879),v=e(598369692);const u=c((h,f)=>{const p=(0,s.WR)(h);var E;const g=(E=(0,r.H7)(h))!==null&&E!==void 0?E:void 0;if((0,o.AB)(h)||(0,o.sV)(h))return!1;const A=(0,a.p2)(h),y=(0,a.Zo)(h),T=(0,i.C)(h),M=(0,d.k)(h),O=(0,m.qR)(g),I=(0,_.o)(h,f);if(M){const D=(0,a.hu)(h),P=(0,a.FQ)(h);switch(I.value){case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:return D||P;case l.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return D||P?!0:!!(0,t.A)(I.users,p);case l.GX.ALL_ADMINS_AND_OWNERS:return D||P||T;case l.GX.EVERYONE:return!0;default:return!1}}if(O)switch(I.value){case l.GX.TOPLEVEL_OWNERS:return A;case l.GX.TOPLEVEL_ADMINS_AND_OWNERS:return A||y;case l.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return A||y||(0,t.A)(I.users,p)?!0:!!(0,n.A)(I.userGroups,(0,v.QF)(h)).length;case l.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref")},5861086925:(Q,C,e)=>{"use strict";e.d(C,{GX:()=>n,cM:()=>r,d5:()=>s,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},n={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},s={...n,NO_ONE:"NO_ONE",DEFAULT:n.EVERYONE},r={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},5331698805:(Q,C,e)=>{"use strict";e.d(C,{u:()=>s});var t=e(5861086925),n=e(8087758879);const s=c(r=>{const d=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,n.o)(r,d)},"getWhoCanManageSharedChannelsPref")},8087758879:(Q,C,e)=>{"use strict";e.d(C,{o:()=>m});var t=e(766806),n=e(5597672932),s=e(3677514771),r=e(5455782105),d=e(5861086925),o=e(6839188756),a=e(2689960678);const i={plan:"",value:"",users:a.Ml,userGroups:a.Ml},m=c((l,_)=>{var v;const u=(0,s.H7)(l),h=(0,r.k)(l);if(!h&&(0,o.tc)(u))return i;const f=(h?"enterprise":u.plan)||"",p=h?(0,t.SI)(l,_):(0,n.x)(l,_),E=(p==null||(v=p.type)===null||v===void 0?void 0:v[0])||"",g=E===d.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,A=g&&(p==null?void 0:p.user)||i.users,y=g&&(p==null?void 0:p.subteam)||i.userGroups;return{plan:f,value:E,users:A,userGroups:y}},"getWhoCanPref")},4087360693:(Q,C,e)=>{"use strict";e.d(C,{V1:()=>r,X4:()=>s,bl:()=>n});var t=e(2047021170);const n="who_can_share_contact_card",s={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},r=c(d=>(0,t.ty)(d,n),"getWhoCanShareContactCardPref")},7035389884:(Q,C,e)=>{"use strict";e.d(C,{KP:()=>d,KX:()=>a,jE:()=>o});var t=e(9420277174),n=e(9262712126),s=e(607974335),r=e(4291335534);function d(i){if(i.is_broadcast_keyword||i.is_usergroup)return"";let m="";return(0,s.Fh)(i)&&(m=(0,n.wg)(i)),m?`@${m}`:""}c(d,"getSecondaryNameForSearchResult");const o=(0,t.A)((i,m)=>i===(0,r.Pc)(a(m))||i===(0,r.Pc)(d(m)));function a(i){return i.is_broadcast_keyword?`@${i.name}`:i.is_usergroup?`@${i.handle}`:`@${(0,n.Gt)(i)}`}c(a,"getDisplayTextForSearchResult")},3212336858:(Q,C,e)=>{"use strict";e.d(C,{DP:()=>x,qc:()=>z,qA:()=>de,Bs:()=>Z,Hv:()=>U,fK:()=>S,tY:()=>ie,GE:()=>$,b:()=>F,iH:()=>ue,mE:()=>_e});var t=e(7174777686),n=e(4761125736),s=e(3245843483),r=e(5597672932),d=e(8276911661),o=e(9101533895),a=e(3792998666),i=e(3339229351),m=e(2791814261),l=e(8904182388),_=e(6165525655),v=e(591259428),u=e(9884588328),h=e(918457931),f=e(340763958),p=e(2585735826),E=e(6693783993),g=e(1407713935),A=e(5343157203),y=e(9416626),T=e(395285811);const M={...y.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},O={ok:!1,reason:M.ChannelNotFound},I={ok:!1,reason:M.ChannelTypeNotSupported},D={ok:!1,reason:M.CantDisconnectExtShared},P={ok:!1,reason:M.WhoCanManagePref},L={ok:!0},k=c((ye,Te)=>{const ge=(0,n._Z)(ye,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,g.jq)(Te))return O;if((0,T.K3)(ye,Te))return I;if((0,f.ju)(Te)&&!(0,p.R)(ye,Te))return D;const Ae=(0,u.FB)(Te),Re=(0,E.Om)(ye,{channelId:Ae});if(!ge&&(0,h.t)(Te)){if(Re)return L;if(!(0,A.E)(ye))return P}return(0,y.iz)(ye,Te)},"canUserArchiveChannelWithReasons"),G=c((ye,Te)=>k(ye,Te).ok,"canUserArchiveChannel");var b=e(7563681762),W=e(7148679525),B=e(6495946979),R=e(2912967402),j=e(571104883),w=e(735940183),N=e(5156662944);const K=c(ye=>ye&&(0,n._Z)(ye,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var J=e(529357503),Y=e(7969244833),q=e(6934022494);const H=new w.Ay("cmd_handlers"),{UNKNOWN_COMMAND:ne,UNSUPPORTED_IN_THREAD:te,UNSUPPORTED_IN_SHORTCUTS_MENU:le,CUSTOM_ERROR:he}=i.SLASH_COMMAND_ERRORS,Ie=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],Ee=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet"],me=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],ce=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],X=["/slackaccessibility","/slackgov"],V=["/leave","/close","/part","/archive","/topic"],x=c(ye=>ye&&ye.alias_of,"getCommandAliasOf"),S=c(ye=>ye&&ye.name,"getCommandName"),U=c(ye=>ye&&(ye.desc||ye.description),"getCommandDesc"),F=c(ye=>ye&&ye.usage,"getCommandUsage"),Z=c(ye=>ye&&(ye.canonical_name||ye.name),"getCommandCanonicalName"),z=c(ye=>ye&&ye.aliases,"getCommandAliases"),$=c(ye=>ye&&ye.type,"getCommandType"),ee=c(ye=>ye&&ye.app,"getCommandApp"),de=c(ye=>ye==null?void 0:ye.appName,"getCommandAppName"),ie=c((ye,Te,ge)=>{const Ae=(0,o.OL)(ye,ge),Re=Ae?(0,Y.f)(ye,Ae)||[]:[];return Te.teams&&Re.length&&Te.appName!=="Slack"&&!Te.isWorkspaceAgnostic?Te.teams.filter(ke=>Re.includes(ke)):[]},"getCommandRelatedWorkspaces"),ue=c(function(ye,Te){let{channelId:ge}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Te)return!1;const Ae=Z(Te);return Ae==="/leave"?(0,_.Y9)(ye,ge):Ae==="/remove"?(0,l.Vj)(ye,ge):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(Ae)>-1?!1:!!Te.autocomplete},"isAutocompleteCommand"),fe=c(ye=>!!(ye&&ye.isServer),"isServerCommand"),re=c(function(ye){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(ye){case b.a_.InvalidDm:return H.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case b.a_.OwnerRequired:return H.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case b.a_.InvalidParams:return Te?H.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):H.t("You don\u2019t have permission to rename.");case b.a_.RestrictedUser:return Te?H.t("Your admins have limited who can rename multi-workspace channels."):H.t("You don\u2019t have permission to rename.");case b.a_.OrgSharedSettings:return Te?H.t("Your admins have limited who can rename multi-workspace channels."):H.t("You don\u2019t have permission to rename.");case b.a_.InvalidChannelType:return H.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return H.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),_e=c(function(ye,Te){let{channelId:ge,isThread:Ae,isShortcutsMenu:Re}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ye||!Te)return{isEnabled:!1,reason:ne};const Be=(0,n._Z)(ye,"ai_apps_feature")==="on",ke=Z(Te),se=$(Te),ve=(0,o.OL)(ye,ge);if(!(0,m.L)(ye)&&(0,t.A)(ce,ke))return{isEnabled:!1,reason:ne};if(!(0,j.y3)()&&(0,t.A)(X,ke))return{isEnabled:!1,reason:ne};if((0,T.jT)(ve)&&(0,t.A)(V,ke))return{isEnabled:!1,reason:ne};if(Ae&&!((0,t.A)(Ie,ke)||Be&&(0,t.A)(Ee,ke)))return{isEnabled:!1,reason:te};if(Re&&(0,t.A)(me,ke))return{isEnabled:!1,reason:le};if(se==="custom"||se==="service"){const be=(0,r.x)(ye,"commands_only_regular"),xe=(0,d.cA)(ye);if(be&&(0,a.Ez)(xe))return{isEnabled:!1,reason:ne}}if(Te.teams){const be=(0,Y.f)(ye,ve)||[];if(!Te.teams.filter(Le=>be.includes(Le)).length){const Le=`Command not run. No intersection found between channel teams (${be}) and command teams (${Te.teams})`;return{isEnabled:!1,reason:he,logString:Le,feedback:H.t("This command is not available in this channel")}}}if(ke==="/open"||ke==="/feed"){const be=(0,d.cA)(ye);if((0,a.Ez)(be))return{isEnabled:!1,reason:ne}}else if(ke==="/topic"){const{ok:be,reason:xe}=(0,v.X)(ye,ge);if(!be)return{isEnabled:!1,reason:he,feedback:(0,R.Bw)(xe)}}else if(ke==="/invite"){const be=(0,d.cA)(ye);if((0,a.Yd)(be))return{isEnabled:!1,reason:ne};if(!(0,B.b)(ve))return{isEnabled:!1,reason:he,feedback:H.t("You don\u2019t have permission to invite people.")};if((0,a.Ez)(be)&&!(0,g.Zp)(ve)||(0,J.A)(ye,be,ve))return{isEnabled:!1,reason:he,feedback:H.t("You don\u2019t have permission to invite people.")}}else if(ke==="/invite_people"){if(!(0,W.Lz)(ye))return{isEnabled:!1,reason:he,feedback:H.t("You don\u2019t have permission to invite people.")}}else if(ke==="/rename"){const{ok:be,reason:xe}=(0,b.be)(ye,ge);if(!be)return{isEnabled:!1,reason:he,feedback:re(xe)}}else if(ke==="/archive"){if(!G(ye,ve))return{isEnabled:!1,reason:ne}}else if(ke==="/call"){if(!(0,N.lp)(ye,ge)||(0,N.tO)(ye))return{isEnabled:!1,reason:ne}}else if(ke==="/slacktrace"){if(!(0,s.Rg4)())return{isEnabled:!1,reason:he,feedback:H.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(ke==="/feedback"){if(K(ye))return{isEnabled:!1,reason:ne}}else if(ke==="/gif"){if(!(0,q.R4)(ye))return{isEnabled:!1,reason:ne};if(!(0,q.BH)(ye))return{isEnabled:!1,reason:he,feedback:H.t("Attach a GIF is not enabled.")}}return{isEnabled:!0}},"isSlashCommandEnabled"),Ue={getRenameDisabledFeedback:re,TS_ONLY_COMMANDS:ce,DESKTOP_APP_ONLY_COMMANDS:X}},6992769897:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,O:()=>i});var t=e(9087248458),n=e(5980399196),s=e(8359728598),r=e(5455782105),d=e(3071940241),o=e(4761125736);const a=(0,s.A)((l,_)=>{const{teams:v,value:u}=_;switch(u){case"ONLY_SELECTED":return!!(0,t.A)(l,v).length;case"ALL_EXCEPT_SELECTED":return!!(0,n.A)(l,v).length;default:return!0}},2);function i(l){let{slackConnectAllowedWorkspacesPref:_,teamIds:v}=l;return v!=null&&v.length?a(v,_):!1}c(i,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function m(l,_){return!(0,r.k)(l)||(0,o._Z)(l,"sc_allowed_workspaces_pref_override")==="on"?!0:i({slackConnectAllowedWorkspacesPref:(0,d.a)(l),teamIds:_})}c(m,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},2801540778:(Q,C,e)=>{"use strict";e.d(C,{z:()=>r});var t=e(8847766420),n=e(1890276164),s=e(6839188756);function r(d,o){if(!d||!o)return!1;const a=(0,s.ZT)(o);if((0,t.Kc)(d)===a||(0,t.ZT)(d)===a)return!1;const i=(0,t.jV)(d);return i&&i===o.enterprise_id?!1:(0,n.R)(d,o.id)}c(r,"isTeamExternal")},958961878:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>E,w2:()=>f});var t=e(8161242485),n=e(3202757386),s=e(4096483543),r=e(6564475562),d=e(2249017398),o=e(2615100822),a=e(5731054235),i=e(6089972488);const l=c(()=>(0,n.A)(),"isDarkModeFeatureEnabled");var _=e(571104883),v=e(506684971),u=e.n(v);const h=c(()=>{var A;const y=(0,_.y3)()||((A=window.matchMedia)===null||A===void 0?void 0:A.call(window,"(prefers-color-scheme)").media)!=="not all",T=(0,_.cX)()&&(0,i.Z)((0,i.P)(u().osversion),(0,i.P)("10.14"))>=0,M=(0,_.jy)(),O=(0,_.j9)()&&(0,_.dY)("4.36.136"),I=T||M||O,D=(0,_.y3)()||(0,s.A)()||(0,r.A)()||(0,d.A)()||(0,o.A)()||(0,a.A)();return(0,n.A)()&&y&&I&&D},"computeSystemSyncIsSupportedOnBoot"),f=h(),p=(0,t.Ay)(A=>!!f&&!!l(A));p.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:A=>!!f&&!!l(A)};const E=p,g={computeSystemSyncIsSupportedOnBoot:h}},1591473708:(Q,C,e)=>{"use strict";e.d(C,{J:()=>n});var t=e(4761125736);function n(s){return(0,t._Z)(s,"todos_from_composer")==="on"}c(n,"isTodosFromComposerEnabled")},677609895:(Q,C,e)=>{"use strict";e.d(C,{X:()=>d});var t=e(2384831516),n=e(5510392579),s=e(5597672932),r=e(3677514771);const d=(0,t.Mz)(o=>{const a=(0,r.Yc)(o);return(0,n.p2)(o,a.id)||(0,s.x)(o,"all_users_can_purchase")});d.meta={name:"createSelector",key:"createSelectorgetCanCurrentUserUpgradeSlack",description:o=>{const a=(0,r.Yc)(o);return(0,n.p2)(o,a.id)||(0,s.x)(o,"all_users_can_purchase")}}},4400471894:(Q,C,e)=>{"use strict";e.d(C,{i:()=>d});var t=e(8276911661),n=e(5795074931),s=e(7224980887),r=e(3769619294);const d=c((o,a)=>{const i=(0,t.cA)(o);return(0,n.u8)(o)&&(0,s.n5)(i)?!0:(0,r.V)(o,"who_can_at_channel",a)},"canNonAdminsAtChannelOrGroupBySettings")},4746276247:(Q,C,e)=>{"use strict";e.d(C,{g:()=>n});var t=e(3769619294);const n=c((s,r)=>(0,t.V)(s,"who_can_at_everyone",r),"canNonAdminsAtMentionEveryoneBySettings")},317660850:(Q,C,e)=>{"use strict";e.d(C,{D:()=>d});var t=e(3559837422),n=e(5169892262),s=e(4761125736),r=e(6693783993);const d=c(o=>(0,s._Z)(o,"light_read_emoji_only_admins_pref_migration")==="on"?(0,r.eq)(o):!(0,t.sV)(o)&&(0,n.Cr)(o,"emoji_only_admins"),"canUserAddEmoji")},324756633:(Q,C,e)=>{"use strict";e.d(C,{S:()=>m});var t=e(9101533895),n=e(4400471894),s=e(201941576),r=e(7112191091),d=e(4761125736),o=e(6693783993),a=e(1407713935);const i=c(l=>(0,d._Z)(l,"light_read_who_can_at_channel_pref_migration")==="on","shouldUsePermissions");function m(l,_){const v=(0,t.gT)(l,_)&&(0,t.OL)(l,_)||void 0;return i(l)?((0,a.yz)(v)?(0,o.E2)(l):(0,o.E2)(l,{channelId:_}))&&!(0,s.i)(l,v==null?void 0:v.id,{allowToAdmins:!0}):(0,r.yG)(l,v)?!0:(0,n.i)(l,_)&&!(0,s.i)(l,v==null?void 0:v.id,{allowToAdmins:!0})}c(m,"canUserAtChannelInChannelById")},641827819:(Q,C,e)=>{"use strict";e.d(C,{W:()=>m});var t=e(4746276247),n=e(9101533895),s=e(201941576),r=e(6113051341),d=e(5795074931),o=e(4761125736),a=e(6693783993);const i=c(l=>(0,o._Z)(l,"light_read_who_can_at_everyone_pref_migration")==="on","shouldUsePermissions"),m=c((l,_)=>{const v=(0,n.gT)(l,_)&&(0,n.OL)(l,_)||void 0;return!_||!v||!(0,r.N)(v)?!1:i(l)?(0,d.u8)(l)?(0,a._7)(l,{channelId:_})&&!(0,s.i)(l,v==null?void 0:v.id,{allowToAdmins:!0}):(0,a._7)(l,{channelId:_}):(0,d.u8)(l)?(0,t.g)(l,_)&&!(0,s.i)(l,v==null?void 0:v.id,{allowToAdmins:!0}):(0,t.g)(l,_)},"canUserAtEveryoneInChannelById")},1507833885:(Q,C,e)=>{"use strict";e.d(C,{MM:()=>d,Uq:()=>o,_t:()=>a});var t=e(3385422400),n=e(5962670951),s=e(241752795),r=e(1340402138);const d=c(i=>((0,s.HV)(i)||(0,n.R)(i))&&!(0,r.R)(i),"canUserCreateChannelsInSomeWorkspace"),o=(0,t.Mz)(s.y5,n.S,(i,m)=>m,(i,m,l)=>l.some(_=>i.includes(_)||m.includes(_))),a=(0,t.Mz)(s.y5,n.S,(i,m)=>m,(i,m,l)=>l.every(_=>i.includes(_)||m.includes(_)))},5962670951:(Q,C,e)=>{"use strict";e.d(C,{R:()=>r,S:()=>d});var t=e(3078708518),n=e(6693783993);const s=c(o=>!(0,t.A)(o),"isPermittedToPrecondition"),r=c(o=>s(o)?(0,n.lM)(o):!1,"canUserCreatePrivateChannelsInSomeWorkspace"),d=c(o=>s(o)?(0,n.f$)(o):[],"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},241752795:(Q,C,e)=>{"use strict";e.d(C,{HV:()=>_,YD:()=>u,y5:()=>v});var t=e(3078708518),n=e(1407713935),s=e(6495946979),r=e(1190344069),d=e(7304011293),o=e(3307632080),a=e(7112191091),i=e(4761125736),m=e(6693783993);const l=c(h=>!(0,t.A)(h),"isPermittedToPrecondition"),_=c(h=>l(h)?(0,m.F5)(h):!1,"canUserCreatePublicChannelsInSomeWorkspace"),v=c(h=>l(h)?(0,m.qm)(h):[],"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),u=c((h,f)=>{const p=(0,i._Z)(h,"convert_private_to_public_channel_permission_creation")==="on";if(!(0,n.Zp)(f)||!l(h)||(0,o.A)(h,f))return!1;const E=(0,m.Mz)(h,{channelId:f.id});return p&&(E&&(0,s.b)(f)||(0,a.yG)(h,f))||(0,r.hm)(h)&&(0,n.rI)(f)&&(0,d.O)(h,f.id)?!0:!!(0,a.yG)(h,f)},"canUserCreatePublicChannelFromPrivateChannel")},1612857492:(Q,C,e)=>{"use strict";e.d(C,{i:()=>m,q:()=>i});var t=e(9884588328),n=e(6495946979),s=e(7112191091),r=e(1407713935),d=e(9101533895),o=e(6693783993),a=e(8250322877);const i=c((l,_)=>{if(!(0,r.jq)(_))return!1;const v=(0,t.FB)(_);return(0,a.D)(l,_)&&((0,s.S4)(l,_)||(0,n.b)(_)&&(0,o.MN)(l,{channelId:v}))},"canUserInviteExternalUsersToChannel"),m=c((l,_)=>{const u=(0,d.OL)(l,_,!1);return u?i(l,u):!1},"canUserInviteExternalUsersToChannelById")},9183417278:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>m,e:()=>l});var t=e(9884588328),n=e(6495946979),s=e(1407713935),r=e(7112191091),d=e(9101533895),o=e(4761125736),a=e(6693783993),i=e(8250322877);const m=c((_,v)=>{const u=(0,o._Z)(_,"invite_to_channel_permission")==="on";if(!(0,s.jq)(v))return!1;const h=(0,t.FB)(v),f=(0,i.D)(_,v);return u&&(0,s.Zp)(v)?f&&((0,r.S4)(_,v)||(0,n.b)(v)&&(0,a.oo)(_,{channelId:h})):f},"canUserInviteInternalUsersToChannel"),l=c((_,v)=>{const h=(0,d.OL)(_,v,!1);return h?m(_,h):!1},"canUserInviteInternalUsersToChannelById")},8250322877:(Q,C,e)=>{"use strict";e.d(C,{D:()=>u,X:()=>h});var t=e(1340402138),n=e(9884588328),s=e(1407713935),r=e(6007206761),d=e(5373179915),o=e(6495946979),a=e(2350349607),i=e(7112191091),m=e(3559837422),l=e(9101533895),_=e(4761125736),v=e(6693783993);const u=c((f,p)=>{const E=(0,_._Z)(f,"invite_to_channel_permission")==="on";if(!(0,s.jq)(p))return!1;const g=(0,n.FB)(p);return(0,m.AB)(f)||(0,r.F)(p)||!(0,a.V)(p)||(0,t.R)(f)&&(0,d.R)(f,p)?!1:E&&(0,s.Zp)(p)?(0,i.S4)(f,p)||(0,o.b)(p)&&((0,v.oo)(f,{channelId:g})||(0,v.MN)(f,{channelId:g})):(0,i.S4)(f,p)||(0,o.b)(p)},"canUserInviteToChannel"),h=c((f,p)=>{const g=(0,l.OL)(f,p,!1);return g?u(f,g):!1},"canUserInviteToChannelById")},8904182388:(Q,C,e)=>{"use strict";e.d(C,{CE:()=>p,Vj:()=>M,VJ:()=>T});var t=e(9101533895),n=e(4761125736),s=e(6693783993),r=e(1407713935),d=e(6007206761),o=e(6841796315);const a={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},i={ok:!1,reason:a.ArchivedChannel},m={ok:!1,reason:a.InvalidDm},l={ok:!1,reason:a.RequiredChannel};function _(O,I){const D=(0,t.gT)(O,I)?(0,t.OL)(O,I):null;return(0,d.F)(D)?i:(0,r.LI)(D)||(0,r.yz)(D)?m:(0,r.gx)(D)?l:o.O}c(_,"isChannelKickableWithReason");function v(O,I){return _(O,I).ok}c(v,"isChannelKickable");var u=e(3559837422),h=e(3769619294),f=e(641744444);const p={...a,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},E={ok:!1,reason:p.InvalidParams},g={ok:!1,reason:p.UserIsRestricted},A={ok:!1,reason:p.RestrictedPublicChannel},y={ok:!1,reason:p.RestrictedPrivateChannel};function T(O,I){const D=(0,t.gT)(O,I)?(0,t.OL)(O,I):null;if(!(0,r.jq)(D))return E;if((0,u.sV)(O))return g;const P=_(O,I);if(!P.ok)return{ok:!1,reason:P.reason};const L=(0,s.ou)(O,{channelId:I}),k=(0,s.sX)(O,{channelId:I});if((0,n._Z)(O,"channel_manager_enhancements")==="on"&&(0,r.rW)(D)&&L)return o.O;const b=(0,n._Z)(O,"light_read_who_can_kick_channels_migration")==="on",W=(0,n._Z)(O,"light_read_who_can_kick_groups_pref_migration")==="on",B=(0,r.rW)(D)?"public":"private",R=B==="private"?f.Po:f.LI,j=B==="private"?f.tU:f.H7,w=R(O)||j(O);let N;if(b&&B==="public")N=L;else if(W&&B==="private")N=k;else{const K=B==="private"?"who_can_kick_groups":"who_can_kick_channels";N=(0,h.X)(O,K,D)}return!w&&!N?B==="private"?y:A:o.O}c(T,"canUserKickFromChannelWithReason");function M(O,I){return T(O,I).ok}c(M,"canUserKickFromChannel")},641744444:(Q,C,e)=>{"use strict";e.d(C,{Po:()=>E,tU:()=>A,LI:()=>p,H7:()=>g});var t=e(7174777686),n=e(8276911661),s=e(5597672932),r=e(3677514771),d=e(5455782105),o=e(9113979368),a=e(7224980887),i=e(8170643398),m=e(3559837422),l=e(5510392579),_=e(766806);const v=c((y,T)=>{let{prefName:M}=T;if((0,o.A)(M))return!1;const O=(0,n.cA)(y);if((0,i.QR)(O)||(0,m.sV)(y))return!1;const{type:I,user:D}=(0,_.SI)(y,M)||{};if((0,t.A)(D,O.id))return!0;switch(I==null?void 0:I[0]){case"PRIMARY_OWNER":return(0,a.nA)(O);case"ORG_OWNERS":return(0,a.rr)(O);case"ORG_ADMINS_AND_OWNERS":return(0,a.n5)(O);default:return(0,l.$G)(y)}},"checkChannelMgmtPrefCascade");var u=e(6839188756),h=e(4761125736),f=e(6693783993);const p=c(y=>(0,d.k)(y)?(0,h._Z)(y,"light_read_who_can_manage_public_channels_pref_migration")==="on"?(0,f.fl)(y):v(y,{prefName:"who_can_manage_public_channels"}):!1,"canUserManagePublicChannelsInOrgDash"),E=c(y=>(0,d.k)(y)?(0,h._Z)(y,"light_read_who_can_manage_private_channels_pref_migration")==="on"?(0,f.$5)(y):v(y,{prefName:"who_can_manage_private_channels"}):!1,"canUserManagePrivateChannelsInOrgDash"),g=c(y=>{const T=(0,r.H7)(y);return(0,u.Ny)(T)?(0,l.h3)(y):!1},"canUserManagePublicChannelsInTeamSite"),A=c(y=>{const T=(0,r.H7)(y),M=(0,h._Z)(y,"light_read_who_can_manage_private_channels_pref_migration")==="on";if(!(0,u.Ny)(T)||(0,u.NB)(T)&&!(0,s.x)(y,"has_compliance_export"))return!1;if(M)return(0,f.Ny)(y);const O=(0,s.x)(y,"who_can_manage_private_channels_at_workspace_level");if(!O)return!1;const I=(0,n.cA)(y);if((0,t.A)(O.user,I.id))return(0,l.h3)(y);const D=O.type;switch(D&&D.length!==0?D[0]:null){case"NO_ONE":return!1;case"WORKSPACE_PRIMARY_OWNER":return(0,l.$G)(y);case"WORKSPACE_OWNERS":return(0,l.p2)(y);default:return!1}},"canUserManagePrivateChannelsInTeamSite")},5343157203:(Q,C,e)=>{"use strict";e.d(C,{C:()=>h,E:()=>f});var t=e(7530630315),n=e(235108050),s=e(9087248458),r=e(5455782105),d=e(5795074931),o=e(4761125736),a=e(6693783993),i=e(598369692),m=e(3559837422),l=e(5510392579),_=e(7876109014),v=e(766806),u=e(8847766420);const h=c(p=>{if((0,m.sV)(p))return!1;const E=(0,u.jV)(p);if((0,l.V7)(p,E)||(0,l.PY)(p,E))return!0;const g=(0,u.ZT)(p),A=(0,t.A)(g,(0,u.kN)(p));return(0,n.A)(A).some(T=>!!((0,l.$G)(p,T)||(0,l.h3)(p,T)))},"isCurrentUserAnyAdminOrOwner");function f(p){if((0,o._Z)(p,"light_read_who_can_manage_shared_channels_pref_migration")==="on")return(0,a.Tg)(p);const g=(0,v.SI)(p,"who_can_manage_shared_channels");if(!g)return!0;if(!(0,r.k)(p)||(0,m.sV)(p))return!1;const A=(0,d.WR)(p);if((0,_.v)(g,"user")&&g.user.includes(A))return!0;if((0,_.v)(g,"subteam")){const T=(0,i.QF)(p);if((0,s.A)(g.subteam,T).length>0)return!0}const y=g==null?void 0:g.type;return y!=null&&y.includes("regular")?!0:y!=null&&y.includes("admin")?h(p):y!=null&&y.includes("owner")?(0,l.PY)(p):!1}c(f,"canUserManageOrgSharedChannels")},7563681762:(Q,C,e)=>{"use strict";e.d(C,{JJ:()=>D,a_:()=>h,be:()=>O,rY:()=>I});var t=e(9101533895),n=e(6693783993),s=e(3490825458),r=e(5795074931),d=e(4761125736),o=e(641744444),a=e(918457931),i=e(1407713935),m=e(3559837422),l=e(7112191091),_=e(6025726268),v=e(5343157203),u=e(6841796315);const h={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},f={ok:!1,reason:h.InvalidParams},p={ok:!1,reason:h.InvalidDm},E={ok:!1,reason:h.InvalidChannelType},g={ok:!1,reason:h.RestrictedUser},A={ok:!1,reason:h.OrgSharedSettings},y={ok:!1,reason:h.OwnerRequired},T={ok:!1,reason:h.UserHasNoPermissions},M=c((P,L)=>{const k=(0,d._Z)(P,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,i.jq)(L))return f;if((0,i.LI)(L)||(0,i.yz)(L))return p;if((0,i.rI)(L))return E;const G=(0,r.TZ)(P),b=(0,s.s)(P),W=(0,s.R)(P);if(!G)return b&&((0,i.Zp)(L)&&(0,o.Po)(P)||(0,i.rW)(L)&&(0,o.LI)(P))||W&&((0,i.Zp)(L)&&(0,o.tU)(P)||(0,i.rW)(L)&&(0,o.H7)(P))?u.O:T;if(k)return(0,n.bT)(P,{channelId:L.id})?u.O:T;const B=(0,v.E)(P)||(0,n.LN)(P);return(0,a.t)(L)&&!B?A:(0,_.M)(P,L)||(0,n.bT)(P,{channelId:L.id})?u.O:(0,m.sV)(P)||(0,m.AB)(P)?g:(0,l.S4)(P,L)?u.O:y},"canUserRenameChannelWithReason"),O=c((P,L)=>{const G=(0,t.OL)(P,L,!1);return G?M(P,G):f},"canUserRenameChannelWithReasonById"),I=c((P,L)=>M(P,L).ok,"canUserRenameChannel"),D=c((P,L)=>O(P,L).ok,"canUserRenameChannelById")},9416626:(Q,C,e)=>{"use strict";e.d(C,{NG:()=>P,iz:()=>D,u9:()=>u});var t=e(5343157203),n=e(4761125736),s=e(6693783993),r=e(9884588328),d=e(6495946979),o=e(1407713935),a=e(6007206761),i=e(918457931),m=e(340763958),l=e(9846841407),_=e(7112191091),v=e(2585735826);const u={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},h={ok:!1,reason:u.ChannelNotFound},f={ok:!1,reason:u.ChannelTypeNotSupported},p={ok:!1,reason:u.CantArchiveGeneral},E={ok:!1,reason:u.NotInChannel},g={ok:!1,reason:u.AlreadyArchived},A={ok:!1,reason:u.NotAllowedHomeExternallyShared},y={ok:!1,reason:u.AwayExternallyShared},T={ok:!1,reason:u.UserHasNoPermissions},M={ok:!1,reason:u.DefaultOrgWideChannel},O={ok:!1,reason:u.WhoCanManagePref},I={ok:!0},D=c((L,k)=>{const G=(0,n._Z)(L,"restrict_channel_permission_archive_channel")==="on",b=(0,n._Z)(L,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,o.jq)(k))return h;if((0,o.LI)(k)||(0,o.yz)(k))return f;if((0,o.gx)(k))return p;if((0,a.F)(k))return g;if((0,l.b)(L,k))return y;if(!(0,_.S4)(L,k)&&!(0,d.b)(k))return E;const B=(0,r.FB)(k);if(G&&(0,m.ju)(k)&&!(0,l.b)(L,k)&&!(0,v.R)(L,k))return A;const R=(0,s.Om)(L,{channelId:B});return!b&&(0,i.t)(k)&&!(0,t.E)(L)&&!(0,s.LN)(L,{channelId:B})?O:R?I:T},"canUserSeeArchiveChannelOptionWithReasons"),P=c((L,k)=>D(L,k).ok,"canUserSeeArchiveChannelOption")},591259428:(Q,C,e)=>{"use strict";e.d(C,{P:()=>p,X:()=>f});var t=e(9101533895),n=e(4761125736),s=e(6495946979),r=e(2912967402),d=e(1407713935),o=e(6007206761),a=e(3559837422),i=e(340763958),m=e(4827886670),l=e(6693783993);const _={ok:!0},v={ok:!1,reason:r.CM},u={ok:!1,reason:r.Jr},h={ok:!1,reason:r.oP},f=c((E,g)=>{const A=(0,t.gT)(E,g)&&(0,t.OL)(E,g);return A?(0,d.JM)(A)&&(0,i.ju)(A)?u:(0,o.F)(A)?h:(0,n._Z)(E,"channel_manager_enhancements")==="on"&&(0,l.ig)(E,{channelId:g})?_:!(0,s.b)(A)||!(0,m.c)(E,A)||(0,a.sV)(E)||(0,a.AB)(E)?h:_:v},"canUserSetTopicForChannelWithReasonById"),p=c((E,g)=>f(E,g).ok,"canUserSetTopicForChannelById")},3307632080:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r,G:()=>s});var t=e(6545221113),n=e(8847766420);const s=c((d,o)=>{if(!d||!o)return!1;const a=(0,n.Kc)(d);return(0,t.A)(d,a,o)},"isExternalLimited"),r=s},4919351998:(Q,C,e)=>{"use strict";e.d(C,{XT:()=>m,Xw:()=>n,gU:()=>d,l0:()=>a,xf:()=>s});var t=e(8234448831);const n=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function s(l){const _=typeof l=="string"&&l.match(n);return _&&_.length===1&&_[0]===l||!1}c(s,"isEmail");function r(l){const{pathname:_,protocol:v}=parseUrl(l);return v==="mailto:"&&s(_)}c(r,"isEmailUrl");function d(l){const{pathname:_,protocol:v}=l;return v==="mailto:"&&s(_)}c(d,"isEmailUrlFromUrlObject");const o=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function a(l){const _=typeof l=="string"&&l.match(o);return _&&_.length===1&&_[0]===l||!1}c(a,"isDomain");function i(l){return l.includes("@slack-bots.com")}c(i,"isSlackBotEmail");function m(l){let{csv:_,min:v=0,max:u=10}=l;const h=_.split(/\s*,\s*/).length;return{minViolation:h<v,maxViolation:h>u}}c(m,"validateCSV")},8049923572:(Q,C,e)=>{"use strict";e.d(C,{BM:()=>_,IN:()=>a});var t=e(3134334389),n=e(5950652755),s=e(5460331959),r=e(1641606663),d=e(4761125736);function o(){return o=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f])}return v},o.apply(this,arguments)}c(o,"_extends");const a=c(v=>(0,d._Z)(v,"sk_responsive_menus")==="on","isSkResponsiveMenusEnabled");function i(v){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const{windowRef:h}=(0,t.useContext)(r.Mn),f=c(E=>{!Array.isArray(E)||!E.length||requestAnimationFrame(()=>v(E))},"observer"),p=h.deref();return new p.ResizeObserver((0,n.A)(f,u))}c(i,"useResizeObserver");const m=c(()=>{var v,u,h;const{windowRef:f}=(0,t.useContext)(r.Mn),p=(0,t.useRef)((v=f.deref())===null||v===void 0?void 0:v.document.body),E=((u=p.current)===null||u===void 0?void 0:u.clientWidth)||0,g=((h=p.current)===null||h===void 0?void 0:h.clientHeight)||0,[A,y]=(0,t.useState)(E),[T,M]=(0,t.useState)(g),O=i(()=>{var I,D;y(((I=p.current)===null||I===void 0?void 0:I.clientWidth)||0),M(((D=p.current)===null||D===void 0?void 0:D.clientHeight)||0)},100);return(0,t.useEffect)(()=>{const I=p.current;return I&&O.observe(I),()=>{f&&I&&O.unobserve(I)}},[O,f]),{width:A,height:T}},"useWindowSize");function l(v){return u=>{const h=m();return t.createElement(v,o({},u,{windowSize:h}))}}c(l,"withWindowSize"),l.displayName="withWindowSize";function _(v){return u=>u.experimentSkResponsiveMenusGroupOn?t.createElement(s.A,null,h=>{let{measureRef:f,width:p,height:E}=h;return t.createElement(v,o({},u,{measureRef:f,containerSize:{width:p,height:E}}))}):t.createElement(v,o({},u))}c(_,"withContainerSize"),_.displayName="withContainerSize"},4821016610:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(887763814),n=e(9391594207),s=e(6766954308);const r=c(o=>({isScreenReaderEnabled:(0,s.VH)(o)}),"mapStateToProps"),d=(0,n.N)(r)(t.A)},4275792068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(6217320234),s=e(8424846741),r=e(1149563359);function d(o){let{listeners:a,children:i}=o;const m=Object.keys(a);for(const l of(0,n.A)(m))for(const _ of(0,n.A)((0,s.A)(a[l])))(0,r.A)(l,_);return t.createElement(t.Fragment,null,i)}c(d,"FocusTransition")},7447985439:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Re});var t=e(3134334389),n=e(8300007136),s=e(5255740490),r=e(7715417323),d=e(4244379358),o=e(2309855086),a=e(9551108847),i=e(9053431150);const m=c(Be=>{const{startFocusTransitionFallbackTimeout:ke,cancelFocusTransitionFallback:se}=(0,t.useContext)(i.Ay),ve=(0,t.useCallback)((be,xe)=>{ke(Be,be,xe)},[Be,ke]),Me=(0,t.useCallback)(()=>{se(Be)},[se,Be]);return(0,t.useEffect)(()=>()=>{se(Be)},[se,Be]),[ve,Me]},"useFocusTransitionFallback");var l=e(1952320730),_=e(4481313819),v=e(7937864072),u=e(5519459863),h=e(2683115972),f=e(3989454579),p=e(7138682671),E=e(4979382452),g=e(4636370173),A=e(2465132699),y=e(8523371695),T=e(3606117573),M=e(8029613601),O=e(4829524689),I=e(4947127560),D=e(735940183),P=e(4096483543),L=e(9391594207),k=e(9003400431),G=e(1928462597),b=e(387484329),W=e(1684408608);function B(){return B=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var se=arguments[ke];for(var ve in se)Object.prototype.hasOwnProperty.call(se,ve)&&(Be[ve]=se[ve])}return Be},B.apply(this,arguments)}c(B,"_extends");const R=new D.Ay("contextual_help"),j={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},w=c(Be=>{let{suppressOnClose:ke=!1,cancelButtonAutoClogProps:se,cancelButtonText:ve,children:Me,className:be,closeModal:xe,"data-qa":Le="contextual_help_modal",onSubmit:Ke=r.A,contextualHelpCheckboxLabel:He,pref:Ye,showCancelButton:Xe=!1,submitButtonAutoClogProps:et,submitButtonText:st,submitButtonType:ot="primary",title:ct="",illustration:at,setUserPrefByApi:At=r.A}=Be;const Ct=(0,v.A)(),[Tt]=(0,u.A)(Ye),Rt=G.PW[Ye],[It,Mt]=(0,t.useState)(Rt!==Tt),nn="contextual-help-modal-dialog-title",Ot="contextual-help-modal-dialog-content",bt=(0,t.useCallback)(zt=>{Ct.action("CONTEXTUAL-HELP-MODAL",`Changed ${Ye}: ${zt}`),(0,P.A)()?(0,W.gj)((0,b.AZ)({pref:Ye,value:zt})):At({pref:Ye,value:zt})},[Ct,Ye,At]),Jt=(0,t.useCallback)(function(){let zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ke?bt(!Rt):zt&&bt(Rt!==It),xe()},[ke,xe,Rt,It,bt]),en=(0,t.useCallback)(zt=>{Mt(zt.target.checked)},[]),sn=(0,t.useCallback)(()=>{Ke(),Jt(!0)},[Jt,Ke]);return t.createElement(E.A,{className:be,labelledby:nn,describedby:Ot,closeModal:Jt,role:"alertdialog",dataQa:Le,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.createElement(M.A,null,at?t.createElement(O.A,B({"aria-hidden":!0},at)):null,t.createElement(I.A,{title:ct,id:nn,"data-qa":`${Le}_header`})),t.createElement(g.A,null,t.createElement(A.A,{"data-qa":`${Le}_content`,id:Ot},Me)),t.createElement(y.A,{"data-qa":`${Le}_footer`,className:(0,s.A)({"c-contextual_help_shortcuts_list__footer_with_checkbox":!ke})},!ke&&t.createElement(p.A,{"data-qa":`${Le}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:He||R.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.createElement(f.A,{checked:It,onChange:en,autoClogProps:j})),t.createElement(T.A,null,Xe&&t.createElement(h.Ay,{type:"outline",onClick:Jt,"data-qa":`${Le}_cancel`,autoClogProps:se},ve||R.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.createElement(h.Ay,{type:ot,onClick:sn,"data-qa":`${Le}_submit`,autoClogProps:et,autoFocus:!0},st||R.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");w.displayName="ContextualHelpModal";const N=c(Be=>({closeModal:()=>Be((0,k.O)()),setUserPrefByApi:ke=>(0,b.AZ)(ke)}),"mapDispatchToProps"),K=(0,L.N)(null,N)(w);var J=e(440635146),Y=e(8739505998),q=e(571104883),H=e(6968387112),ne=e(8783045612),te=e.n(ne);const le=new D.Ay("contextual_help"),he={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},Ie={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},Ee={src:te(),alt:""},me=c(()=>{const Be=(0,q.y3)(),ke=le.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),se=`https://${(0,H.qF)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,ve=(0,J.ed)("Cmd"),Me=(0,J.ed)("Ctrl"),be=(0,J.ed)(J.tc.ArrowLeft),xe=(0,J.ed)(J.tc.ArrowRight),Le=le.t("F6"),Ke=le.rt("{ctrlKey}+{f6Key}",{ctrlKey:Me,f6Key:Le}),He=c(()=>(0,q.cX)()?le.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:ve,ctrlKey:Me,leftArrowKey:be,rightArrowKey:xe}):Be?Le:Ke,"getSectionNavigationKeys"),Ye=le.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:He(),"<link>":et=>{let{text:st}=et;return t.createElement(Y.A,{href:se,autoClogProps:Ie},st)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),Xe=le.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.createElement(_.A,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.createElement(K,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:he,title:ke,illustration:Ee,suppressOnClose:!0,submitButtonText:Xe},Ye))},"ContextualHelpForSectionNavigationModal");me.displayName="ContextualHelpForSectionNavigationModal";const ce=me;var X=e(1031947056),V=e(3051824855),x=e(2047021170);const S=(0,V.e)(ce),U=(0,X.Ay)("Maybe open modal dialog with contextual help for section navigation",(Be,ke)=>{const se=ke();(0,x.ty)(se,"should_show_contextual_help_for_section_navigation")&&Be(S())});U.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};const F=null;var Z=e(8259709686),z=e(2533466394),$=e(3688641936),ee=e(796111729),de=e(6453334826),ie=e(4675837085),ue=e(9012396182),fe=e(4134037340),re=e(8847766420),_e=e(6533394955);function Ue(){return Ue=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var se=arguments[ke];for(var ve in se)Object.prototype.hasOwnProperty.call(se,ve)&&(Be[ve]=se[ve])}return Be},Ue.apply(this,arguments)}c(Ue,"managed_focus_container_extends");const ye={display:"contents"},Te="active-managed-focus-container",ge=c(()=>!0,"shouldAlwaysFocus"),Ae=c(Be=>{const{id:ke,index:se,focusFn:ve=r.A,restoreFocusFn:Me=void 0,enableSectionNavigation:be=!0,refToForward:xe=void 0,onFocus:Le=r.A,onBlur:Ke=r.A,shouldFocus:He=ge,onFirstHiddenTabStopFocus:Ye=r.A,onLastHiddenTabStopFocus:Xe=r.A,tabCountToShowContextualHelp:et=4,windowRef:st,windowToken:ot=void 0,windowId:ct=void 0,className:at,...At}=Be,{registerSection:Ct,unregisterSection:Tt,setActiveSection:Rt}=(0,t.useContext)(z.A),It=(0,o.A)(xe),[Mt,nn]=(0,t.useState)(),[Ot,bt]=(0,t.useState)(0),{getState:Jt}=(0,n.Pj)(),en=Jt();let sn=en,zt;(0,fe.A)(en)?(zt=(0,ue.getFocusedWorkspace)(en),sn=(0,_e.getStateByTeamId)(zt)):zt=(0,re.ZT)(en);const Yt=(0,ee.Ay)({state:sn}),hn=(0,x.ty)(sn,"should_show_contextual_help_for_section_navigation"),Qe=(0,t.useCallback)(nt=>(0,_e.dispatchForTeamId)(zt,(0,b.AZ)({pref:"should_show_contextual_help_for_section_navigation",value:nt})),[zt]),[Wt,gn]=(0,t.useState)(!1),rn=(0,t.useCallback)(()=>{if(Wt)return;const nt=Ot+1;if(hn){bt(0),Qe(!1),gn(!0),(0,_e.dispatchForTeamId)(zt,S({openModalProps:{forceTargetWindowId:ct}}));return}if(nt>=et){bt(0),gn(!0),(0,_e.dispatchForTeamId)(zt,S({openModalProps:{forceTargetWindowId:ct}}));return}bt(nt)},[Wt,Qe,hn,et,Ot,zt,ct]),ut=(0,t.useCallback)(nt=>{Ye(nt)},[Ye]),Pt=(0,t.useCallback)(nt=>{Xe(nt),rn()},[rn,Xe]),Bt=(0,t.useCallback)(nt=>{Rt(ke),Le(nt)},[ke,Le,Rt]),Ft=(0,t.useCallback)(nt=>{const{target:pt,currentTarget:Dt,relatedTarget:Qt}=nt;Dt.contains(Qt)||nn((0,ie.O)(pt)),Ke(nt)},[Ke]),un=(0,t.useCallback)(()=>He()?!It.current||ke===Z.yE?!0:!!(0,$.Fp)(It.current):!1,[It,He,ke]),Sn=(0,t.useCallback)(()=>{var nt,pt;return!!(!((nt=It.current)===null||nt===void 0)&&nt.contains((pt=st.deref())===null||pt===void 0?void 0:pt.document.activeElement))},[It,st]),Un=(0,t.useCallback)(()=>{const nt=Mt==null?void 0:Mt.deref();return!(!nt||!nt.focus||!It.current.contains(nt)||!(0,de.A)(nt,st.deref()))},[It,Mt,st]),Cn=(0,t.useCallback)(nt=>{var pt;if(nt!==((pt=st.deref())===null||pt===void 0?void 0:pt.document.activeElement)||!It.current||Sn())return;const Dt=(0,$.Fp)(It.current);Dt&&Dt.focus()},[It,st,Sn]),Ln=(0,t.useCallback)(nt=>{if(Ot===0||Wt)return;const{key:pt,shiftKey:Dt}=nt.detail;pt==="Tab"&&!Dt||bt(0)},[Wt,Ot]),[yn]=m(Cn);(0,t.useEffect)(()=>{var nt;return(nt=st.deref())===null||nt===void 0||nt.document.addEventListener("keyboard-navigation",Ln),()=>{var pt;(pt=st.deref())===null||pt===void 0||pt.document.removeEventListener("keyboard-navigation",Ln)}},[st,Ln]),(0,t.useEffect)(()=>(be&&(Ct(ke,{focus:()=>{var nt;if(Un()){var pt;if(Me)Me(Mt==null?void 0:Mt.deref());else{var Dt;(Dt=Mt==null?void 0:Mt.deref())===null||Dt===void 0||Dt.focus()}if(((pt=st.deref())===null||pt===void 0?void 0:pt.document.activeElement)===(Mt==null?void 0:Mt.deref()))return}ve(),yn(a.H0,(nt=st.deref())===null||nt===void 0?void 0:nt.document.activeElement)},shouldFocus:un},se),Sn()&&Rt(ke)),be||Tt(ke),()=>{Tt(ke)}),[be,ve,Me,ke,se,Ct,Tt,un,Mt,st]),(0,t.useEffect)(()=>{var nt;be&&(!((nt=It.current)===null||nt===void 0)&&nt.getElementsByClassName(Te).length)&&Yt.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${ke}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[be,It,Yt,ke]);const Xt=be?Te:void 0;return t.createElement(l.A,Ue({onFocus:Bt,onBlur:Ft,onFirstHiddenTabStopFocus:ut,onLastHiddenTabStopFocus:Pt,ref:It,className:(0,s.A)(at,Xt)},At))},"ManagedFocusContainer");Ae.displayName="ManagedFocusContainer",Ae.defaultProps={style:ye};const Re=(0,d.A)(Ae)},581167618:(Q,C,e)=>{"use strict";e.d(C,{AO:()=>u,A_:()=>v,Ay:()=>E,QE:()=>_});var t=e(3134334389),n=e(5255740490),s=e(6105929840),r=e(1610251172),d=e(2201208793),o=e(4882164428),a=e(8683010724),i=e(6244014364),m=e(735940183);const l=new m.Ay("sk_banner");var _;(function(g){g.default="default",g.boxed="boxed",g.inlineBoxed="inline_boxed",g.nestedBox="nested_box",g.inline="inline",g.custom="custom"})(_||(_={}));var v;(function(g){g.default="default",g.info="info",g.success="success",g.warning="warning",g.error="error"})(v||(v={}));var u;(function(g){g.left="left",g.center="center",g.right="right"})(u||(u={}));const h={elementName:"close",elementType:i.ElementType.X,action:i.UiAction.CLOSE,onClick:{enableClogAction:!0}},f=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),p=c(g=>{let{align:A=u.left,className:y,heading:T,icon:M,customIcon:O,id:I,level:D=v.default,type:P=_.boxed,children:L,"data-qa":k,isIconVisible:G=!0,showCloseButton:b=!1,onClose:W,ariaLabelForCloseBtn:B,closeBackgroundStyle:R}=g;const j=(0,o.f)(d.j.Alert),[w,N]=(0,t.useState)(!1),K=(0,n.A)("c-alert",`c-alert--${P}`,`c-alert--level_${D}`,`c-alert--align_${A}`,{"c-alert--multiline":!!T},y,j),J=f.get(D)||"slack-pillow",Y=(O||J)&&P!==_.inline&&P!==_.custom,q=P===_.nestedBox?"inherit":void 0,H=P!==_.custom&&T,ne=(0,t.useCallback)(()=>{N(!0),W==null||W()},[W]);return w?null:t.createElement("div",{className:K,id:I,"data-qa":k,"data-qa-alert":!0,"data-qa-alert-level":D,"data-qa-alert-type":P,"data-qa-alert-align":A},G&&Y&&(O||t.createElement(r.A,{type:M||J,className:"c-alert__icon",size:q,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":M||J})),t.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},H&&t.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},T),L),b&&t.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},t.createElement(s.A,{onClick:ne,backgroundStyle:R,"aria-label":B??l.t("Dismiss"),autoClogProps:h,size:"small"},t.createElement(a.A,{name:"close",size:"20"}))))},"Alert");p.displayName="Alert",p.displayName="Alert";const E=p},3824874166:(Q,C,e)=>{"use strict";e.d(C,{RG:()=>P,f1:()=>G,fp:()=>k});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(1030162945),d=e(8822892075),o;(function(b){b.BaseHeart="mask__base-heart",b.SmallHeart="mask__small-heart",b.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",b.BaseSingleChannelGuest="mask__base-single-channel-guest",b.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",b.SmallSingleChannelGuest="mask__small-single-channel-guest",b.BaseGuestDnd="mask__base-guest-dnd",b.BaseGuest="mask__base-guest",b.SmallGuestDnd="mask__small-guest-dnd",b.SmallGuest="mask__small-guest",b.BaseMemberDnd="mask__base-member-dnd",b.BaseMember="mask__base-member",b.SmallMemberDnd="mask__small-member-dnd",b.SmallMember="mask__small-member",b.NoAccess="mask__base-no-access"})(o||(o={}));function a(b){let{size:W="base",userType:B="member",isDnd:R=!1,hasNoAccess:j=!1}=b;return j?t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:o.NoAccess,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.542 V0.825 C0.542,0.745,0.587,0.676,0.653,0.642 C0.662,0.481,0.795,0.353,0.958,0.353 C0.972,0.353,0.986,0.354,1,0.356 V0"}))):t.createElement("svg",{className:"sr-only"},B==="slackbot"&&(W==="base"?t.createElement("clipPath",{id:o.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:o.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),B==="ura"&&(W==="base"?R?t.createElement("clipPath",{id:o.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):R?t.createElement("clipPath",{id:o.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:o.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(B==="ra"||B==="external")&&(W==="base"?R?t.createElement("clipPath",{id:o.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):R?t.createElement("clipPath",{id:o.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:o.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),B==="member"&&(W==="base"?R?t.createElement("clipPath",{id:o.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:o.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):R?t.createElement("clipPath",{id:o.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:o.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}c(a,"AvatarMasks");var i=e(9270432170),m=e(9332393661),l=e(2036354333),_=e(1610251172),v=e(9742374352),u=e(3501104594),h=e(698013937),f=e(2855755676),p=e(1563996154),E=e(82287009),g=e(735940183),A=e(485355941),y=e(1060768686),T=e.n(y),M=e(2979422297),O=e.n(M);function I(){return I=Object.assign||function(b){for(var W=1;W<arguments.length;W++){var B=arguments[W];for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(b[R]=B[R])}return b},I.apply(this,arguments)}c(I,"_extends");const D=new g.Ay("avatar"),P={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},L=t.memo(b=>{let{botEmoji:W,canRenderEmoji:B}=b;return W?B?t.createElement(r.Ay,{className:"c-avatar__emoji",text:W,emojiSize:r.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:T(),srcSet:`${O()} 2x`,alt:""}):null});function k(b){let{isExternal:W,teamId:B,team:R,showTooltip:j,badgeIconType:w,badgeIconClassName:N,allowTeamInitials:K=!0}=b;if(w){const J=N?{[N]:!!N}:{};return()=>t.createElement(_.A,{className:(0,n.A)("c-avatar__icon c-avatar__nonteam_icon",{...J}),type:w})}return W&&B?()=>t.createElement(h.A,{className:"c-avatar__icon c-avatar__team_icon",id:B,team:R,size:16,showTooltip:j,allowTeamInitials:K,ariaHidden:!0}):()=>null}c(k,"getCustomBadgeIconRenderer"),k.displayName="getCustomBadgeIconRenderer";const G=c(b=>{let{size:W,userId:B,isAdHocMember:R,botId:j,botProfile:w=void 0,imageUrl:N,imageUrl2x:K,additionalOverlay:J,onClick:Y=void 0,className:q,teamId:H,isExternal:ne=!1,isRestricted:te=!1,isUltraRestricted:le=!1,isInToken:he=!1,isDeleted:Ie=!1,tokenSize:Ee=void 0,memberOrBotName:me=void 0,showTooltip:ce=!1,showCard:X=!1,showBadge:V=!0,showPresence:x=!1,badgeIconType:S=void 0,badgeIconClassName:U=void 0,isInteractive:F=!0,clogLinkClick:Z=s.A,tabIndex:z=0,ariaHidden:$=void 0,team:ee=void 0,botEmoji:de=void 0,canRenderEmoji:ie=void 0,renderCustomBadge:ue=void 0,autoClogProps:fe=void 0,openProfile:re=s.A,showMemberProfileInWindow:_e=s.A,propagateClickEvent:Ue=!1,fromQuipDoc:ye=!1,allowTeamInitials:Te=!0,disableLink:ge=!1,isUserHidden:Ae=!1,onLoad:Re=s.A,onError:Be=s.A,navigate:ke,resetIA:se,userType:ve,isDnd:Me,isSlackbot:be,hasNoAccess:xe,"data-qa":Le,"data-stringify-ignore":Ke}=b;const He=(0,t.useCallback)(gn=>(gn.preventDefault(),F?(Ue||gn.stopPropagation(),Z(),ye||((0,A.Cz)(gn)?_e(B):ke&&B?ke((0,d.Fo)({memberId:B})):re({memberId:B,serviceId:j,botProfile:w})),Y?Y(gn):null):null),[B,j,w,Z,ye,Y,F,ke,re,Ue,_e]),Ye=c(()=>B?`/team/${B}`:j&&!ge?`/services/${j}`:"","getHrefAttr"),Xe=c(()=>K?`${K} 2x`:"","getSrcSetAttribute"),et=c(()=>{if(J){const gn=J>9?"9+":`+${J}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},gn)}return null},"renderAdditionalOverlay");et.displayName="renderAdditionalOverlay";const st=c(gn=>{let{tooltipText:rn,className:ut}=gn,Pt=t.createElement("span",{className:"c-avatar__badge_inner"});ce&&(Pt=t.createElement(p.Ay,{tip:rn},Pt));const Bt=(0,n.A)("c-avatar__badge",ut);return t.createElement("span",{className:Bt},Pt)},"renderBadgeElement");st.displayName="renderBadgeElement";const ot=c(()=>{const gn=Ee?f.n[Ee]:W;if(ue!==void 0&&gn>=32){const rn=ue();if(rn)return rn}if(ue===void 0&&gn>=32){const rn=k({isExternal:ne,teamId:H,team:ee,showTooltip:ce,badgeIconType:S,badgeIconClassName:U,allowTeamInitials:Te})();if(rn)return rn}return x?t.createElement(u.A,{memberId:B,inline:!1,className:"c-avatar__presence",inheritIconSize:!0,hasNoAccess:xe}):le&&gn>=32?st({tooltipText:c(()=>D.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,ut=>{let{text:Pt}=ut;return t.createElement("span",{className:"c-avatar__tooltip_detail"},Pt)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):te&&gn>=32?st({tooltipText:c(()=>D.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,ut=>{let{text:Pt}=ut;return t.createElement("span",{className:"c-avatar__tooltip_detail"},Pt)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");ot.displayName="renderBadgeOrPresence";const ct=c(()=>{let gn=N||K;return Ee?(Ee==="large"&&K&&(gn=K),t.createElement(m.A,{image:gn,classes:"c-base_icon--token",srcSet:Xe(),size:f.n[Ee],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:Re,onError:Be,resetIA:se})):null},"renderTokenAvatar");ct.displayName="renderTokenAvatar";const at=c(()=>N||K?Ee||he?ct():t.createElement(m.A,{image:N||K,size:W,srcSet:Xe(),ariaHidden:!0,widthOnly:!0,onLoad:Re,onError:Be,resetIA:se}):null,"renderImageTag");at.displayName="renderImageTag";const At=c(gn=>{let{fallback:rn=null}=gn,ut=rn;return(N||K)&&(ut=at()),ut},"renderImageOrFallback"),Ct=de?t.createElement(L,{botEmoji:de,canRenderEmoji:ie}):null,Tt=W>26?"base":"small",Rt=ve==="member",It=ve==="ra"||ve==="external",Mt=ve==="ura",nn=t.useMemo(()=>x?xe?o.NoAccess:be&&Tt==="base"?o.BaseHeart:be&&Tt==="small"?o.SmallHeart:Rt&&Tt==="base"&&Me?o.BaseMemberDnd:Rt&&Tt==="base"?o.BaseMember:Rt&&Tt==="small"&&Me?o.SmallMemberDnd:Rt&&Tt==="small"?o.SmallMember:It&&Tt==="base"&&Me?o.BaseGuestDnd:It&&Tt==="base"?o.BaseGuest:It&&Tt==="small"&&Me?o.SmallGuestDnd:It&&Tt==="small"?o.SmallGuest:Mt&&Tt==="base"&&Me?o.BaseSingleChannelGuestDnd:Mt&&Tt==="base"?o.BaseSingleChannelGuest:Mt&&Tt==="small"&&Me?o.SmallSingleChannelGuestDnd:Mt&&Tt==="small"?o.SmallSingleChannelGuest:"":"",[x,Me,Tt,It,Rt,Mt,be,xe]),Ot=(0,n.A)(q,"c-avatar",{"c-avatar--no_image":!(N||K||Ct),"c-avatar--interactive":F&&!R&&!ge,"c-avatar--ad_hoc_member":R,"c-avatar--deleted_member":Ie,"c-avatar--resetIA":se}),bt=Ee?f.n[Ee]:W,Jt={height:`${bt}px`,width:`${bt}px`};let en;j&&(en=F&&Ye());const sn=me&&(F||en)?D.t("View {name}\u2019s Profile",{name:me}):void 0,zt=At({fallback:Ct}),Yt={...Jt,"--avatar-image-size":`${bt}px`},hn=be?"slackbot":ve,Qe=x||V;let Wt=t.createElement(t.Fragment,null,x&&ve&&t.createElement(a,{isDnd:Me,userType:hn,hasNoAccess:xe,size:Tt}),Ae?t.createElement(i.A,{className:q,size:bt}):zt,Qe&&ot(),et());return en?Wt=t.createElement(v.A,{href:en,target:"_blank",rel:"noopener noreferrer",style:Jt,className:Ot,onClick:He,tabIndex:z,"aria-hidden":$,"aria-label":sn,autoClogProps:fe,"data-qa":Le,"data-stringify-ignore":Ke},Wt):F&&!ge?Wt=t.createElement(l.A,{style:Jt,className:Ot,"data-qa":Le,"data-stringify-ignore":Ke,"aria-hidden":$,"aria-label":sn,tabIndex:z,onClick:He,autoClogProps:fe},Wt):Wt=t.createElement("span",I({style:Yt,className:Ot},nn?{"data-mask":nn}:{},{"data-qa":Le,"data-stringify-ignore":Ke,"aria-hidden":$}),Wt),F&&X&&W>=P.medium?(0,E.yN)({memberId:B,serviceId:j,botProfile:w,children:Wt}):Wt},"BaseAvatar");G.displayName="BaseAvatar"},1912114396:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(3134334389),n=e(8300007136),s=e(8642919232),r=e(5212356192),d=e(5267010247),o=e(8822892075),a=e(3275490582),i=e(3244118357),m=e(6052448919),l=e(8170643398),_=e(3534324375),v=e(4562579337),u=e(6536982570),h=e(3824874166),f=e(3339229351),p=e(4724591729),E=e(6415587347),g=e(92812954),A=e(6045540917),y=e(8847766420),T=e(9786721596),M=e(2562405183),O=e(8677230210),I=e(6273556946),D=e(3829348308),P=e(4761125736),L=e(5761207079),k=e(3677514771);function G(){return G=Object.assign||function(R){for(var j=1;j<arguments.length;j++){var w=arguments[j];for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(R[N]=w[N])}return R},G.apply(this,arguments)}c(G,"_extends");const b=(0,t.forwardRef)((R,j)=>{const w=(0,n.wA)();t.useImperativeHandle(j,()=>({props:R}),[R]);const{user:N,userId:K,botId:J,botProfile:Y,size:q,icons:H,emoji:ne,team:te,slackbotFeels:le,isUnknown:he,showPresence:Ie,isExternal:Ee,hasNoAccess:me}=R;let ce=null,X=null,V,x,S,U,F,Z=ne,z,$;const{member:ee,bot:de,memberIsHuman:ie}=(0,M.Z2)(Ke=>(0,O.Od)(Ke,{userId:K,botId:J,botProfile:Y})),{currentTab:ue,channelId:fe}=(0,t.useContext)(r.d),re=N||K||he,_e=re?N||ee:void 0,Ue=_e&&!_e.isUnknown&&!_e.is_unknown,ye=(0,M.d4)(Ke=>(0,P._Z)(Ke,"bot_team_id_from_member")==="on");if(Ue){var Te;J||(z=de==null?void 0:de.id);let Ke;ye?Ke=(0,u.dQ)(_e):Ke=(0,v.A)(_e)?(0,u.D5)(_e):(0,u.dQ)(_e);const He=(0,E.Ay)({size:q,teamOrEnterpriseId:Ke,memberId:_e==null?void 0:_e.id,avatarHash:_e==null||(Te=_e.profile)===null||Te===void 0?void 0:Te.avatar_hash,slackbotFeels:le});ce=He==null?void 0:He.imageUrl,X=He==null?void 0:He.imageUrl2x,V=Ee||(_e==null?void 0:_e.isExternal),x=_e==null?void 0:_e.is_restricted,S=_e.is_ultra_restricted,U=_e.id,F=(0,l.oy)(_e)}$=(0,M.d4)(Ke=>Ue&&V?(0,u.Ux)(Ke,_e):void 0);let ge=re?void 0:H||Y&&Y.icons;if(!re){if(de){ge=ge||de.icons;const Ke=(0,p.Cu)()?I.O:I.U;(de==null?void 0:de.app_id)===Ke&&(ge=(de==null?void 0:de.icons)||ge)}if(!Z&&ge&&(Z=ge.emoji),!Z){const Ke=(0,E.Ay)({size:q,botImages:ge,isBot:!0});ce=Ke.imageUrl,X=Ke.imageUrl2x}}$=(0,M.d4)(Ke=>re?$:(te==null?void 0:te.id)||(0,m.s)(Ke,{bot:de,botProfile:Y,botId:J})||void 0),V=(0,M.d4)(Ke=>re?V:$?$!==(0,y.Kc)(Ke):!1);const Ae=(0,M.d4)(Ke=>{if(Ue)return(0,_.sE)(Ke,_e);if(!re)return(0,i.Hg)(de)}),Re=(0,M.d4)(Ke=>{let He=Z&&$&&(0,D.ux)(Ke,{text:Z,teamId:$});if(!He&&Z&&$===(0,y.Kc)(Ke)){const Ye=(0,k.H7)(Ke),Xe=Ye&&Ye.id;Xe&&Xe!==$&&(He=(0,D.ux)(Ke,{text:Z,teamId:Xe}))}return He}),Be=(0,M.d4)(Ke=>Ie?(0,g.d)(Ke,K):void 0),ke=(0,M.d4)(Ke=>Ie?(0,A.h)(Ke,K):!1);var se;const ve=(se=K??U)!==null&&se!==void 0?se:"",Me=(0,M.d4)(Ke=>ve?(0,L.a)(Ke,ve):!1),be=(0,t.useCallback)(Ke=>w((0,T.U)(Ke)),[w]),xe=(0,t.useCallback)(Ke=>w((0,s.A)(Ke)),[w]),Le=(0,t.useCallback)(Ke=>w(ue&&fe?(0,d.o)((0,o.sL)(Ke,fe,ue.id)):(0,d.o)(Ke)),[w,ue,fe]);return t.createElement(h.f1,G({},R,{userId:K,imageUrl:ce||void 0,imageUrl2x:X||void 0,botEmoji:Z,canRenderEmoji:!!Re,teamId:$,isRestricted:x,isUltraRestricted:S,isDeleted:F,memberOrBotName:Ae,botId:z||J,disableLink:!ie&&(!de||(0,l.v3)(de)),isExternal:V,isUserHidden:Me,userType:Be,isDnd:ke,isSlackbot:K===f.Q$,size:q,openProfile:be,showMemberProfileInWindow:xe,navigate:Le,hasNoAccess:me,showPresence:Ie}))}),W=(0,a.A)(t.memo(b));W.displayName="ConnectedAvatar";const B=W},4775127335:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>s,RG:()=>n.RG,f1:()=>n.f1,fp:()=>n.fp});var t=e(1912114396),n=e(3824874166);const s=t.A},9270432170:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(8683010724);function r(o){let{className:a="",size:i,"data-qa":m}=o;return t.createElement("span",{className:(0,n.A)(a,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":i===16}),style:{width:`${i}px`,height:`${i}px`},"data-qa":m},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(s.A,{size:i<=24?"16":"24",name:"user-hide"})))}c(r,"HiddenUserAvatar"),r.displayName="HiddenUserAvatar";const d=t.memo(r)},8025090314:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(8683010724),s=e(735940183);const r=new s.Ay("members");function d(){return t.createElement("span",{className:"c-hidden_user_icon_and_name "},t.createElement(n.A,{name:"user-hide",inline:!0}),"\xA0",r.t("Name hidden"))}c(d,"HiddenUserIconAndName"),d.displayName="HiddenUserIconAndName";const o=t.memo(d)},9332393661:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(5255740490),s=e(3398586081),r=e(7715417323),d=e(1610251172);const o=(0,s.A)(u=>({height:`${u}px`,width:`${u}px`}));function a(u){let{icon:h,classes:f=null,size:p=20,ariaHidden:E=void 0,ariaRole:g="img",ariaLabel:A=void 0}=u;const y=(0,n.A)("c-base_font_icon",f);return t.createElement("div",{className:y,style:o(p),"aria-hidden":E,role:g,"aria-label":A},t.createElement(d.A,{type:h}))}c(a,"BaseFontIcon"),a.displayName="BaseFontIcon";const i=a,m=(0,s.A)(u=>({height:`${u}px`,width:`${u}px`})),l=(0,s.A)(u=>({width:`${u}px`}));function _(u){let{image:h=void 0,size:f=20,srcSet:p="",classes:E=void 0,icon:g=void 0,ariaHidden:A=!1,ariaRole:y="img",ariaLabel:T=void 0,widthOnly:M=!1,onLoad:O=r.A,onError:I=r.A,resetIA:D,"data-qa":P}=u;if(h&&g)throw Error("Cannot pass in both image and icon!");if(!A&&!T)throw Error("If ariaHidden is false, we must have an ariaLabel for a11y!");const L=(0,n.A)("c-base_icon",E,{"c-base_icon--unknown":!h&&!g,"c-base_icon--image":h,"c-base_icon--resetIA":D});if(g)return t.createElement(i,{icon:g,classes:L,size:f,ariaHidden:A,ariaRole:y,ariaLabel:T});const k=t.createElement("img",{src:h,srcSet:p,className:L,style:M?l(f):m(f),"aria-hidden":A,role:y,"aria-label":T,alt:"",onLoad:O,onError:I,"data-qa":P});return M?t.createElement("span",{className:(0,n.A)("c-base_icon__width_only_container",{"c-base_icon--resetIA":D}),style:m(f)},k):k}c(_,"BaseIcon"),_.displayName="BaseIcon";const v=_},4302969948:(Q,C,e)=>{"use strict";e.d(C,{A:()=>V});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(4481313819),d=e(307717037),o=e(2208015175),a=e(2664504268),i=e(4250078557),m=e(3207321841),l=e(5602423845),_=e(348699080),v=e(7937864072),u=e(5204962244),h=e(6308822),f=e(6244014364),p=e(735940183),E=e(2562405183),g=e(2047021170);const A=new p.Ay("slack_kit_video"),T=(0,t.forwardRef)((x,S)=>{let{src:U,vtt:F,videoPoster:Z,title:z,label:$,autoPlay:ee=!0,enableMediaCaptions:de,onLoadedMetadata:ie,isLoading:ue,setIsLoading:fe,isPlaying:re,setIsPlaying:_e,duration:Ue,setDuration:ye,setElapsed:Te,enableControls:ge=!1,controlsList:Ae,shiftCaptionsUp:Re,setHasError:Be,videoContainerClassName:ke}=x;const se=(0,v.A)(),ve=(0,l.A)(),Me=(0,t.useRef)(null),be=(0,u.d)(a.A),[xe,Le]=(0,t.useState)(!1),Ke=(0,t.useRef)(),He=(0,t.useRef)(0),[Ye,Xe]=(0,t.useState)(null),et=(0,E.d4)(Yt=>(0,g.ty)(Yt,"media_muted"));var st;const ot=(st=(0,E.d4)(Yt=>(0,g.ty)(Yt,"media_volume")))!==null&&st!==void 0?st:1,ct=(0,E.d4)(Yt=>(0,g.ty)(Yt,"media_playback_speed")),at=(0,t.useRef)({});(0,t.useEffect)(()=>{Me.current&&Ye&&(at.current={file_src:Ye,media_type:"video",duration_ms:Ue*1e3,playback_session:be,title:z})},[be,Ye,z,Ue]),(0,t.useEffect)(()=>{fetch(U).then(Yt=>Yt.blob()).then(Yt=>{const hn=URL.createObjectURL(Yt);Xe(hn)}).catch(Yt=>{se.error(`Video player err: ${Yt}`),Be(!0)})},[se,Be,Xe,U]);const At=(0,t.useRef)(!1),Ct=(0,t.useCallback)(()=>{!At.current&&xe&&(Ke.current&&(He.current+=Date.now()-Ke.current,Ke.current=void 0),ve.track(f.EventId.SK_VIDEO_PLAYER,(0,d.A)({},at.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:de?"on":"off",playback_speed:`${ct??1}x`,duration_watched_ms:He.current})),At.current=!0,He.current=0)},[ve,xe,de,ct]),Tt=(0,t.useRef)(Ct);Tt.current=Ct,(0,_.A)(()=>()=>Tt.current(),[]);const Rt=(0,t.useCallback)(()=>{Ct()},[Ct]);(0,t.useEffect)(()=>{if(!Me.current)return;const Yt=c(()=>{re&&_e(!1),fe(!0)},"onWaiting"),hn=c(()=>{fe(!1),_e(!0),ve.track(f.EventId.SK_VIDEO_PLAYER,(0,d.A)({},at.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),xe||(Le(!0),ve.track(f.EventId.SK_VIDEO_PLAYER,(0,d.A)({},at.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),Ke.current=Date.now()},"onPlay"),Qe=c(()=>{_e(!1),fe(!1),ve.track(f.EventId.MEDIA_PLAYER,(0,d.A)({},at.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),Ke.current&&(He.current+=Date.now()-Ke.current,Ke.current=void 0)},"onPause"),Wt=Me.current,gn=c(()=>{if(!Wt.buffered)return;const Pt=Wt.duration||0;ye(Pt)},"onProgress"),rn=c(()=>{fe(!1);const Pt=Wt.duration;ye(Pt),Te(Wt.currentTime)},"onTimeUpdate"),ut=c(()=>{const Pt=Wt.playbackRate;m.Cv.includes(Pt)&&(Wt.playbackRate=Pt)},"handleRateChange");return Wt.addEventListener("waiting",Yt),Wt.addEventListener("progress",gn),Wt.addEventListener("timeupdate",rn),Wt.addEventListener("play",hn),Wt.addEventListener("playing",hn),Wt.addEventListener("pause",Qe),Wt.addEventListener("ratechange",ut),Wt.addEventListener("ended",Rt),()=>{Wt.addEventListener("waiting",Yt),Wt.removeEventListener("progress",gn),Wt.removeEventListener("timeupdate",rn),Wt.removeEventListener("play",hn),Wt.removeEventListener("playing",hn),Wt.removeEventListener("pause",Qe),Wt.removeEventListener("ratechange",ut),Wt.removeEventListener("ended",Rt)}},[Me,ue,re,ye,fe,Te,_e,xe,Le,Rt,ve]),(0,t.useEffect)(()=>{var Yt;const hn=(Yt=Me.current)===null||Yt===void 0?void 0:Yt.textTracks[0];hn&&(hn.mode=de?"showing":"hidden")},[de]),(0,t.useEffect)(()=>{if(de){var Yt,hn;const Qe=(Yt=Me.current)===null||Yt===void 0?void 0:Yt.textTracks[0];if(!Qe)return;const Wt=((hn=Me.current)===null||hn===void 0?void 0:hn.clientWidth)<500?50:80;Qe.mode="hidden",Re?(0,o.A)(Qe==null?void 0:Qe.cues,gn=>{(gn.text.match(/\n/g)||[]).length>=2||gn.text.length>Wt?gn.line=-6:gn.line=-5}):(0,o.A)(Qe==null?void 0:Qe.cues,gn=>{gn.line="auto"}),Qe.mode="showing"}},[de,Re]);const It=(0,t.useCallback)(function(Yt){let hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Me!=null&&Me.current&&(Me.current.currentTime=Yt,hn&&Me.current.play())},[Me]),Mt=(0,t.useCallback)(()=>{Me!=null&&Me.current&&(Me.current.paused?Me.current.play():Me.current.pause())},[Me]),nn=(0,t.useCallback)(()=>{var Yt;Me!=null&&Me.current&&((Yt=Me.current)===null||Yt===void 0||Yt.pause())},[Me]),Ot=(0,t.useCallback)(Yt=>{Me!=null&&Me.current&&(Me.current.muted=Yt)},[Me]),bt=(0,t.useCallback)(Yt=>{Me!=null&&Me.current&&(Me.current.volume=Yt)},[Me]),Jt=(0,t.useCallback)(Yt=>{Me!=null&&Me.current&&m.Cv.includes(Yt)&&(Me.current.playbackRate=Yt)},[Me]);(0,t.useImperativeHandle)(S,()=>({setCurrentTime:It,togglePlayPause:Mt,setMuted:Ot,setVolume:bt,setPlaybackRate:Jt,pause:nn})),(0,t.useEffect)(()=>{et&&Ot(et),ot&&bt(ot),ct&&!ge&&Jt(ct)});const en=(0,t.useCallback)(()=>{var Yt;const hn=(Yt=Me.current)===null||Yt===void 0?void 0:Yt.error;hn&&(Be(!0),se.error(`error code: ${hn.code}, msg: ${hn.message}`))},[Me,se,Be]),sn=(0,t.useCallback)(()=>{fe(!1)},[fe]),zt=(0,n.A)("c-video_player-video-container",ke);return t.createElement("div",{className:zt,"data-media-focus-container":!0,tabIndex:-1},ue&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(h.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:ee,"aria-label":$,className:"c-video_player-video",controls:ge&&!ue?!0:void 0,controlsList:ge?Ae:void 0,title:z,ref:Me,poster:Z,disablePictureInPicture:!0,onLoadedMetadata:ie,onCanPlay:sn,onError:en},Ye&&t.createElement("source",{src:Ye,type:"video/mp4"}),A.t("Your browser does not support the video tag"),F&&t.createElement(i.A,{vtt:F,enableMediaCaptions:de})))});var M=e(5460331959),O=e(3118200703),I=e(8371678613),D=e(3242899446),P=e(4916948857),L=e(3749524846),k=e(6084388622),G=e(8300007136),b=e(9362126998),W=e(2036354333),B=e(5946832122),R=e(8683010724),j=e(2312625946),w=e(387484329);const N=new p.Ay("video_player"),K=c(x=>{let{vtt:S,isInlinePlayer:U,className:F,backgroundStyle:Z}=x;const z=(0,G.wA)(),$=(0,E.d4)(re=>(0,g.ty)(re,"enable_media_captions")),ee=(0,E.d4)(b.y0),de=(0,t.useCallback)(()=>{z((0,w.AZ)({pref:"enable_media_captions",value:!$}))},[z,$]),ie=$&&S?N.t("Turn off captions",{fallbackHash:"c344bd39683fc6566ab53b0d886e93230fd21cbf",fallbackHashNs:"stories_av"}):N.t("Turn on captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"}),ue=N.t("Display captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"});if(!ee)return null;const fe=$?t.createElement(R.A,{name:"closed-caption",variation:"filled",size:"inherit"}):t.createElement(R.A,{name:"closed-caption",size:"inherit"});return t.createElement(j.Ay,{tip:ie,position:"top",delay:j.n1,hideFromScreenReader:!0},U?t.createElement(W.A,{className:(0,n.A)("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":ue,"aria-pressed":$,onClick:de},fe):t.createElement(B.A,{"aria-label":ue,"aria-pressed":$,icon:$?"cc-filled":"cc",onClick:de,size:"medium",className:F,backgroundStyle:Z},"CC"))},"VideoCaptionsButton");K.displayName="VideoCaptionsButton";const J=K;var Y=e(5874162200),q=e(9446966957);function H(){return H=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var U=arguments[S];for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&(x[F]=U[F])}return x},H.apply(this,arguments)}c(H,"_extends");const ne=new p.Ay("video_scrubber"),te=c(x=>{let{elapsed:S,duration:U,setTime:F}=x;const Z=(0,t.useRef)(null);(0,t.useEffect)(()=>{var de;(de=Z.current)===null||de===void 0||de.toggleAttribute("data-no-drag-on-mouse-move",!0)},[Z]);const z=(0,t.useCallback)(de=>t.createElement("div",H({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:Z},de)),[]),$=(0,t.useCallback)(de=>t.createElement("div",H({className:"c-video_player_controls_scrubber__track"},de)),[]),ee=(0,t.useCallback)(de=>t.createElement("div",H({className:"c-video_player_controls_scrubber__elapsed"},de)),[]);return t.createElement(q.A,{value:S,max:U,onChange:F,renderContainer:z,renderTrack:$,renderInner:ee,"aria-label":ne.t("Time scrubber",{currentTime:(0,Y.A)(S),totalTime:(0,Y.A)(U),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,Y.A)(S)})},"VideoControlsScrubber");te.displayName="VideoControlsScrubber";const le=te;var he=e(2024014560);const Ie=new p.Ay("slack_kit_video"),Ee=c(x=>{let{onClickOverlay:S,showControls:U=!0,duration:F,elapsed:Z,setTime:z,isPlaying:$,isLoading:ee,videoRef:de,vtt:ie,setShiftCaptionsUp:ue=s.A,onFullscreenButtonClicked:fe,isFullScreen:re}=x;const _e=(0,t.useContext)(L.A),[Ue,ye]=(0,t.useState)(!1),[Te,ge]=(0,t.useState)(!1),Ae=(0,t.useRef)(null),Re=(0,t.useRef)(null),Be=$?Ie.t("Pause",{fallbackHash:"781961bc81c25697841ecce5d4d9dad9f6b261c6",fallbackHashNs:"stories_av"}):Ie.t("Play",{fallbackHash:"5d12bd53552cafc41ca6146c04870df2e1574e13",fallbackHashNs:"stories_av"}),ke=(0,t.useCallback)(Xe=>{var et,st;const ot=Xe.target,ct=!!(_e&&(!((et=Ae.current)===null||et===void 0)&&et.contains(ot)||!((st=Re.current)===null||st===void 0)&&st.contains(ot)));ge(ct)},[_e]),se=(0,t.useCallback)(Xe=>{var et,st;const ot=Xe.relatedTarget,ct=!!(_e&&(!((et=Ae.current)===null||et===void 0)&&et.contains(ot)||!((st=Re.current)===null||st===void 0)&&st.contains(ot)));ge(ct)},[_e]),{mouseIsOverElement:ve,onMouseLeave:Me,onMouseEnter:be,onMouseMove:xe,onMouseOver:Le}=(0,P.A)(),Ke=(0,t.useCallback)(()=>{be()},[be]);(0,t.useEffect)(()=>{ue(ve)},[ve,ue]);const He=(()=>Z?(0,he.A)(Z*1e3):F?(0,he.A)(F*1e3):Ie.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"call_buttons"}))(),Ye=ee?t.createElement(h.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(R.A,{name:$?"pause":"play",variation:"filled",inline:!0});return U?t.createElement(M.A,null,Xe=>{let{measureRef:et,width:st}=Xe;const ot=st||360,ct=!!(ot&&ot<=330);return t.createElement("div",{className:(0,n.A)("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":Te,"p-video_player_controls_overlay--vertical_volume_active":Ue}),onFocus:ke,onBlur:se,onMouseEnter:Ke,onMouseLeave:Me,onMouseMove:xe,onMouseOver:Le,"data-prevent-fade":"true",role:"group",ref:et},t.createElement(k.Nm,{className:"c-video_player_controls_overlay__button",onClick:S,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:Ae},t.createElement(le,{elapsed:Z,duration:F,setTime:z}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(k.Nm,{className:(0,n.A)("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":$}),"aria-label":Be,"aria-pressed":$,onClick:S},Ye,t.createElement("div",{className:"c-video_player_controls_overlay__time"},He)),t.createElement(D.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:ct,setIsVerticalVolumeActive:ye,videoRef:de}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(I.A,{isInlinePlayer:!0,videoRef:de}),ie&&t.createElement(J,{vtt:ie,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:Re},!re&&fe&&t.createElement(O.A,{classPrefix:"c-video_player",onClick:fe})))}):null},"VideoOverlay");Ee.displayName="VideoOverlay";const me=Ee,ce=new p.Ay("slack_kit_video"),X=c(x=>{let{className:S,styleProps:U,title:F,label:Z,src:z,vtt:$,enableMediaCaptions:ee=!1,autoPlay:de,videoPoster:ie,enableControls:ue=!1,controlsList:fe,bubbleErrorOrLoadingStateToParent:re=s.A,videoContainerClassName:_e}=x;const Ue=(0,t.useRef)(null),[ye,Te]=(0,t.useState)(!1),[ge,Ae]=(0,t.useState)(!1),[Re,Be]=(0,t.useState)(!0),[ke,se]=(0,t.useState)(0),[ve,Me]=(0,t.useState)(0),[be,xe]=(0,t.useState)(!1),Le=(0,E.d4)(Xe=>(0,g.ty)(Xe,"enable_media_captions"))||ee;(0,t.useEffect)(()=>{re&&re({hasError:ge,isLoading:Re})},[ge,Re,re]);const Ke=(0,t.useCallback)(Xe=>{if(Ue!=null&&Ue.current){var et;(et=Ue.current)===null||et===void 0||et.setCurrentTime(Xe,!1)}else se(Xe)},[Ue,se]),He=(0,t.useCallback)((Xe,et)=>{et&&Me(et)},[]),Ye=(0,t.useCallback)(Xe=>{var et;Xe.stopPropagation(),(et=Ue.current)===null||et===void 0||et.togglePlayPause()},[Ue]);return t.createElement(r.A,{clogImpression:!0,eventId:f.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:(0,n.A)("c-video_player",S),style:U},t.createElement(T,{title:F,label:Z,src:z,vtt:$,ref:Ue,autoPlay:de,videoPoster:ie,enableControls:ue,controlsList:fe,setIsLoading:Be,isLoading:Re,isPlaying:ye,setIsPlaying:Te,duration:ve,setDuration:Me,setElapsed:se,onLoadedMetadata:He,enableMediaCaptions:Le,shiftCaptionsUp:be,setHasError:Ae,videoContainerClassName:_e}),ge&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,ce.t("Error loading video. Please try again later."))),t.createElement(me,{onClickOverlay:Ye,elapsed:ke,duration:ve,showControls:!ue,setTime:Ke,isPlaying:ye,isLoading:Re,videoRef:Ue,vtt:$,setShiftCaptionsUp:xe,onFullscreenButtonClicked:s.A,isFullScreen:!1})))},"VideoPlayer");X.displayName="VideoPlayer";const V=t.memo(X)},8533059483:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>o,YC:()=>s});var t=e(3134334389),n=e(5255740490);const s={TopLeft:"top-left",Top:"top",TopRight:"top-right",BottomLeft:"bottom-left",Bottom:"bottom",BottomRight:"bottom-right",LeftTop:"left-top",Left:"left",LeftRight:"left-bottom",RightTop:"right-top",Right:"right",RightBottom:"right-bottom"},r=null;let d=c(class extends t.PureComponent{componentDidMount(){this.forceUpdate()}render(){const{children:i,coachmarkAnchorClassNames:m,coachmarkElement:l,orientation:_,style:v}=this.props,u=(0,n.A)("c-coachmark-anchor",m);return t.createElement("div",{id:"c-coachmark-anchor",ref:this.anchorRef,className:u,style:v},i,l&&t.cloneElement(l,{anchorElement:this.anchorRef.current,orientation:_}))}constructor(i){super(i),this.anchorRef=t.createRef()}},"DeprecatedCoachmarkAnchor");d.displayName="DeprecatedCoachmarkAnchor";const o=d},736397114:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>q});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(307717037),d=e(4505564445),o=e(2664504268),a=e(4481313819),i=e(4902318931),m=e(1466003359),l=e(6258289677),_=e(4244379358),v=e(4821016610),u=e(7447985439),h=e(2683115972);function f(){return f=Object.assign||function(H){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne];for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&(H[le]=te[le])}return H},f.apply(this,arguments)}c(f,"_extends");let p=c(class extends t.PureComponent{componentDidMount(){this.focusOnButton()}focusOnButton(){this.buttonRef.current&&this.buttonRef.current.focus()}render(){const{children:ne,...te}=this.props;return t.createElement(h.Ay,f({ref:this.buttonRef,"data-qa":"coachmark_close_button"},te),ne)}constructor(ne){super(ne),this.buttonRef=t.createRef(),this.focusOnButton=this.focusOnButton.bind(this)}},"DeprecatedCoachmarkCloseButton");p.displayName="DeprecatedCoachmarkCloseButton";const E=p;var g=e(6105929840),A=e(8739505998),y=e(7727419142),T=e(3864748912),M=e(8683010724),O=e(8193414630),I=e(2322735331),D=e(6244014364),P=e(735940183),L=e(8359728598),k=e(9391594207),G=e(4761125736);function b(){return b=Object.assign||function(H){for(var ne=1;ne<arguments.length;ne++){var te=arguments[ne];for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&(H[le]=te[le])}return H},b.apply(this,arguments)}c(b,"deprecated_coachmark_extends");const W=new P.Ay("generic_dialog"),B=(0,L.A)(H=>({qa:H})),R=(0,L.A)((H,ne)=>({overlay:H,content:ne}),2),j=(0,L.A)(H=>[{elementName:`${H}_close_coachmark_button`,action:D.UiAction.CLOSE,onClick:{enableClogAction:!0}},{elementName:`${H}_secondary_cta`,onClick:{enableClogAction:!0}},{elementName:`${H}_primary_cta`,onClick:{enableClogAction:!0}}]),w=c(H=>{H.stopPropagation()},"stopPropagation"),N=c(H=>{(H==null?void 0:H.keyCode)===d.wn&&H.stopPropagation()},"maybeStopPropagation"),K=null;class J extends t.PureComponent{componentDidMount(){this.props.isOpen&&(this.maybeUpdateCoachmarkPosition(),this.pollForChangesToAnchorPosition()),this.props.isMegaphoneCoachmark&&!this.context.isInMegaphoneContainerContext&&(0,m.b)(m.r.DeprecatedCoachmark)}componentDidUpdate(ne){this.props.isOpen&&this.maybeUpdateCoachmarkPosition(),!ne.isOpen&&this.props.isOpen&&this.pollForChangesToAnchorPosition(),ne.isOpen&&!this.props.isOpen&&this.maybeClearInterval()}componentWillUnmount(){this.maybeClearInterval()}onAfterOpen(){const{anchorElement:ne,onAfterOpen:te}=this.props;ne&&(te==null||te(ne))}maybeClearInterval(){this.intervalId&&clearInterval(this.intervalId)}pollForChangesToAnchorPosition(){var ne;this.intervalId=(ne=this.props.windowRef.deref())===null||ne===void 0?void 0:ne.setInterval(this.maybeUpdateCoachmarkPosition,50)}maybeUpdateCoachmarkPosition(){var ne;const{anchorElement:te,forceCoachmarkRefurbish:le,windowRef:he}=this.props;if(!te)return;const Ie=te.getBoundingClientRect(),Ee=((ne=he.deref())===null||ne===void 0?void 0:ne.innerWidth)||0;(!this.lastAnchorPosition||this.lastWindowWidth!==Ee||Ie.x!==this.lastAnchorPosition.x||Ie.y!==this.lastAnchorPosition.y||le&&(Ie.width!==this.lastAnchorPosition.width||Ie.height!==this.lastAnchorPosition.height))&&(this.lastAnchorPosition=Ie,this.lastWindowWidth=Ee,this.forceUpdate())}getComputedStyles(ne,te){const{offsetX:le,offsetY:he,centerOnArrow:Ie,forceCoachmarkRefurbish:Ee,windowRef:me}=this.props,ce=me.deref(),X=ce?ce.scrollX||ce.pageXOffset:0,V=ce?ce.scrollY||ce.pageYOffset:0,x=(ce==null?void 0:ce.innerWidth)||0,S=(ce==null?void 0:ce.innerHeight)||0,U=20,F={};if(Ee){switch(te){case"top-left":F.left=ne.left+le,F.top=ne.top-U+he;break;case"top":F.left=ne.left+le,F.top=ne.top-U+he,Ie&&(F.left+=ne.width/2);break;case"top-right":F.left=ne.left+le,F.top=ne.top-U+he,Ie&&(F.left+=ne.width);break;case"bottom-left":F.left=ne.left+le,F.top=ne.top+ne.height+U+he;break;case"bottom":F.left=ne.left+le,F.top=ne.top+ne.height+U+he,Ie&&(F.left+=ne.width/2);break;case"bottom-right":F.left=ne.left+le,F.top=ne.top+ne.height+U+he,Ie&&(F.left+=ne.width);break;case"left-top":F.left=ne.left+le+U,F.top=ne.top+he;break;case"left":F.left=ne.left+le+U,F.top=ne.top+ne.height/2+he;break;case"left-bottom":F.left=ne.left+le+U,F.top=ne.top+ne.height+he;break;case"right-top":F.left=ne.left+ne.width+U+le,F.top=ne.top+he;break;case"right":F.left=ne.left+ne.width+U+le,F.top=ne.top+ne.height/2+he;break;case"right-bottom":F.left=ne.left+ne.width+U+le,F.top=ne.top+ne.height+he;break;default:(0,O.Kh)(te);break}return F}switch(te){case"top":F.left=ne.left+X+le,F.top=ne.top+V-ne.height+he,Ie&&(F.left+=ne.width/2);break;case"bottom":F.left=ne.left+X+le,F.top=ne.top+V+ne.height+U+he,Ie&&(F.left+=ne.width/2);break;case"right":F.left=ne.left+X+ne.width+U+le,F.top=ne.top+V+ne.height/2+he;break;case"left":F.left=ne.left+X+le,F.top=ne.top+V+ne.height/2+he;break;case"bottom-left":F.right=x-ne.right+le,F.top=ne.top+V+ne.height+U+he;break;case"top-left":F.right=x-ne.right+le,F.bottom=S-ne.top+he,Ie&&(F.left+=ne.width/2);break;case"left-top":F.left=ne.left+X+le,F.top=ne.top+he;break;default:break}return F}renderModalContent(){const{children:ne,closeCoachmark:te,isOpen:le,onClickPrimaryButton:he,onClickSecondaryButton:Ie,onClickTertiaryButton:Ee,primaryCallToActionText:me,secondaryCallToActionText:ce,tertiaryCallToActionText:X,primaryCallToActionType:V,secondaryCallToActionType:x,autoClogProps:S,contentLabel:U,labelledby:F,describedby:Z,hideCloseButton:z,experimentNonModalCoachmarkGroupTreatment:$,enableSectionNavigation:ee}=this.props,de=X||ce||me,[ie,ue,fe]=j(S==null?void 0:S.elementName),re=t.createElement(v.A,null,!z&&t.createElement(g.A,{className:"c-coachmark__close",onClick:te,"aria-label":W.t("Close"),"data-qa":"close_coachmark_button",autoClogProps:ie,autoFocus:!!(U||F||Z)&&!de},t.createElement(M.A,{name:"close",size:"20"})),ne,de&&t.createElement("div",{className:"c-coachmark__footer"},X&&t.createElement(t.Fragment,null,t.createElement(A.A,{onClick:Ee,"data-action-type":"tertiary"},X),t.createElement("div",{className:"flex_one"})),ce&&t.createElement(E,{onClick:Ie,type:x,className:"margin_right_75","data-action-type":"secondary",autoClogProps:ue},ce),me&&t.createElement(E,{onClick:he,type:V,"data-action-type":"primary",autoClogProps:fe},me)));return $?t.createElement(u.A,{id:this.id,index:T.A.SECONDARY_VIEW+.1,focusFn:s.A,onFocus:w,enableSectionNavigation:ee&&le,onKeyDown:N},re):re}render(){const{anchorElement:ne,arrowPosition:te,closeCoachmark:le,coachmarkClassNames:he,overlayClassNames:Ie,modalBodyOpenClassNames:Ee,qa:me,isOpen:ce,orientation:X,centerOnArrow:V,style:x,overlayStyle:S,autoClogProps:U,contentLabel:F,labelledby:Z,describedby:z,forceCoachmarkRefurbish:$,UNSAFE_parentSelector:ee,shouldCloseOnOverlayClick:de,isModal:ie,experimentNonModalCoachmarkGroupTreatment:ue}=this.props;if(!ce||!ne||!this.lastAnchorPosition)return null;const fe=(0,n.A)("c-coachmark",`c-coachmark--${X}`,`c-coachmark--${te}`,{"c-coachmark--center_on_arrow":V,"c-coachmark--refurbish":$},he),re=(0,n.A)("c-coachmark__overlay",Ie),_e=(0,n.A)(Ee),Ue=this.getComputedStyles(this.lastAnchorPosition,X),ye=(0,r.A)({},Ue,x),Te=(0,r.A)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},S),ge={...U};return delete ge.elementName,t.createElement(t.Fragment,null,t.createElement(a.A,b({disableValidationWarnings:!0,enableClogImpressionOffScreen:!0,clogImpression:ce},ge),t.createElement(l.A,b({data:B(me),className:fe,isOpen:ce,onRequestClose:le,overlayClassName:re,bodyOpenClassName:_e,ref:this.contentRef,shouldCloseOnEsc:!0,style:R(Te,ye),contentLabel:F},ue?{ariaHideApp:ie,aria:{labelledby:Z,describedby:z,modal:ie}}:{aria:{labelledby:Z,describedby:z}},{onAfterOpen:this.onAfterOpen,parentSelector:ee,shouldCloseOnOverlayClick:de}),this.renderModalContent())),t.createElement(y.J,{isOverlayOpen:ce}))}constructor(ne){super(ne),this.contentRef=t.createRef(),this.id=`Coachmark_${(0,o.A)()}`,(0,I.v)(this,["maybeUpdateCoachmarkPosition","onAfterOpen"])}}c(J,"DeprecatedBaseCoachmark"),J.displayName="DeprecatedBaseCoachmark",J.defaultProps={arrowPosition:50,closeCoachmark:s.A,qa:"coachmark",offsetX:0,offsetY:0,onClickPrimaryButton:s.A,onClickSecondaryButton:s.A,onClickTertiaryButton:s.A,primaryCallToActionType:"primary",secondaryCallToActionType:"outline",centerOnArrow:!1,autoClogProps:{elementName:"unset"},isMegaphoneCoachmark:!0,shouldCloseOnOverlayClick:!0,isModal:!1,enableSectionNavigation:!0},J.contextType=i.$W;const Y=c(H=>({experimentNonModalCoachmarkGroupTreatment:(0,G._Z)(H,"non_modal_coachmark")==="treatment"}),"mapStateToProps"),q=(0,_.A)((0,k.N)(Y,void 0,void 0,{forwardRef:!0})(J))},9574544148:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(1649982175),s=e(3297051565),r=e.n(s),d=e(9262712126),o=e(8921478798),a=e(3534324375),i=e(735940183),m=e(9391594207),l=e(5761207079);function _(){return _=Object.assign||function(g){for(var A=1;A<arguments.length;A++){var y=arguments[A];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T])}return g},_.apply(this,arguments)}c(_,"_extends");const v=new i.Ay("files"),u={name:r().string.isRequired,isChannelFiles:r().bool,showMemberNameIfHidden:r().bool},h={isChannelFiles:!1,showMemberNameIfHidden:!1},f=c(g=>{const A=(0,n.A)(g,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let y=g.name;if(g.isChannelFiles){const T=g.name;y=v.t("Shared by {memberName}",{memberName:T})}return t.createElement("span",_({},A),y)},"MemberName");f.displayName="MemberName",f.propTypes=u,f.defaultProps=h;const p=c((g,A)=>{const{id:y,member:T,skipPrefCompliance:M,showMemberNameIfHidden:O}=A;if(M)return{name:(0,d.wg)(T)};let I;return!O&&(0,l.a)(g,y)?I=v.t("Name hidden"):I=T?(0,a.sE)(g,T,!1,!1,M,!1):(0,o.I)(g,y,!1,!1,!1,!1),{name:I}},"mapStateToProps"),E=(0,m.N)(p)(f)},6496493732:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(7715417323),s=e(6084388622),r=e(4979382452),d=e(4636370173),o=e(2465132699),a=e(8523371695),i=e(3606117573),m=e(8029613601),l=e(4947127560),_=e(735940183);const v=new _.Ay("generic_dialog"),u=c(f=>{let{title:p,children:E,submitButtonType:g="primary",submitButtonText:A=v.t("Confirm"),submitButtonIsDisabled:y=!1,submitButtonIsLoading:T=!1,showCancelButton:M=!0,showCloseButton:O=!0,showSubmitButton:I=!0,cancelButtonText:D=v.t("Cancel"),onSubmit:P=n.A,onCancel:L=n.A,onClose:k=n.A,"aria-describedby":G,"data-qa":b="dialog",className:W,overlayClassName:B,submitAutoClogProps:R,cancelAutoClogProps:j,shouldReturnFocusAfterClose:w=!0}=f;return t.createElement(r.A,{describedby:G,closeModal:k,role:"dialog",className:W,overlayClassName:B,dataQa:b,shouldReturnFocusAfterClose:w,showCloseButton:O},t.createElement(m.A,null,t.createElement(l.A,{title:p,"data-qa":`${b}_header`})),t.createElement(d.A,null,t.createElement(o.A,{"data-qa":`${b}_body`},E)),(M||I)&&t.createElement(a.A,{"data-qa":`${b}_footer`},t.createElement(i.A,null,M&&t.createElement(s.Ay,{type:"outline",onClick:L,"data-qa":`${b}_cancel`,autoClogProps:j},D),I&&t.createElement(s.lV,{type:g,onClick:P,loading:T,disabled:y,"data-qa":`${b}_go`,autoClogProps:R},A))))},"DialogModalProps");u.displayName="DialogModalProps";const h=u},8661826718:(Q,C,e)=>{"use strict";e.d(C,{A:()=>M,k:()=>E});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(4559887502),d=e(6007206761),o=e(6194667569),a=e(3914799651),i=e(3654840599),m=e(2671211451),l=e(3877384923),_=e(9285382326),v=e(796111729),u=e(4757466470),h=e(9391594207),f=e(9101533895);function p(){return p=Object.assign||function(O){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(O[P]=D[P])}return O},p.apply(this,arguments)}c(p,"_extends");function E(O){return!(0,s.LI)(O)&&!(0,s.yz)(O)}c(E,"shouldUseInlineChannelEntity");const g="INLINE-CHANNEL-ENTITY";function A(O){let{className:I,channel:D,bestFormerName:P,displayFormerNames:L=l.P.false,logger:k,boldIcon:G=!1,showTeam:b=!0,truncate:W=!1,truncateWidth:B,overrideHiddenName:R,overrideHiddenIcon:j,withTruncationTooltip:w,channelNameClassName:N,omitNonExistentTooltip:K,channelHasNonUniqueName:J=!1,showDisambiguatingTeamName:Y=!1}=O;const q=(0,s.t8)(D),H=(0,s.QR)(D||null),ne=(0,t.useCallback)(ce=>{let{className:X,...V}=ce;return(!H||j)&&t.createElement(i.A,p({},V,{bold:G,className:X,channel:D,overrideHiddenIcon:j}))},[D,G,H,j]);if(!E(D||null))return k==null||k.warn(g,"InlineChannelEntity should not display IMs or MPIMs"),null;const te=(0,n.A)(I,"c-inline_channel_entity"),le=(0,d.F)(D)?l.pI.dim:void 0,he=D&&R?{...D,name:R}:D||void 0,Ie=(0,n.A)(N,"c-inline_channel_entity__content"),Ee=J&&Y,me=(q||H)&&!R?t.createElement(_.A,{"data-qa":"inline_channel_entity__missing",type:q?"unknown":"non-existent",size:"small",width:B,omitNonExistentTooltip:K}):t.createElement("span",{className:Ie},t.createElement(o.A,{bold:G,channel:he,bestFormerName:P,displayFormerNames:L,showTeam:b,showTeamForLocalChannel:Ee,width:B,"data-qa":"inline_channel_entity__name",overrideHiddenName:R}));return t.createElement(m.A,{avatar:ne,className:te,"data-qa":"inline_channel_entity","data-channel-id":D&&D.id,style:le,truncate:W,truncateWidth:B,withTruncationTooltip:w,primaryContent:me,secondaryContent:B&&t.createElement(t.Fragment,null,b&&t.createElement(a.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:he,"data-qa":"inline_channel_entity__team"}))})}c(A,"InlineChannelEntity"),A.displayName="InlineChannelEntity";function y(O){return Object.prototype.hasOwnProperty.call(O,"channel")}c(y,"propsContainsChannel");function T(O,I){const D=y(I)?I.channel:(0,f.OL)(O,I.channelId);let P;return I.showDisambiguatingTeamName&&(P=(0,r.i)((0,f.MS)(O),D)),{channel:D,channelHasNonUniqueName:P,logger:(0,v.Ay)({state:O})}}c(T,"mapStateToProps");const M=(0,h.N)(T,null,null,{areStatePropsEqual:u.kt})(A)},5387475318:(Q,C,e)=>{"use strict";e.d(C,{A:()=>I});var t=e(3134334389),n=e(5255740490),s=e(6696292586),r=e(9884588328),d=e(1407713935),o=e(4559887502),a=e(6007206761),i=e(6119417095),m=e(6194667569),l=e(5273017660),_=e(3877384923),v=e(9285382326),u=e(796111729),h=e(735940183),f=e(9391594207),p=e(9101533895),E=e(8286248123);function g(){return g=Object.assign||function(D){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(D[k]=L[k])}return D},g.apply(this,arguments)}c(g,"_extends");const A=new h.Ay("channel_entity"),y="SMALL-CHANNEL-ENTITY";function T(D){let{className:P,channel:L,bestFormerName:k,inlineNameSuffix:G,invert:b=!1,logger:W,displayFormerNames:B=_.P.false,showTeamForLocalChannel:R,showDraftIcon:j=!1,showFilledIcon:w=!1,showTeam:N,memberCount:K,onlyBoldIfUnread:J=!1,showTruncatedChannelNameTooltip:Y=!1,"data-qa":q="small_channel_entity",channelHasNonUniqueName:H=!1,showDisambiguatingTeamName:ne=!1}=D;const te=(0,t.useCallback)(U=>t.createElement(i.A,g({},U,{className:"c-small_channel_entity__icon",channel:L,size:_.RG.small,showDraftIcon:j,showFilledIcon:w})),[L,j,w]);if((0,d.LI)(L)||(0,d.yz)(L))return W==null||W.warn(y,"SmallChannelEntity should not display IMs or MPIMs"),null;const le=(0,n.A)(P,"c-small_channel_entity"),he=!J||(0,r.KJ)(L),Ie=(0,d.t8)(L),Ee=(0,d.QR)(L);let me=(0,a.F)(L)?_.pI.dim:void 0;b&&(me=_.pI.highlightDark);let ce=null;if((0,s.A)(K)){const U=A.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:K,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});ce=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":U},"(",K,")")}const X=H&&ne,V=t.createElement(m.A,{channel:L,bestFormerName:k,inlineNameSuffix:G,displayFormerNames:B,showTeamForLocalChannel:R||X,showTeam:N,bold:!!he}),x=Y?t.createElement(l.CG,{withTruncationTooltip:!0},V):V,S=(0,n.A)("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":Y});return t.createElement(l.Ay,{avatar:te,className:le,"data-qa":q,size:"small",style:me,text:t.createElement(l.CG,null,Ie||Ee?t.createElement(v.A,{type:Ie?"unknown":"non-existent",invert:b,size:"small"}):t.createElement("span",{className:S},x,G&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},G),ce))})}c(T,"SmallChannelEntity"),T.displayName="SmallChannelEntity";function M(D){return Object.prototype.hasOwnProperty.call(D,"channel")}c(M,"propsContainsChannel");function O(D,P){let L;if(P.showMemberCounts){var k;const W=(0,E.q8)(D,M(P)?(0,r.FB)(P.channel):P.channelId);L=W?W==null||(k=W.counts)===null||k===void 0?void 0:k.member_count:null}const G=M(P)?P.channel:(0,p.OL)(D,P.channelId);let b;return P.showDisambiguatingTeamName&&(b=(0,o.i)((0,p.MS)(D),G)),{memberCount:L,channel:G,logger:(0,u.Ay)({state:D,label:y}),channelHasNonUniqueName:b}}c(O,"mapStateToProps");const I=(0,f.N)(O)(T)},5103164797:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5387475318),s=e(2828836153),r=e(3877384923),d=e(9163962844),o=e(9391594207),a=e(9101533895);function i(){return i=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},i.apply(this,arguments)}c(i,"_extends");function m(h,f,p){if(h)return f||p?r.pI.highlightDim:r.pI.highlightDark;if(f||p)return r.pI.dim}c(m,"getBaseStyle");function l(h){let{className:f,secondaryContent:p,isActive:E=!1,isDeactivated:g=!1,isDisabled:A=!1,showUnreadBadge:y=!1,badgeCount:T=0,onlyBoldIfUnread:M=!1,...O}=h,I=p;y&&(I=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},p,t.createElement(d.A,{count:T,className:"c-channel_entity__mentions",style:E?"white":"red"})));const D=m(E,A,g);return t.createElement(s.A,{className:f,primaryContent:t.createElement(n.A,i({invert:D===r.pI.highlightDark,onlyBoldIfUnread:M},O)),secondaryContent:I,size:"small",style:D})}c(l,"SmallChannelListEntity"),l.displayName="SmallChannelListEntity";function _(h){return Object.prototype.hasOwnProperty.call(h,"channel")}c(_,"propsContainsChannel");function v(h,f){const p=_(f)?f.channel:(0,a.OL)(h,f.channelId),E=f.showUnreadBadge?f.badgeCount||(0,a.TJ)(h,p):0;return{channel:p,badgeCount:E}}c(v,"mapStateToProps");const u=(0,o.N)(v)(l)},6119417095:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(890457517),d=e(3877384923),o=e(8683010724),a=e(2562405183);function i(){return i=Object.assign||function(_){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},i.apply(this,arguments)}c(i,"_extends");function m(_){let{size:v=d.RG.medium,className:u,channel:h,showDraftIcon:f=!1,showFilledIcon:p=!1}=_;const E=(0,s.t8)(h),g=(0,a.d4)(A=>(0,r.Ay)(A,h,{filled:p,showDraftIcon:f}));return v!==d.RG.small&&(g.inline=!0),t.createElement("span",{className:(0,n.A)("c-channel_icon",{"c-channel_icon--unknown":E,"c-channel_icon--with-background":v!==d.RG.small},u),"data-channel-type-icon":(g==null?void 0:g.name)||"unknown"},!E&&t.createElement(o.A,i({},v===d.RG.small?{size:"18"}:{},g)))}c(m,"ChannelIcon"),m.displayName="ChannelIcon";const l=m},6194667569:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(3134334389),n=e(5255740490),s=e(9113979368),r=e(6159136815),d=e(9884588328),o=e(6007206761),a=e(395285811),i=e(4630136761),m=e(8393662842),l=e(3634593162),_=e(6839188756),v=e(3914799651),u=e(3654840599),h=e(3877384923),f=e(82287009),p=e(1596328926),E=e(735940183),g=e(9391594207),A=e(937317117),y=e(3677514771);function T(){return T=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var G=arguments[k];for(var b in G)Object.prototype.hasOwnProperty.call(G,b)&&(L[b]=G[b])}return L},T.apply(this,arguments)}c(T,"_extends");const M=new E.Ay("search"),O=new E.Ay("inline_channel");function I(L){const{bestFormerName:k,bold:G=!0,channel:b,channelName:W,overrideHiddenName:B,width:R,displayFormerNames:j=h.P.true,isChannelFrozenAndInGracePeriod:w,showTeam:N=!0,showTeamForLocalChannel:K=!1,showTeamName:J,titleBlocks:Y}=L,q=(0,o.F)(b)&&!w;let H=`${B??W}${q?` ${M.t("(archived)")}`:""}`,ne;if(j)if(k){const le=t.createElement(u.A,{bold:G,className:"c-channel_name__former_channel_icon",channel:b}),he=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(r.A,{text:k,showTooltips:!1}));ne=k&&t.createElement("span",{className:"c-channel_name__suffix"},O.rt(" (formerly {icon}{name})",{icon:le,name:he,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}))}else{let le;const he=(0,d.Hx)(b);if(he&&!(0,s.A)(he)){const Ie=he.map(me=>`#${me}`);le=(0,E.jd)(Ie,{noConj:!0}).join("")}le&&(H+=` ${O.t("(formerly {names})",{names:le,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'})}`)}const te=(0,n.A)("c-channel_entity__name",{"c-channel_entity__name--bold":G});return t.createElement(t.Fragment,null,t.createElement("span",T({className:te},(0,p.A)(L)),Y??t.createElement(t.Fragment,null,t.createElement(r.A,{text:H,showTooltips:!1}),j&&ne)),!R&&t.createElement(t.Fragment,null,N&&t.createElement(v.A,{className:"c-channel_entity__team",iconSize:h.RG.inline,channel:b,"data-qa":"channel_entity__team",shouldRender:K,showTeamName:J})))}c(I,"ChannelName"),I.displayName="ChannelName";function D(L,k){let{channel:G,includeChannelPrefix:b}=k;const W=(0,y.H7)(L)||(0,y.lp)(L),B=(0,_.ZT)(W),R=G&&(0,a.jT)(G)&&(0,l.l)(G.id),j=R?(0,A.Lp)(L,R):void 0,w=j&&(0,m.U9)(j)?(0,f.GU)({id:R,fileId:R,size:"caption",truncate:!1}):null;var N;return{channelName:(N=(0,d.SB)(L,G,{publicChannelIncludeHashSign:!!b,imIncludeAtSign:!1}))!==null&&N!==void 0?N:void 0,titleBlocks:w,isChannelFrozenAndInGracePeriod:(0,i.sP)(B,G)}}c(D,"mapStateToProps");const P=(0,g.N)(D)(I)},3914799651:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(9884588328),r=e(6839188756),d=e(9950739645),o=e(9391594207),a=e(9101533895),i=e(3677514771);let m=c(class extends t.Component{render(){const{shouldRender:u,team:h,className:f}=this.props;return!u||!h?null:t.createElement("div",{className:(0,n.A)("c-channel_team","c-channel_team--xws",f),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,r.F1)(h)))}},"ChannelTeam");m.displayName="ChannelTeam";const l=c((v,u)=>{let{channel:h,channelId:f,shouldRender:p}=u;const E=h||(0,a.OL)(v,f),g=!!(E!=null&&E.context_team_id&&(0,d.B)(v,E.context_team_id));let A;if((0,s.lo)(E))A=(0,i._J)(v,(0,s.bK)(v,E));else if(p||g){const y=(0,s.ne)(v,E);A=(y?(0,i._J)(v,y):void 0)||(0,i.H7)(v)}return{shouldRender:p||g||!!(0,s.lo)(E),team:A??void 0}},"mapStateToProps"),_=(0,o.N)(l)(m)},3654840599:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(5255740490),s=e(1407713935),r=e(890457517),d=e(8683010724),o=e(2562405183);function a(){return a=Object.assign||function(l){for(var _=1;_<arguments.length;_++){var v=arguments[_];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(l[u]=v[u])}return l},a.apply(this,arguments)}c(a,"_extends");const i=c(l=>{let{className:_,filled:v,bold:u,channel:h,disableArchived:f,overrideHiddenIcon:p}=l;const E=(0,o.d4)(A=>p||(0,r.Ay)(A,h,{filled:v||(0,s.Zp)(h),bold:u,disableArchived:f})),g=(0,n.A)(_,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.createElement("span",{className:g,"data-inline-channel-type-icon":E.name},t.createElement(d.A,a({inline:!0},E)))},"InlineChannelIcon");i.displayName="InlineChannelIcon";const m=t.memo(i)},890457517:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>I,PR:()=>M,pH:()=>y});var t=e(5892132962),n=e(9884588328),s=e(1407713935),r=e(6007206761),d=e(395285811),o=e(4630136761),a=e(8393662842),i=e(3634593162),m=e(6839188756),l=e(9101533895),_=e(937317117),v=e(3677514771);const u={name:"archive"},h={name:"archive",variation:"filled"},f={name:"edit"},p={name:"edit",variation:"filled"},E={name:"file"},g={name:"lists"},A={name:"lock"},y={name:"lock",variation:"filled"},T={name:"channel"},M={name:"channel",variation:"filled"},O={name:"canvas"};function I(D,P){let{filled:L,bold:k,disableArchived:G,showDraftIcon:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const W=(0,v.H7)(D)||(0,v.lp)(D),B=(0,m.ZT)(W);if(!(0,o.sP)(B,P)&&((0,r.F)(P)&&!G||(0,o.Zz)(P)))return L?h:u;if(b&&(0,n.yc)(D,P.id))return L?p:f;if((0,d.jT)(P)){const j=(0,_.Lp)(D,(0,i.l)(P.id));if((0,a.wL)(j))return O;if((0,a.aD)(j)){const w=(0,l.Pf)(D,j.id),N=(0,l.OL)(D,w);return(0,s.Zp)(N)||(0,s.JM)(N)?L?y:A:O}return(0,a.l7)(j)?g:E}const R=(0,t.sc)(P);return R||((0,s.Zp)(P)?L?y:A:k?M:T)}c(I,"getChannelIconType")},8581672825:(Q,C,e)=>{"use strict";e.d(C,{A:()=>h});var t=e(3134334389),n=e(4541034515),s=e(8393662842),r=e(7747467459),d=e(8921478798),o=e(1084169413),a=e(3270010894),i=e(735940183),m=e(9391594207),l=e(2047021170);const _=new i.Ay("files");function v(f){let{file:p,time24:E,isChannelFiles:g,useSeparator:A,excludeTime:y,displaySharedBy:T,documentUnfurlTs:M=void 0,name:O,isCreator:I=!1}=f;const D=g||T;let P;const L="\xB7",k="\xA0\xA0";D?P=null:A||M?P=[k,L,k]:P=k;const G=I&&(p!=null&&p.created)?p.created:(0,s.VP)(p);let b,W;if(G){const K=(0,a.Od)(G,{shortenMonth:!0});b=K;let J;if(D)if(K==="Today"||K==="Yesterday"){const q=K.toLowerCase();J=_.t("{newDate}",{newDate:q})}else J=_.t("on {date}",{date:K});else J=K;const Y=y?J:_.t("{date} at {time}",{date:K,time:(0,a.Yq)(G,"{time}",{do24hrTime:E})});W=t.createElement(t.Fragment,null,P,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},Y))}let B=p.bot_id?t.createElement(n.A,{id:p.bot_id,isChannelFiles:D,isWorkflow:!1,"data-qa":"file-entity-metadata-user",className:"margin_right_0"}):t.createElement(o.A,{name:O,isChannelFiles:D,"data-qa":"file-entity-metadata-user",inline:!0,isBold:!1,isCreator:I,className:"margin_right_0"});(0,s.aD)(p)&&p.user==="USLACKBOT"&&(B=t.createElement("span",{className:"margin_right_25"},_.t("Shared")));const R=M&&(0,a.Od)(M,{shortenMonth:!0});let j=!1,w;R&&(R.includes("Today")||R.includes("Yesterday")?w=_.t("Added {readableTs}",{readableTs:R}):w=_.t("Added on {readableTs}",{readableTs:R}),b&&(j=b===R));let N;return w&&(N=t.createElement(t.Fragment,null,P,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},w))),(0,r.A)(p)||(0,s.aK)(p)||(0,s.c4)(p)?null:t.createElement(t.Fragment,null,B,j?t.createElement(t.Fragment,null," ",N):t.createElement(t.Fragment,null," ",W,N))}c(v,"FileEntityUserTimestamp"),v.displayName="FileEntityUserTimestamp";const u=c((f,p)=>({time24:(0,l.ty)(f,"time24"),name:(0,d.I)(f,p.file.user||"",!1,!1,!1,!1)}),"mapStateToProps"),h=(0,m.N)(u)(v)},444524526:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(5255740490),s=e(3750057149),r=e(3037015781),d=e(8170643398),o=e(9262712126),a=e(4562579337),i=e(1084169413),m=e(2671211451),l=e(3877384923),_=e(9391594207),v=e(5761207079),u=e(8276911661),h=e(3146663623);function f(g){const{className:A,forceRealName:y=!1,id:T,member:M,truncate:O=!1,truncateWidth:I,withTruncationTooltip:D=!1,"data-qa":P="inline_member_entity",isBold:L=!0,showAppOrBotBadge:k,isUserHidden:G=!1}=g,b=(0,n.A)(A,"c-inline_member_entity"),W=(0,a.A)(M),B=(0,d.v3)(M),R=(0,d.oy)(M),j=(0,r.lv)(M),w=(0,r.mX)(M),N=(0,o.wg)(M),K=(0,o.Fh)(M);let J;y||!K?J=N:J=K;const Y=R?l.pI.dim:void 0;return t.createElement(m.A,{className:b,"data-qa":P,"data-member-id":T||(M==null?void 0:M.id),style:Y,truncate:O,truncateWidth:I,withTruncationTooltip:D,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(i.A,{isBold:L,name:J,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:W,isWorkflowBot:B,isDeleted:R,isNonExistent:j,isUnknown:w,showAppOrBotBadge:k,isUserHidden:G}))})}c(f,"InlineMemberEntity"),f.displayName="InlineMemberEntity";function p(g,A){let{forceRealName:y,member:T,id:M}=A;const O=T||(0,u.nv)(g,M);return{member:O??void 0,forceRealName:(0,s.A)(y)?y:(0,h.E)(g),isUserHidden:O&&(0,v.a)(g,O.id)}}c(p,"mapStateToProps");const E=(0,_.N)(p)(f)},7076189804:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>k,lP:()=>D});var t=e(3134334389),n=e(5255740490),s=e(2486585453),r=e(3037015781),d=e(9884588328),o=e(8170643398),a=e(9262712126),i=e(3534324375),m=e(4562579337),l=e(4775127335),_=e(1084169413),v=e(1464713483),u=e(51460783),h=e(161084047),f=e(3534100833),p=e(3877384923),E=e(9828955991),g=e(8683010724),A=e(82287009),y=e(9391594207),T=e(9101533895),M=e(5761207079),O=e(8276911661);function I(){return I=Object.assign||function(G){for(var b=1;b<arguments.length;b++){var W=arguments[b];for(var B in W)Object.prototype.hasOwnProperty.call(W,B)&&(G[B]=W[B])}return G},I.apply(this,arguments)}c(I,"_extends");const D={right:"right",bottom:"bottom"};function P(G){const{className:b,id:W,invert:B=!1,member:R,memberPrimaryName:j,memberSecondaryName:w,secondaryContent:N,secondaryContentPosition:K=D.bottom,subtext:J,showSubtext:Y=!0,showAvatar:q=!0,showDraftIcon:H=!1,showPresence:ne=!0,showStatus:te=!0,showTooltip:le=!0,showAppOrBotBadge:he=!0,isDeactivated:Ie=!1,useShortMode:Ee,showHoverCard:me=!1,forwardedRef:ce,"data-sk":X="medium_member_entity","data-qa":V="medium_member_entity",isUserHidden:x=!1,noStatusText:S=!1}=G,U=(0,m.A)(R),F=(0,o.v3)(R),Z=(0,o.oy)(R),z=(0,o.fy)(R),$=(0,o.hh)(R),ee=(0,r.lv)(R),de=(0,r.mX)(R),ie=t.createElement(_.A,{"data-qa":"member-entity__primary-name",name:j,invert:B&&!Ie,isAppOrBot:U,isWorkflowBot:F,showAppOrBotBadge:he,isDeleted:Z,isSelf:z,isNonExistent:ee,isUnknown:de,isUserHidden:x}),ue=(0,A.yN)({memberId:W,children:ie}),fe=!x&&t.createElement(f.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},w),re=R&&t.createElement(h.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,o.rN)(R)),_e=!Z&&!$&&t.createElement(E.Ay,{memberId:W,className:"c-member__presence",invert:B&&!Ie,"data-qa":"member-entity__presence",inline:!1}),Ue=t.createElement(s.A,{memberId:W,tooltip:le,animated:Ee,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:S}),ye=K===D.bottom&&N?t.createElement(u.A,{"data-qa":"member-entity__metadata"},N):null,Te=t.createElement("span",{className:"c-member__primary_content"},me?ue:ie,ne&&_e,!Ee&&fe,te&&Ue),ge=Z||Ie?p.pI.dim:void 0,Ae=(0,n.A)(b,"c-member","c-member--medium",{"c-member--with-presence":ne}),Re=(0,t.useCallback)(Be=>q&&(H?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(g.A,{name:"edit"})):t.createElement(l.Ay,I({},Be,{size:p.RG.medium,userId:W,"data-qa":"member-entity__avatar",isInteractive:!1}))),[q,H,W]);return t.createElement(v.A,{avatar:Re,className:Ae,size:"medium",style:ge,text:Te,subtext:Y&&(J||re),metadata:!Z&&ye,"data-qa":V,"data-sk":X,forwardedRef:ce})}c(P,"MediumMemberEntity"),P.displayName="MediumMemberEntity";function L(G,b){let{id:W,isDraftContext:B,member:R,showStatus:j}=b;const w=R||(0,O.nv)(G,W);let N=!1;if(B&&W){const J=(0,T.Pu)(G,W);N=!!(J&&(0,d.yc)(G,J.id))}const K=W||(w==null?void 0:w.id);return{id:K,member:w??void 0,memberPrimaryName:(0,i.sE)(G,w,!1,!1),memberSecondaryName:(0,a.Mu)(G,w),showDraftIcon:N,showStatus:j&&(0,o.aH)(w),isUserHidden:!!K&&(0,M.a)(G,K)}}c(L,"mapStateToProps");const k=(0,y.N)(L)(P)},4822627003:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5255740490),s=e(9438480351),r=e(7076189804),d=e(2828836153),o=e(3877384923),a=e(2762351398),i=e(9391594207),m=e(8276911661);function l(){return l=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},l.apply(this,arguments)}c(l,"_extends");let _=c(class extends t.Component{render(){const{className:f,isActive:p=!1,isDeactivated:E=!1,isDisabled:g=!1,secondaryContent:A,secondaryContentPosition:y=r.lP.right,showUnreadCount:T=!1,showStatus:M,showPresence:O,useShortMode:I=!1,showHoverCard:D,forwardedRef:P,unreadCount:L,ariaLabel:k}=this.props,G=T&&L&&t.createElement(a.Ay,{className:"c-member__unread_count",count:L,style:a.rY.red}),b=A&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},A),W=(y===r.lP.right&&b||G)&&t.createElement("span",{className:"c-member__secondary_content"},y===r.lP.right&&b,G),B=(0,n.A)(f,"c-medium_member_list_entity");let R;return p?g||E?R=o.pI.highlightDim:R=o.pI.highlightLight:(g||E)&&(R=o.pI.dim),t.createElement(d.A,{"data-qa":"medium_member_list_entity",className:B,style:R,primaryContent:t.createElement(r.Ay,l({},this.props,{secondaryContent:y===r.lP.right?null:A,showStatus:M,showPresence:O,showHoverCard:D,useShortMode:I,forwardedRef:P})),secondaryContent:W,size:"medium",ariaLabel:k})}},"MediumMemberListEntity");_.displayName="MediumMemberListEntity";function v(h,f){let{id:p}=f;const E=(0,m.nv)(h,p);return{member:E??void 0,unreadCount:(0,s.A)(h,E)}}c(v,"mapStateToProps");const u=(0,i.N)(v,null,null,{forwardRef:!0})(_)},5289504844:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>N,Cg:()=>B});var t=e(3134334389),n=e(5255740490),s=e(3750057149),r=e(7278430876),d=e(3037015781),o=e(9884588328),a=e(8170643398),i=e(9438480351),m=e(9262712126),l=e(4562579337),_=e(5096647761),v=e(6536982570),u=e(4775127335),h=e(1084169413),f=e(5273017660),p=e(3534100833),E=e(3877384923),g=e(2762351398),A=e(8028620372),y=e(9828955991),T=e(8683010724),M=e(5484624422),O=e(735940183),I=e(9391594207),D=e(9101533895),P=e(4761125736),L=e(5761207079),k=e(8276911661),G=e(3146663623);function b(){return b=Object.assign||function(K){for(var J=1;J<arguments.length;J++){var Y=arguments[J];for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(K[q]=Y[q])}return K},b.apply(this,arguments)}c(b,"_extends");const W=20,B=16,R=new O.Ay("members");function j(K){const{className:J,id:Y,invert:q=!1,member:H,teamId:ne,showAvatar:te=!0,showDraftIcon:le=!1,showPresence:he=!0,showBadge:Ie=!0,showStatus:Ee=!0,showTooltip:me=!0,showUnreadCount:ce=!1,showDeactivated:X=!0,isDeactivated:V=!1,unreadCount:x,useShortMode:S=!1,forceRealName:U=!1,tokenSize:F,truncateStatus:Z=!1,withTruncationTooltip:z,"data-sk":$="small_member_entity","data-qa":ee="small_member_entity",isBold:de,experimentSidebarPrefsApplyToMenusGroupOn:ie=!1,isUserHidden:ue=!1,hasNoAccess:fe=!1,forceAvatarPresenceIndicator:re=!1}=K,_e=(0,l.A)(H),Ue=(0,a.v3)(H),ye=(0,a.oy)(H),Te=(0,_.g)(H),ge=(0,a.fy)(H),Ae=(0,a.hh)(H),Re=(0,d.lv)(H),Be=(0,d.mX)(H),ke=Re||Be,se=q&&!V,ve=X&&ye,Me=(0,m.wg)(H),be=(0,m.Fh)(H);let xe,Le;ue?(xe=R.t("Name hidden"),Le=R.t("Name hidden")):U||!be?(xe=Me,Le=be):(xe=be,Le=Me);const Ke=t.createElement(h.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:xe,invert:se,isAppOrBot:_e,isWorkflowBot:Ue,isDeleted:ve,isSelf:ge,isNonExistent:Re,isUnknown:Be,withTruncationTooltip:z,isBold:de}),He=!ue&&!Ae&&t.createElement(p.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},Le),Ye=(0,t.useMemo)(()=>!ue&&!ye&&!Ae&&t.createElement(y.Ay,{memberId:Y||(H==null?void 0:H.id),className:"c-member__presence",invert:se,inline:!1}),[ue,ye,Ae,Y,se,H]),Xe=(0,t.useCallback)(Tt=>te?ue?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(T.A,{size:"20",name:"user-hide"})):ke?t.createElement(A.A,b({},Tt,{"data-qa":"member-entity__missing",isNonExistent:Re,size:W})):le?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(T.A,{name:"edit"})):t.createElement(u.Ay,b({},Tt,{"data-qa":"member-entity__avatar",size:E.RG.small,userId:Y,user:H,showBadge:Ie,tabIndex:-1,isInteractive:!1,tokenSize:F,hasNoAccess:fe,showPresence:re})):he&&ie?Ye:null,[te,Y,Re,ke,H,F,le,ue,Ye,he,Ie,ie,fe,re]),et=Te&&t.createElement(M.A,b({},K,{"data-qa":"member-entity__team-icon",id:ne,size:B,className:"c-member__team_icon"})),st=t.createElement(r.A,{memberId:Y||"",tooltip:me,animated:S,className:(0,n.A)("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:Z}),"data-qa":"member-entity__status"}),ot=ce&&!!x&&t.createElement(g.Ay,{className:"c-member__unread_count",count:x,style:se?"white":"red","data-qa":"member-entity__mention-badge"}),ct=t.createElement("span",{className:"c-member__primary_content"},Ke,he&&!ke&&te&&Ye,!S&&He,Ee&&st),at=(et||ot)&&t.createElement("span",{className:"c-member__secondary_content"},et,ot),At=ye&&!q?E.pI.dim:void 0,Ct=(0,n.A)(J,"c-member","c-member--small",{"c-member--with-presence":he,"c-member--deleted":ye,"c-base_entity--dim":ue});return t.createElement(f.Ay,{avatar:Xe,className:Ct,text:ct,size:"small",style:At,subtext:at,"data-qa":ee,"data-sk":$})}c(j,"SmallMemberEntity"),j.displayName="SmallMemberEntity";function w(K,J){let{forceRealName:Y,member:q,id:H,isDraftContext:ne,showStatus:te,onlyBoldIfUnread:le,useShortMode:he,neverBold:Ie}=J;const Ee=q||(0,k.nv)(K,H);let me;const ce=H||(Ee==null?void 0:Ee.id);ce&&(ne||le)&&(me=(0,D.Pu)(K,ce));const X=(0,L.a)(K,ce);let V=!0;X?V=!!he:le?V=!!(me&&(0,o.KJ)(me)):Ie&&(V=!1);let x;return ne&&(x=!!(me&&(0,o.yc)(K,me.id))),{id:H||(Ee==null?void 0:Ee.id),member:Ee??void 0,teamId:(0,v.Ux)(K,Ee),forceRealName:(0,s.A)(Y)?Y:(0,G.E)(K),unreadCount:(0,i.A)(K,Ee),showDraftIcon:x,showStatus:te&&(0,a.aH)(Ee),isBold:V,experimentSidebarPrefsApplyToMenusGroupOn:(0,P._Z)(K,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:X}}c(w,"mapStateToProps");const N=(0,I.N)(w)(j)},8300576667:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(3134334389),n=e(5255740490),s=e(5289504844),r=e(2828836153),d=e(3877384923);function o(){return o=Object.assign||function(m){for(var l=1;l<arguments.length;l++){var _=arguments[l];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(m[v]=_[v])}return m},o.apply(this,arguments)}c(o,"_extends");let a=c(class extends t.Component{render(){const{className:l,id:_,isActive:v=!1,isDeactivated:u=!1,isDisabled:h=!1,isDraftContext:f,showAvatar:p,showBadge:E,showPresence:g,showStatus:A,showTooltip:y,withTruncationTooltip:T,showUnreadCount:M,useShortMode:O,secondaryContent:I,onlyBoldIfUnread:D=!1,forceRealName:P,hasNoAccess:L,forceAvatarPresenceIndicator:k}=this.props;let G;return v?h||u?G=d.pI.highlightDim:G=d.pI.highlightDark:(h||u)&&(G=d.pI.dim),t.createElement(r.A,{className:(0,n.A)(l,"c-small_member_list_entity"),primaryContent:t.createElement(s.Ay,o({id:_,invert:G===d.pI.highlightDark,isDeactivated:u,truncateStatus:!!I,showAvatar:p,showPresence:g,showBadge:E,useShortMode:O,showStatus:A,showTooltip:y,withTruncationTooltip:T,showUnreadCount:M,isDraftContext:f,onlyBoldIfUnread:D,forceRealName:P,hasNoAccess:L,forceAvatarPresenceIndicator:k},this.props)),secondaryContent:I,size:"small",style:G})}},"SmallMemberListEntity");a.displayName="SmallMemberListEntity";const i=a},1084169413:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5255740490),s=e(9509635375),r=e(5273017660),d=e(3229001818),o=e(1596328926),a=e(5734745215),i=e(2562405183),m=e(4761125736);function l(){return l=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},l.apply(this,arguments)}c(l,"_extends");const _=new a.Ay("inline_member");function v(h){const{className:f,multiline:p=!1,inline:E=!1,invert:g=!1,name:A,isSelf:y=!1,isAppOrBot:T=!1,isWorkflowBot:M=!1,showAppOrBotBadge:O=!0,isDeleted:I=!1,isUnknown:D=!1,isNonExistent:P=!1,withTruncationTooltip:L=!1,isBold:k=!0,isUserHidden:G=!1,isChannelFiles:b=!1,isCreator:W=!1,showMemberNameIfHidden:B=!1}=h,R=(0,i.d4)(K=>(0,m._Z)(K,"member_name_channel_files_view_two")==="on");let j;if(D||P)j=t.createElement(d.A,{type:P?"non-existent":"unknown","data-qa":"member_name__missing"});else if(G&&!B)j=_.t("Name hidden");else if(b){const K=R?_.rt("Created by {name}",{name:A}):`Created by ${A}`;j=W?K:_.rt("Shared by {name}",{name:A})}else j=A;const w=(0,n.A)(f,"c-member_name",{"c-member_name--deactivated":I,"c-member_name--inverted":g}),N=k?"strong":"span";return t.createElement(r.CG,l({className:w,multiline:p,inline:E,withTruncationTooltip:L},(0,o.A)(h)),t.createElement(N,{"data-qa":"member_name"},j,y&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},_.t("(you)")),I&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},_.t("(deactivated)")),(T||M)&&O&&t.createElement(s.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:g,isWorkflow:M})))}c(v,"MemberName"),v.displayName="MemberName";const u=v},8460568133:(Q,C,e)=>{"use strict";e.d(C,{A:()=>he});var t=e(3134334389),n=e(5255740490),s=e(3297051565),r=e.n(s),d=e(2562405183),o=e(5795074931),a=e(6989432693),i=e(735940183);const m=new i.Ay("channel_token"),l=10,_=c(Ie=>{let{memberIds:Ee}=Ie;var me;const ce=(me=(0,d.d4)(o.WR))!==null&&me!==void 0?me:void 0;let X=Ee.map((V,x)=>t.createElement(a.A,{key:V,userId:V,isFirst:x===0,isSelf:ce===V}));return Ee.length>l+1&&(X=X.slice(0,l).concat(m.rt("{count} others",{count:Ee.length-l}))),t.createElement(t.Fragment,null,(0,i.jd)(X))},"TooltipMemberNames");_.displayName="TooltipMemberNames";const v=_;var u=e(3037015781),h=e(9884588328),f=e(4775127335),p=e(5146991437),E=e(8170643398),g=e(3534324375),A=e(4562579337),y=e(1084169413),T=e(3877384923),M=e(8028620372),O=e(9391594207),I=e(8276911661);const D=20,P={id:r().string.isRequired,invert:r().bool,isDeactivated:r().bool,isHidden:r().bool,member:r().object,memberPrimaryName:r().string},L={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},k=t.forwardRef((Ie,Ee)=>{const{id:me,invert:ce,member:X,memberPrimaryName:V,isDeactivated:x,isHidden:S}=Ie,U=(0,A.A)(X),F=(0,E.v3)(X),Z=(0,E.oy)(X),z=(0,u.lv)(X),$=(0,u.mX)(X),ee=z||$,de=ce&&!x,ie=t.createElement(y.A,{"data-qa":"mpim-entity__name",name:V,invert:de,isAppOrBot:U,isWorkflowBot:F,isDeleted:Z,isNonExistent:z,isUnknown:$});let ue;ee?ue=t.createElement(M.A,{isNonExistent:z,size:D}):ue=t.createElement(f.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:T.RG.small,userId:me,tabIndex:-1,isInteractive:!1});const fe=(0,n.A)("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":Z,"c-small_mpim_entity__member--hidden":S});return t.createElement("div",{className:fe,"data-id":me,ref:Ee},ue,ie)});k.propTypes=P,k.defaultProps=L;function G(Ie,Ee){let{id:me}=Ee;const ce=(0,I.nv)(Ie,me);return{member:ce,memberPrimaryName:(0,g.sE)(Ie,ce,!1,!1)}}c(G,"mapStateToProps");const b=(0,O.N)(G,null,null,{forwardRef:!0})(k);var W=e(5273017660),B=e(2762351398),R=e(2312625946),j=e(8170659516),w=e(3852424459),N=e(9101533895),K=e(3328068409),J=e(4761125736);function Y(){return Y=Object.assign||function(Ie){for(var Ee=1;Ee<arguments.length;Ee++){var me=arguments[Ee];for(var ce in me)Object.prototype.hasOwnProperty.call(me,ce)&&(Ie[ce]=me[ce])}return Ie},Y.apply(this,arguments)}c(Y,"_extends");const q=T.RG.small,H={className:r().string,"data-qa":r().string,"data-sk":r().string,mpim:r().object,id:r().string,invert:r().bool,isDeactivated:r().bool,memberIds:r().array,isActive:r().bool,clientTheme:r().oneOf(["light","dark"]),matchData:r().array,onlyBoldIfUnread:r().bool,showUnreadBadge:r().bool,unreadCount:r().number,shortenTooltipContents:r().bool,showAvatar:r().bool,experimentSidebarPrefsApplyToMenusGroupOn:r().bool},ne={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,experimentSidebarPrefsApplyToMenusGroupOn:!1};function te(Ie){let{className:Ee,"data-qa":me,"data-sk":ce,id:X,invert:V,isDeactivated:x,mpim:S,memberIds:U,isActive:F,clientTheme:Z,matchData:z,onlyBoldIfUnread:$,showUnreadBadge:ee,unreadCount:de,shortenTooltipContents:ie,showAvatar:ue,experimentSidebarPrefsApplyToMenusGroupOn:fe}=Ie;const re=(0,u.lv)(S),_e=(0,u.mX)(S),Ue=(0,h.N4)(S),ye=X||(S==null?void 0:S.id),Te=V&&!x,ge=ee&&!!de&&t.createElement(B.Ay,{className:"c-member__unread_count",count:de,style:Te?"white":"red","data-qa":"member-entity__mention-badge"}),Ae=ge&&t.createElement("span",{className:"c-member__secondary_content"},ge),Re=(0,t.useCallback)(ve=>{if(re||_e)return t.createElement(M.A,Y({},ve,{isNonExistent:re,size:q,invert:Te}));const Me=U==null?void 0:U[0];return t.createElement("span",{className:(0,n.A)("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",Ee,{"c-small_mpim_entity__mpim_avatars--inverted":Te,[`c-small_mpim_entity__mpim_avatars--${Z}`]:Z!=="light"})},ue&&t.createElement(f.Ay,{userId:Me,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:(0,n.A)("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!ue&&fe}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},Ue)))},[Ee,Z,re,_e,Ue,Te,U,ue,fe]),Be=(0,t.useCallback)(()=>{let ve;return ie?ve=t.createElement(v,{memberIds:U}):ve=U.map(Me=>t.createElement(b,{id:Me,key:Me})),t.createElement(t.Fragment,null,ve)},[U,ie]);let ke=x?T.pI.dim:null;Te&&(ke=T.pI.highlightDark);const se=t.createElement(W.Ay,{"data-id":ye,"data-qa":me,"data-sk":ce,avatar:Re,className:Ee,size:"small",style:ke,subtext:Ae,text:t.createElement(p.A,{"data-qa":"name",id:ye,mpim:S,invert:Te,matchData:z,onlyBoldIfUnread:$})});return t.createElement(R.Ay,{tip:Be(),tipClassName:ie?"":"c-small_mpim_entity__tooltip",position:"top-right",shouldForceVisible:F,shouldOnlyShowWhenTruncated:F,zIndex:"above_fs"},t.createElement("div",null,se))}c(te,"SmallMpimEntity"),te.displayName="SmallMpimEntity",te.propTypes=H,te.defaultProps=ne;function le(Ie,Ee){let{id:me,mpim:ce,matchData:X}=Ee;const V=ce||(0,N.OL)(Ie,me),x=(0,w.B)(Ie,me),S=(0,J._Z)(Ie,"sidebar_prefs_apply_to_menus")==="on",U=(0,j.A)({state:Ie,mpim:V,matchData:X}),F=(0,K.to)(Ie),Z=(0,h.kR)(V,x);return{mpim:V,experimentSidebarPrefsApplyToMenusGroupOn:S,memberIds:U,clientTheme:F,unreadCount:Z}}c(le,"small_mpim_entity_mapStateToProps");const he=(0,O.N)(le)(te)},5146991437:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(9867500491),s=e(1703559452),r=e(3297051565),d=e.n(r),o=e(3037015781),a=e(9884588328),i=e(5273017660),m=e(7026348746),l=e(8170659516),_=e(9391594207),v=e(9101533895),u=e(8276911661);const h=4,f={className:d().string,mpim:d().object,multiline:d().bool,name:d().string,isAnyMemberUnknown:d().bool,invert:d().bool,inline:d().bool,onlyBoldIfUnread:d().bool},p={className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1,inline:void 0,onlyBoldIfUnread:!1};function E(y){let{className:T,mpim:M,multiline:O,name:I,invert:D,isAnyMemberUnknown:P,inline:L,onlyBoldIfUnread:k}=y;const G=(0,o.lv)(M),b=(0,o.mX)(M),W=(0,a.N4)(M),B=!k||(0,a.KJ)(M);let R;return b||G||P?R=(0,n.A)(W||h).map(j=>t.createElement(m.A,{key:j,className:"c-mpim_entity__missing_text",isNonExistent:G,size:"random",invert:D})):R=B?t.createElement("strong",{"data-qa":"mpim_name"},I):t.createElement("span",{"data-qa":"mpim_name"},I),t.createElement(i.CG,{className:T,multiline:O,breakWords:!1,inline:L},R)}c(E,"MpimName"),E.displayName="MpimName",E.propTypes=f,E.defaultProps=p;const g=c((y,T)=>{let{id:M,mpim:O,matchData:I}=T;const D=O||(0,v.OL)(y,M),P=(0,l.A)({state:y,mpim:D,matchData:I}),L=P&&P.map(b=>(0,u.nv)(y,b)),k=(0,s.A)(L,o.GU),G=(0,a.Xx)(y,D,P);return{mpim:D,name:G,isAnyMemberUnknown:k}},"mapStateToProps"),A=(0,_.N)(g)(E)},51460783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(1596328926);function r(){return r=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(a[l]=m[l])}return a},r.apply(this,arguments)}c(r,"_extends");function d(a){const{children:i,className:m}=a;return i?t.createElement("span",r({className:(0,n.A)(m,"c-base_entity__metadata")},(0,s.A)(a)),i):null}c(d,"BaseEntityMetadata"),d.displayName="BaseEntityMetadata";const o=d},161084047:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(1596328926);function r(){return r=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(a[l]=m[l])}return a},r.apply(this,arguments)}c(r,"_extends");function d(a){const{children:i,className:m}=a;return i?t.createElement("span",r({className:(0,n.A)(m,"c-base_entity__subtext")},(0,s.A)(a)),i):null}c(d,"BaseEntitySubtext"),d.displayName="BaseEntitySubtext";const o=d},3534100833:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(8011352381),r=e(1596328926);function d(){return d=Object.assign||function(i){for(var m=1;m<arguments.length;m++){var l=arguments[m];for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(i[_]=l[_])}return i},d.apply(this,arguments)}c(d,"_extends");function o(i){const{children:m=null,className:l="",multiline:_=!1,inline:v=!1,breakWords:u=!0,withTruncationTooltip:h=!1}=i;if(!m)return null;const f=_?2:1;return v?t.createElement("span",d({className:(0,n.A)(l,"c-base_entity__text")},(0,r.A)(i)),m):t.createElement("span",d({className:(0,n.A)(l,"c-base_entity__text")},(0,r.A)(i)),t.createElement(s.A,{lines:f,breakWords:u,withTooltip:h},m))}c(o,"BaseEntityText"),o.displayName="BaseEntityText";const a=o},1464713483:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3877384923),d=e(1596328926);function o(){return o=Object.assign||function(_){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},o.apply(this,arguments)}c(o,"_extends");const a=c((_,v,u,h)=>!(_!==r.ny.medium||!u||h||v),"shouldVerticallyCenter"),i={className:"c-base_entity__avatar"},m=c(_=>{const{size:v,style:u=r.pI.normal,text:h=null,className:f="",subtext:p=null,avatar:E=s.A,metadata:g=null,forwardedRef:A=null}=_,y=E(i),T=!!y;return t.createElement("div",o({className:(0,n.A)(f,"c-base_entity",`c-base_entity--${v}`,{"c-base_entity--has-avatar":T,"c-base_entity--dim":u===r.pI.dim,"c-base_entity--vertically-center":a(v,p,T,g)})},(0,d.A)(_),{ref:A}),y,t.createElement("div",{className:"c-base_entity__text-contents"},h,p,g))},"BaseEntity");m.displayName="BaseEntity";const l=m},5273017660:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d,CG:()=>r.A,Q:()=>n.A,sT:()=>s.A});var t=e(1464713483),n=e(51460783),s=e(161084047),r=e(3534100833);const d=t.A},2671211451:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(8011352381),d=e(3877384923),o=e(1596328926);function a(){return a=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f])}return v},a.apply(this,arguments)}c(a,"_extends");const i=c(v=>{let{children:u,truncate:h=!1,truncateWidth:f,withTruncationTooltip:p=!1}=v;const E=(0,t.useMemo)(()=>({maxWidth:f||void 0}),[f]);if(!h)return t.createElement("span",null,u);let g;return f?g=t.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:E},u):g=t.createElement("span",null,t.createElement(r.A,{lines:1,withTooltip:p},u)),g},"MaybeTruncate");i.displayName="MaybeTruncate";const m={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let l=c(class extends t.Component{render(){const{className:u,avatar:h=s.A,primaryContent:f,secondaryContent:p,style:E=d.pI.normal,truncate:g=!1,truncateWidth:A,withTruncationTooltip:y=!1}=this.props,T=h(m),M=!!T;return t.createElement("span",a({className:(0,n.A)(u,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":M,"c-base_inline_entity--truncate_block":g&&!A,"c-base_inline_entity--truncate_inline":g&&A,"c-base_inline_entity--dim":E===d.pI.dim,"c-base_inline_entity--highlight-dark":E===d.pI.highlightDark,"c-base_inline_entity--highlight-dim":E===d.pI.highlightDim,"c-base_inline_entity--highlight-light":E===d.pI.highlightLight})},(0,o.A)(this.props)),t.createElement(i,{truncate:g,truncateWidth:A,withTruncationTooltip:y},T,t.createElement("span",{className:"c-base_inline_entity__primary_content"},f),p&&t.createElement("span",{className:"c-base_inline_entity__secondary_content"},p)))}},"BaseInlineEntity");l.displayName="BaseInlineEntity";const _=l},2828836153:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(3877384923),r=e(1596328926);function d(){return d=Object.assign||function(i){for(var m=1;m<arguments.length;m++){var l=arguments[m];for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(i[_]=l[_])}return i},d.apply(this,arguments)}c(d,"_extends");let o=c(class extends t.Component{render(){const{className:m,ariaLabel:l,primaryContent:_,secondaryContent:v,size:u=s.ny.medium,style:h=s.pI.normal,padding:f=s.FK.normal}=this.props;return t.createElement("div",d({className:(0,n.A)(m,"c-base_list_entity",`c-base_list_entity--${u}`,{"c-base_list_entity--dim":h===s.pI.dim,"c-base_list_entity--highlight-dark":h===s.pI.highlightDark,"c-base_list_entity--highlight-dim":h===s.pI.highlightDim,"c-base_list_entity--highlight-light":h===s.pI.highlightLight,"c-base_list_entity--no-pad":f===s.FK.none})},(0,r.A)(this.props),{"aria-label":l}),t.createElement("div",{className:"c-base_list_entity__primary_content"},_),v&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},v))}},"BaseListEntity");o.displayName="BaseListEntity";const a=o},5415825258:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(5255740490),s=e(6839188756),r=e(2023092677),d=e(5273017660),o=e(3877384923),a=e(4816967449),i=e(8683010724),m=e(735940183),l=e(9391594207),_=e(8847766420),v=e(3677514771),u=e(1835177371);function h(){return h=Object.assign||function(A){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(A[M]=T[M])}return A},h.apply(this,arguments)}c(h,"_extends");const f=new m.Ay("user_group_entity");function p(A){let{className:y,invert:T,showDescription:M=!0,userGroup:O,userGroupTeamName:I,isDeactivated:D}=A;const P=D||!(0,r.V1)(O),L=(0,t.useCallback)(j=>t.createElement("span",{className:"margin_right_50"},t.createElement(i.A,h({},j,{name:"user-groups",size:"18"}))),[]);if((0,r.t8)(O)||(0,r.QR)(O)){const j=(0,n.A)("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":T});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:j},t.createElement(i.A,{name:"user-groups",size:"18"})),t.createElement(a.A,{type:(0,r.t8)(O)?"unknown":"non-existent",invert:T}))}const k=(0,r.ue)(O),G=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},k),b=(0,r.Br)(O),W=I&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},I)),B=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",f.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:b}),")"),W);let R;return P?R=o.pI.dim:T&&(R=o.pI.highlightDark),t.createElement(d.Ay,{avatar:L,className:y,size:"small",style:R,text:t.createElement(d.CG,null,G,M&&B),"data-usergroup-id":O.id})}c(p,"SmallUserGroupEntity"),p.displayName="SmallUserGroupEntity";const E=c((A,y)=>{let{id:T,userGroup:M}=y;const O=M||(0,u.lJ)(A,T),I=(0,_.ZT)(A),D=(0,r.$Q)(O),P=D!==I&&(0,s.F1)((0,v._J)(A,D));return{userGroup:O,userGroupTeamName:P}},"mapStateToProps"),g=(0,l.N)(E)(p)},3877384923:(Q,C,e)=>{"use strict";e.d(C,{FK:()=>s,P:()=>d,RG:()=>t,ny:()=>r,pI:()=>n});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},n={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},s={normal:"12px",none:"0"},r={small:"small",medium:"medium"},d={true:!0,bestOnly:"best_only",false:!1}},3989454579:(Q,C,e)=>{"use strict";e.d(C,{A:()=>u});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),d=e(3753517560),o=e(2201208793),a=e(4882164428),i=e(6244014364),m=e(2595238443),l=e(8869734951);function _(){return _=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(h[E]=p[E])}return h},_.apply(this,arguments)}c(_,"_extends");const v=t.forwardRef((h,f)=>{let{className:p,isRequired:E=!1,"aria-disabled":g,indeterminate:A=!1,checked:y,hasKeyboardFocus:T,unstyled:M,autoClogProps:O,onChange:I,focusOnMount:D,...P}=h;const L=(0,t.useRef)(null),[k,G]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(A&&y==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");L.current&&(L.current.indeterminate=A)},[y,A]),(0,t.useEffect)(()=>{if(D){var N;(N=L.current)===null||N===void 0||N.focus()}},[D]);const b=(0,t.useCallback)(N=>{y===void 0&&O&&G(N.target.checked),I==null||I(N)},[O,y,I]),W=(0,a.f)(o.j.Checkbox),B=M?(0,n.A)("c-input_unstyled_checkbox",p,W,{"c-input_unstyled_checkbox--focus-visible":T,"c-input_unstyled_checkbox--checked":y}):(0,n.A)("c-input_checkbox",p,W,{"c-input_checkbox--focus-visible":T,"c-input_checkbox--disabled":g}),R=t.createElement("input",_({},P,(0,m.A)(P),{"aria-disabled":g,"aria-checked":A?"mixed":void 0,checked:y,type:"checkbox",required:E,className:B,ref:(0,l.P)(L,f),onChange:g?s.A:b})),j=y!==void 0?y:k,w=(0,t.useMemo)(()=>({onChange:{action:j?i.UiAction.UNCHECK:i.UiAction.CHECK}}),[j]);return O?t.createElement(r.A,{autoClogProps:O,actionProps:w,elementType:i.ElementType.CHECKBOX},R):R});v.displayName="Checkbox";const u=(0,d.A)(v)},5797272849:(Q,C,e)=>{"use strict";e.d(C,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},3391133100:(Q,C,e)=>{"use strict";e.d(C,{Es:()=>s,Yk:()=>d,r7:()=>a,r9:()=>r,zI:()=>o});var t=e(735940183);const n=new t.Ay("form_inputs");function s(i,m){return`${i}_${m}`}c(s,"getInputBuddyId");function r(){return Math.random().toString(36).substring(2,10)}c(r,"getRandomId");const d=c(i=>{const m=i.filter(l=>l);if(m.length!==0)return m.join(" ")},"makeAriaComboIds"),o=c(i=>n.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:i}),"getMaximumCharacterErrorText"),a=c(i=>n.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:i}),"getMinimumCharacterErrorText")},2660476100:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389),n=e(5255740490);function s(r){let{children:d,className:o,id:a}=r;return d?t.createElement("div",{className:(0,n.A)("c-hint",o),id:a},d):null}c(s,"Hint")},7138682671:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,Q:()=>o});var t=e(3134334389),n=e(5255740490),s=e(735940183);function r(){return r=Object.assign||function(l){for(var _=1;_<arguments.length;_++){var v=arguments[_];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(l[u]=v[u])}return l},r.apply(this,arguments)}c(r,"_extends");const d=new s.Ay("app_dialog"),o={block:"block",inline:"inline"};var a;let i=c(class extends(a=t.Component){getCursor(){const{cursor:_,htmlFor:v,isDisabled:u}=this.props;return u?null:typeof _>"u"&&v?"pointer":_}renderOptionalTextMaybe(){const{optional:_}=this.props,v=d.t("(optional)");return _?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},v):null}renderSubtextMaybe(){const{subtext:_}=this.props;return _?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},_):null}render(){const{className:_,cursor:v,htmlFor:u,optional:h,subtext:f,text:p,type:E,isDisabled:g,dataQaLabel:A,...y}=this.props,T=(0,n.A)("c-label",_,{"c-label--block":E===o.block,"c-label--inline":E===o.inline,"c-label--with_subtext":f,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":g,"c-label--with_formatted_text":typeof p!="string"});return t.createElement("label",r({},y,{htmlFor:u,className:T,"data-qa-label":A,"data-qa-label-type":E}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},p,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");i.displayName="Label",i.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"};const m=i},5375115868:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(3134334389),n=e(5255740490),s=e(5617110048),r=e(6244014364);function d(){return d=Object.assign||function(m){for(var l=1;l<arguments.length;l++){var _=arguments[l];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(m[v]=_[v])}return m},d.apply(this,arguments)}c(d,"_extends");const o={onChange:{action:r.UiAction.CLICK}};let a=c(class extends t.PureComponent{componentDidMount(){const{focusOnMount:l,autoFocus:_}=this.props;(l||_)&&this.focus()}componentDidUpdate(){const{autoFocus:l}=this.props;l&&this.focus()}focus(){var l;(l=this.inputRef.current)===null||l===void 0||l.focus()}render(){const{className:l,autoClogProps:_,autoFocus:v,focusOnMount:u,...h}=this.props,f=(0,n.A)("c-input_radio",l),p=t.createElement("input",d({},h,{className:f,ref:this.inputRef,type:"radio"}));return _?t.createElement(s.A,{autoClogProps:_,actionProps:o,elementType:r.ElementType.RADIO},p):p}constructor(l){super(l),this.inputRef=t.createRef()}},"Radio");a.displayName="Radio",a.defaultProps={autoFocus:!1};const i=a},9205344153:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(3134334389),n=e(5255740490),s=e(3708320478),r=e(5166368300),d=e(2322735331),o=e(3514889545),a=e(735940183);const i=new a.Ay("form_inputs"),m={inline:"inline",multiline:"multiline"},l=c((p,E)=>p>E,"isCurrentCountInvalid"),_=c((p,E)=>E-p,"getCharacterCount"),v=c((p,E,g)=>!g||p>=g?_(p,E):"","getCharacterCountDisplay"),u=c(p=>p.toString().length,"getCharacterCountLength");let h=c(class extends t.Component{getSnapshotBeforeUpdate(E){if(E.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const g=_(this.props.currentCount,this.props.maxCharacterLimit),A=u(g);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==A&&this.setCharacterCountLength(A)}return null}componentDidUpdate(E,g){this.props.type===m.inline&&g.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(E){this.setState(()=>({characterCountLength:E}))}setCharactersRemainingMessage(E,g){const A=this.makeCharactersRemainingMessage(E,g);this.setState(()=>({charactersRemainingMessage:A}))}setCharactersRemainingRef(E){this.charactersRemainingElement=E}makeCharactersRemainingMessage(E,g){const A=_(E,g);return i.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:A})}measureCountWidth(){const E=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=E,E}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:E,maxCharacterLimit:g,counterMinimumCharacters:A}=this.props,y=v(E,g,A);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},y)}render(){const{className:E,currentCount:g,maxCharacterLimit:A,children:y,isDisabled:T,size:M,type:O,id:I}=this.props,D=(0,n.A)(E,"c-input_character_count",{"c-input_character_count--multiline":O===m.multiline,"c-input_character_count--large":M===r.F.large,"c-input_character_count--small":M===r.F.small,"c-input_character_count--invalid":this.state.hasFocus&&l(g,A),"c-input_character_count--disabled":T}),P=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:I,hidden:!0},this.state.charactersRemainingMessage);let L;return this.shouldReadCharactersRemainingMessage||(L=t.createElement(s.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:D,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},y,this.renderCharactersRemaining(),L,P)}constructor(E){super(E);const g=this.makeCharactersRemainingMessage(E.currentCount,E.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:g,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,(0,d.v)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,o.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");h.displayName="CharacterCount",h.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:m.inline,size:r.F.medium,counterMinimumCharacters:0,id:void 0};const f=h},2219904496:(Q,C,e)=>{"use strict";e.d(C,{A:()=>P});var t=e(3134334389),n=e(5255740490),s=e(2003990933),r=e(7715417323),d=e(581167618),o=e(3391133100),a=e(2660476100),i=e(9205344153),m=e(5166368300),l=e(1610251172);const _={small:"small",medium:"medium",large:"large"},v=c(L=>{let{size:k,icon:G,children:b}=L;const W=(0,n.A)("c-input_text_icon",{"c-input_text_icon--small":k===_.small,"c-input_text_icon--large":k===_.large}),B=(0,n.A)("c-input_text_icon__icon",{"c-input_text_icon__icon--small":k===_.small,"c-input_text_icon__icon--large":k===_.large});return t.createElement("div",{className:W},t.createElement(l.A,{type:G,className:B,size:"inherit"}),b)},"TextInputIcon");v.displayName="TextInputIcon";const u=t.memo(v);let h=c(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:k,prefix:G,suffix:b}=this.props,W=(0,n.A)("c-input_text_overlay",{"c-input_text_overlay--large":k===m.F.large},this.props.className);return t.createElement("div",{className:W,"data-overlay-prefix":G,"data-overlay-suffix":b,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:k,suffix:G}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${G} appended to the text value.`},this.renderOverlay(),k)}},"TextInputOverlay");h.displayName="TextInputOverlay",h.defaultProps={className:"",placeholder:"",size:m.F.medium,value:"",prefix:"",suffix:""};const f=h;var p=e(434544446),E=e.n(p),g=e(647040695);function A(L,k){const G=y(L);return k&&G.length?G.replace((0,g.A)(),"E").replace(E()(),"E").length:G.length}c(A,"getTextLength");function y(L){return L==null?"":typeof L=="string"?L:String(L)}c(y,"coerceValueToString");var T=e(9665283624),M=e(2322735331);function O(){return O=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var G=arguments[k];for(var b in G)Object.prototype.hasOwnProperty.call(G,b)&&(L[b]=G[b])}return L},O.apply(this,arguments)}c(O,"_extends");const I=12;let D=c(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(k,G){(this.props.value!==k.value||this.state.isFocused!==G.isFocused)&&this.getTextStyle(),this.props.value!==k.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(k)}onBlur(k){const{onBlur:G}=this.props;this.setState(()=>({isFocused:!1})),G&&G(k)}onFocus(k){const{onFocus:G}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),G&&G(k)}getPrefixStyle(){const{size:k,prefix:G}=this.props;if(!G)return;let b;const B=document.createElement("canvas").getContext("2d");return B&&(k===m.F.medium?(B.font="15px Slack-Lato",b=B.measureText(G).width+I):k===m.F.small?(B.font="13px Slack-Lato",b=B.measureText(G).width+I):(B.font="18px Slack-Lato",b=B.measureText(G).width+I)),{paddingLeft:b}}getTextStyle(){var k;const{maxCharacterLimit:G}=this.props;if(!G){this.setTextStyle({});return}const W={paddingRight:(k=this.characterCount)===null||k===void 0?void 0:k.getCharacterCountWidth()};this.setTextStyle(W)}setTextStyle(k){this.setState(()=>({textStyle:k}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(k){const{focusOnMount:G,forceSelectAll:b}=this.props;this.state.everFocused&&G&&k&&k.focusOnMount===G||!this.input||!this.input.current||!G||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),b&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:k,isRequired:G,minCharacterLimit:b,value:W}=this.props,{everReceivedUserInput:B}=this.state;if(!B||b==null)return!1;const R=A(W,k);return!G&&R===0?!1:R<b}getIsInputLengthTooLong(){const{maxCharacterLimit:k,value:G,emojisShouldCountAsSingleCharacter:b}=this.props;return k==null?!1:A(G,b)>k}renderDeprecatedErrorMaybe(){const{errorLevel:k,errorText:G,errorType:b,minCharacterLimit:W,maxCharacterLimit:B}=this.props;return G?t.createElement(d.Ay,{id:this.state.errorId,level:k,type:b,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},G):this.getIsInputLengthTooLong()?t.createElement(d.Ay,{id:this.state.errorId,level:d.A_.error,type:b,className:"margin_bottom_100"},(0,o.zI)(B)):this.getIsInputLengthTooShort()?t.createElement(d.Ay,{id:this.state.errorId,level:d.A_.error,type:b,className:"margin_bottom_100"},(0,o.r7)(W)):null}renderErrorMaybe(){const{errorText:k,minCharacterLimit:G,maxCharacterLimit:b}=this.props;return k?t.createElement(T.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},k):this.getIsInputLengthTooLong()?t.createElement(T.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.zI)(b)):this.getIsInputLengthTooShort()?t.createElement(T.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.r7)(G)):null}renderHintMaybe(){const{hintText:k}=this.props;return k?t.createElement(a.A,{id:this.state.hintId,"data-qa":"form-text-hint"},k):null}renderTextInput(){const{className:k,errorId:G,errorLevel:b,errorText:W,errorType:B,hintId:R,hintText:j,id:w,isRequired:N,isInvalid:K,labelId:J,name:Y,onBlur:q,onChange:H,onCopy:ne,forceSelectAll:te,onFocus:le,size:he,prefix:Ie,suffix:Ee,maxCharacterLimit:me,minCharacterLimit:ce,emojisShouldCountAsSingleCharacter:X,counterMinimumCharacters:V,icon:x,focusOnMount:S,useInlineAlert:U,showError:F,inputRef:Z,preventScrollOnFocus:z,ariaDescribedById:$,autoComplete:ee,type:de,readOnly:ie,...ue}=this.props,fe=!!W||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||K,re=(0,n.A)({[`c-input_text--with_${b}`]:fe,"c-input_text--with_hint":j,"c-input_text--with_icon":x},k),_e=(0,o.Yk)([J,fe?this.state.errorId:null]),Ue=(0,o.Yk)([$,this.state.hintId,this.characterCounterId]),ye={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(m.A,O({},ue,{style:ye,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:Ue,isInvalid:fe,ariaLabelledby:_e,ariaRequired:N,className:re,id:w,name:Y,onChange:H,onCopy:ne,forceSelectAll:te,ref:this.input,size:he,autoComplete:ee,type:de,readOnly:ie??void 0}))}renderWrappedTextMaybe(){const{prefix:k,suffix:G,value:b,placeholder:W,maxCharacterLimit:B,counterMinimumCharacters:R,size:j,isDisabled:w,icon:N}=this.props;let K=this.renderTextInput();if(B){const J=A(b,this.props.emojisShouldCountAsSingleCharacter);K=t.createElement(i.A,{id:this.characterCounterId,currentCount:J,isDisabled:w,maxCharacterLimit:B,counterMinimumCharacters:R,size:j,ref:Y=>{this.characterCount=Y}},K)}return(k||G)&&(K=t.createElement(f,{className:N&&"c-input_text_overlay--icon",placeholder:W,size:j,prefix:k,suffix:G,value:b??void 0},K)),N&&(K=t.createElement(u,{icon:N,size:j},K)),K}render(){const k=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&k,this.renderHintMaybe())}constructor(k){super(k),(0,M.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:G}=k;this.state={errorId:(0,s.A)(this.props,"errorId",(0,o.Es)(G,"error")),everReceivedUserInput:!1,hintId:(0,s.A)(this.props,"hintId",(0,o.Es)(G,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},k.maxCharacterLimit&&(this.characterCounterId=(0,o.Es)(G,"character-count")),this.input=k.inputRef||t.createRef()}},"FormTextInput");D.displayName="FormTextInput",D.defaultProps={className:null,errorId:void 0,errorLevel:d.A_.error,errorText:null,errorType:d.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:r.A,onChange:r.A,onCopy:r.A,forceSelectAll:!1,readOnly:!1,onFocus:r.A,placeholder:void 0,size:m.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:r.A,onMouseLeave:r.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:r.A,onKeyDown:r.A,onCompositionStart:r.A,onCompositionEnd:r.A};const P=D},8472205500:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p});var t=e(3134334389),n=e(5255740490),s=e(2003990933),r=e(7715417323),d=e(5617110048),o=e(581167618),a=e(3391133100),i=e(2660476100),m=e(9205344153),l=e(8452232783),_=e(9665283624),v=e(2322735331),u=e(6244014364);function h(){return h=Object.assign||function(E){for(var g=1;g<arguments.length;g++){var A=arguments[g];for(var y in A)Object.prototype.hasOwnProperty.call(A,y)&&(E[y]=A[y])}return E},h.apply(this,arguments)}c(h,"_extends");const f={onChange:{action:u.UiAction.ENTER_TEXT}};let p=c(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var g;(g=this.input.current)===null||g===void 0||g.focus()}}componentDidUpdate(g,A){if((this.props.value!==g.value||this.state.isFocused!==A.isFocused)&&this.getTextStyle(),this.props.value!==g.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&g.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var y;(y=this.input.current)===null||y===void 0||y.focus()}}onBlur(){const{onBlur:g}=this.props;this.setFocus(!1),g&&g()}onFocus(){const{onFocus:g}=this.props;this.setFocus(!0),g&&g()}getTextStyle(){var g;const{maxCharacterLimit:A}=this.props;if(!A){this.setTextStyle({});return}const T={paddingRight:(g=this.characterCount)===null||g===void 0?void 0:g.getCharacterCountWidth()};this.setTextStyle(T)}setCharacterCountRef(g){this.characterCount=g}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(g){this.setState(()=>({isFocused:g}))}setInputRef(g){this.input=g}setTextStyle(g){this.setState(()=>({textStyle:g}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:g,minCharacterLimit:A,value:y}=this.props,{everReceivedUserInput:T}=this.state;return!T||A==null||!g&&y.length===0?!1:y.length<A}getIsInputLengthTooLong(){const{maxCharacterLimit:g,value:A}=this.props;return g==null?!1:A.length>g}renderDeprecatedErrorMaybe(){const{showError:g,errorLevel:A,errorText:y,errorType:T,isRequired:M,maxCharacterLimit:O,minCharacterLimit:I,value:D}=this.props;return g?y?t.createElement(o.Ay,{id:this.state.errorId,level:A,type:T,className:"margin_bottom_100"},y):!M&&D.length===0?null:this.getIsInputLengthTooLong()?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:T,className:"margin_bottom_100"},(0,a.zI)(O)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:T,className:"margin_bottom_100"},(0,a.r7)(I)):null:null}renderErrorMaybe(){const{showError:g,errorText:A,isRequired:y,maxCharacterLimit:T,minCharacterLimit:M,value:O}=this.props;return g?A?t.createElement(_.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},A):!y&&O.length===0?null:this.getIsInputLengthTooLong()?t.createElement(_.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,a.zI)(T)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(_.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,a.r7)(M)):null:null}renderHintMaybe(){const{hintText:g}=this.props;return g?t.createElement(i.A,{id:this.state.hintId},g):null}renderTextArea(){const{className:g,showError:A,errorId:y,errorLevel:T,errorText:M,errorType:O,hintId:I,hintText:D,useInlineAlert:P,id:L,isRequired:k,isInvalid:G,labelId:b,name:W,onChange:B,onFocus:R,onBlur:j,maxCharacterLimit:w,minCharacterLimit:N,focusOnMount:K,autoClogProps:J,ariaDescribedById:Y,inputRef:q,...H}=this.props,{textStyle:ne}=this.state,te=!!M||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||G,le=(0,n.A)({[`c-input_textarea--with_${T}`]:te,"c-input_textarea--with_hint":D,"c-input_textarea--with_character_count":!!w,"c-input_text--with_inline_alert":P},g),he=(0,a.Yk)([b,te?this.state.errorId:void 0]),Ie=(0,a.Yk)([Y,this.state.hintId,this.characterCounterId]),Ee=t.createElement(l.A,h({},H,{ref:this.setInputRef,style:ne,ariaDescribedby:Ie,isInvalid:te,ariaLabelledby:he,ariaRequired:k,className:le,id:L,"data-qa":H["data-qa"]||L,name:W,onChange:B,onFocus:this.onFocus,onBlur:this.onBlur}));return J?t.createElement(d.A,{autoClogProps:J,actionProps:f,elementType:u.ElementType.TEXTAREA},Ee):Ee}renderWrappedTextareaMaybe(){const{value:g,maxCharacterLimit:A,size:y,isDisabled:T}=this.props;let M=this.renderTextArea();return A&&(M=t.createElement(m.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:g==null?void 0:g.length,isDisabled:T,maxCharacterLimit:A,type:"multiline",size:y},M)),M}render(){const g=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),g,this.renderHintMaybe())}constructor(g){super(g);const{id:A}=this.props;(0,v.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,s.A)(this.props,"errorId",(0,a.Es)(A,"error")),hintId:(0,s.A)(this.props,"hintId",(0,a.Es)(A,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(A,"character-count")),this.input=t.createRef()}},"FormTextareaInput");p.displayName="FormTextareaInput",p.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:o.A_.error,errorText:null,errorType:o.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:r.A,onFocus:r.A,onBlur:r.A,placeholder:void 0,size:l.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},5166368300:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_,F:()=>i});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),d=e(5797272849),o=e(6244014364);function a(){return a=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f])}return v},a.apply(this,arguments)}c(a,"_extends");const i={small:"small",medium:"medium",large:"large"};var m;let l=c(class extends(m=t.Component){componentDidMount(){if(this.props.focusOnMount){var u;(u=this.props.refToForward.current)===null||u===void 0||u.focus()}}onChange(u){this.props.onChange&&this.props.onChange(u.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(u){this.props.readOnly&&this.props.forceSelectAll&&u.currentTarget.select()}blur(){var u;(u=this.props.refToForward.current)===null||u===void 0||u.blur()}focus(){var u;(u=this.props.refToForward.current)===null||u===void 0||u.focus()}render(){const{ariaDescribedby:u,isInvalid:h,ariaLabelledby:f,ariaRequired:p,className:E,id:g,isDisabled:A,name:y,placeholder:T,size:M,type:O,refToForward:I,ariaLabel:D,forceSelectAll:P,focusOnMount:L,autoClogProps:k,autoComplete:G,...b}=this.props,W=(0,n.A)("c-input_text",{"c-input_text--large":M===i.large,"c-input_text--small":M===i.small,"c-input_text--with_error":h,"c-input_text--with_inline_alert":h,[d.E.small]:M===i.small,[d.E.large]:M===i.large},E),B=t.createElement("input",a({},b,{"aria-describedby":b["aria-describedby"]||u,"aria-invalid":b["aria-invalid"]||h,"aria-labelledby":b["aria-labelledby"]||f,"aria-required":b["aria-required"]||p,"aria-label":b["aria-label"]||D,autoComplete:G,className:W,disabled:A,id:g,name:y,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:T,ref:I,type:O}));return k?t.createElement(r.A,{autoClogProps:k,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},B):B}constructor(u){super(u),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");l.displayName="TextInput",l.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:s.A,onCopy:s.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"};const _=t.forwardRef((v,u)=>t.createElement(l,a({},v,{refToForward:u||t.createRef()})))},8452232783:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v,F:()=>i});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(5617110048),d=e(5797272849),o=e(6244014364);function a(){return a=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u},a.apply(this,arguments)}c(a,"_extends");const i={small:"small",medium:"medium",large:"large"},m={onBlur:{action:o.UiAction.SAVE}};var l;let _=c(class extends(l=t.Component){componentDidMount(){var h;this.props.focusOnMount&&(!((h=this.textAreaRef)===null||h===void 0)&&h.current)&&this.textAreaRef.current.focus()}onChange(h){this.props.onChange(h.target.value)}render(){const{ariaDescribedby:h,isInvalid:f,ariaLabelledby:p,ariaRequired:E,className:g,placeholder:A,id:y,isDisabled:T,name:M,resize:O,size:I,focusOnMount:D,autoClogProps:P,...L}=this.props,k=(0,n.A)("c-input_textarea",{"c-input_textarea--large":I===i.large,"c-input_textarea--small":I===i.small,"c-input_textarea--resize_none":O==="none","c-input_textarea--resize_both":O==="both","c-input_textarea--resize_h":O==="horizontal","c-input_textarea--with_error":f,"c-input_textarea--with_inline_alert":f,[d.E.small]:I===i.small,[d.E.large]:I===i.large},g),G=t.createElement("textarea",a({},L,{"aria-describedby":h,"aria-invalid":f,"aria-labelledby":p,"aria-required":E,className:k,disabled:T,id:y,name:M,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:A,ref:this.textAreaRef,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return P?t.createElement(r.A,{autoClogProps:P,actionProps:m,elementType:o.ElementType.TEXTAREA},G):G}constructor(h){super(h),this.onChange=this.onChange.bind(this),this.textAreaRef=t.createRef()}},"TextareaInput");_.displayName="TextareaInput",_.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:s.A,onFocus:s.A,onBlur:s.A,placeholder:"",resize:null,size:i.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0};const v=_},4967176632:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(3564666345);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(o[m]=i[m])}return o},s.apply(this,arguments)}c(s,"_extends");function r(o){let{className:a=void 0,initialValues:i,initialErrors:m=void 0,validate:l=void 0,validationSchema:_=void 0,validateOnBlur:v=!0,validateOnChange:u=!0,validateOnMount:h=!1,onReset:f=void 0,onSubmit:p,children:E,...g}=o;const A=f?{onReset:f}:{};return t.createElement(n.l1,s({initialValues:i,initialErrors:m,validate:l,validationSchema:_,validateOnBlur:v,validateOnChange:u,validateOnMount:h,onSubmit:p},A,g),y=>{let{handleSubmit:T,handleReset:M,...O}=y;return t.createElement("form",{className:a,onSubmit:T,onReset:M},E({...O}))})}c(r,"Form"),r.displayName="Form";const d=r},3155323475:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(5255740490),s=e(9665283624);function r(d){let{className:o,errors:a}=d;var i;return a&&a.length>0?t.createElement(t.Fragment,null,a.map(m=>(0,t.isValidElement)(m.message)?t.cloneElement(m.message,{key:m.id,id:m.id,className:(0,n.A)(o,"c-field_input__helpers")}):(i=!!m.message&&t.createElement(s.A,{className:(0,n.A)(o,"c-field_input__helpers"),key:m.id,id:m.id},m.message))!==null&&i!==void 0?i:null)):null}c(r,"FieldErrors")},7811786890:(Q,C,e)=>{"use strict";e.d(C,{DQ:()=>l,IM:()=>o,T$:()=>m,Wz:()=>u,Zr:()=>h,m4:()=>r,mw:()=>d});var t=e(9746734072),n=e(6313685253),s=e(9113979368);const r={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phone:/^[0-9._+-]{8,15}$/i},d=c(f=>{const p=typeof f=="boolean",E=typeof f=="string",g=p&&!f,A=E&&(!f||!f.trim()),y=(0,t.A)(f)&&!f.length;return g||A||y||f===null?"Required":null},"required"),o=c((f,p)=>E=>(r[f]||f).test(E)?null:p,"regexPattern"),a=o(r.email,"Please enter a valid email address."),i=o(r.phone,"Please enter a valid phone number."),m=c(f=>p=>!p||p.length<f?`Minimum of ${f} characters`:null,"minCharacterCount"),l=c(f=>p=>p.length>f?`Max character limit is ${f}`:null,"maxCharacterCount"),_=c(f=>p=>{let E=null;return f.forEach(g=>{p===g&&(E=`Cannot use ${p}`)}),E},"tokenNotAllowed"),v=c(f=>p=>{let E=null,g;return p&&p.length&&(p.includes(",")?(g=p.split(",").filter(A=>!!f.includes(A)),E=`Cannot use ${g}`):f.includes(p)&&(g=p,E=`Cannot use ${g}`)),E},"tokensNotAllowed"),u=c(f=>p=>{const E=(0,n.A)(f,(g,A,y)=>{const T=A.map(M=>M(p[y],p)).filter(Boolean);return T.length>0&&(g[y]=T),g},{});return(0,s.A)(E)?void 0:E},"createValidation"),h=c(f=>p=>{const E=f.map(g=>g(p)).filter(Boolean);return(0,s.A)(E)?void 0:E},"createValidate")},9665283624:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5255740490),s=e(8683010724);function r(){return r=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(a[l]=m[l])}return a},r.apply(this,arguments)}c(r,"_extends");let d=c(class extends t.PureComponent{render(){const{children:i,className:m,id:l,..._}=this.props,v=(0,n.A)("c-inline_alert",m);return t.createElement("div",r({},_,{className:v,id:l,"data-qa-error":!0}),t.createElement(s.A,{name:"info"}),t.createElement("span",{className:"c-inline_alert__text"},i))}},"InlineAlert");d.displayName="InlineAlert",d.defaultProps={className:"",id:""};const o=d},440635146:(Q,C,e)=>{"use strict";e.d(C,{ed:()=>h,tc:()=>l,zG:()=>f});var t=e(3134334389),n=e(5255740490),s=e(1610251172),r=e(8214116048),d=e(571104883),o=e(735940183);const a=new o.Ay("keyboard_key");var i;(function(p){p.ArrowUp="\u2191",p.ArrowDown="\u2193",p.ArrowLeft="\u2190",p.ArrowRight="\u2192"})(i||(i={}));var m;(function(p){p.CmdOrCtrl="CmdOrCtrl",p.OptOrAlt="OptOrAlt"})(m||(m={}));const l={...i,...m},_=Object.values(i).map(p=>p.toString()),v={Cmd:"cmd-small",[i.ArrowUp]:"caret-up",[i.ArrowDown]:"caret-down",[i.ArrowLeft]:"caret-left",[i.ArrowRight]:"caret-right"},u=c(p=>p===m.CmdOrCtrl?(0,d.cX)()?"Cmd":"Ctrl":p===m.OptOrAlt?(0,d.cX)()?"Option":"Alt":p,"getKeyForOS"),h=c(p=>({"\u2191":a.t("up arrow"),"\u2193":a.t("down arrow"),"\u2190":a.t("left arrow"),"\u2192":a.t("right arrow"),Ctrl:a.t("control"),"\u2318":a.t("command"),Cmd:a.t("command"),Option:a.t("option"),Alt:a.t("alt"),".":a.t("period"),",":a.t("comma"),"[":a.t("left bracket"),"]":a.t("right bracket"),"+":a.t("plus"),"-":a.t("minus"),Esc:a.t("escape"),Strg:"Steuerung"}[p]||String(p)).toLowerCase(),"getNameForKey"),f=c(p=>{let{label:E,className:g,slim:A=!1,theme:y=r.Sx.Light,tooltip:T=!1}=p;const M=String(E),O=_.includes(M),I=u(M),D=v[I],P=(0,n.A)(g,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":O,"c-keyboard_key--slim":A,"c-keyboard_key--dark":y===r.Sx.Dark,"c-keyboard_key__tooltip":T}),L=h(I);return t.createElement("div",{role:"img","aria-label":L,className:P},D?t.createElement(s.A,{type:D,size:A?"inherit":20,inline:A}):I)},"KeyboardKey");f.displayName="KeyboardKey"},9194155027:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(440635146),r=e(571104883);const d=c(()=>(0,r.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");d.displayName="Delimiter";const o=c(i=>{let{isInline:m=!1,title:l,mainKey:_,modifier:v,modifiers:u,className:h,useSlimModifiers:f}=i;const p=(0,n.A)("c-keyboard_keys",{"c-keyboard_keys--inline":m,"c-keyboard_key__tooltip_text":!(v||u)},h),E=(0,n.A)("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":m}),g=v?[v]:u,A=g==null?void 0:g.map(y=>t.createElement(t.Fragment,{key:`${y}_key`},t.createElement(s.zG,{label:y,tooltip:!0,slim:f}),t.createElement(d,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:E,"aria-hidden":"true"},l),t.createElement("span",{className:p},A,t.createElement(s.zG,{label:_,tooltip:!0})))},"KeyboardKeysTooltip");o.displayName="KeyboardKeysTooltip";const a=o},9742374352:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(5255740490),s=e(5617110048),r=e(3753517560),d=e(6538933722),o=e(6244014364),a=e(2907415594);function i(){return i=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f])}return v},i.apply(this,arguments)}c(i,"_extends");const m={onClick:{action:o.UiAction.CLICK}},l=t.forwardRef(c(function(u,h){let{autoClogProps:f,className:p,href:E,invert:g=!1,children:A,hasKeyboardFocus:y=!1,...T}=u;const M=(0,n.A)("c-link",{"c-link--focus-visible":y,"c-link--invert":g},p),O=T.target==="_blank"||(E==null?void 0:E.startsWith("mailto:")),I=t.createElement("a",i({},(0,a.A)(T),{className:M,href:E,ref:h}),A,O&&t.createElement(d.A,null));return f?t.createElement(s.A,{autoClogProps:f,actionProps:m,elementType:o.ElementType.LINK},I):I},"BaseLink"));l.displayName="BaseLink";const _=(0,r.A)(l)},5821662500:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(5191871564);const n=t.A},5191871564:(Q,C,e)=>{"use strict";e.d(C,{A:()=>N,b:()=>R});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3297051565),d=e.n(r),o=e(8642919232),a=e(5267010247),i=e(8822892075),m=e(3275490582),l=e(3244118357),_=e(8170643398),v=e(9464746668),u=e(9262712126),h=e(8025090314),f=e(5289504844),p=e(8739505998),E=e(7576317051),g=e(1563996154),A=e(82287009),y=e(735940183),T=e(485355941),M=e(4096483543),O=e(4327331459),I=e(9391594207),D=e(8847766420),P=e(5795074931),L=e(5761207079),k=e(8276911661);function G(){return G=Object.assign||function(K){for(var J=1;J<arguments.length;J++){var Y=arguments[J];for(var q in Y)Object.prototype.hasOwnProperty.call(Y,q)&&(K[q]=Y[q])}return K},G.apply(this,arguments)}c(G,"_extends");const b={id:d().string.isRequired,fallback:d().string,isCurrentUser:d().bool,name:d().string,noHighlights:d().bool,noLinking:d().bool,showTooltip:d().bool,onClick:d().func,isUnknown:d().bool,isNonExistent:d().bool,serviceId:d().string,appTeamId:d().string,clogLinkClick:d().func,showMemberProfileInWindow:d().func,isUserHidden:d().bool,className:d().string,clientTheme:d().string,tabIndex:d().number,ariaHidden:d().bool,navigate:d().func,supressLinkColors:d().bool,forceRealNames:d().bool,supressMentionAtSymbol:d().bool},W={fallback:null,isCurrentUser:!1,name:null,noHighlights:!1,noLinking:!1,onClick:void 0,showTooltip:!1,isUnknown:!0,isNonExistent:!1,serviceId:void 0,appTeamId:void 0,clogLinkClick:s.A,className:void 0,clientTheme:"light",tabIndex:0,ariaHidden:!1,showMemberProfileInWindow:s.A,isUserHidden:!1,navigate:s.A,supressLinkColors:!1,supressMentionAtSymbol:!1,forceRealNames:!1},B=new y.Ay("members");let R=c(class extends t.PureComponent{onCardClose(){this.tooltip.current&&this.tooltip.current.hideTip()}onClick(J){const{id:Y,clogLinkClick:q,onClick:H,showMemberProfileInWindow:ne}=this.props;J.preventDefault(),q({item_id:Y,item_type:Y.charAt(0),link_type:"user"}),this.tooltip.current&&this.tooltip.current.hideTip(),(0,T.Cz)(J)?ne(Y):this.props.navigate((0,i.Fo)({memberId:Y})),H&&H(J,Y)}getTooltipContent(){return t.createElement(f.Ay,{id:this.props.id,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0})}render(){const{id:J,serviceId:Y,fallback:q,isCurrentUser:H,name:ne,noHighlights:te,noLinking:le,onClick:he,showTooltip:Ie,isUnknown:Ee,isNonExistent:me,className:ce,clientTheme:X,tabIndex:V,ariaHidden:x,isUserHidden:S,supressLinkColors:U,supressMentionAtSymbol:F}=this.props;if(!J)return null;const Z=`${F?"":"@"}${ne||q}`,z=(0,n.A)("c-member_slug",ce,`c-member_slug--${X}`,{"c-member_slug--link":!le,"c-member_slug--mention":H&&!te,"c-member_slug--grey":U});if(Ee)return t.createElement(E.A,{type:"unknown"});if(me)return t.createElement(E.A,{type:"non-existent"});if(S)return Ie?t.createElement(g.Ay,{ref:this.tooltip,tip:B.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",null,t.createElement(h.A,null))):t.createElement(h.A,null);if(le)return t.createElement("span",{className:z},Z);const $={};(0,M.A)()?($["data-stringify-type"]="mention",$["data-stringify-id"]=J,$["data-stringify-label"]=Z):$["data-stringify-text"]=`@${J}`;const ee=`/team/${J}`,de=t.createElement(p.A,G({className:z,href:ee,"data-member-id":J,"data-member-label":Z},$,{onClick:this.onClick,tabIndex:V,"aria-hidden":x}),Z);return he?Ie?t.createElement(g.Ay,{ref:this.tooltip,tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",{dir:"ltr"},de)):de:(0,A.yN)({memberId:J,serviceId:Y,children:de})}constructor(J){super(J),this.tooltip=t.createRef(),this.onClick=this.onClick.bind(this),this.onCardClose=this.onCardClose.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"MemberSlug");R.displayName="MemberSlug",R.propTypes=b,R.defaultProps=W;function j(K,J){const{id:Y,noLinking:q,forceRealNames:H}=J,ne=(0,P.WR)(K),te=(0,k.nv)(K,Y),le=(0,D.ZT)(K);let he,Ie,Ee,me=q,ce;te&&(he=H?(0,u.wg)(te):(0,u.Gt)(te),Ie=(0,_.t8)(te),Ee=(0,_.QR)(te),ce=(0,v.A)(K,te)),Ee&&!(0,O.A)(Y)&&(he=Y,Ie=!1,Ee=!1,me=!0);let X;ce&&(X=(0,l.cl)(te,le));const V=(0,L.a)(K,te.id);return{name:he,isUnknown:Ie,isNonExistent:Ee,serviceId:ce,appTeamId:X,noLinking:me,isCurrentUser:Y===ne,isUserHidden:V}}c(j,"mapStateToProps");function w(K){return{showMemberProfileInWindow:function(){for(var J=arguments.length,Y=new Array(J),q=0;q<J;q++)Y[q]=arguments[q];return K((0,o.A)(...Y))},navigate:function(){for(var J=arguments.length,Y=new Array(J),q=0;q<J;q++)Y[q]=arguments[q];return K((0,a.o)(...Y))}}}c(w,"mapDispatchToProps");const N=(0,m.A)((0,I.N)(j,w)(R))},9163962844:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,r:()=>t.rY});var t=e(2762351398);const n=t.Ay},2762351398:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>i,rY:()=>d});var t=e(3134334389),n=e(5255740490),s=e(2312625946);function r(){return r=Object.assign||function(m){for(var l=1;l<arguments.length;l++){var _=arguments[l];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(m[v]=_[v])}return m},r.apply(this,arguments)}c(r,"_extends");const d={transparent:"transparent",black:"black",red:"red",white:"white",blue:"blue",minGray:"min_gray",minGrayDarken:"min_gray_darken",themed:"themed"},o=c((m,l)=>m>l?`${l}+`:String(m),"getCountText"),a=c(m=>{let{className:l,count:_,maxCount:v=9,style:u="black",toolTipText:h=""}=m;if(!_||_<0)return null;const f=h?s.Ay:t.Fragment,p=h?{tip:h}:{};return t.createElement(f,r({},p),t.createElement("span",{"aria-hidden":"true",className:(0,n.A)(l,"c-mention_badge",`c-mention_badge--${u}`,{"c-mention_badge--max":_>v},h&&"c-mention_badge--default"),"data-qa":"mention_badge"},o(_,v)))},"MentionBadge");a.displayName="MentionBadge";const i=t.memo(a)},3514831633:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>i,Dr:()=>s.A,YJ:()=>t.YJ,a:()=>n.A,bX:()=>d.Ay,c$:()=>r.Ay,cQ:()=>o.A});var t=e(5152183509),n=e(8383646472),s=e(8245211418),r=e(7417231112),d=e(8184841524),o=e(7433650413),a=e(101973425);const i=t.Ay},8383646472:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(2141441167),s=e(862210999),r=e(3297051565),d=e.n(r),o=e(1658558415),a=e(4902318931),i=e(6308822),m=e(5152183509),l=e(8245211418),_=e(7417231112),v=e(8184841524),u=e(8773153312),h=e(1959847761);function f(){return f=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},f.apply(this,arguments)}c(f,"_extends");const p={type:d().oneOf((0,n.A)(u.A)),label:d().node,description:d().oneOfType([d().string,d().element]),children:d().element,key:d().string,click:d().func,danger:d().bool,dataQa:d().string,checked:d().bool,indeterminate:d().bool,ariaHidden:d().bool,target:d().string,href:d().string,download:d().string,action:d().func,payload:d().object,autoClogProps:d().object},E={template:d().arrayOf(d().shape({...p,renderSubmenu:d().func,template:d().arrayOf(d().shape(p)),submenu:d().arrayOf(d().shape(p)),checked:d().bool})).isRequired};let g=c(class ea extends t.PureComponent{render(){const{template:T,...M}=this.props,O=T.map((I,D)=>{if(!I)return null;if(I.type===u.A.separator)return t.createElement(v.Ay,f({},I,{key:I.key||`separator-${D}`}));if(I.type===u.A.sub_separator)return t.createElement(v.Ay,f({},I,{className:"c-menu_separator__li--sub",key:I.key||`separator-${D}`}));if(I.type===u.A.header)return t.createElement(_.Ay,{key:I.key||`header-${D}`,label:I.label,className:I.className});if(I.type===u.A.loading)return t.createElement(i.A,{key:I.key||"loading",size:"large"});const P={children:I.children,className:I.className,classNameListItem:I.classNameListItem,label:I.label,description:I.description,icon:I.icon,badgeCount:I.badgeCount,badgeLabel:I.badgeLabel,badgeClassName:I.badgeClassName,shortcut:I.shortcut,showEnter:I.showEnter,onSelected:I.click,target:I.target,href:I.href,download:I.download,danger:I.danger,type:I.type,"data-qa":I.dataQa,disabled:I.disabled,showOfflineIcon:I.showOfflineIcon,showLinkIndicatorIcon:I.showLinkIndicatorIcon,checked:I.checked,indeterminate:I.indeterminate,width:I.submenuWidth,autoClogProps:I.autoClogProps,megaphoneSpaceName:I.megaphoneSpaceName,megaphoneNotificationName:I.megaphoneNotificationName,onMount:I.onMount,onUnmount:I.onUnmount,ariaDescribedBy:I.ariaDescribedBy,ariaRole:I.ariaRole},L=I.key||I.label;if(I.type===u.A.submenu){const G=(0,s.A)(I.renderSubmenu)?I.renderSubmenu:b=>t.createElement(ea,f({template:I.template||I.submenu},b,{width:I.submenuWidth}));return t.createElement(h.A,f({},P,{label:I.label,renderSubmenu:G,key:L}))}if(I.type===u.A.custom)return I.ariaHidden===!1&&!(0,o.A)()?I.children:t.createElement("div",{"aria-hidden":I.ariaHidden===!1?"false":"true",key:I.key,"data-qa":I.dataQa},I.children);if(I.type===u.A.subheaderChild)return t.createElement(l.A,f({key:L,type:u.A.subheaderChild},P));const k=t.createElement(l.A,f({key:L},P));return I.megaphoneSpaceName&&I.megaphoneNotificationName?t.createElement(a.Ay,{key:L,spaceName:I.megaphoneSpaceName,notifications:{[I.megaphoneNotificationName]:{component:()=>k}}}):k});return t.createElement(m.Ay,f({},M),O)}},"MenuFromTemplate");g.displayName="MenuFromTemplate",g.propTypes=E;const A=g},7417231112:(Q,C,e)=>{"use strict";e.d(C,{$b:()=>m,Ay:()=>a,a6:()=>i});var t=e(3134334389),n=e(5255740490),s=e(7715417323);function r(){return r=Object.assign||function(l){for(var _=1;_<arguments.length;_++){var v=arguments[_];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(l[u]=v[u])}return l},r.apply(this,arguments)}c(r,"_extends");const d="_isSlackMenuItemHeader";function o(l){let{for:_,label:v,className:u,onMouseEnter:h=s.A}=l;return t.createElement("div",r({},_&&{id:m(_)},{"aria-hidden":"true",className:(0,n.A)("c-menu_item__header",u),onMouseEnter:h,"data-qa":"menu-item-header"}),v)}c(o,"MenuItemHeader"),o.displayName="MenuItemHeader",o[d]=!0;const a=o;function i(l){return!!(l!=null&&l[d])}c(i,"isMenuItemHeader");function m(l){return`${l}-label`}c(m,"getMenuItemHeaderIdForGroup")},8245211418:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T});var t=e(3134334389),n=e(5255740490),s=e(3078252698),r=e(7715417323),d=e(8049923572),o=e(6084388622),a=e(7420598276),i=e(1610251172),m=e(2762351398),l=e(8773153312),_=e(101973425),v=e(8683010724),u=e(6244014364),h=e(571104883),f=e(735940183),p=e(9391594207);const E=new f.Ay("menu");let g=c(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(O){var I,D;(D=(I=this.props).menuCallbackBefore)===null||D===void 0||D.call(I,O),this.props.onSelected(O),this.props.menuCallback(this.props.menuCallbackId,O)}determineMenuRole(){const{type:O,ariaRole:I}=this.props;if(I)return I;switch(O){case l.A.radio:return"menuitemradio";case l.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:O,badgeCount:I,badgeClassName:D,badgeVariant:P,highlighted:L}=this.props;return I?t.createElement(m.Ay,{count:I,style:L?m.rY.white:m.rY.red}):O?t.createElement(a.A,{className:D,variant:P},O):null}renderAdditionalIconMaybe(){const{additionalIcon:O}=this.props;return O?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},O):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(v.A,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:O,highlighted:I}=this.props;return!O||!I?null:t.createElement(i.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:O,checked:I,indeterminate:D}=this.props,P=O===l.A.radio||O===l.A.checkbox;return P&&D?t.createElement(i.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):P&&I?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(v.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:O}=this.props;return O?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},O):null}renderLinkIconMaybe(){const{href:O,showLinkIndicatorIcon:I}=this.props;return I===!1||I!==!0&&!O?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(v.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:O,containerSize:I,experimentSkResponsiveMenusGroupOn:D,isResponsive:P}=this.props;if(!O||D&&P&&I&&I.width<300)return null;if(!(0,s.A)(O)&&"label"in O){const{label:L}=O;if(L&&(0,s.A)(L))return t.createElement("div",{className:"c-menu_item__shortcut"},L)}return t.createElement("div",{className:"c-menu_item__shortcut"},O)}render(){const{autoClogProps:O,children:I,className:D,classNameListItem:P,danger:L,description:k,disabled:G,showOfflineIcon:b,highlighted:W,label:B,onMouseEnter:R,onMouseLeave:j,href:w,target:N,download:K,type:J,withSubmenu:Y,standaloneHoverEffect:q,checked:H,indeterminate:ne,measureRef:te,containerSize:le,experimentSkResponsiveMenusGroupOn:he,isResponsive:Ie,ariaDescribedBy:Ee,ariaLabelledBy:me,ariaLabel:ce,disableHoverStyling:X}=this.props,V=(0,n.A)(D,"c-menu_item__button",{"c-menu_item__button--highlighted":W&&!G&&!X,"c-menu_item__button--danger":L,"c-menu_item__button--disabled":G,"c-menu_item__button--with_submenu":Y,"c-menu_item--button--subheader_child":J===l.A.subheaderChild,"c-menu_item__button--checked":(J===l.A.radio||J===l.A.checkbox)&&(H||ne),"c-menu_item--compact":J===l.A.compactItem,"c-menu_item--standalone":q}),x=(0,n.A)(P,"c-menu_item__li",{"c-menu_item__li--highlighted":W&&!X}),S=(0,n.A)(P,"c-menu_item__label",{"c-menu_item__label--with_description":k}),U=Y?"true":void 0,F=k?t.createElement("div",{className:"c-menu_item__description"},k):"",Z=this.props.activeMenuId,z=this.props.featureSubmenuRoleDescription?E.t("submenu"):void 0,$=(0,h.cX)()&&Y?z:void 0;return t.createElement("div",{ref:te,className:x,onMouseEnter:R,onMouseLeave:j,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(o.Nm,{autoClogProps:{...O,elementType:u.ElementType.MENU_ITEM},ref:this.buttonRef,id:Z,className:V,disabled:G,onClick:this.onSelected,href:w,target:N,download:K,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:H,"aria-checked":ne?"mixed":H,"aria-haspopup":U,tabIndex:-1,"aria-roledescription":$,"aria-describedby":Ee,"aria-labelledby":me,"aria-label":ce},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:S},B,I,!(he&&Ie&&le&&le.width<300)&&F),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),b&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(i.A,{type:"cloud-offline-small"}))))}constructor(O){super(O),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");g.displayName="MenuItem",g.defaultProps={children:void 0,highlighted:!1,onMouseEnter:r.A,onMouseLeave:r.A,onSelected:r.A,menuCallback:r.A,menuCallbackBefore:r.A,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:l.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:r.A,onUnmount:r.A,showFullCarat:!1,disableHoverStyling:!1};const A={MenuItem:g},y=c(M=>({experimentSkResponsiveMenusGroupOn:(0,d.IN)(M)}),"mapStateToProps"),T=(0,_.Ay)((0,p.N)(y)((0,d.BM)(g)))},8184841524:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d,Ex:()=>s,HP:()=>o});var t=e(3134334389),n=e(5255740490);const s="_isSlackMenuSeparator";function r(a){let{className:i,noPadding:m,noPaddingAbove:l,noPaddingBelow:_,noFirstChild:v,noLastChild:u,dataQa:h="menu_separator__separator"}=a;const f=(0,n.A)("c-menu_separator__li",{padding_0:m,padding_top_0:l,padding_bottom_0:_,"c-menu_separator__li--no_first_child":v,"c-menu_separator__li--no_last_child":u},i);return t.createElement("div",{className:f},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":h}))}c(r,"MenuSeparator"),r.displayName="MenuSeparator",r[s]=!0;const d=r;function o(a){return!!(a!=null&&a[s])}c(o,"isMenuSeparator")},7433650413:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5249175977),s=e(2689960678);function r(){return r=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(a[l]=m[l])}return a},r.apply(this,arguments)}c(r,"_extends");const d=c(a=>{const{renderMenu:i,onPopoverOpen:m,onPopoverClose:l,isDisabled:_=!1,closeOnSelect:v=!0,onTriggerClose:u,onMenuItemSelected:h,onMenuKeyDown:f,...p}=a,E=c(()=>{m&&m()},"onOpenProp"),g=c(y=>{const{onClose:T,...M}=y,O=c((L,k)=>{T&&T(L),l&&l(L)},"onCloseProp"),P=i({...y,onTriggerClose:c(L=>{T&&T(L),u&&u(L)},"onTriggerClose"),onMenuItemSelected:c((L,k)=>{v&&(T&&T(k),l&&l(k)),h&&h(L,k)},"onMenuItemSelected"),onMenuKeyDown:f});return P?t.createElement(n.AM,r({shouldFade:!1,onClose:O,onOpen:E},M),P):!1},"renderPopover");if(g.displayName="renderPopover",_)return typeof a.children=="function"?a.children(s.t0):a.children;const A=a.isContextMenu?s.t0:{"aria-haspopup":"menu"};return t.createElement(n.Wv,r({},p,{triggerProps:A,renderPopover:g}),a.children)},"MenuTrigger");d.displayName="MenuTrigger";const o=d},8773153312:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",sub_separator:"sub_separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},n=t},5152183509:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>j,YJ:()=>b});var t=e(3134334389),n=e(5255740490),s=e(3078252698),r=e(9746734072),d=e(8424846741),o=e(7715417323),a=e(4481313819),i=e(4244379358),m=e(8049923572);const l=c(w=>{let{"aria-labelledby":N,"aria-owns":K}=w;return K?t.createElement("div",{className:"offscreen",role:"group","aria-owns":K,"aria-labelledby":N}):null},"MenuItemGroup");l.displayName="MenuItemGroup";const _=l;var v=e(7417231112),u=e(8184841524),h=e(101973425),f=e(1959847761),p=e(6244014364);function E(w){return t.isValidElement(w)&&"children"in w.props}c(E,"hasChildren");function g(w){return w!=null&&typeof w=="object"&&"type"in w&&w.type===t.Fragment}c(g,"isFragment");function A(w){return w instanceof Array?w.map(A):g(w)&&E(w)?A(w.props.children):w}c(A,"defragment");function y(w){return t.Children.toArray(A(w))}c(y,"flattenChildren");var T=e(796111729),M=e(3821598679),O=e(9391594207);function I(){return I=Object.assign||function(w){for(var N=1;N<arguments.length;N++){var K=arguments[N];for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(w[J]=K[J])}return w},I.apply(this,arguments)}c(I,"_extends");function D(w){const N=w&&w.type;return!!N&&(0,h.l0)(N)}c(D,"isMenuItem");function P(w){const N=w&&w.type;return!!N&&(0,f.e)(N)}c(P,"isSubmenu");function L(w){const N=w&&w.type;return N&&(0,u.HP)(N)}c(L,"isSeparator");function k(w){const N=w&&w.type;return N&&(0,v.a6)(N)}c(k,"isMenuItemHeader");let G=0;function b(){return G>0}c(b,"isMenuVisible");const W={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let B=c(class extends t.Component{componentDidMount(){this.focus(),G+=1}componentDidUpdate(N){this.props.kbNavActive&&!N.kbNavActive&&this.activateKBNav()}componentWillUnmount(){G-=1,this.props.onUnmount&&this.props.onUnmount()}onMenuNavigation(N){const K=this.getIndexOfNextMenuItemInDirection(N);this.setState(()=>({highlightedMenuItemIndex:K,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(N){const K=this.state.highlightCanChangeOnMouseMovement?N:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:K,contingentHighlightedMenuItemIndex:N,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var J;(J=this.ariaMenuNode)===null||J===void 0||J.focus()}}getAllMenuItemIndices(){const N=[];return y(this.props.children).filter(t.isValidElement).forEach((K,J)=>{(D(K)||P(K))&&N.push(J)}),N}getIndexOfNextMenuItemInDirection(N){const K=this.getAllMenuItemIndices(),J=K.indexOf(this.state.highlightedMenuItemIndex),Y=K.length-1;if(N==="selectnext"){const H=J<Y?J+1:0;return K[H]}const q=J-1>=0?J-1:Y;return K[q]}getSelectedMenuItem(){const{highlightedMenuItemIndex:N}=this.state;if(!(N<0)&&this.menuChildren)return this.menuChildren[N]}focus(){const{kbNavActive:N,isSubmenu:K}=this.props;if(!N)return;if(!K){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const J=this.getAllMenuItemIndices();if(!J.length){var Y;(Y=this.ariaMenuNode)===null||Y===void 0||Y.focus();return}this.setState(()=>({highlightedMenuItemIndex:J[0]}),()=>{var q;(q=this.ariaMenuNode)===null||q===void 0||q.focus()})}registerKeyboardShortcutForMenuItem(N,K){if(!N||!K)return;const{label:J,key:Y}=N;(0,s.A)(J)&&((0,s.A)(Y)||(0,r.A)(Y))&&(0,d.A)(Y).forEach(q=>{this.keyboardShortcutsMap[q]=K})}renderMenuItem(N,K){const J=this.onMouseEnterMenuItem.bind(this,K),{highlightedMenuItemIndex:Y,highlightedMenuItemKbNavActive:q,isKeyboardHighlight:H}=this.state,{onMenuItemSelectedBefore:ne,stripTerminalSeparators:te,isResponsive:le}=this.props;k(N)&&N.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[N.props.for]={key:N.props.for,"aria-labelledby":(0,v.$b)(N.props.for),"aria-owns":[],index:K});const he={...N.props,onMouseEnter:J,key:K},Ie=`${this.activeMenuId}-${K}`,{shortcut:Ee}=N.props;if(Ee&&this.registerKeyboardShortcutForMenuItem(Ee,Ie),D(N)||P(N)){const V=Y===K;if(he.activeMenuId=Ie,V&&H){var me,ce,X;(ce=(me=this.ariaMenuNode)===null||me===void 0?void 0:me.querySelector(`#${he.activeMenuId}`))===null||ce===void 0||(X=ce.scrollIntoView)===null||X===void 0||X.call(ce)}he.menuCallbackBefore=ne,he.menuCallback=this.onMenuItemSelected,he.menuCallbackId||(he.menuCallbackId=K),he.highlighted=Y===K,he.isKeyboardHighlight=he.highlighted&&H,he.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[he.group]||(this.menuGroups[he.group]={key:he.group,"aria-owns":[],index:K}),this.menuGroups[he.group]["aria-owns"].push(he.activeMenuId))}if(P(N)&&(he.isOpen=he.highlighted&&!H||he.highlighted&&q,he.kbNavActive=he.highlighted&&q,he.returnKBNav=this.activateKBNav,he.preventHighlightChange=this.preventHighlightChange,he.allowHighlightChange=this.allowHighlightChange),L(N)&&te)if(!this.menuChildren)(0,T.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const V=this.menuChildren[K-1];if(L(V))return null;he.noFirstChild=!0,he.noLastChild=!0}return D(N)&&(he.isResponsive=le),t.cloneElement(N,he)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(N=>N["aria-owns"].length>0).map(N=>({group:t.createElement(_,{key:N.key,"aria-labelledby":N["aria-labelledby"],"aria-owns":N["aria-owns"].join(" ")}),index:N.index})).sort((N,K)=>K.index-N.index):[]}renderMenuItems(){this.menuChildren=y(this.props.children).filter(t.isValidElement);const N=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(J=>{let{group:Y,index:q}=J;N.splice(q,0,Y)}),N}renderMenu(){const{noMargin:N,menuClassNames:K,"data-qa":J,isUnstyled:Y,isResponsive:q,experimentSkResponsiveMenusGroupOn:H}=this.props,ne=(0,n.A)("c-menu__items",{"c-menu__items--no_margin":N}),te=this.state.highlightedMenuItemIndex!==-1?`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`:null,le=(0,n.A)({"c-menu":!Y,"c-menu--responsive":q&&H},K);return t.createElement("div",{className:le,"data-qa":J,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":te??void 0,ref:this.setAriaMenuRef,className:ne,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const N=this.renderMenu(),{autoClogProps:K}=this.props;return K?t.createElement(a.A,I({elementType:p.ElementType.MENU},K),N):N}constructor(N){super(N),this.activeMenuId=`menu-${(0,M.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(K,J)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(K,J)},this.onMenuKeyDown=K=>{var J;const{kbNavActive:Y,onMenuKeyDown:q,onCloseSubmenu:H,onTriggerClose:ne,windowRef:te}=this.props;if(!Y)return;const{key:le}=K,he=W[le],Ie=(J=this.keyboardShortcutsMap)===null||J===void 0?void 0:J[le],Ee=this.getSelectedMenuItem(),me=Ee&&P(Ee),ce=this.getAllMenuItemIndices();(he||Ie)&&(K.stopPropagation(),K.preventDefault()),(he==="selectnext"||he==="selectprevious")&&this.onMenuNavigation(he),he==="closesubmenu"&&(H==null||H(K)),(he==="select"||he==="opensubmenu")&&me&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),he==="closemenu"&&(ne==null||ne(K)),he==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:ce[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),he==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:ce[ce.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const X=`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`;if(he==="select"&&X&&!me){var V,x;(x=(V=te.deref())===null||V===void 0?void 0:V.document.getElementById(X))===null||x===void 0||x.click(),ne==null||ne(K)}if(Ie){var S,U;(U=(S=te.deref())===null||S===void 0?void 0:S.document.getElementById(Ie))===null||U===void 0||U.click(),ne==null||ne(K)}q==null||q(K,{isCurrentItemSubmenu:me,closeMenu:ne,selectedMenuItem:Ee})},this.onMouseLeaveMenu=()=>{const K=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:K,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=K=>{this.ariaMenuNode=K},this.activateKBNav=()=>{var K;(K=this.ariaMenuNode)===null||K===void 0||K.focus(),this.setState(J=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:J.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):J.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(K=>({highlightedMenuItemIndex:K.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");B.displayName="Menu",B.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.A,onMenuItemSelectedBefore:o.A,onTriggerClose:o.A,onCloseSubmenu:o.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.A,allowHighlightChange:o.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.A,onUnmount:o.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0};const R=c(w=>({experimentSkResponsiveMenusGroupOn:(0,m.IN)(w)}),"mapStateToProps"),j=(0,i.A)((0,O.N)(R,null,null,{forwardRef:!0})(B))},101973425:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>m,KJ:()=>o,LN:()=>a,l0:()=>i});var t=e(2208015175),n=e(3297051565),s=e.n(n),r=e(4724591729),d=e(796111729);const o="_isSlackMenuItem",a={menuCallback:s().func,menuCallbackId:s().number,highlighted:s().bool};function i(l){return!!l[o]}c(i,"isMenuItem");function m(l){if((0,r.Cu)()){const _=l.propTypes||{};let v;Object.defineProperty(l,"propTypes",{get:()=>v,set:u=>{const h=l.displayName||l.name||"Component";(0,t.A)(a,(f,p)=>{const E=u[p];E&&E!==f&&E!==f.isRequired&&(0,d.Wo)().warn(`${h}'s ${p} prop type doesn't match menu item`)}),v={...a,...u}}}),l.propTypes=_}return l[o]=!0,l}c(m,"wrapMenuItem")},9285382326:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6162189146);const n=t.A},6162189146:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(5255740490),s=e(7026348746),r=e(8683010724),d=e(2312625946),o=e(653780586),a=e(735940183);const i=new a.Ay("channel_token"),m=c(_=>{let{type:v=o.A.Unknown,subtler:u=!1,size:h=o.o.Small,width:f="random",invert:p=!1,showHash:E=!0,omitNonExistentTooltip:g=!1}=_;const A=(0,n.A)("c-missing_channel",{"c-missing_channel--unknown":v===o.A.Unknown,"c-missing_channel--nonexistent":v===o.A.Nonexistent,"c-missing_channel--subtler":u,"c-missing_channel--medium":h===o.o.Medium,"c-missing_channel--unknown_inverted":v===o.A.Unknown&&p,"c-missing_channel--non_existent_inverted":v===o.A.Nonexistent&&p}),y=(0,n.A)("c-missing_channel--medium_hash",{"c-missing_channel--subtler":u});let T;if(v===o.A.Unknown)T=i.t("Loading...");else if(v===o.A.Nonexistent)T=i.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(v===o.A.Nonexistent){const M=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(r.A,{name:"lock"}),t.createElement("span",null,i.t("private channel")));return g?M:t.createElement(d.Ay,{tip:T},M)}return h===o.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},E&&t.createElement("span",{className:y},t.createElement(r.A,{name:"channel"})),t.createElement(s.A,{tooltip:T,isNonExistent:!1,size:f,className:A})),t.createElement(s.A,{tooltip:T,isNonExistent:!1,size:f,className:A})):t.createElement(s.A,{tooltip:T,isNonExistent:!1,size:f,className:A})},"MissingChannel");m.displayName="MissingChannel";const l=t.memo(m)},8028620372:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(653780586);const r=c(o=>{let{className:a,isNonExistent:i=!1,size:m,subtler:l=!1,invert:_=!1,dataQa:v}=o;const{Unknown:u,Nonexistent:h}=s.A,f=i?h:u,p=(0,t.useMemo)(()=>({height:m,width:m}),[m]);return t.createElement("span",{className:(0,n.A)(a,"c-missing_icon",`c-missing_icon--${f}`,{"c-missing_icon--unknown_inverted":f===u&&_,"c-missing_icon--non_existent_inverted":f===h&&_,"c-missing_icon--subtler":l}),style:p,"data-qa":v})},"MissingIcon");r.displayName="MissingIcon";const d=r},7576317051:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(3229001818);const n=t.A},3229001818:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(3134334389),n=e(7026348746),s=e(653780586),r=e(735940183);const d=new r.Ay("member_token"),{Unknown:o,Nonexistent:a}=s.A,i=c(l=>{let{type:_=o,subtler:v=!1,className:u,"data-qa":h}=l;const f=_===o?d.t("Loading\u2026"):d.t("Private user info");return t.createElement(n.A,{className:u??"",isNonExistent:_===a,subtler:v,tooltip:f,"data-qa":h})},"MissingMember");i.displayName="MissingMember";const m=t.memo(i)},4816967449:(Q,C,e)=>{"use strict";e.d(C,{A:()=>v});var t=e(3134334389),n=e(7026348746),s=e(653780586),r=e(735940183);const d=new r.Ay("user_group_token"),{Unknown:o,Nonexistent:a}=s.A,{Small:i,Medium:m}=s.o,l=c(u=>{let{invert:h=!1,size:f=i,type:p=o,subtler:E=!1}=u;const g=p===o?d.t("Loading..."):d.t("Private user group info");if(f===m){const A="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(n.A,{tooltip:g,isNonExistent:p===a,size:"small",invert:h})," ",t.createElement(n.A,{tooltip:g,isNonExistent:p===a,size:"small",invert:h})),t.createElement("div",null,t.createElement(n.A,{tooltip:g,isNonExistent:p===a,size:"small",invert:h}),A,t.createElement(n.A,{tooltip:g,isNonExistent:p===a,size:"large",invert:h})))}return t.createElement(n.A,{tooltip:g,isNonExistent:p===a,size:"random",subtler:E,invert:h})},"MissingUserGroup");l.displayName="MissingUserGroup";const v=l},2372217664:(Q,C,e)=>{"use strict";e.d(C,{i:()=>m,m:()=>v});var t=e(3134334389),n=e(4980558152),s=e(9236644324),r=e(735940183),d=e(9391594207);const o=new r.Ay("message"),a={code:"code",codeBlock:"codeBlock"};function i(u){let{children:h,blockType:f,...p}=u,E;const g=t.Children.only(h),A=t.cloneElement(g,{...p,ref:T=>{T&&(E=T)}}),y=(0,t.useCallback)(()=>[{label:f==="codeBlock"?o.t("Copy this code block"):o.t("Copy this code"),click:()=>E&&(0,s.x3)(E.innerText)}],[f,E]);return t.createElement(n.A,{getTemplate:y},A)}c(i,"BaseCopyCodeBlockContextMenuTrigger"),i.displayName="BaseCopyCodeBlockContextMenuTrigger";const m=(0,d.N)(()=>({}),()=>({}))(i),l=t.forwardRef((u,h)=>{let{children:f,...p}=u;const E=t.Children.only(f);return t.cloneElement(E,{...p,ref:h,onMouseDown:_})});function _(u){if(u.button!==0||u.detail<3)return;u.preventDefault();const h=window.getSelection(),f=document.createRange();h==null||h.removeAllRanges(),f.selectNodeContents(u.currentTarget),h==null||h.addRange(f)}c(_,"selectContentsOnTripleMouseDown");const v=(0,d.N)(()=>({}),()=>({}),null,{forwardRef:!0})(l)},7970461309:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i});var t=e(3134334389),n=e(8300007136),s=e(3771536679),r=e(8739505998),d=e(3270010894),o=e(4841770661);function a(m){let{ts:l,format:_,fallback:v=void 0,link:u=void 0,noLinking:h=!1,do24hrTime:f=!1,timezone:p=void 0}=m;const E=(0,n.wA)(),g=(0,d.Yq)(l,_,{fallbackString:v,do24hrTime:f,timezone:p}),A=(0,t.useCallback)(y=>{u&&g&&(0,s.A)(g,u)&&(E((0,o.A)({text:g,url:u})),y.preventDefault())},[E,g,u]);return!g||g===_?null:!u||h?t.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},g):t.createElement(r.A,{"data-qa":"mrkdwn_date",href:u,maybeOpenSuspiciousLinkDialog:A},g)}c(a,"DateCommand"),a.displayName="DateCommand";const i=t.memo(a)},3089302312:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490),s=e(6380257921);let r=c(class extends t.PureComponent{render(){const{type:a,noHighlights:i,noLinking:m}=this.props,l=!i,_=(0,s.A)({type:a,tsfMode:"NORMAL"}),v=_,u=(0,n.A)("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!m,"c-mrkdwn__broadcast--mention":l});return t.createElement("span",{className:u,"data-broadcast-id":`BK${a}`,"data-stringify-text":_},v)}},"MrkdwnBroadcastCommand");r.displayName="MrkdwnBroadcastCommand",r.defaultProps={noHighlights:!1,noLinking:!1};const d=r},2507822440:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Y});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(6388117406),d=e(8950789382),o=e(9253306e3),a=e(1190344069),i=e(5892132962),m=e(2233365467),l=e(5267010247),_=e(8822892075),v=e(3275490582),u=e(9884588328),h=e(1407713935),f=e(4559887502),p=e(6495946979),E=e(8661826718),g=e(8739505998),A=e(9285382326),y=e(8683010724),T=e(1563996154),M=e(6345573615),O=e(735940183),I=e(485355941),D=e(6904279885),P=e(5123689463),L=e(9391594207),k=e(3273285825),G=e(9101533895),b=e(8146089001),W=e(3677514771);function B(){return B=Object.assign||function(q){for(var H=1;H<arguments.length;H++){var ne=arguments[H];for(var te in ne)Object.prototype.hasOwnProperty.call(ne,te)&&(q[te]=ne[te])}return q},B.apply(this,arguments)}c(B,"_extends");const R=new O.Ay("recordchannels"),j={channelName:void 0,className:void 0,fallbackName:void 0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isRecord:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:s.A,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1,experimentRecordChannelsGroupOn:!1,noTabbableContent:!1};let w=c(class extends t.PureComponent{onClick(H){const{id:ne}=this.props;if((0,I.Cz)(H)){H.preventDefault(),H.stopPropagation(),this.props.maybeOpenInWindow({viewId:ne});return}H.preventDefault(),H.stopPropagation(),this.props.navigate((0,_.pr)(ne))}getTooltipContent(){const{id:H,isRecord:ne,isChannelImOrMpim:te,mpimMemberNames:le,teamName:he,channelHasNonUniqueName:Ie,recordLabel:Ee,experimentRecordChannelsGroupOn:me}=this.props;return te?le.join(", "):ne?t.createElement("div",{className:"c-mrkdwn__record_channel--tooltip"},me?R.t("{recordLabel} channel ",{recordLabel:Ee,recordType:Ee,fallbackHash:"c94ad953533f172490dd2c0d82f8740c0ff19f9b"}):`${Ee} channel`,t.createElement(o.r,{channelId:H})):t.createElement(t.Fragment,null,t.createElement(E.A,{channelId:H}),Ie&&t.createElement("br",null),Ie&&t.createElement("span",{className:"c-member_slug__tooltip_subheader"},he))}clogLinkClick(){var H,ne;(ne=(H=this.props).clogLinkClick)===null||ne===void 0||ne.call(H,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}render(){const{channelName:H,className:ne,fallbackName:te,id:le,isPrivate:he,isChannelImOrMpim:Ie,isRecord:Ee,recordChannelIconProps:me,isMember:ce,isNonExistent:X,isUnknown:V,noLinking:x,isFromAnotherTeam:S,team:U,noTabbableContent:F}=this.props;if(V)return t.createElement(A.A,{type:"unknown"});if(X&&!te)return t.createElement(A.A,{type:"non-existent"});const Z=!he||ce||Ee;if(!Z)return t.createElement(A.A,{type:"non-existent"});const z=(0,M.A)({channelName:H,fallbackName:te,isUnknown:V,isNonExistent:X,includePrefix:!he&&!Ie&&!me}),$=z;let ee,de;ee=!x&&!X&&Z,he&&(de=(0,D.A)({channelName:H,isPrivate:he})),ee&&S&&(ee=!!U);const ie=(0,n.A)("c-mrkdwn__channel c-member_slug",{internal_channel_link:ee,"c-member_slug--link":ee},ne);if(!ee)return t.createElement("span",{className:ie},he&&t.createElement(y.A,{name:"lock",variation:"filled",inline:!0}),$);let ue;me?ue=t.createElement(y.A,B({inline:!0},me)):he&&(ue=t.createElement(y.A,{name:"lock",variation:"filled",inline:!0}));const fe=S&&U?(0,P.Kk)({team:U,channelId:le}):(0,P.iu)({channelId:le});return t.createElement(r.A,{id:le},t.createElement(T.Ay,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},t.createElement(g.A,B({className:ie,href:fe,clogLinkClick:this.clogLinkClick,"data-channel-name":z,"data-channel-id":le,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":de,onClick:this.onClick},F&&{tabIndex:-1}),ue,$)))}constructor(H){super(H),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"BaseMrkdwnChannel");w.displayName="BaseMrkdwnChannel",w.defaultProps=j;function N(q,H){let{id:ne}=H,te,le,he,Ie,Ee,me,ce=null;const X=(0,G.OL)(q,ne);let V,x,S=null,U=[],F,Z,z;const $=(0,a.hm)(q);return X?(te=(0,u.SB)(q,X,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),Ee=(0,h.t8)(X),le=(0,h.Zp)(X),Ie=(0,p.b)(X),V=(0,h.JM)(X),x=(0,h.rI)(X),S=(0,i.sc)(X),he=(0,h.QR)(X),me=(0,u.lo)(X),ce=me?(0,W._J)(q,(0,u.bK)(q,X)):null,U=(0,u.Zu)(q,ne),Z=(0,f.i)((0,G.MS)(q),X),z=(0,m.jT)(X),Z&&(F=(0,b.a)(q,{channel:X}))):he=!0,{channelName:te,isPrivate:le,isChannelImOrMpim:V,isRecord:x,recordChannelIconProps:S,isNonExistent:he,isMember:Ie,isUnknown:Ee,isFromAnotherTeam:me,team:ce,mpimMemberNames:U,channelHasNonUniqueName:Z,teamName:F,recordLabel:z,experimentRecordChannelsGroupOn:$}}c(N,"mapStateToProps");const K=c(q=>({updateChannelLastTrigger:function(){for(var H=arguments.length,ne=new Array(H),te=0;te<H;te++)ne[te]=arguments[te];return q((0,k.Z)(...ne))},navigate:function(){for(var H=arguments.length,ne=new Array(H),te=0;te<H;te++)ne[te]=arguments[te];return q((0,l.o)(...ne))},maybeOpenInWindow:function(){for(var H=arguments.length,ne=new Array(H),te=0;te<H;te++)ne[te]=arguments[te];return q((0,d.s)(...ne))}}),"mapDispatchToProps"),Y=(0,v.A)((0,L.N)(N,K)(w))},9869662507:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>Te});var t=e(3134334389),n=e(2774532222),s=e(7715417323),r=e(5734673180),d=e(5604079762),o=e(1650415028),a=e(8170244779),i=e(4116177835),m=e(1206744593),l=e(6536982570),_=e(1521013946),v=e(8739505998),u=e(6044196829),h=e(1191942715),f=e(897219217),p=e(7621878090),E=e(1030162945),g=e(6658490498),A=e(3037015781),y=e(9884588328),T=e(1407713935),M=e(6007206761),O=e(8393662842),I=e(7334104107),D=e(1198382523),P=e(7980641),L=e(3787230964),k=e(675958705),G=e(4138249182),b=e(6457401668),W=e(8661826718),B=e(8581672825),R=e(3199988258),j=e(735940183),w=e(9391594207),N=e(7274827479),K=e(9101533895),J=e(937317117),Y=e(7606781622);const q=new j.Ay("linkify_emails");function H(Ae){let{href:Re,isMsgPermalink:Be=!1,msg:ke=void 0,channelDisplayName:se,msgSenderName:ve,permalinkChannelId:Me=void 0,channel:be=void 0,experimentRichTextGroupOn:xe=!1,experimentIsSlackAiSearchFilesFeFastFollowsGroupOn:Le=!1,isFilePermalink:Ke=!1,file:He=void 0}=Ae,Ye=Re.length>500?`${Re.substr(0,500)}\u2026`:Re;if(Ye=Be?Ye:Ye==null?void 0:Ye.toLowerCase(),Ke&&He&&Le){const st=He==null?void 0:He.title,ot=(0,O.Hx)(He);return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},st)),t.createElement("div",null,t.createElement("span",{className:"normal"},ot," | "),t.createElement("span",{className:"normal"},t.createElement(B.A,{file:He,displaySharedBy:!0,excludeTime:!0}))),t.createElement("div",{className:"sk_foreground_high_solid break_all"},Re))}if(!Be||(0,A.lv)(ke)||(0,I.ow)(ke)||(0,M.F)(be)||(0,L.A)(ke==null?void 0:ke.subtype)||(0,b.ys)(ke)==="tombstone"||(0,b.s7)(ke)||(0,b.Dv)(ke)||(0,b.TD)(ke)||(0,b.oX)(ke)||!(0,I.iM)(ke)&&!(ke!=null&&ke.text)){if(Re.startsWith("mailto:")){const ot=Re.split("mailto:")[1]?Re.split("mailto:")[1]:Re;return q.rt("Contact {emailAddress} in Slack",{emailAddress:ot})}return t.createElement(t.Fragment,null,Ye)}let Xe;if(ke&&(0,k.A)(ke,xe)&&(0,f.n)(ke.blocks)&&!(0,G.A)(ke))Xe=t.createElement(h.A,{richTextBlock:(ke==null?void 0:ke.blocks)&&ke.blocks[0],emojiSize:E.lw.SMALL,truncateLength:125});else{const st=ke&&(0,D.A)(ke);st&&(Xe=t.createElement(R.A,{text:st,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:E.lw.SMALL,maxCharacters:125}))}const et=(0,T.LI)(be)||(0,T.yz)(be)?se:t.createElement(W.A,{className:"normal",channelId:Me});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},ve),t.createElement("span",{className:"normal"}," | ",et)),Xe&&t.createElement("div",{className:"normal"},Xe),t.createElement("div",{className:"sk_foreground_high_solid break_all"},Re))}c(H,"MrkdwnLinkTooltip"),H.displayName="MrkdwnLinkTooltip";function ne(Ae,Re){let{href:Be}=Re;const ke=(0,_.$N)(Ae,Be),se=!!(ke&&ke.type==="message"&&ke.ts),ve=se?ke.channelId:void 0,Me=!!(ke&&(ke!=null&&ke.fileId)),be=ke!=null&&ke.fileId?(0,J.Lp)(Ae,ke.fileId):void 0,xe=se&&ke.channelId&&ke.ts&&(0,Y.Ld)(Ae,ke.channelId,ke.ts),Le=xe&&(0,P.A)(Ae,xe);var Ke;return{isFilePermalink:Me,file:be,isMsgPermalink:se,msg:xe||void 0,permalinkChannelId:ve||void 0,channel:ve&&(Ke=(0,K.OL)(Ae,ve))!==null&&Ke!==void 0?Ke:void 0,channelDisplayName:se?(0,y.SB)(Ae,(0,K.OL)(Ae,ve)):void 0,msgSenderName:Le?(0,g.A)(Ae,{userId:Le.userId,botId:Le.botId,username:Le.username,botProfile:xe.bot_profile}):void 0,experimentRichTextGroupOn:(0,p.E)(Ae),experimentIsSlackAiSearchFilesFeFastFollowsGroupOn:(0,N.ay)(Ae)}}c(ne,"mapStateToProps");const te=(0,w.N)(ne)(H);var le=e(1563996154),he=e(3339229351),Ie=e(82287009),Ee=e(4877597461),me=e(8257102208),ce=e(796111729),X=e(9899967630),V=e(3955524292),x=e(8234448831),S=e(7547876038),U=e(8677230210),F=e(4761125736),Z=e(5492254797),z=e(8276911661),$=e(2047021170),ee=e(8262898118);function de(){return de=Object.assign||function(Ae){for(var Re=1;Re<arguments.length;Re++){var Be=arguments[Re];for(var ke in Be)Object.prototype.hasOwnProperty.call(Be,ke)&&(Ae[ke]=Be[ke])}return Ae},de.apply(this,arguments)}c(de,"_extends");const ie="javascript:";function ue(Ae){let{url:Re,origin:Be,botId:ke,urlIsSIWSLink:se,experimentWebIdentityLinksGroupTreatment:ve,isFileQuipAndNotAccessible:Me,isFileListAndNotAccessible:be}=Ae;return se&&ve?"siws":Me?"quip-inaccessible":be?"list-inaccessible":ke?"bot":(0,n.A)(Re,ie)?"javascript":(0,n.A)(Re,`${Be}/messages`)?"messages":(0,n.A)(Re,`${he.SQ}chat.help`)?"old-slack-action":(0,n.A)(Re,`${he.Rw}`)?"slack-action":"external"}c(ue,"getUrlType");const fe=(0,V.A)();function re(Ae){let{botId:Re,botName:Be,children:ke,origin:se=fe,doSlackAction:ve,doSlackActionLinks:Me=!0,requestAccessModalThunk:be,noLinking:xe=!1,url:Le,maybeOpenSuspiciousLinkDialog:Ke=s.A,clogLinkClick:He=s.A,urlIsSIWSLink:Ye=!1,explicitlyRenameBotLink:Xe=!1,showTooltip:et=!1,suppressLinkWarningPref:st=!1,experimentWebIdentityLinksGroupTreatment:ot=!1,isHermesLinkTrigger:ct=!1,triggerId:at,isFileQuipAndNotAccessible:At=!1,isFromAppHome:Ct=!1,permalinkType:Tt=null,permalinkFileId:Rt=void 0,isFileListAndNotAccessible:It=!1,noTabbableContent:Mt=!1}=Ae;const nn=(0,t.useCallback)(()=>{ve(Le)},[ve,Le]),Ot=(0,t.useCallback)(ut=>{ut.preventDefault(),be({url:Le})},[be,Le]),bt=(0,t.useCallback)(ut=>{let Pt="external",Bt;Tt===_.im.MESSAGE?Pt="message":Tt===_.im.FILE?(Pt="file",Rt&&(Bt={item_id:Rt,item_type:"F",link_action:"file_preview_link"})):Tt===_.im.SEARCH?Pt="search_link":Tt&&(Pt="internal"),He({...ut,...Bt,link_type:Pt})},[He,Tt,Rt]),Jt=(0,t.useCallback)(()=>{const ut=(0,r.A)(Le);return t.createElement(te,{href:ut})},[Le]);if(xe)return t.createElement("span",null,ke);const en=ue({url:Le,origin:se,botId:Re,urlIsSIWSLink:Ye,experimentWebIdentityLinksGroupTreatment:ot,isFileQuipAndNotAccessible:At,isFileListAndNotAccessible:It}),sn=(0,r.A)(Le);let zt,Yt=null,hn=!1,Qe=!1,Wt=ke,gn=!1;if(en==="slack-action")Qe=!0,Me?Yt=nn:(hn=!0,zt="(Disabled) ");else if(en==="old-slack-action")hn=!0,zt="(Disabled) ";else if(en==="quip-inaccessible"||en==="list-inaccessible"){const Pt=new j.Ay("request_access").t("Request access"),Bt=t.createElement(v.A,de({className:"c-mrkdwn__quip_and_list_file_request_access_link","data-stringify-link":sn,"data-qa":"file-request-access-link",href:sn,onClick:Ot,isFromAppHome:Ct},Mt&&{tabIndex:-1}),ke);return t.createElement(le.Ay,{tip:Pt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},Bt)}else if(en==="javascript")Qe=!0,Yt=s.A;else if(en==="bot"&&Xe)Qe=!0,Wt=Be||ke,gn=!0;else if(en==="siws"){const ut=c((Bt,Ft)=>t.createElement(v.A,{autoClogProps:Ft,clogLinkClick:bt,className:"c-mrkdwn__identity_trigger",onClick:Bt,href:sn},Wt),"renderBaseLink");let Pt=ut;return et&&(Pt=c((Bt,Ft)=>t.createElement(le.Ay,{tip:Jt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},ut(Bt,Ft)),"renderSiwsLink")),t.createElement(o.A,{url:sn},Pt)}if(Qe){let ut=t.createElement(u.A,{onClick:Yt&&!hn?Yt:s.A,disabled:hn,renderAsSpan:!0},zt,Wt);return gn&&(ut=t.createElement(i.A,{botId:Re,onClick:!hn&&Yt},ut)),ut}const rn=t.createElement(v.A,de({"data-stringify-link":sn,href:sn,clogLinkClick:bt,maybeOpenSuspiciousLinkDialog:st?s.A:Ke,isFromAppHome:Ct},Mt&&{tabIndex:-1}),ke);return ct&&at?t.createElement(a.A.Consumer,null,ut=>{let{...Pt}=ut;const Bt={triggerId:at,url:Le},Ft=(0,Z.P)(Pt),un=(0,Z.S)(Pt,Bt);return(0,Ie.sh)({shortcutInfo:Bt,channelId:Pt.channelId,hermesLinkTriggerUIContext:Ft,autoClogEntryPoint:(un==null?void 0:un.entryPoint)||"other",children:t.createElement(v.A,{"data-stringify-link":sn,href:sn,clogLinkClick:bt,autoClogProps:un,hermesLinkTriggerUIContext:Ft,maybeOpenSuspiciousLinkDialog:st?s.A:Ke},ke)})}):et?t.createElement(le.Ay,{tip:Jt,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},rn):rn}c(re,"BaseMrkdwnLink"),re.displayName="BaseMrkdwnLink";const _e=c((Ae,Re)=>{let{children:Be,memberId:ke,url:se}=Re;const ve=(0,F._Z)(Ae,"web_identity_links")==="treatment",Me=(0,Ee.A)(se)||void 0,be=(0,x.Ay)(se),xe=be?(0,_.XN)(Ae,be):null;let Le;if(Me&&(Le=(0,U.vu)(Ae,Me),!Le&&ke)){const Xe=(0,z.nv)(Ae,ke);(0,l.Ux)(Ae,Xe)&&(Le=Be),Le||(0,ce.Ay)({state:Ae}).warn(`MrkdwnLink: no bot name found for ${Me}`)}const Ke=(0,m.Wc)(Ae)&&(xe==null?void 0:xe.type)===_.im.SHORTCUT_LINK_TRIGGER,He=be&&(0,X.dR)(Ae,be)!==null,Ye=be&&(0,me.W4)(Ae,be)!==null;return{botId:Me,botName:Le,experimentWebIdentityLinksGroupTreatment:ve,suppressLinkWarningPref:!!(0,$.ty)(Ae,"suppress_link_warning"),urlIsSIWSLink:be?(0,ee.Ls)(Ae,be):!1,isHermesLinkTrigger:Ke,triggerId:xe==null?void 0:xe.triggerId,permalinkType:xe==null?void 0:xe.type,permalinkFileId:xe==null?void 0:xe.fileId,isFileQuipAndNotAccessible:He,isFileListAndNotAccessible:Ye}},"mrkdwn_link_mapStateToProps"),Ue=c(Ae=>({doSlackAction:Re=>Ae((0,S.A)(Re)),requestAccessModalThunk:Re=>Ae((0,d.A)(Re))}),"mapDispatchToProps"),Te=(0,w.N)(_e,Ue)(re);Object.defineProperty({},"getUrlType",{get:()=>ue,set:Ae=>{ue=Ae}})},3199988258:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ee});var t=e(3134334389),n=e(1398359918),s=e(6696292586),r=e(8891672792),d=e(8840779375),o=e(9113979368),a=e(7715417323),i=e(3297051565),m=e.n(i),l=e(3771536679),_=e(1030162945),v=e(3043682041),u=e(5821662500),h=e(2372217664),f=e(7970461309),p=e(3089302312),E=e(2507822440),g=e(9869662507),A=e(1470040509),y=e(1563996154),T=e(6818330210),M=e(2952777997),O=e(5888656082),I=e(1842363787),D=e(796111729),P=e(735940183),L=e(4096483543),k=e(5619542846),G=e(9391594207),b=e(6652001255),W=e(4841770661),B=e(3328068409),R=e(4761125736),j=e(1317368584),w=e(2047021170),N=e(3146663623);function K(){return K=Object.assign||function(me){for(var ce=1;ce<arguments.length;ce++){var X=arguments[ce];for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(me[V]=X[V])}return me},K.apply(this,arguments)}c(K,"_extends");const J=void 0,Y="\u2026.,_-",q=/\ue000|\ue001/,H=new P.Ay("message"),ne=(0,D.Wo)();let te=c(class extends t.PureComponent{componentDidMount(){const{onRender:ce}=this.props;ce==null||ce({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:ce}=this.props;ce==null||ce({isTruncated:this.isTruncated()})}render(){const{text:ce,className:X,noJumbomoji:V,noSpecials:x,customContentHandler:S,addDirectionAttr:U,refToForward:F,onMouseEnter:Z,onMouseLeave:z,"data-qa":$,experimentTsfSnitchGroupOn:ee}=this.props;if(!ce)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const de=x?"NOMRKDWN":this.props.tsfMode,ie=this.props.ariaAssertive?"assertive":void 0;let ue=(0,I.sm)(ce,de,{jumbomoji:!V,allow_intra_word_formatting:!0});q.test(ce)&&(ue=(0,n.A)(ue,_e=>_e.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let fe=(0,O.A)(ue);S&&(fe=S(fe));const re=U?"auto":void 0;return t.createElement("span",{className:ee?`c-mrkdwn__snitch ${X||""}`:X,ref:F,"aria-live":ie,dir:re,"data-qa":$,onMouseEnter:Z,onMouseLeave:z},this.renderMrkdwnFormatting(fe,!0))}constructor(...ce){var X;super(...ce),X=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(V,x)=>{const{onUserGroupClick:S}=this.props;V.preventDefault(),S==null||S(x)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=V=>{let{contents:x}=V;const S=(0,P.Yp)()==="ja-JP"?"\uFF0A":"*",U=(0,L.A)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":S,"data-stringify-suffix":S,"data-stringify-requires-siblings":!0};return t.createElement("b",K({key:this.nextKey()},U),this.renderMrkdwnFormatting(x))},this.renderChannel=V=>{let{id:x="",name:S=""}=V;const{noLinking:U,clogLinkClick:F}=this.props;return this.numCharactersUsed+=(S||x).length+1,t.createElement(E.A,{key:this.nextKey(),id:x,noLinking:U,clogLinkClick:F})},this.renderCode=V=>{let{contents:x}=V;if(this.props.noCode)return t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(x));const S=(0,P.Yp)()==="ja-JP"?"\uFF40":"`",U=(0,L.A)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":S,"data-stringify-suffix":S,"data-stringify-requires-siblings":!0};return t.createElement(h.i,{blockType:"code",key:this.nextKey()},t.createElement(h.m,null,t.createElement("code",K({key:this.nextKey(),className:"c-mrkdwn__code"},U),this.renderMrkdwnFormatting(x))))},this.renderCommand=V=>{let{data:x}=V;const{type:S,label:U,...F}=x,{noHighlights:Z,noLinking:z,do24hrTime:$}=this.props;switch(S){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=S.length+1,t.createElement(p.A,K({},F,{key:this.nextKey(),type:S,noHighlights:Z,noLinking:z}));case"subteam":return this.numCharactersUsed+=(U||S).length,t.createElement(A.Ay,K({},F,{key:this.nextKey(),fallback:U,noHighlights:Z,noLinking:z,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(U||S).length,t.createElement(f.A,K({},F,{key:this.nextKey(),fallback:U,do24hrTime:$}));default:return J}},this.renderEmoji=V=>{let{name:x=""}=V;const{showTooltips:S,stopAnimations:U,emojiDisplayInfo:F,emojiSize:Z=_.lw.MEDIUM,isEmojiInlineWithText:z,iconInTextMode:$,sourceTeamId:ee}=this.props;this.numCharactersUsed+=1;const{name:de=x,url:ie=void 0}=(0,T.H)(x,F);return t.createElement(_.Ay,{key:this.nextKey(),text:de,emojiSize:Z,showTooltip:S,stopAnimations:U,iconInTextMode:$,sourceTeamId:ee,isEmojiInlineWithText:z,url:ie})},this.renderHardSpace=V=>this.props.customLineEnding?"\xA0":["\xA0",t.createElement("wbr",{key:this.nextKey()})],this.renderHex=V=>{let{color:x=""}=V;const{noHexColors:S}=this.props;return this.numCharactersUsed+=x.length,S?null:t.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:x}})},this.renderHighlight=V=>t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},V),this.renderHighlightMarkers=V=>{let{contents:x}=V;return t.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(x))},this.renderHighlights=(V,x)=>{let{text:S=""}=V;const{highlights:U,noHighlights:F,maxCharacters:Z}=this.props,{isLastItem:z}=x;if((0,s.A)(Z)&&this.numCharactersUsed<Z){const ue=Z-this.numCharactersUsed;if(ue<S.length||ue===S.length&&!z){const fe=(0,r.A)((0,r.A)(S.slice(0,ue)),Y);return this.numCharactersUsed=Z,[this.renderHighlights({text:fe},x),"\u2026"]}this.numCharactersUsed+=S.length}if(!S||!U||F)return(0,k.A)(S);const $=(0,M.zE)(U),ee=(0,M.Ay)(S,$),de=[];let ie=0;if(ee.forEach(ue=>{let{index:fe,length:re}=ue;const _e=(0,k.A)(S.slice(ie,fe));de.push(_e);const Ue=(0,k.A)(S.substr(fe,re));de.push(this.renderHighlight(Ue)),ie=fe+re}),ie!==S.length){const ue=(0,k.A)(S.slice(ie));de.push(ue)}return de},this.renderItalic=V=>{let{contents:x}=V;const S=(0,P.Yp)()==="ja-JP"?"\uFF3F":"_",U=(0,L.A)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":S,"data-stringify-suffix":S,"data-stringify-requires-siblings":!0};return t.createElement("i",K({key:this.nextKey()},U),this.renderMrkdwnFormatting(x))},this.renderJumbomoji=V=>{let{name:x}=V;const{showTooltips:S,stopAnimations:U,sourceTeamId:F}=this.props;return this.numCharactersUsed+=1,t.createElement(_.Ay,{key:this.nextKey(),text:x,emojiSize:_.lw.LARGE,showTooltip:S,stopAnimations:U,sourceTeamId:F})},this.renderLineBreak=()=>{const{customLineEnding:V}=this.props,x=t.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,V?[t.createElement("span",{key:this.nextKey()},V),x]:x},this.onMaybeOpenSuspiciousLinkDialog=(V,x)=>{let{url:S="",contents:U=[]}=x;const{onOpenSuspiciousLinkDialog:F,suppressLinkWarningPref:Z}=this.props;if(Z)return;const z=c(ie=>ie!=null&&ie.text?ie.text:ie!=null&&ie.name?ie.name:ie!=null&&ie.contents?ie.contents.map(z):"","textFromContents"),$=U.map(z).join(""),ee=$.replace(/&amp;/g,"&"),de=S.replace(/&amp;/g,"&");(0,l.A)($,S)&&(F==null||F({text:ee,url:de}),V.preventDefault())},this.renderLink=V=>{let{url:x="",contents:S=[]}=V;const{doSlackActionLinks:U,noLinking:F,origin:Z,memberId:z,clogLinkClick:$,explicitlyRenameBotLink:ee,isFromAppHome:de}=this.props;return t.createElement(g.Ay,{key:this.nextKey(),url:x,noLinking:F,doSlackActionLinks:U,origin:Z,memberId:z,clogLinkClick:$,explicitlyRenameBotLink:ee,showTooltip:!0,maybeOpenSuspiciousLinkDialog:ie=>{this.onMaybeOpenSuspiciousLinkDialog(ie,{url:x,contents:S})},isFromAppHome:de},this.renderMrkdwnFormatting(S))},this.renderLongQuotePrefix=()=>(0,L.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=V=>{let{id:x="",fallback:S}=V;const{noHighlights:U,noLinking:F,showTooltips:Z,clogLinkClick:z,clientTheme:$,forceRealNames:ee,supressMentionAtSymbol:de}=this.props;return this.numCharactersUsed+=x.length,t.createElement(u.A,{key:this.nextKey(),forceRealNames:ee,id:x,fallback:S,showTooltip:Z,noHighlights:U,noLinking:F,clogLinkClick:z,clientTheme:$,supressMentionAtSymbol:de})},this.renderMrkdwnFormatting=function(V){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:S}=X.props;return(0,d.A)(V,(U,F)=>{if(X.isTruncated())return!1;const Z=U.type,z=Z&&X.FORMAT_HANDLERS[Z]||X.renderHighlights,$=c(()=>{const de=Boolean(x&&V&&F===V.length-1);return z(U,{index:F,isLastItem:de})},"getDefaultOutput");let ee;try{S?(ee=S({item:U,getDefaultOutput:$}),t.isValidElement(ee)&&(ee=t.cloneElement(ee,{key:X.nextKey()}))):ee=$()}catch(de){ne.error(de)}return ee===J&&(ee=X.renderUnknownItem(U)),ee})},this.renderParagraphBreak=()=>{const{customLineEnding:V}=this.props;return V?this.renderLineBreak():(0,L.A)()?t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.createElement("i",{className:"copy_only"},t.createElement("br",null)))},this.renderPre=(V,x)=>{let{contents:S}=V,{index:U}=x;if(this.props.noCode)return this.renderUnformattedBlock({contents:S,index:U});const F=(0,P.Yp)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",Z=(0,L.A)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":F,"data-stringify-suffix":F,"data-stringify-requires-siblings":!0};return t.createElement(h.i,{blockType:"codeBlock"},t.createElement(h.m,null,t.createElement("pre",K({key:this.nextKey(),className:"c-mrkdwn__pre"},Z),this.renderMrkdwnFormatting(S))))},this.renderQuote=(V,x)=>{let{contents:S}=V,{index:U}=x;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:S,index:U});const F={};if((0,L.A)()&&!(0,o.A)(S)){const Z=(S==null?void 0:S[0].type)==="long_quote_prefix"?"blockquote":"quote";F["data-stringify-type"]=Z}return t.createElement("blockquote",K({key:this.nextKey(),className:"c-mrkdwn__quote"},F),this.renderMrkdwnFormatting(S))},this.renderQuotePrefix=()=>(0,L.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=V=>{let{contents:x}=V;const S=(0,L.A)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.createElement("strike",K({key:this.nextKey()},S),this.renderMrkdwnFormatting(x))},this.renderUnformattedBlock=V=>{let{contents:x,index:S}=V;const U=t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(x));if(S===0)return U;const F=this.renderLineBreak();return this.isTruncated()?F:[F,U]},this.renderUnknownItem=V=>{let{token:x}=V;const{showTooltips:S}=this.props;return S?t.createElement(y.Ay,{key:this.nextKey(),tip:H.t("Sorry! This part didn\u2019t render correctly.")},t.createElement("code",{className:"sk_primary_foreground"},x)):t.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},x)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");te.displayName="BaseMrkdwn",te.defaultProps={text:"",tsfMode:"NORMAL",highlights:"",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:a.A,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:a.A,onMouseEnter:a.A,onMouseLeave:a.A,explicitlyRenameBotLink:!1,onUserGroupClick:a.A,onOpenSuspiciousLinkDialog:a.A,clientTheme:"light",refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1};const le=c((me,ce)=>{const{emojiMode:X,noHexColors:V,noJumbomoji:x,useUserNamePrefs:S}=ce,U=X||(0,v.w)(me),F=(0,j.A)(me);return{emojiMode:U,noJumbomoji:x||!F,highlights:(0,w.ty)(me,"highlight_words"),noHexColors:V||(0,w.ty)(me,"hide_hex_swatch"),do24hrTime:(0,w.ty)(me,"time24"),suppressLinkWarningPref:(0,w.ty)(me,"suppress_link_warning"),clientTheme:(0,B.to)(me),experimentTsfSnitchGroupOn:(0,R._Z)(me,"tsf_snitch")==="on",forceRealNames:S&&(0,N.E)(me)}},"mapStateToProps"),he=c(me=>({onUserGroupClick:ce=>me((0,b.q)({groupId:ce})),onOpenSuspiciousLinkDialog:ce=>{let{text:X,url:V}=ce;return me((0,W.A)({text:X,url:V}))}}),"mapDispatchToProps"),Ie=(0,G.N)(le,he)(te);Ie.propTypes={emojiMode:m().string,highlights:m().string,noHexColors:m().bool,emojiDisplayInfo:m().object},Ie.defaultProps={emojiMode:void 0,highlights:void 0,noHexColors:!1,emojiDisplayInfo:{}};const Ee=Ie},1470040509:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>T});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(6839188756),d=e(2023092677),o=e(8739505998),a=e(4816967449),i=e(4695291896),m=e(6695353875),l=e(4096483543),_=e(9391594207),v=e(6652001255),u=e(3677514771),h=e(598369692),f=e(1835177371);function p(){return p=Object.assign||function(M){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(M[D]=I[D])}return M},p.apply(this,arguments)}c(p,"_extends");function E(M){let{id:O,className:I=void 0,fallback:D=void 0,handle:P=void 0,isUserInGroup:L=!1,onClick:k=s.A,noHighlights:G=!1,noLinking:b=!1,isNonExistent:W=!1,isUnknown:B=!1,isDeactivated:R=!1,team:j=void 0,experimentIa4Enabled:w,showUserGroupDetailsProps:N}=M;const K=(0,t.useCallback)(le=>{w&&(N(O),le.preventDefault()),k(le,O)},[O,k,w,N]);if(B)return t.createElement(a.A,{type:"unknown"});if(W&&!D)return t.createElement(a.A,{type:"non-existent"});const J=!b&&!W&&!R,Y=(0,i.A)({userGroupHandle:P,fallbackHandle:D,isUnknown:B,isNonExistent:W}),q=Y,H=L&&!G,ne=(0,n.A)("c-mrkdwn__user_group",I,{"c-mrkdwn__user_group--link":J,"c-mrkdwn__user_group--mention":H});if(!J)return t.createElement("span",{"data-user-group-id":O,"data-qa-user-group-mrkdwn-is-linked":J,"data-qa-user-group-mrkdwn-is-mention":H,className:ne},q);const te={};return(0,l.A)()?(te["data-stringify-type"]="mention",te["data-stringify-id"]=O,te["data-stringify-label"]=Y):te["data-stringify-text"]=Y,t.createElement(o.A,p({className:ne,"data-user-group-id":O,"data-qa-user-group-mrkdwn-is-linked":J,"data-qa-user-group-mrkdwn-is-mention":H,href:`${(0,r.Zl)(j)}admin/user_groups`,onClick:K},te),q)}c(E,"UserGroup"),E.displayName="UserGroup";const g=null;function A(M,O){let{id:I}=O;const D=(0,f.lJ)(M,I);let P;if(D){const k=(0,d.t8)(D),G=(0,d.QR)(D),b=!(0,d.V1)(D),W=D.handle||void 0;var L;P={handle:W,isUnknown:k,isNonExistent:G,isDeactivated:b,isUserInGroup:(0,h.nc)(M,D.id)&&!b,team:(L=(0,u.H7)(M))!==null&&L!==void 0?L:void 0,experimentIa4Enabled:!!(0,m.cc)(M)}}else P={isNonExistent:!0,experimentIa4Enabled:!!(0,m.cc)(M)};return P}c(A,"mapStateToProps");const y=c(M=>({showUserGroupDetailsProps:O=>M((0,v.q)({groupId:O}))}),"mapDispatchToProps"),T=(0,_.N)(A,y)(E)},4376397139:(Q,C,e)=>{"use strict";e.d(C,{j:()=>o,A:()=>i});var t=e(3134334389),n=e(6105929840),s=e(735940183);const r=new s.Ay("generic_dialog");function d(m){let{onClick:l,..._}=m;return t.createElement(n.A,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:l,"aria-label":r.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"}),"data-qa":_["data-qa"]})}c(d,"ModalBackButton"),d.displayName="ModalBackButton";const o=t.memo(d);var a=e(1427522952);const i=a.A},1427522952:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(5255740490),s=e(7937864072),r=e(4979382452);function d(){return d=Object.assign||function(i){for(var m=1;m<arguments.length;m++){var l=arguments[m];for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(i[_]=l[_])}return i},d.apply(this,arguments)}c(d,"_extends");function o(i){let{defaultPane:m,panes:l,forceFullRerenderOnPageChange:_=!0,...v}=i;const u=(0,s.A)(),[h,f]=(0,t.useState)({pane:m}),p=(0,t.useCallback)((A,y)=>f({pane:A,props:y}),[]),{render:E,modalProps:g}=l[h.pane];return E||u.error("MULTI_PANE_MODAL",`Unknown pane "${h.pane}"`),t.createElement(r.A,d({},v,g,{className:(0,n.A)(v.className,g==null?void 0:g.className,"c-multi_pane_modal")}),_?t.createElement(t.Fragment,{key:h.pane},E({switchPane:p,...h.props})):E({switchPane:p,...h.props}))}c(o,"MultiPaneModal"),o.displayName="MultiPaneModal";const a=o},3501104594:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(3134334389),n=e(7715417323),s=e(348699080),r=e(1251589538);function d(){return d=Object.assign||function(g){for(var A=1;A<arguments.length;A++){var y=arguments[A];for(var T in y)Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T])}return g},d.apply(this,arguments)}c(d,"_extends");const o=(0,t.memo)(g=>{let{addMemberToPresenceSubscription:A=n.A,memberId:y,removeMemberFromPresenceSubscription:T=n.A,renderDoublePresence:M=!1,firstElementExtraClassName:O="",...I}=g;return(0,s.A)(()=>(A(y),()=>T(y)),[y]),M?t.createElement(t.Fragment,null,t.createElement(r.Ay,d({},I,{className:`${I.className||""} ${O}`})),t.createElement(r.Ay,d({},I))):t.createElement(r.Ay,d({},I))});o.displayName="PresenceWithSubscriptions";const a=o;var i=e(3339229351),m=e(92812954),l=e(6045540917),_=e(9391594207),v=e(5241075893),u=e(5795074931),h=e(9290914927);const f=c((g,A)=>{const y=(0,h.gd)(g,A.memberId),T=(0,m.d)(g,A.memberId),M=(0,l.h)(g,A.memberId),O=(0,u.WR)(g)===A.memberId;return{...A,userType:T,isDnd:M,isSelf:O,isSlackbot:A.memberId===i.Q$,isActive:y==="active"}},"mapStateToProps"),p=c(g=>({addMemberToPresenceSubscription:A=>g((0,v.xz)({memberId:A})),removeMemberFromPresenceSubscription:A=>g((0,v.Fd)({memberId:A}))}),"mapDispatchToProps"),E=(0,_.N)(f,p)(a)},9828955991:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>s});var t=e(3501104594),n=e(1251589538);const s=t.A},1251589538:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>_});var t=e(3134334389),n=e(5255740490),s=e(2036354333),r=e(8683010724),d=e(1563996154),o=e(735940183);function a(){return a=Object.assign||function(v){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f])}return v},a.apply(this,arguments)}c(a,"_extends");const i=new o.Ay("presence");function m(v,u){return v?u?i.t("Active, notifications snoozed"):i.t("Active"):u?i.t("Away, notifications snoozed"):i.t("Away")}c(m,"getPresenceText");const l=c(v=>{let{inheritIconSize:u=!1,inline:h=!0,isActive:f=!1,isDnd:p=!1,isSelf:E=!1,isSlackbot:g=!1,invert:A=!1,userType:y="member",focusable:T=!1,showText:M=!1,resetIA:O=!1,hasNoAccess:I=!1,className:D}=v,P=f?{name:"status-member",variation:"filled"}:{name:"status-member"};const L=(0,n.A)(D,"c-presence",{"c-presence--active":f&&!A,"c-presence--resetIA":O,"c-presence--away":!f&&!A,"c-presence--inverted":A,"is-inline":h,block:!h}),k=m(f,p);I?P={name:"lock",variation:"filled"}:y==="member"?p?P=f?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:g&&(P={name:"status-slackbot",variation:"filled"}):y==="ra"||y==="external"?p?P=f?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:P=f?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:y==="ura"&&(p?P=f?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:P=f?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const G=t.createElement("span",{className:L},t.createElement(r.A,a({},P,{title:k,"aria-label":k,"aria-hidden":"false",size:u?"inherit":"20",inline:h,"data-qa":"presence_indicator","data-qa-type":P.name,"data-qa-presence-self":E,"data-qa-presence-active":f,"data-qa-presence-dnd":p})));return T?t.createElement(t.Fragment,null,t.createElement(d.Ay,{tip:k},t.createElement(s.A,null,G)),M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},k)):t.createElement(t.Fragment,null,G,M&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},k))},"Presence");l.displayName="Presence";const _=t.memo(l)},8259709686:(Q,C,e)=>{"use strict";e.d(C,{Pb:()=>o,bP:()=>a,n_:()=>s,ol:()=>d,yE:()=>n});var t=e(3193155968);const n="QuipEmbed",s=[n,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],r=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter","QuipFloatingActions","QuipPreviewTemplatesFooter"],d=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],o=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary","WFBWaysToStart"],a=[...s,...r,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",t.mq.Sidebar,t.mq.Primary,t.mq.Secondary,t.mq.Modal,"HuddleWorkspace","PocketGuide","ProductivityTips","VideoClipsMiniplayer"]},3864748912:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3193155968);const s={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:7,HUDDLE_WORKSPACE:8,POCKET_GUIDE:9,PRODUCTIVITY_TIPS:10,VIDEO_CLIPS_MINIPLAYER:11,[t.mq.Sidebar]:4,[t.mq.Primary]:5,[t.mq.Secondary]:6,[t.mq.Split]:7,[t.mq.Modal]:-1,[t.mq.Peek]:-1}},2533466394:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(7715417323),s=e(4394722864);const r=t.createContext({registerSection:n.A,unregisterSection:n.A,setActiveSection:n.A,getActiveSection:s.Q,resetSectionNavigation:n.A})},5846524816:(Q,C,e)=>{"use strict";e.d(C,{A:()=>b});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),d=e(5617110048),o=e(3391133100),a=e(2660476100),i=e(3155323475),m=e(4505564445),l=e(4244379358),_=e(7193040700),v=e(8683010724),u=e(2322735331),h=e(735940183),f=e(4757466470);function p(){return p=Object.assign||function(W){for(var B=1;B<arguments.length;B++){var R=arguments[B];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(W[j]=R[j])}return W},p.apply(this,arguments)}c(p,"_extends");const E=new h.Ay("select");let g=c(class extends t.Component{componentDidMount(){const{focusOnMount:B=!1}=this.props;B&&this.onClick()}componentDidUpdate(B){const{selectState:R}=this.props,{options:j}=R,{selectState:w}=B,{options:N}=w;!(0,f.Ay)(N,j,4)&&this.flattenOptions()}flattenOptions(){const{selectState:B}=this.props,{options:R}=B;this.allOptions=R&&R.reduce((j,w)=>(Object.prototype.hasOwnProperty.call(w,"options")&&Array.isArray(w.options)?j.push(...w.options):j.push(w),j),[])}onEscPressed(B){const{selectState:R,setSelectState:j}=this.props;R.isExpanded&&(B.stopPropagation(),j(()=>({isExpanded:!1})))}onKeyDown(B){if(!(B.shiftKey||B.ctrlKey||B.metaKey||B.altKey))switch(B.keyCode){case m._f:this.onEscPressed(B);break;case m.Fm:case m.I6:this.onClick();break;case m.i7:case m.n6:this.onUpOrDownPressed(B);break;case m.wn:this.onTabPressed();break;default:break}}onTabPressed(){const{setSelectState:B}=this.props;B(()=>({isExpanded:!1}))}onClick(){const{onClick:B=s.A,setSelectState:R,selectState:j}=this.props;this.updateOptionsListPosition(),B&&B(),R(()=>({isExpanded:!j.isExpanded}))}onUpOrDownPressed(B){const{selectState:R,setSelectState:j}=this.props,{isExpanded:w}=R;w||(B.stopPropagation(),this.updateOptionsListPosition(),j(()=>({isExpanded:!0})))}getSelectedOptionIndex(){const{selectState:B}=this.props,{selectedOption:R}=B;return R?this.allOptions.findIndex(j=>j.label===R.label&&j.value===R.value):-1}updateOptionsListPosition(){const{selectState:B}=this.props,{isExpanded:R}=B;if(!R&&this.measurePopoverEvent){var j;(j=this.props.windowRef.deref())===null||j===void 0||j.dispatchEvent(this.measurePopoverEvent)}}renderContent(B){var R;const{renderSelectedOption:j,selectState:w,textSelect:N=!1,textSelectLabel:K=void 0,selectDataQa:J=void 0,placeholderText:Y=void 0}=this.props,{selectedOption:q}=w,H=q?j(q):t.createElement("span",{className:"c-select_button__placeholder"},Y||E.t("Please select an option")),ne=N&&K?t.createElement("span",{className:"c-select_button--text-select-label"},K):void 0,te=(R=this.allOptions)===null||R===void 0?void 0:R.length,le=te||void 0,he=te?this.getSelectedOptionIndex()+1:void 0,Ee=he===void 0||he===0?{}:{role:"option","aria-selected":!0,"aria-setsize":le,"aria-posinset":he};return t.createElement("div",p({id:B},Ee,{"data-qa":J?`${J}-button-content`:null,className:"c-select_button__content"}),ne,H)}render(){const{ariaLabelledBy:B=void 0,ariaDescribedBy:R=void 0,ariaLabel:j=void 0,selectState:w,size:N,width:K,textSelect:J=!1,selectDataQa:Y=void 0,classPrefix:q=void 0,onBlur:H=s.A,onMouseEnter:ne=void 0,onMouseLeave:te=void 0,refToForward:le}=this.props,{isDisabled:he,isExpanded:Ie,isInvalid:Ee,selectId:me}=w,ce=(0,n.A)("c-select_button",`c-select_button--${N}`,{"c-select_button--disabled":he,"c-select_button--expanded":Ie,"c-select_button--text-select":J,"c-select_button--invalid":Ee,[`${q}__select_button`]:q}),X=J?{}:{width:K},V=(0,o.Es)(me,"button"),x=`${V}-option`;return t.createElement("div",{role:"listbox",tabIndex:0,className:ce,onClick:this.onClick,onKeyDown:this.onKeyDown,style:X,"aria-disabled":he?!0:void 0,"data-qa":Y?`${Y}-button`:null,id:V,onBlur:H,onMouseEnter:ne,onMouseLeave:te,"aria-labelledby":B,"aria-describedby":R,"aria-label":j,"aria-invalid":Ee,"aria-activedescendant":Ee?void 0:x,ref:le,"aria-expanded":Ie,"aria-multiselectable":!1},this.renderContent(x),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${N}`},t.createElement(v.A,{name:"caret-down",size:N===_.hu.SMALL?"inherit":"20"})))}constructor(B){super(B),this.allOptions=[],(0,u.v)(this,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","onClick","onEscPressed","onTabPressed"]);const{measurePopoverEventName:R=null}=this.props;R&&(this.measurePopoverEvent=new Event(R)),this.flattenOptions()}},"SelectButton");g.displayName="SelectButton";const A=(0,l.A)(g),y=t.forwardRef((W,B)=>t.createElement(A,p({},W,{refToForward:B})));var T=e(1162627626),M=e(4640201401),O=e(3650946343),I=e(6244014364);function D(){return D=Object.assign||function(W){for(var B=1;B<arguments.length;B++){var R=arguments[B];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(W[j]=R[j])}return W},D.apply(this,arguments)}c(D,"basic_select_extends");const P={onOptionSelected:{action:I.UiAction.SELECT}},L=c(W=>W.map(B=>{let{id:R}=B;return R}),"getIdsFromHintOrErrors");let k=c(class extends t.Component{renderOptionsList(){const{ariaLabel:B,onOptionSelected:R,onOptionsListClose:j,renderOption:w,resultsInPopover:N,overlayClassName:K,listClassName:J,selectState:Y,setSelectState:q,width:H,classPrefix:ne,minOptionsListWidth:te,optionsRowHeight:le,maxListHeight:he,onScrollablePage:Ie,dynamicHeight:Ee,forceMaxHeight:me,includePadding:ce,includeDividers:X,preventScroll:V,autoClogProps:x}=this.props,{isDisabled:S}=Y;if(S)return null;const U=N?t.createElement(M.A,{className:J,selectState:Y,setSelectState:q,renderOption:w,ariaLabel:B,onOptionSelected:R,onOptionsListClose:j,width:H,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:ne,selectDataQa:this.fallbackDataQa,minOptionsListWidth:te,optionsRowHeight:le,focusOnMount:!0,popoverProps:K?{overlayClassName:K}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:he,onScrollablePage:Ie,dynamicHeight:Ee,forceMaxHeight:me,includePadding:ce,includeDividers:X,preventScroll:V}):t.createElement(T.A,{className:J,selectState:Y,setSelectState:q,renderOption:w,ariaLabel:B,onOptionSelected:R,onOptionsListClose:j,width:H,inputRef:this.inputContainerRef,classPrefix:ne,selectDataQa:this.fallbackDataQa,optionsRowHeight:le,maxListHeight:he,focusOnMount:!0,shouldAlwaysHaveActiveRow:!0,dynamicHeight:Ee,forceMaxHeight:me,includePadding:ce,includeDividers:X,preventScroll:V});return x?t.createElement(d.A,{autoClogProps:x,actionProps:P,elementType:I.ElementType.DROPDOWN},U):U}render(){const{resultsInPopover:B,selectState:R,setSelectState:j,className:w,textSelect:N,textSelectLabel:K,focusOnMount:J,onBlur:Y,ariaLabel:q,ariaLabelledBy:H,ariaDescribedBy:ne,buttonRef:te,errors:le,hints:he,size:Ie,renderSelectedOption:Ee}=this.props,{isInvalid:me}=R,ce=(0,O.A)(le),X=(0,O.A)(he);let V;le&&(V=ce?L(le):void 0);let x;he&&(x=X?L(he):void 0);const S=(0,o.Yk)([ne,V,x]);return t.createElement("div",{className:(0,n.A)(w,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(y,D({},this.props,{size:Ie,renderSelectedOption:Ee,selectDataQa:this.fallbackDataQa,selectState:R,setSelectState:j,measurePopoverEventName:B?this.measurePopoverEventName:void 0,textSelect:N,textSelectLabel:K,focusOnMount:J,onBlur:Y,ariaLabel:q,ariaLabelledBy:H,ariaDescribedBy:S,"aria-invalid":me,ref:te})),ce&&le&&t.createElement(i.A,{errors:le}),X&&he&&he.map(F=>{let{id:Z,message:z}=F;return t.createElement(a.A,{key:Z,id:Z},z)}),this.renderOptionsList())}constructor(B){super(B),(0,u.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef();const{selectId:R}=B.selectState;this.measurePopoverEventName=`measureSelectPopover--${R}`,this.fallbackDataQa=B.selectDataQa||R}},"ControlledBasicSelect");k.displayName="ControlledBasicSelect",k.defaultProps={renderOption:W=>W.label,renderSelectedOption:W=>W.label,size:_.hu.MEDIUM,width:225,optionsRowHeight:_.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:s.A,onOptionSelected:s.A,onOptionsListClose:s.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:s.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0};let G=c(class extends t.Component{static getDerivedStateFromProps(B,R){const{selectedOption:j}=B,{selectedOption:w}=R;return!w||j!==void 0&&j!==w?{selectedOption:j}:null}setSelectState(B,R){return this.setState(B,R)}render(){const{isDisabled:B,isInvalid:R,isRequired:j,errors:w}=this.props,N=R||(0,O.A)(w),K=(0,r.A)(()=>({...this.state,isDisabled:B,isInvalid:N,isRequired:j}));return t.createElement(k,D({},this.props,{selectState:K(),setSelectState:this.setSelectState}))}constructor(B){super(B),this.state={activeRowIndex:null,isDisabled:B.isDisabled,isExpanded:B.isExpanded,isInvalid:B.isInvalid,isRequired:B.isRequired,options:B.options,selectId:B.selectId,selectedOption:B.selectedOption,selectType:_.US.BASIC},(0,u.v)(this,["setSelectState"])}},"BasicSelect");G.displayName="BasicSelect",G.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:s.A,onOptionsListClose:s.A,selectedOption:void 0,selectId:`basic-select-${(0,o.r9)()}`,maxListHeight:void 0,autoClogProps:void 0};const b=G},5536692738:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>d,HH:()=>s.A,P2:()=>r.A,Z1:()=>n.A});var t=e(5846524816),n=e(2727264612),s=e(8274994582),r=e(320706952);const d=t.A},7090824688:(Q,C,e)=>{"use strict";e.d(C,{$c:()=>L,Ay:()=>D,Gn:()=>k,h7:()=>P,xn:()=>G,yW:()=>O});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),d=e(5617110048),o=e(3391133100),a=e(2660476100),i=e(3155323475),m=e(868047630),l=e(1162627626),_=e(4640201401),v=e(9573786552),u=e(2742076544),h=e(3239909785),f=e(7193040700),p=e(3650946343),E=e(7772530643),g=e(2322735331),A=e(6244014364);function y(){return y=Object.assign||function(b){for(var W=1;W<arguments.length;W++){var B=arguments[W];for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(b[R]=B[R])}return b},y.apply(this,arguments)}c(y,"_extends");const T={onOptionSelected:{action:A.UiAction.SELECT}},M=c(b=>b.map(W=>{let{id:B}=W;return B}),"getIdsFromHintOrErrors");let O=c(class extends t.Component{renderOptionsList(W){var B,R;const{selectState:j,setSelectState:w,renderOption:N,emptyStateMessage:K,enableLoadingState:J,width:Y,maxOptionsListHeight:q,inputRef:H,resultsInPopover:ne,isLoading:te,classPrefix:le,optionsRowHeight:he,onOptionsListOpen:Ie,onOptionsListClose:Ee,overlayClassName:me,onScrollablePage:ce,onOptionSelected:X,shouldOptionBeSelected:V,shouldTokenizeOnComma:x,shouldTokenizeOnSpace:S,autoClogProps:U,dynamicHeight:F,shouldAllowUnselectInMultiSelectMode:Z,stayExpandedAfterSelection:z,optionsListFooterBannerContent:$,offsetY:ee,offsetX:de}=this.props,{isDisabled:ie,loadInBackground:ue}=j;if(ie)return null;const fe={key:`${j.selectId}-popover`};me&&(fe.overlayClassName=me),ee&&(fe.offsetY=ee);var re,_e;fe.offsetY=W?(_e=fe.offsetY)!==null&&_e!==void 0?_e:0-((re=(B=this.additionalInfoContainerRef)===null||B===void 0||(R=B.current)===null||R===void 0?void 0:R.offsetHeight)!==null&&re!==void 0?re:0):fe.offsetY,de&&(fe.offsetX=de);const Ue=ne?t.createElement(_.A,{selectState:j,setSelectState:w,renderOption:N,emptyStateMessage:K,enableLoadingState:J,width:Y,maxListHeight:q,multiSelectMode:!0,inputRef:H,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:te&&!ue,classPrefix:le,selectDataQa:this.fallbackDataQa,optionsRowHeight:he,onOpen:Ie,onOptionsListClose:Ee,popoverProps:fe,onScrollablePage:ce,onOptionSelected:X,shouldOptionBeSelected:V,shouldTokenizeOnComma:x,shouldTokenizeOnSpace:S,autoClogProps:U,dynamicHeight:F,shouldAllowUnselectInMultiSelectMode:Z,stayExpandedAfterSelection:z,footerBannerContent:$}):t.createElement(l.A,{selectState:j,setSelectState:w,renderOption:N,emptyStateMessage:K,enableLoadingState:J,width:Y,maxListHeight:q,multiSelectMode:!0,classPrefix:le,selectDataQa:this.fallbackDataQa,optionsRowHeight:he,onOptionsListClose:Ee,onOptionSelected:X,shouldOptionBeSelected:V,shouldTokenizeOnComma:x,shouldTokenizeOnSpace:S,dynamicHeight:F,footerBannerContent:$});return U?t.createElement(d.A,{elementType:A.ElementType.DROPDOWN,actionProps:T,autoClogProps:U},Ue):Ue}render(){const{selectState:W,setSelectState:B,inputRef:R,maxHeight:j,placeholderText:w,size:N,width:K,isLoading:J,focusOnMount:Y,resultsInPopover:q,onSelectedItemsChange:H,onKeyDown:ne,onKeyUp:te,className:le,classPrefix:he,onFilterQueryChange:Ie,onFilterQueryPaste:Ee,processOptions:me,onBlur:ce,onOptionsListClosedBlur:X,onOptionsListClose:V,expandOnFocus:x,ariaLabel:S,ariaLabelledBy:U,ariaDescribedBy:F,onTokenSelect:Z,onInputFocused:z,forceRealName:$,autoClogProps:ee,errors:de,hints:ie,disableIdParsing:ue,customizeTokenProps:fe,iconType:re,isTokenEditable:_e,ignoreSelectAllTokensAfterMount:Ue,disableCloseOnTab:ye,throttleForceRenderSelectContainer:Te,forceRenderSelectContainerThrottleRate:ge}=this.props;let Ae;de&&(Ae=(0,p.A)(de));let Re;ie&&(Re=(0,p.A)(ie));let Be;de&&(Be=Ae?M(de):void 0);let ke;ie&&(ke=Re?M(ie):void 0);const se=(0,o.Yk)([F,Be,ke]),ve=!!(Ae&&de||Re&&ie);return t.createElement("div",{className:(0,n.A)(le,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(m.A,{selectState:W,setSelectState:B,size:N,width:K,maxHeight:j,placeholderText:w,isLoading:J,inputRef:R,focusOnMount:Y,measurePopoverEventName:q&&this.measurePopoverEventName,onSelectedItemsChange:H,selectDataQa:this.fallbackDataQa,onKeyDown:ne,onKeyUp:te,classPrefix:he,onFilterQueryChange:Ie,onFilterQueryPaste:Ee,processOptions:me,onBlur:ce,onOptionsListClosedBlur:X,onOptionsListClose:V,expandOnFocus:x,ariaLabel:S,ariaLabelledBy:U,ariaDescribedBy:se,onTokenSelect:Z,onInputFocused:z,forceRealName:$,autoClogProps:ee,customizeTokenProps:fe,iconType:re,disableIdParsing:ue,isTokenEditable:_e,ignoreSelectAllTokensAfterMount:Ue,disableCloseOnTab:ye,throttleForceRenderSelectContainer:Te,forceRenderSelectContainerThrottleRate:ge}),t.createElement("div",{ref:this.additionalInfoContainerRef},Ae&&de&&t.createElement(i.A,{errors:de}),Re&&ie&&ie.map(Me=>{let{id:be,message:xe,className:Le}=Me;return t.createElement(a.A,{key:be,id:be,className:Le},xe)})),this.renderOptionsList(ve))}constructor(W){super(W),(0,g.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:B}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${B}`,this.fallbackDataQa=W.selectDataQa||B}},"ControlledMultiSelect");O.displayName="ControlledMultiSelect",O.defaultProps={renderOption:b=>b.label,size:f.hu.MEDIUM,width:300,optionsRowHeight:f.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:s.A,onKeyDown:s.A,onKeyUp:s.A,className:void 0,classPrefix:void 0,onFilterQueryChange:s.A,onFilterQueryPaste:s.A,processOptions:s.A,onBlur:s.A,onOptionsListClosedBlur:s.A,ariaLabel:void 0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:s.A,onInputFocused:s.A,forceRealName:void 0,onOptionsListOpen:s.A,onOptionsListClose:s.A,onScrollablePage:!1,onOptionSelected:s.A,shouldOptionBeSelected:s.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0};let I=c(class extends t.Component{setSelectState(W,B){this.setState(R=>{let j=W();const{filter:w,options:N}=this.props;return j.filterQuery!==void 0&&j.filterQuery!==R.filterQuery&&w&&(j=w(N,j)),j},B)}render(){const{isDisabled:W,isInvalid:B,isRequired:R,customControlledMultiSelectComponent:j,errors:w}=this.props,N=B||(0,p.A)(w),K=j??O,J=(0,r.A)(()=>({...this.state,isDisabled:W,isInvalid:N,isRequired:R}));return t.createElement(K,y({},this.props,{selectState:J(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(W){super(W),this.state={filterQuery:"",options:W.options,isDisabled:W.isDisabled,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isRequired:W.isRequired,selectId:W.selectId,selectedOptions:W.selectedOptions||[],shouldRefocusInputAfterSelection:!!W.showConfirmDialog,selectedTokenIndexes:W.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,g.v)(this,["setSelectState"])}},"MultiSelect");I.displayName="MultiSelect",I.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:E.k,selectId:`multi-select-${(0,o.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]};const D=I,P=(0,h.A)(O),L=(0,h.A)((0,v.A)(O)),k=(0,v.A)(O),G=(0,u.A)(O)},630868093:(Q,C,e)=>{"use strict";e.d(C,{AM:()=>k,Ay:()=>P,Fw:()=>I,JJ:()=>O,mH:()=>G,uR:()=>L});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3398586081),d=e(5617110048),o=e(3391133100),a=e(2660476100),i=e(3155323475),m=e(581574686),l=e(1162627626),_=e(4640201401),v=e(9573786552),u=e(2742076544),h=e(3239909785),f=e(7193040700),p=e(3650946343),E=e(7772530643),g=e(2322735331),A=e(6244014364);function y(){return y=Object.assign||function(b){for(var W=1;W<arguments.length;W++){var B=arguments[W];for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(b[R]=B[R])}return b},y.apply(this,arguments)}c(y,"_extends");const T={onOptionSelected:{action:A.UiAction.SELECT}},M=c(b=>b.map(W=>{let{id:B}=W;return B}),"getIdsFromHintOrErrors");let O=c(class extends t.Component{maybeRenderOptionsList(){const{selectState:W,setSelectState:B,renderOption:R,width:j,inputRef:w,ariaLabel:N,resultsInPopover:K,overlayClassName:J,offsetY:Y,offsetX:q,onOptionSelected:H,className:ne,classPrefix:te,optionsRowHeight:le,onOpen:he,emptyStateMessage:Ie,minOptionsListWidth:Ee,maxOptionsListHeight:me,isLoading:ce,onOptionsListClose:X,onScrollablePage:V,enableLoadingState:x,autoClogProps:S,shouldAllowUnselectInSingleSelectMode:U,shouldOptionBeSelected:F,optionsListFooterBannerContent:Z}=this.props;if(K&&(!this.props.inputRef||!this.props.inputRef.current))return null;const z={key:`${W.selectId}-popover`};J&&(z.overlayClassName=J),Y&&(z.offsetY=Y),q&&(z.offsetX=q);const $=K?t.createElement(_.A,{selectState:W,setSelectState:B,renderOption:R,width:j,inputRef:w,ariaLabel:N,onOptionSelected:H,popoverProps:z,measurePopoverEventName:this.measurePopoverEventName,className:ne,classPrefix:te,selectDataQa:this.fallbackDataQa,optionsRowHeight:le,onOpen:he,emptyStateMessage:Ie,minOptionsListWidth:Ee,maxListHeight:me,isLoading:ce,onOptionsListClose:X,onScrollablePage:V,enableLoadingState:x,autoClogProps:S,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:U,shouldOptionBeSelected:F,footerBannerContent:Z}):t.createElement(l.A,{selectState:W,setSelectState:B,renderOption:R,width:j,inputRef:w,ariaLabel:N,onOptionSelected:H,classPrefix:te,selectDataQa:this.fallbackDataQa,emptyStateMessage:Ie,maxListHeight:me,optionsRowHeight:le,onOptionsListClose:X,enableLoadingState:x,shouldAllowUnselectInSingleSelectMode:U,shouldOptionBeSelected:F,footerBannerContent:Z});return t.createElement(d.A,{elementType:A.ElementType.DROPDOWN,actionProps:T,autoClogProps:S},$)}render(){const{renderSelectedOption:W,className:B,classPrefix:R,placeholderText:j,size:w,width:N,selectState:K,setSelectState:J,inputRef:Y,focusOnMount:q,showDropdownIcon:H,isLoading:ne,resultsInPopover:te,isDisabled:le,isRequired:he,onFocus:Ie,onEsc:Ee,ariaLabelledBy:me,ariaDescribedBy:ce,inputIcon:X,maxCharacterLimit:V,onOptionsListClose:x,ariaLabel:S,expandOnClick:U,searchOnClick:F,autoClogProps:Z,errors:z,hints:$,expandOnFocus:ee,hideSelectedOptionOnDropdownOpen:de,retainPreviousSelectionOnDelete:ie}=this.props,{isInvalid:ue}=K,fe=(0,p.A)(z),re=(0,p.A)($);let _e;z&&(_e=fe?M(z):void 0);let Ue;$&&(Ue=re?M($):void 0);const ye=(0,o.Yk)([ce,_e,Ue]),Te=ue||fe;return t.createElement("div",{className:(0,n.A)(B,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(m.Ay,{selectState:{...K,isInvalid:Te,isRequired:he,isDisabled:le},setSelectState:J,renderSelectedOption:W,placeholderText:j,size:w,width:N,selectDataQa:this.fallbackDataQa,inputRef:Y,focusOnMount:q,showDropdownIcon:H,isLoading:ne,resultsInPopover:te,measurePopoverEventName:te?this.measurePopoverEventName:void 0,classPrefix:R,onBlur:this.onBlur,onFocus:Ie,onEsc:Ee,"aria-label":S,ariaLabelledBy:me,ariaDescribedBy:ye,icon:X,maxCharacterLimit:V,onOptionsListClose:x,expandOnClick:U,autoClogProps:Z,searchOnClick:F,expandOnFocus:ee,hideSelectedOptionOnDropdownOpen:de,retainPreviousSelectionOnDelete:ie}),fe&&z&&t.createElement(i.A,{errors:z}),re&&$&&$.map(ge=>{let{id:Ae,message:Re,className:Be}=ge;return Re&&t.createElement(a.A,{key:Ae,id:Ae,className:Be},Re)}),this.maybeRenderOptionsList())}constructor(W){super(W),this.onBlur=R=>{if(this.dropdownContainer){const j=this.dropdownContainer.current;if(j&&j.contains(R.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(R)};const{selectId:B}=W.selectState;this.measurePopoverEventName=`measureSelectPopover--${B}`,this.fallbackDataQa=W.selectDataQa||B,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");O.displayName="ControlledSearchSelect",O.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:b=>b.label,renderSelectedOption:b=>b.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:f.hu.MEDIUM,width:360,optionsRowHeight:f.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:s.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:s.A,onFocus:s.A,onEsc:s.A,onOpen:s.A,onOptionsListClose:s.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:s.A,isInvalidStateControlled:!1};const I=(0,v.A)(O);let D=c(class extends t.Component{setSelectState(W,B){this.setState(R=>{let j=W();const{filter:w,options:N}=this.props;return j.filterQuery!==void 0&&j.filterQuery!==R.filterQuery&&w&&(j=w(N,j)),j},B)}render(){const{isRequired:W,isInvalid:B,isDisabled:R,showConfirmDialog:j}=this.props,w=j?I:O,N=(0,r.A)(()=>({...this.state,isInvalid:B,isRequired:W,isDisabled:R}));return t.createElement(w,y({},this.props,{selectState:N(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(W){super(W),this.state={filterQuery:"",displayQuery:"",options:W.options,selectId:W.selectId,isExpanded:W.isExpanded,isInvalid:W.isInvalid,isDisabled:W.isDisabled,selectedOption:W.selectedOption},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,g.v)(this,["setSelectState"])}},"SearchSelect");D.displayName="SearchSelect",D.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:E.k,onOptionSelected:s.A,selectId:`search-select-${(0,o.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0};const P=D,L=(0,h.A)(O),k=(0,h.A)((0,v.A)(O)),G=(0,u.A)(O)},2727264612:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a});var t=e(3134334389),n=e(6044196829),s=e(8683010724),r=e(735940183);const d=new r.Ay("form_inputs"),o=c(i=>{let{onCtaClick:m,errorCopy:l,ctaCopy:_}=i;return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.createElement(s.A,{name:"warning",inline:!0})),t.createElement("span",null,l||d.t("Selected entries contain errors."),t.createElement(n.A,{onClick:m,className:"margin_left_25"},_||d.t("Delete all errors"))))},"MultiSelectErrorText");o.displayName="MultiSelectErrorText";const a=o},868047630:(Q,C,e)=>{"use strict";e.d(C,{A:()=>b});var t=e(3134334389),n=e(5255740490),s=e(8628145494),r=e(6696292586),d=e(3398586081),o=e(5950652755),a=e(7715417323),i=e(6422693406),m=e(5617110048),l=e(9797002255),_=e(4244379358),v=e(6308822),u=e(5797272849),h=e(3391133100),f=e(1610251172),p=e(7193040700),E=e(561151542),g=e(2322735331),A=e(6244014364),y=e(571104883),T=e(4757466470);function M(){return M=Object.assign||function(W){for(var B=1;B<arguments.length;B++){var R=arguments[B];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(W[j]=R[j])}return W},M.apply(this,arguments)}c(M,"_extends");const O={onChange:{action:A.UiAction.ENTER_TEXT}},I={onClick:{action:A.UiAction.CLICK}},D=new Array(95).fill("").map((W,B)=>String.fromCharCode(B+32)),P=c(W=>t.createElement("span",M({className:"c-multi_select_input__space"},W),"\xA0"),"makeSpace"),L=1e3,k={leading:!0,trailing:!1};let G=c(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(B){var R;const j=B.selectState,{selectState:w,onTokenSelect:N,onSelectedItemsChange:K,setSelectState:J,hasKeyboardFocus:Y,isTokenEditable:q}=this.props,{selectedOptions:H,isExpanded:ne,isDisabled:te}=w,le=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&B.focusOnMount!==this.props.focusOnMount&&this.focus(),((R=w.filterQuery)===null||R===void 0?void 0:R.length)&&w.filterQuery!==j.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(j),this.haveSelectedTokens()&&!(0,T.Ay)(j.selectedTokenIndexes,le)&&H&&(le==null||le.forEach(ce=>{N&&N(H[ce])}),ne&&J(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),j.isDisabled&&!te&&this.moveCursorAndScrollToFilterQuery(),!(0,T.Ay)(j.selectedOptions,H,3)){if(K&&typeof H<"u"){if(q){var Ee;const{isCurrentlyEditingToken:ce}=this.state;if((((Ee=j.selectedOptions)===null||Ee===void 0?void 0:Ee.length)||0)<H.length){if(ce){const X=H.pop();X&&H.splice(this.state.editTokenIndex,0,X),this.setTokenState(!1,0)}}else ce&&H.length===0&&this.setTokenState(!1,0)}K(H)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),Y&&!B.hasKeyboardFocus&&(0,s.A)(w.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(B){const{selectState:R,setSelectState:j,hideFilterQueryOnBlur:w,onBlur:N,onOptionsListClosedBlur:K}=this.props,{selectedOptions:J,filterQuery:Y,isExpanded:q}=R,H=w&&Y&&!q;this.setState(()=>({focused:!1})),this.deselectAllTokens(),H&&j(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,N&&N(B,J),!q&&K&&K()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(B,R){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:B,editTokenIndex:R}))}onFilterQueryChanged(){const{setSelectState:B,selectState:R,onFilterQueryChange:j}=this.props,w=this.filterQueryRef.current,N=w==null?void 0:w.textContent,K=R.filterQuery!==N;if(this.backspaceWasPressed&&!K){this.backspaceWasPressed=!1;return}const J=N?N.length>0:!1;this.saveCaretPosInFilterQuery(),B(()=>({filterQuery:N,isExpanded:J})),j&&j(N)}onFocus(B){this.setState(()=>({focused:!0}));const{expandOnFocus:R,onInputFocused:j,setSelectState:w,onFocus:N}=this.props;R&&w(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),j&&j(B),this.mouseDownOnToken=!1,N&&N(B)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var B;const R=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection(),j=R==null?void 0:R.getRangeAt(0),w=this.getTokensAsArray(),{selectState:N}=this.props,{filterQuery:K}=N,J=w.reduce((he,Ie,Ee)=>R!=null&&R.containsNode(Ie)?[...he,Ee]:he,[]),Y=J.length>0;if(!K&&!Y&&!(R!=null&&R.isCollapsed)){this.ignoreSelectionChange=!0,R==null||R.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!Y){var q;this.ignoreSelectionChange=!0,j==null||j.setStartBefore((q=this.filterQueryRef.current)===null||q===void 0?void 0:q.firstChild);return}const H=J[0],ne=J[J.length-1],te=w[H],le=w[ne];if(!K&&Y){this.ignoreSelectionChange=!0,j==null||j.setStartBefore(te),this.ignoreSelectionChange=!0,j==null||j.setEndAfter(le),this.setSelectedTokenIndexes(J);return}this.isEntireFilterQuerySelected()&&Y&&(this.ignoreSelectionChange=!0,j==null||j.setStartBefore(te),this.setSelectedTokenIndexes(J))}onSelectionChange(){var B;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const R=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection();let j=null;if(R){const{type:w}=R;j=w}j==="Caret"&&this.onCaretSelectionChange(),j==="Range"&&this.onRangeSelectionChange()}onKeyDown(B){if(this.state.composing)return;const{key:R,ctrlKey:j,metaKey:w,altKey:N,shiftKey:K}=B,{selectState:J,onKeyDown:Y}=this.props,q=(0,y.cX)()?w:j,H=R==="Delete"&&((0,y.cX)()&&N||(0,y.uF)()&&q);(R==="Backspace"||H)&&this.onBackspace(B),!H&&R==="Delete"&&this.onDelete(B),R==="Escape"&&this.onEscape(B),(R==="Home"||w&&!K&&R==="ArrowLeft"||w&&!K&&R==="ArrowUp")&&this.onHome(B),(R==="End"||w&&!K&&R==="ArrowRight"||w&&!K&&R==="ArrowDown")&&this.onEnd(B),!w&&R==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(B)),!w&&R==="ArrowRight"&&this.onRightArrow(B),R==="Tab"&&this.onTab(B),(R==="ArrowUp"||R==="ArrowDown")&&B.preventDefault(),R==="Enter"&&B.preventDefault(),!q&&D.includes(R)&&this.onCharacterKey(),Y&&Y(B,{hasActiveRowIndex:(0,r.A)(J.activeRowIndex),isExpanded:!!J.isExpanded})}onHome(B){B.preventDefault();const{selectState:R}=this.props,{selectedOptions:j}=R;j!=null&&j.length?this.setSelectedTokenIndexes([0],{initiator:B.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(B){B.preventDefault();const{selectState:R}=this.props,{selectedTokenIndexes:j}=R;j!=null&&j.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(B){const{selectState:R,onKeyUp:j}=this.props,w=this.getSelectedTokenIndexes(),N=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(w!=null&&w.length)&&(this.selectTextInNode(N[w[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),j&&j(B,{hasActiveRowIndex:(0,r.A)(R.activeRowIndex)})}onInputContainerMouseDown(B){B.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(B){if(!B||!B.clipboardData)return;const{onFilterQueryPaste:R}=this.props;R&&R(B)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:B}=this.props,{selectState:R}=this.props,{filterQuery:j,selectedOptions:w}=R,N=this.getSelectedTokenIndexes(),K=w==null?void 0:w.filter((q,H)=>(N==null?void 0:N.indexOf(H))===-1),J=this.getSelectedFilterQueryText(),Y=j==null?void 0:j.replace(J,"");B(()=>({selectedOptions:K,selectedTokenIndexes:[],filterQuery:Y})),this.moveCursorToFilterQuery()}onBackspace(B){const{setSelectState:R}=this.props,{selectState:j,isTokenEditable:w}=this.props,{filterQuery:N}=j;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!N)){B.preventDefault(),R(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(w&&(N==null?void 0:N.length)===1){B.preventDefault(),R(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){B.preventDefault(),R(()=>({filterQuery:"",isExpanded:!1}));return}const J=this.getTokensAsArray().length,Y=this.getSelectedTokenIndexes(),q=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,q&&J===0){B.preventDefault();return}if(!q&&!this.haveSelectedTokens()&&N)return;if(B.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([J-1],{initiator:B.type});return}Y==null||Y.forEach(le=>{this.removeToken(le,"backspaceKey")});const H=Y&&Y[0],ne=H===0;let te=null;H&&(te=ne?[0]:[H-1]),te!=null&&te.length&&this.setSelectedTokenIndexes(te,{initiator:B.type})}onDelete(B){const{setSelectState:R}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){B.preventDefault(),R(()=>({filterQuery:"",isExpanded:!1}));return}const w=this.getTokensAsArray().length,N=this.getSelectedTokenIndexes();if(w===0||!this.haveSelectedTokens()||(B.preventDefault(),N==null||N.forEach(q=>{this.removeToken(q,"deleteKey")}),!(N!=null&&N.length)))return;const J=N[N.length-1]===w-1,Y=(N==null?void 0:N.length)===w;(J||Y)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(B){const{selectState:R,setSelectState:j,onOptionsListClose:w}=this.props;R.isExpanded&&(B.stopPropagation(),w&&w(),j(()=>({isExpanded:!1})))}onLeftArrow(B){var R;const w=this.getTokensAsArray().length,N=this.getSelectedTokenIndexes(),K=(N==null?void 0:N.length)&&N[0],J=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let Y=null,q=null;if(J){const{type:Ie,anchorOffset:Ee}=J;Y=Ie,q=Ee}const H=Y==="Caret",ne=Y==="Range";if(B.shiftKey&&ne&&this.isRangeSelectionOfFilterQueryComplete(q)){B.preventDefault();return}const te=H&&this.isCaretAtStartOfFilterQuery();if(w===0&&te){B.preventDefault();return}if(w===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&te){B.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:B.type});return}if(!this.haveSelectedTokens()&&te){this.setSelectedTokenIndexes([w-1],{initiator:B.type});return}if(ne&&this.haveSelectedTokens()&&K===0){B.preventDefault();return}this.haveSelectedTokens()&&typeof K=="number"&&this.setSelectedTokenIndexes([K-1],{initiator:B.type})}onRightArrow(B){var R;const j=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),w=(j==null?void 0:j.type)==="Range",K=this.getTokensAsArray().length,J=this.getSelectedTokenIndexes(),Y=(J==null?void 0:J.length)&&J[0];if(typeof Y!="number")return;if(!(w&&this.haveSelectedTokens()&&Y<K-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){B.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof Y=="number"&&this.setSelectedTokenIndexes([Y+1],{initiator:B.type})}onTab(B){const{shiftKey:R}=B,{expandOnFocus:j,selectState:w,onOptionsListClose:N,setSelectState:K,disableCloseOnTab:J}=this.props;J||(N&&N(),(R||j&&w.activeRowIndex===null)&&K(()=>({isExpanded:!1})))}onTokenMouseDown(B,R){const{focused:j,isCurrentlyEditingToken:w}=this.state,{selectState:N,isTokenEditable:K}=this.props;if(N.isDisabled)return;if(B.preventDefault(),this.mouseDownOnToken=!0,B.stopPropagation(),K&&!w){this.onTokenEdit(R);return}j||this.focus();const J=this.getTokensAsArray();this.selectTextInNode(J[R]);const Y=this.getSelectedTokenIndexes();R!==(Y==null?void 0:Y[0])&&this.setSelectedTokenIndexes([R])}onTokenEdit(B){const{selectState:R,setSelectState:j,processOptions:w}=this.props,{selectedOptions:N}=R;this.setTokenState(!0,B);let K="";N&&N[B]&&(typeof N[B].label=="string"&&N[B].label!==N[B].value?K=N[B].label:K=N[B].value),this.removeToken(B,"editToken"),this.updateFilterQueryValue(K),w&&w([],K).then(J=>{j(()=>({isExpanded:!0,options:J,filterQuery:K}))})}onTokenRemoveMouseDown(B,R){const{focused:j,isCurrentlyEditingToken:w,editTokenIndex:N}=this.state;B.preventDefault(),this.mouseDownOnToken=!0,B.stopPropagation(),j||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&w&&R<N&&this.setTokenState(!0,N-1),this.removeToken(R,"iconClick")}onFilterQueryMouseDown(B){var R;this.state.focused&&(!((R=this.filterQueryRef.current)===null||R===void 0)&&R.textContent)&&B.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(B){const{onFilterQueryChange:R}=this.props;this.updateQueryTimer=setTimeout(()=>{R&&R(B),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(B){var R;const{setSelectState:j}=this.props;B.preventDefault(),j(()=>({selectedTokenIndexes:[],isExpanded:!1}));const w=(R=this.filterQueryRef)===null||R===void 0?void 0:R.current;w!=null&&w.textContent&&this.selectTextInNode(w)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:B}=this.props,{filterQuery:R,selectedOptions:j}=B,w=this.getSelectedTokenIndexes(),N=j==null?void 0:j.filter((Y,q)=>(w==null?void 0:w.indexOf(q))===-1),K=this.getSelectedFilterQueryText(),J=R==null?void 0:R.replace(K,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:N,filterQuery:J,isExpanded:!1}}onNodeAdded(B){const{nodeName:R}=B;(R==="B"||R==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(B){const{setSelectState:R}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),R(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}B===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(B){B.forEach(R=>{R.addedNodes.forEach(this.onNodeAdded),R.removedNodes.forEach(this.onNodeRemoved)})}getAriaPlaceholderText(){const{selectState:B,placeholderText:R}=this.props,{filterQuery:j,selectedOptions:w}=B;if(!j&&!(w&&w.length>0))return R}getAriaActiveDescendant(){const{selectState:B}=this.props,{selectId:R,activeRowIndex:j}=B;return(0,r.A)(j)?(0,h.Es)(R,`option_${j}`):void 0}getInputHeight(){const{inputRef:B}=this.props,R=B==null?void 0:B.current;return R?R.offsetHeight:null}getTokensAsArray(){var B,R;const j=(B=this.props.inputRef)===null||B===void 0||(R=B.current)===null||R===void 0?void 0:R.querySelectorAll(".c-token");return Array.prototype.slice.call(j)}getSelectedFilterQueryText(){var B;const{selectState:R}=this.props,{filterQuery:j}=R;if((j==null?void 0:j.length)===0)return"";const w=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection(),N=w==null?void 0:w.toString();if(!(w==null?void 0:w.containsNode(this.filterQueryRef.current,!0)))return"";const J=N==null?void 0:N.split(`
`);return J!=null&&J.length?J[J.length-1].trim():""}setSelectedTokenIndexes(B){let{initiator:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:j}=this.props;j(()=>({selectedTokenIndexes:B}))}getSelectedTokenIndexes(){const{selectState:B}=this.props,{selectedTokenIndexes:R}=B;return R||[]}allTokensAreSelected(){const B=this.getSelectedTokenIndexes(),R=this.getTokensAsArray();return B!=null&&B.length?B.length>0&&B.length===R.length:!1}attachMutationObserver(){var B;if(this.mutationObserver=new MutationObserver(this.onMutation),!((B=this.props.inputRef)===null||B===void 0)&&B.current){var R;this.mutationObserver.observe((R=this.props.inputRef)===null||R===void 0?void 0:R.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:B}=this.props,{filterQuery:R}=B;if(this.caretPosInFilterQuery===-1||!R)return 0;const j=R==null?void 0:R.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>j?j:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var B;(B=this.mutationObserver)===null||B===void 0||B.disconnect(),this.mutationObserver=null}focus(){var B;const R=(B=this.props.inputRef)===null||B===void 0?void 0:B.current;R==null||R.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(B){const{isLoading:R,throttleForceRenderSelectContainer:j}=this.props;j?(B&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),R||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var B;return!!(!((B=this.getSelectedTokenIndexes())===null||B===void 0)&&B.length)}isCaretAtStartOfFilterQuery(){var B;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:R}=this.props,{filterQuery:j}=R;if(!j)return!0;const w=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection();let N=null;if(w){const{anchorOffset:K}=w;N=K}return N===0}isCaretOutSideFilterQuery(){var B,R;const j=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection();let w=null;if(j){const{anchorNode:N}=j;w=N}return!(!((R=this.filterQueryRef.current)===null||R===void 0)&&R.contains(w))}isRangeSelectionOfFilterQueryComplete(B){const R=this.getSelectedFilterQueryText();if(!R)return!1;const{selectState:j}=this.props,w=j.filterQuery;return!w||!B?!1:R.substr(0,B)===(w==null?void 0:w.substr(0,B))}isEntireFilterQuerySelected(){const{selectState:B}=this.props,R=this.getSelectedFilterQueryText();return!!R&&R===B.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:B}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var R,j,w,N;const K=document.createRange(),J=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();J==null||J.removeAllRanges();const Y=(j=this.filterQueryRef)===null||j===void 0?void 0:j.current,q=(Y==null?void 0:Y.firstChild)||Y,H=B?0:(N=Y==null||(w=Y.textContent)===null||w===void 0?void 0:w.trim())===null||N===void 0?void 0:N.length;q!==null&&typeof H=="number"&&K.setStart(q,H),K.collapse(!0),J==null||J.addRange(K)}possiblyRepositionOptionsList(B){if(!this.measurePopoverEvent)return;const{selectState:R}=this.props,j=R.isExpanded&&!B.isExpanded,w=this.getInputHeight(),N=this.inputHeight!==w;if(j||N){var K;(K=this.props.windowRef.deref())===null||K===void 0||K.dispatchEvent(this.measurePopoverEvent)}}removeToken(B,R){const{selectState:j,setSelectState:w,isTokenEditable:N}=this.props,{selectedOptions:K,pendingQueries:J,filterQuery:Y}=j,q=J?J.length:0,H=K&&K[B]&&K[B].queryId,te=H&&q?J==null?void 0:J.filter(le=>{let{queryId:he}=le;return he!==H}):J;w(()=>({selectedOptions:K==null?void 0:K.filter((le,he)=>he!==B),selectedTokenIndexes:[],removalInitiator:R,removedItemIndex:B,pendingQueries:te})),N&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(Y)}saveCaretPosInFilterQuery(){var B;const R=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection();this.caretPosInFilterQuery=R==null?void 0:R.anchorOffset}scrollFilterQueryIntoView(){const B=this.filterQueryRef.current;B&&B!=null&&B.scrollIntoView&&(B==null||B.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const B=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const R=this.getTokensAsArray();if(!(B!=null&&B.length))return;const j=B[B.length-1],w=R[j];w&&w.scrollIntoView&&w.scrollIntoView({block:"nearest"})}selectAllTokens(){var B;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const R=this.getTokensAsArray();if(R.length===0)return;const j=R[0],w=R[R.length-1],N=(B=this.props.windowRef.deref())===null||B===void 0?void 0:B.getSelection(),K=document.createRange();N==null||N.removeAllRanges(),K.setStartBefore(j),K.setEndAfter(w),N==null||N.addRange(K)}selectTextInNode(B){var R;if(!B)return;const j=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),w=document.createRange();this.ignoreSelectionChange=!0,j==null||j.removeAllRanges();const N=(0,y.cX)()?B:B.querySelector(".c-token__content");w.selectNode(N),this.ignoreSelectionChange=!0,j==null||j.addRange(w)}updateCaretPosInFilterQuery(){var B,R;const j=(B=this.filterQueryRef)===null||B===void 0?void 0:B.current;if(!j)return;const w=document.createRange(),N=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();N==null||N.removeAllRanges();const K=this.determineCaretPosInFilterQuery();typeof K=="number"&&w.setStart((j==null?void 0:j.firstChild)||j,K),w.collapse(!0),N==null||N.addRange(w)}renderFilterQuery(){const{selectState:B,isTokenEditable:R,size:j}=this.props,{filterQuery:w,isDisabled:N}=B,{isCurrentlyEditingToken:K,editTokenIndex:J}=this.state,Y=N?void 0:this.onFilterQueryMouseDown,q=(0,n.A)({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${j}_filter_query--edit`]:R&&K});return t.createElement("span",{className:q,ref:this.filterQueryRef,onMouseDown:Y,key:J},w)}renderInput(){const{selectState:B,selectDataQa:R,inputRef:j,ariaLabelledBy:w,ariaLabel:N,autoClogProps:K,iconType:J,isTokenEditable:Y}=this.props,{selectId:q,isDisabled:H,isExpanded:ne,isInvalid:te}=B,le=H?void 0:0,he=H?void 0:this.getAriaActiveDescendant(),Ie=!H,Ee=Ie,me=H?void 0:this.onFocus,ce=H?void 0:this.onBlur,X=H?void 0:this.onChange,V=H?void 0:this.onPaste,x=H?void 0:this.onKeyDown,S=H?void 0:this.onKeyUp,U=H?void 0:this.onSelectionChange,F=H?void 0:this.onCut,Z=H?void 0:this.onCompositionStart,z=H?void 0:this.onCompositionEnd,$=(0,n.A)({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!J}),ee=t.createElement("div",{role:"combobox","aria-disabled":H,"aria-autocomplete":"list","aria-expanded":ne,"aria-controls":(0,h.Es)(q,"listbox"),"aria-activedescendant":he,"aria-labelledby":w,"aria-label":N,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":te,id:q,className:$,tabIndex:le,contentEditable:Ie,suppressContentEditableWarning:Ee,"data-qa":R?`${R}-input`:void 0,ref:j,onFocus:me,onBlur:ce,onInput:X,onCompositionStart:Z,onCompositionEnd:z,onPaste:V,onKeyDown:x,onKeyUp:S,onSelect:U,onCut:F,"aria-multiline":!1},P(),Y&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),P({contentEditable:!1}));return K?t.createElement(m.A,{autoClogProps:K,actionProps:O,elementType:A.ElementType.INPUT},ee):ee}renderLoadingIndicator(){const{isLoading:B,size:R}=this.props;return B?t.createElement(v.A,{className:"c-multi_select_input__spinner",color:"blue",size:R===p.hu.LARGE?p.hu.LARGE:p.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:B,placeholderText:R,iconType:j}=this.props,{filterQuery:w,selectedOptions:N,isDisabled:K}=B;if(this.state.composing||w||N&&N.length>0)return null;const J=K?void 0:this.onPlaceholderMouseDown,Y=(0,n.A)({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!j});return t.createElement("div",{"aria-hidden":"true",className:Y,onMouseDown:J},R)}renderToken(B,R){let{icon:j,svgIcon:w,value:N,label:K,hoverText:J,isLoading:Y,isError:q,isMemberError:H,isTeamError:ne,isUnknown:te,emailTeam:le}=B;const{forceRealName:he,size:Ie,selectState:Ee,customizeTokenProps:me,disableIdParsing:ce}=this.props,X=this.getSelectedTokenIndexes(),V=(X==null?void 0:X.indexOf(R))!==-1,{isDisabled:x,restrictedSelectedTokenIndexes:S,disabledSelectedTokenIndexes:U,invalidSelectedTokenIndexes:F}=Ee,Z=!!S&&(S==null?void 0:S.indexOf(R))!==-1,z=!!U&&(U==null?void 0:U.indexOf(R))!==-1,$=!!F&&(F==null?void 0:F.indexOf(R))!==-1,ee=x||z,de=ee?void 0:fe=>this.onTokenMouseDown(fe,R),ie=ee?void 0:()=>this.renderTokenRemoveIcon(R),ue=Ie;return t.createElement(t.Fragment,null,t.createElement(E.A,M({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},de?{onMouseDown:de}:{},{isDisabled:ee,entityId:N,label:K,hoverText:J,isLoading:Y,isError:q,isMemberError:H,isTeamError:ne,isUnknown:te},Ie?{size:ue}:{},{isSelected:V},ie?{renderIcon:ie}:{},{forceRealName:he,icon:j,svgIcon:w,tabIndex:-1,contentEditable:!1},me,{disableIdParsing:ce},le?{emailTeam:le}:{},{isRestricted:Z,isInvalid:$})),"\xA0")}renderTokenRemoveIcon(B){return t.createElement(m.A,{actionProps:I,elementType:A.ElementType.BUTTON},t.createElement(f.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,d.A)(R=>{this.onTokenRemoveMouseDown(R,B)})}))}renderTokens(){const{selectedOptions:B}=this.props.selectState;return B==null?void 0:B.map((R,j)=>t.createElement(t.Fragment,{key:R.key||R.value},this.renderToken(R,j)))}renderEditableTokens(){const{isCurrentlyEditingToken:B,editTokenIndex:R}=this.state,j=this.renderTokens()||[],w=this.renderFilterQuery();return B?j.splice(R,0,w):j==null||j.push(w),j}renderIcon(){const{iconType:B}=this.props;return B?t.createElement(f.A,{type:B,inline:!0}):null}render(){const{maxHeight:B,width:R,selectState:j,classPrefix:w,size:N}=this.props,{isDisabled:K,isInvalid:J,selectedOptions:Y}=j,q=Y==null?void 0:Y.length,H=(0,n.A)("c-multi_select_input",{"c-multi_select_input--disabled":K,"c-multi_select_input--focused":this.state.focused&&!K,"c-multi_select_input--large":N===p.hu.LARGE,"c-multi_select_input--invalid":J,"c-multi_select_input--initial":!q,[`${w}__multi_select_input`]:w,[u.E.large]:N===p.hu.LARGE}),ne=K?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:H,style:{width:R,maxHeight:B},onMouseDown:ne,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(B){super(B),(0,g.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var R;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(R=B.ignoreSelectAllTokensAfterMount)!==null&&R!==void 0?R:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,B.measurePopoverEventName&&(this.measurePopoverEvent=new Event(B.measurePopoverEventName));var j;this.forceRenderSelectContainerThrottled=(0,o.A)(this.forceRenderSelectContainer,(j=B.forceRenderSelectContainerThrottleRate)!==null&&j!==void 0?j:L,k),this.filterQueryRef=t.createRef()}},"MultiSelectInput");G.displayName="MultiSelectInput",G.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:a.A,onKeyUp:a.A,size:p.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:a.A,onFilterQueryChange:a.A,onFilterQueryPaste:a.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:a.A,onInputFocused:a.A,forceRealName:void 0,onOptionsListClose:a.A,processOptions:W=>i.S.resolve(W),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:a.A,onBlur:a.A,onOptionsListClosedBlur:a.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:L};const b=(0,_.A)((0,l.A)(G))},8274994582:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(6308822),s=e(735940183);const r=new s.Ay("form_inputs"),o=c(a=>{let{count:i,clientTheme:m,spinnerSize:l="large"}=a;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(n.A,{color:m==="dark"?"white":"blue",size:l,inline:!0})),r.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:i}))},"MultiSelectLoadingText")},320706952:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(8683010724),s=e(735940183);const r=new s.Ay("form_inputs"),o=c(a=>{let{count:i}=a;return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.createElement(n.A,{name:"emoji-missing",variation:"filled",inline:!0})),r.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:i}))},"MultiSelectUnknownText")},581574686:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>O});var t=e(3134334389),n=e(5255740490),s=e(6696292586),r=e(7715417323),d=e(1641606663),o=e(6308822),a=e(3391133100),i=e(2219904496),m=e(5166368300),l=e(7193040700),_=e(8683010724),v=e(2322735331),u=e(735940183),h=e(7640408795);function f(){return f=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(I[L]=P[L])}return I},f.apply(this,arguments)}c(f,"_extends");const p=new u.Ay("select"),E=1e4,g={ArrowLeft:!0,ArrowRight:!0},A={ArrowUp:!0,ArrowDown:!0},y={Backspace:!0,Delete:!0};let T=c(class extends t.Component{componentDidMount(){const{inputRef:D,focusOnMount:P,expandOnFocus:L}=this.props,k=D&&D.current;P&&(!this.state.hasFocus&&k&&k.focus(),L&&this.showOptionsList())}componentDidUpdate(D,P){const{inputRef:L,selectState:k,focusOnMount:G}=this.props,{selectedOption:b}=k,{selectState:W}=D,{selectedOption:B}=W,R=L&&L.current,{hasFocus:j,focusedViaMouse:w}=this.state;b&&j&&!w&&(b!==B||!P.hasFocus)&&setTimeout(()=>{R==null||R.select()},50),G&&D.focusOnMount!==G&&(this.state.hasFocus||R==null||R.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(D){const{inputRef:P,selectState:L,onClick:k,expandOnClick:G,searchOnClick:b}=this.props,{isDisabled:W,isExpanded:B,selectedOption:R}=L;if(W)return;const j=P&&P.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),j==null||j.focus()),(G||R)&&!B&&this.showOptionsList({searchOnClick:b}),k&&k(D)}onBlur(D){const{onBlur:P}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{P&&P(D)})}onFocus(D){const{onFocus:P}=this.props;this.setState(()=>({hasFocus:!0}),()=>{P&&P(D)})}onInputChanged(D){const{selectState:P,setSelectState:L,expandOnClick:k,retainPreviousSelectionOnDelete:G}=this.props,{isExpanded:b,selectedOption:W}=P;if(this.backspaceOrDeletePressed&&D.length===0&&W){L(()=>({filterQuery:D,displayQuery:D,...G?{}:{selectedOption:null}}));return}b?!k&&!D&&L(()=>({isExpanded:!1})):this.showOptionsList(),L(()=>({filterQuery:D,displayQuery:D}))}onKeyPressedEnter(D){this.props.selectState.isExpanded?D.preventDefault():(this.showOptionsList(),D.stopPropagation())}onKeyPressedEscape(D){const{selectState:P,setSelectState:L,resultsInPopover:k,onEsc:G,onOptionsListClose:b}=this.props;P.isExpanded&&k&&(D.stopPropagation(),G&&G(),b&&b(),L(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:D,onOptionsListClose:P,selectState:L}=this.props;P&&P();const{activeRowIndex:k,initialActiveOption:G}=L;typeof k!="number"&&!G&&D(()=>({isExpanded:!1}))}onUpOrDownPressed(D){D.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),D.stopPropagation())}onWrapperKeyDown(D){const{key:P}=D;if(A[P]){this.onUpOrDownPressed(D);return}if(P==="Enter"){this.onKeyPressedEnter(D);return}if(P==="Escape"){this.onKeyPressedEscape(D);return}P==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(D){const{key:P}=D,L=y[P],k=g[P],G=L||k||(0,h.A)(D);this.setState(()=>({cursorVisible:G})),this.backspaceOrDeletePressed=L}maybeRenderIconOrLoading(){const{showDropdownIcon:D,isLoading:P,size:L,expandOnClick:k}=this.props;return P?t.createElement(o.A,{className:"c-select_input__spinner",color:"blue",size:L===l.hu.LARGE?"large":"medium"}):!D||!k?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(_.A,{name:"caret-down",size:"20"}))}showOptionsList(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:P}=D;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:P}))}updateOptionsListPosition(){const{selectState:D}=this.props,{isExpanded:P}=D;if(!P&&this.measurePopoverEvent){var L;(L=this.context.windowRef.deref())===null||L===void 0||L.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:D,renderSelectedOption:P,classPrefix:L,selectDataQa:k,hideSelectedOptionOnDropdownOpen:G}=this.props,{isExpanded:b,selectedOption:W}=D;if(this.state.cursorVisible||!W||b&&(G||D.filterQuery))return null;const B=(0,n.A)("c-select_input__content",{[`${L}__select_input_content`]:L});return t.createElement("div",{className:B,"data-qa":k?`${k}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},P&&P(W)))}renderTextInput(){const{selectDataQa:D,inputRef:P,classPrefix:L,ariaLabelledBy:k,ariaDescribedBy:G,icon:b,maxCharacterLimit:W,size:B,selectState:R,autoClogProps:j,hideSelectedOptionOnDropdownOpen:w}=this.props,{activeRowIndex:N,filterQuery:K,isDisabled:J,isExpanded:Y,isInvalid:q,isRequired:H,selectedOption:ne,selectId:te=""}=R;let le;K||!Y&&ne||ne&&Y&&!w?le=null:le=this.props.placeholderText||p.t("Please select an option");const he=Y&&(0,s.A)(N)?(0,a.Es)(te,`option_${N}`):null,Ie=!this.state.cursorVisible&&ne&&!Y,Ee=(0,n.A)("c-select_input",{"c-select_input--offscreen":Ie,"c-select_input--invalid":q,[`${L}__select_input`]:L}),me=(0,a.Yk)([G,(0,a.Es)(te,"initial-focus")]),X=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&w?K||ne&&ne.label:K,V={spellCheck:!1,className:Ee,id:te,name:te,"aria-activedescendant":he,"aria-autocomplete":"list","aria-expanded":Y,"aria-owns":(0,a.Es)(te,"listbox"),"aria-required":H,"aria-label":this.props["aria-label"],"aria-labelledby":k,"aria-describedby":me,isInvalid:q,autoComplete:"off",isDisabled:J,onChange:this.onInputChanged,placeholder:le,value:X||"","data-qa":D?`${D}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:j};return b||W?t.createElement(i.A,f({},V,{icon:b,size:B,maxCharacterLimit:W,showError:!1,type:"text",inputRef:P,isInvalid:q})):t.createElement(m.A,f({},V,{ref:P}))}render(){const{icon:D,size:P,selectDataQa:L,width:k,classPrefix:G,showDropdownIcon:b,selectState:W}=this.props,{isInvalid:B}=W,R=(0,n.A)("c-select_input__wrapper",{[`c-select_input--${P}`]:P,"c-select_input--with_icon_right":b,"c-select_input--with_icon_left":!!D,"c-select_input--invalid":B,[`${G}__select_input_wrapper`]:G}),j=(0,n.A)("c-select_input__input_container",{[`${G}__select_input_container`]:G});return t.createElement("div",{role:"presentation",className:R,style:{width:k},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":L?`${L}-wrapper`:null},t.createElement("div",{className:j},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(D){super(D),(0,v.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},D.measurePopoverEventName&&(this.measurePopoverEvent=new Event(D.measurePopoverEventName))}},"SelectInput");T.displayName="SelectInput",T.defaultProps={autoClogProps:void 0,inputRef:null,onClick:r.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:r.A,onBlur:r.A,onEsc:r.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:r.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},T.contextType=d.Mn;const M={SelectInput:T},O=T},1162627626:(Q,C,e)=>{"use strict";e.d(C,{A:()=>S});var t=e(3134334389),n=e(5255740490),s=e(2053254856),r=e.n(s),d=e(45851552),o=e(1699044291),a=e(7715417323),i=e(6696292586),m=e(2003990933),l=e(3478664464),_=e(166097325),v=e(3398586081),u=e(9268023148),h=e(9636077426),f=e(6882609392),p=e(3652828077),E=e(1641606663),g=e(6308822),A=e(3391133100),y=e(7193040700),T=e(1398359918),M=e(8786006583),O=e(3821598679);function I(U){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,T.A)(U,(z,$)=>{if(z.type==="divider")return{type:"divider"};if(z.options){const{options:ee,label:de,...ie}=z,ue=`${z.label.toLowerCase()}${y.Sx}${(0,O.A)()}`,fe=[{type:"heading",label:z.label,group:ue,optionsCount:z.options&&z.options.length||0,extras:ie}].concat(z.options.map((re,_e)=>{const Ue={type:"option",option:re,optgroup:ue};return _e===0&&(Ue.isFirstChild=!0),_e===z.options.length-1&&(Ue.isLastChild=!0),Ue}));if(F){if(U[$-1]&&U[$-1].value&&!U[$-1].options&&fe.unshift({type:"divider"}),(0,M.A)(U)===z)return fe;fe.push({type:"divider"})}return fe}return{type:"option",option:z}})}c(I,"formatOptions");var D=e(2322735331),P;(function(U){U[U.ELEMENT=1]="ELEMENT",U[U.ATTRIBUTE=2]="ATTRIBUTE",U[U.TEXT=3]="TEXT",U[U.CDATA_SECTION=4]="CDATA_SECTION",U[U.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",U[U.ENTITY=6]="ENTITY",U[U.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",U[U.COMMENT=8]="COMMENT",U[U.DOCUMENT=9]="DOCUMENT",U[U.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",U[U.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",U[U.NOTATION=12]="NOTATION"})(P||(P={}));const L=new Set(["INPUT","TEXTAREA","SELECT"]),k=new Set([...L,"BUTTON"]),G="http://www.w3.org/1999/xhtml",b="http://www.w3.org/2000/svg";function W(U){return(U==null?void 0:U.nodeType)===P.TEXT}c(W,"isTextNode");function B(U){return(U==null?void 0:U.nodeType)===P.ELEMENT}c(B,"isElement");function R(U){return B(U)&&U.namespaceURI===G}c(R,"isHtmlElement");function j(U){return B(U)&&U.namespaceURI===b}c(j,"isSvgElement");function w(U){return R(U)||j(U)}c(w,"isHtmlOrSvgElement");function N(U){return R(U)||j(U)}c(N,"isElementCssInlineStyle");function K(U){return Y(U,"a")}c(K,"isAnchorElement");function J(U){return R(U)&&k.has(U.tagName)}c(J,"isInteractiveElement");function Y(U,F){return R(U)&&U.localName===F}c(Y,"isHtmlElementWithTagName");function q(U){return W(U)?U:null}c(q,"asTextNode");function H(U){return B(U)?U:null}c(H,"asElement");function ne(U){return R(U)?U:null}c(ne,"asHtmlElement");function te(U,F){const Z=U;return Z.hasAttribute&&Z.hasAttribute(F)}c(te,"hasAttribute");function le(U,F){return te(U,`data-${F}`)}c(le,"hasData");var he=e(735940183),Ie=e(8359728598),Ee=e(6979898962),me=e(4757466470);function ce(){return ce=Object.assign||function(U){for(var F=1;F<arguments.length;F++){var Z=arguments[F];for(var z in Z)Object.prototype.hasOwnProperty.call(Z,z)&&(U[z]=Z[z])}return U},ce.apply(this,arguments)}c(ce,"_extends");const X=new he.Ay("select"),V=r()("esc");let x=c(class extends Ee.B{getCurrentActiveElement(){var F,Z;return(Z=(F=this.context.windowRef.deref())===null||F===void 0?void 0:F.document.activeElement)!==null&&Z!==void 0?Z:null}componentDidUpdate(F){var Z;const{selectState:z,setSelectState:$,shouldIncludeActiveOption:ee=!1,dynamicHeight:de=!1,optionsShallowEqualComparisonDepth:ie=4,shouldRerenderOnOptionChange:ue=!1}=this.props,{filterQuery:fe,options:re,initialActiveOption:_e}=z,Ue=!(0,me.Ay)(F.selectState.options,re,ie),ye=fe!==F.selectState.filterQuery;if(Ue||ye){const Ae=typeof _e<"u"?this.getInitialActiveRowIndex():this.getFirstSelectableRowIndex();$(()=>({activeRowIndex:Ae,...ee?{activeOption:this.getOptionFromList(Ae)}:null}));const Re=Ae||Ae===0;this.list.current&&Re&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(Ae))}if(Ue&&!ye&&ue){var Te;(Te=this.list.current)===null||Te===void 0||Te.recomputeRowHeights()}if(de&&(z==null?void 0:z.options)!==((Z=F.selectState)===null||Z===void 0?void 0:Z.options)){var ge;(ge=this.cellMeasurerCache)===null||ge===void 0||ge.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}clearDynamicRowHeight(F){var Z;(Z=this.cellMeasurerCache)===null||Z===void 0||Z.clear(F,0),this.list.current&&this.list.current.recomputeRowHeights(F)}getInitialActiveRowIndex(){const{selectState:F}=this.props,{initialActiveOption:Z}=F;if(!Z)return null;const z=(0,d.A)(this.getOptionsList(),["option.value",Z.value]);return z>=0?z:null}getFirstSelectableRowIndex(){const{selectState:F,multiSelectMode:Z=!1,customOptionCompare:z,shouldAlwaysHaveActiveRow:$=!1}=this.props,{filterQuery:ee}=F,de=this.getOptionsList();let ie=null;if((ee||$)&&de.length){const ue=(0,d.A)(de,fe=>fe.type!=="heading"&&fe.type!=="divider"&&!this.isOptionSelected(F,fe.option,Z,z),0);ue!==-1&&(ie=ue)}return ie}componentDidMount(){this.keyCommands=this.initKeyCommands();const{focusOnMount:F=!1,selectState:Z,setSelectState:z,shouldIncludeActiveOption:$=!1,multiSelectMode:ee=!1}=this.props,{selectedOption:de,selectType:ie}=Z;ie===y.US.BASIC&&F&&this.open();let ue=null;if(!ee&&de){const fe=(0,d.A)(this.getOptionsList(),["option.value",de.value]);fe!==-1&&(ue=fe)}else ue=this.getFirstSelectableRowIndex();z(()=>({activeRowIndex:ue,...$?{activeOption:this.getOptionFromList(ue)}:null})),this.list.current&&typeof ue=="number"&&this.list.current.scrollToRow(ue),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:F=!1,preventScroll:Z=!1}=this.props,{selectType:z}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),F&&z===y.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:Z})}open(){const{focusOnMount:F=!1,selectState:Z}=this.props,{selectType:z}=Z;!F&&z!==y.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}close(F){V===F.keyCode&&this.onKeyPressedEsc(F);const{focusOnMount:Z=!1,preventScroll:z=!1}=this.props,{selectType:$}=this.props.selectState;!Z&&$!==y.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:z})}onKeyPressedDown(F){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(F))return;const{selectState:Z,setSelectState:z,shouldIncludeActiveOption:$=!1}=this.props,{isExpanded:ee,activeRowIndex:de}=Z,ie=this.getNextActiveRowIndex(de);ee&&F.preventDefault(),z(()=>{var ue;return{activeRowIndex:ie,...$?{activeOption:this.getOptionFromList(ie)}:null,displayQuery:(ue=this.getOptionFromList(ie))===null||ue===void 0?void 0:ue.value}}),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),ie===1&&this.isFirstItemUnselectable()?this.list.current.scrollToRow(0):this.list.current.scrollToRow(ie))}onKeyPressedUp(F){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(F))return;const{selectState:Z,setSelectState:z,shouldIncludeActiveOption:$=!1}=this.props,{isExpanded:ee,activeRowIndex:de}=Z,ie=this.getPreviousActiveRowIndex(de);if(ee&&F.preventDefault(),z(()=>{var re;return{activeRowIndex:ie,...$?{activeOption:this.getOptionFromList(ie)}:null,displayQuery:(re=this.getOptionFromList(ie))===null||re===void 0?void 0:re.value}}),this.debouncedEnableMouseMove(),this.list.current){this.list.current.forceUpdateGrid();const re=this.getOptionsList();if(ie){var ue,fe;if(((ue=re[ie])===null||ue===void 0||(fe=ue.option)===null||fe===void 0?void 0:fe.height)!==0)this.list.current.scrollToRow(ie);else{const _e=(0,o.A)(re.slice(0,ie)).findIndex(Ue=>{var ye;return(Ue==null||(ye=Ue.option)===null||ye===void 0?void 0:ye.height)!==0});this.list.current.scrollToRow(ie-_e-1)}}}}onKeyPressedEsc(F){const{shouldIncludeActiveOption:Z=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(F))return;F.preventDefault();const{onOptionsListClose:z=a.A}=this.props;z&&z(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:null,...Z?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onMouseEnteredOption(F){const{shouldIncludeActiveOption:Z=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:F,...Z?{activeOption:this.getOptionFromList(F)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:F=!1}=this.props;!this.isMouseMoveEnabled||F||this.clearActive()}onKeyPressedEnter(F){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(F))return;F.preventDefault();const{activeRowIndex:Z,initialActiveOption:z}=this.props.selectState,$=this.getOptionsList();let ee;typeof Z=="number"&&(ee=$[Z]&&$[Z].option||$[Z]),ee=ee||z,!(ee&&(ee.isDisabled||ee.nonInteractive))&&(this.onOptionSelected(ee),this.close(F))}onKeyPressedShiftTab(F){if(!this.shouldInterceptKeyEvent(F))return;const{onKeyPressedShiftTab:Z=a.A}=this.props;Z&&Z!==a.A&&Z(F)}onKeyPressedTab(F){const{selectState:Z,disableSelectOnTab:z=!1}=this.props;if(z||!this.shouldInterceptKeyEvent(F)||!Z.isExpanded)return;const{onKeyPressedTab:$=a.A}=this.props;if($&&$!==a.A){$(F);return}const{activeRowIndex:ee,initialActiveOption:de}=Z,ie=this.getOptionsList();let ue;typeof ee=="number"&&(ue=ie[ee]&&ie[ee].option||ie[ee]),ue=ue||de,ue&&F.preventDefault(),!(ue&&(ue.isDisabled||ue.nonInteractive))&&this.onOptionSelected(ue)}onOptionClicked(F){this.onOptionSelected(F,!0)}onScroll(F){const{onScroll:Z=a.A}=this.props;Z&&Z(F)}getClassName(F,Z){const{unstyled:z=!1}=this.props;return z&&Z?(0,n.A)(Z):(0,n.A)(Z,F)}getRowHeight(F){var Z;const{optionsRowHeight:z=y.bJ,headingRowHeight:$=null,dividerRowHeight:ee=y.r3}=this.props;return F.option&&(0,i.A)(F.option.height)?Number(F.option.height):F.type&&F.type==="divider"?ee:F.type==="heading"&&(0,i.A)((Z=F.extras)===null||Z===void 0?void 0:Z.height)?Number(F.extras.height):F.type&&F.type==="heading"&&$!==null?$:z}clearActive(){const{shouldIncludeActiveOption:F=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:null,...F?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}focusNode(F){F&&this.getCurrentActiveElement()!==F&&F.focus()}getOptionFromList(F){const Z=this.getOptionsList();return(0,m.A)(Z,`[${F}].option`,null)}getOptionsList(){const{multiSelectMode:F=!1,selectState:Z,includeDividers:z=!0}=this.props,{options:$,isRequired:ee,selectedOption:de,filterQuery:ie,minQueryLength:ue}=Z;let fe=[];return ue&&ue>0&&de&&!ie&&(fe=[de]),$&&(!F&&de&&!ee?fe=[y.az,...$]:fe=$),fe=[...this.formatOptions(fe,z)],fe}enableMouseMove(){this.isMouseMoveEnabled=!0}getDataQaTag(F,Z){const{selectDataQa:z=void 0,selectState:$}=this.props,{isRequired:ee}=$,de=F.value?F.value:F.label;let ie="";typeof de=="string"&&(ie=de.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const ue=ee?Z:Z-1;return F.value?`${z}_option_${ue}`:`${z}_option_header_${ie}`}isFirstItemUnselectable(){var F,Z,z;const $=this.getOptionsList();return((F=$[0])===null||F===void 0?void 0:F.type)==="heading"||((Z=$[0])===null||Z===void 0||(z=Z.option)===null||z===void 0?void 0:z.nonInteractive)}getNextActiveRowIndex(F){const Z=this.getOptionsList(),z=this.isFirstItemUnselectable();if(F===null&&!z)return 0;if(F===null&&z)return 1;let $=null;return typeof F=="number"&&($=(0,d.A)(Z,ee=>{var de;return ee.type!=="heading"&&ee.type!=="divider"&&!(!(ee==null||(de=ee.option)===null||de===void 0)&&de.nonInteractive)},F+1)),typeof $=="number"&&Z[$]?$:z?1:0}getPreviousActiveRowIndex(F){const Z=this.getOptionsList();let z,$;return typeof F=="number"&&(z=(0,o.A)(Z.slice(0,F)).findIndex(ee=>{var de;return ee.type!=="heading"&&ee.type!=="divider"&&!(!(ee==null||(de=ee.option)===null||de===void 0)&&de.nonInteractive)}),$=F-z-1),Z&&!Z.length?null:$===F?Z.length-1:typeof $=="number"&&typeof F=="number"&&Z[$]&&F>0?$:Z.length-1}initKeyCommands(){var F;const{shouldTokenizeOnComma:Z,shouldTokenizeOnSpace:z}=this.props,$=new f.A((F=this.context.windowRef.deref())===null||F===void 0?void 0:F.document),ee=["enter"];return Z&&ee.push("comma"),z&&ee.push("space"),$.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:ee,handler:this.onKeyPressedEnter,filter:de=>de.code.toLowerCase()==="comma"&&de.key!==","},{keys:["up"],handler:this.onKeyPressedUp},{keys:["tab"],handler:this.onKeyPressedTab},{keys:["shift+tab"],handler:this.onKeyPressedShiftTab}]),$}handleClear(){const{selectState:F,setSelectState:Z,onOptionSelected:z=a.A,multiSelectMode:$=!1,onMultiSelectClear:ee=void 0}=this.props,{selectedOption:de,selectedOptions:ie}=F;let ue=!1;de?(Z(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{z&&z({value:null})}),ue=!0):$&&ie&&ie.length&&(Z(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{ee&&ee()}),ue=!0),this.list.current&&ue&&this.list.current.forceUpdateGrid()}onOptionSelected(F){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:z=a.A,onOptionUnselected:$=a.A,selectState:ee,setSelectState:de,multiSelectMode:ie=!1,inputRef:ue,customOptionCompare:fe,shouldIncludeActiveOption:re=!1,shouldOptionBeSelected:_e,shouldAllowUnselectInMultiSelectMode:Ue=!1,shouldAllowUnselectInSingleSelectMode:ye=!0,stayExpandedAfterSelection:Te=!1}=this.props;if(F&&!F.isDisabled&&!F.nonInteractive){if(_e&&_e(F)===!1){de(()=>({activeRowIndex:null,filterQuery:"",isExpanded:!1}),()=>{z(F)});return}if(F.value===y.yk)this.handleClear();else if(ie){const{selectedOptions:ge,shouldRefocusInputAfterSelection:Ae}=ee;if(!this.isOptionSelected(ee,F,ie,fe)&&ge)de(()=>({selectedOptions:[...ge,F],activeRowIndex:null,...re?{activeOption:null}:null,filterQuery:"",isExpanded:Te}),()=>{z&&z(F)});else if(Ue){const Be=(0,l.A)(ge,[F],(ke,se)=>ke.value===se.value);de(()=>({selectedOptions:Be,activeRowIndex:null,...re?{activeOption:null}:null,filterQuery:"",isExpanded:Te}),()=>{$&&$(F)})}!Ae&&!F.fromUnknown&&ue&&ue.current&&ue.current.focus()}else{const ge={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:ye?null:ee.selectedOption};!(0,_.A)(ee.selectedOption,F)&&(ge.selectedOption=F),de(()=>({...ge}),()=>{z&&z(F,Z)}),ee.shouldRefocusInputAfterSelection&&ue&&ue.current&&ue.current.focus()}}}getArialabelForItem(F){var Z,z,$,ee;const{isFirstChild:de,isLastChild:ie,optgroup:ue}=F;if(!ue)return null;const fe=X.t("First item in group {group}, {value}",{group:ue&&ue.split(y.Sx).slice(0,-1).join("-"),value:typeof((Z=F.option)===null||Z===void 0?void 0:Z.label)=="string"?(z=F.option)===null||z===void 0?void 0:z.label:""}),re=X.t("Last item in group {group}, {value}",{group:ue&&ue.split(y.Sx).slice(0,-1).join("-"),value:typeof(($=F.option)===null||$===void 0?void 0:$.label)=="string"?(ee=F.option)===null||ee===void 0?void 0:ee.label:""});return de?fe:ie?re:null}getEmptyStateMessage(){const{emptyStateMessage:F,selectState:Z}=this.props,{filterQuery:z,minQueryLength:$}=Z;if(F)return F(z);if($){if(!z)return X.t("Type to search\u2026");if(z.length<$)return X.t("Keep typing\u2026")}return X.t("No items")}shouldInterceptKeyEvent(F){return!F.target||!B(F.target)?!1:!!(te(F.target,"aria-autocomplete")||te(F.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(F.target))}removeAriaAttrsFromGridNode(){const F=this.listBody.current,Z=F&&F.querySelector(".ReactVirtualized__Grid");Z&&(Z.removeAttribute("aria-label"),Z.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:F=!1,width:Z,isLoading:z=!1,selectDataQa:$=void 0,includeWrapper:ee=!0}=this.props;if(z)return t.createElement(t.Fragment,null);const de=this.getEmptyStateMessage();if(de===null)return t.createElement(t.Fragment,null);const ie=F||!ee?+Z:+Z-y.$_;return t.createElement("div",{"data-qa":$?`${$}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:ie}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},de))}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(F){return{padding:F?y.Hy:void 0,boxSizing:"content-box"}}renderList(){const{maxListHeight:F,width:Z,includePadding:z,unstyled:$=!1,useSlackScrollbar:ee,dynamicHeight:de=!1,forceMaxHeight:ie,includeWrapper:ue=!0,classPrefix:fe=void 0}=this.props,re=this.getOptionsList(),_e=F||y.CK,Ue=re.map(Re=>this.getRowHeight(Re)||0).reduce((Re,Be)=>Re+Be,0),ye=ie||Ue>=_e?_e:Ue,Te=$||!ue?+Z:+Z-y.$_,ge=(0,n.A)("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":ee,[`${fe}__virtual_list`]:!!fe}),Ae=de&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:Re=>{let{index:Be}=Re;return this.getRowHeight(re[Be])};return this.cellMeasurerCache?t.createElement(p.O,{className:ge,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(z),height:ye,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:re?re.length:0,rowHeight:Ae,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Te}):t.createElement(p.O,{className:ge,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(z),height:ye,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:re?re.length:0,rowHeight:Ae,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Te})}renderListBody(){const{enableLoadingState:F=!0,isLoading:Z=!1}=this.props;if(Z&&F)return this.renderLoadingState();const z=this.getOptionsList();return!z||z&&!z.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:F}=this.props,Z=X.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:F}},t.createElement(g.A,{size:"medium",inline:!0}),t.createElement("div",null,Z))}renderRow(F){let{index:Z,key:z,style:$,parent:ee}=F;var de;const{classPrefix:ie=void 0,selectState:ue,multiSelectMode:fe=!1,customOptionCompare:re,unstyled:_e=!1,dynamicHeight:Ue=!1,hideOptionsListCheckbox:ye=!1}=this.props,{selectId:Te}=ue,ge=this.getOptionsList();let Ae;ge[Z].option?Ae=ge[Z].option:Ae=ge[Z];const{isPlaceholder:Re}=Ae,{activeRowIndex:Be}=ue,{selectedOption:ke,selectedOptions:se}=ue;let ve;typeof Be=="number"&&(ve=this.isOptionActive({activeRowIndex:Be},ge,Ae));const Me=this.isOptionSelected({selectedOptions:se,selectedOption:ke},Ae,fe,re),be=Ae.value===y.yk,xe=ge[Z].type==="heading",Le=!!ge[Z].optgroup,Ke=ge[Z].type==="divider",He=!!Ae.isDisabled,Ye=!!Ae.nonInteractive,Xe=Me&&!xe&&!Ke,et=xe||Ye||Ke,st=ge.filter(nn=>nn.type!=="heading"&&nn.type!=="divider"&&!nn.nonInteractive),ot=(0,d.A)(st,nn=>nn.option===Ae,0),ct=ie?`${ie}__option`:"",at=(0,n.A)("c-select_options_list__option",ct,(0,m.A)(Ae,"overrides.className",!1),{"c-select_options_list__option--active":ve&&(0,m.A)(Ae,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Re,"c-select_options_list__option--selected":Xe,"c-select_options_list__option--disabled":He,"c-select_options_list__group_header":xe,"c-select_options_list__group_option":Le,"c-select_options_list__divider":Ke,"c-select_options_list__clear_option":be});let At=be?Ae.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!Ke&&!be&&(At=this.props.renderOption(Ae,{index:Z,isActive:ve,isGroupHeader:xe,isClearOption:be,isSelected:Me&&!xe&&!Ke,clearDynamicRowHeight:this.clearDynamicRowHeight}));let Ct;if(_e||!((de=Ae.overrides)===null||de===void 0)&&de.unstyled)Ct=At;else{var Tt;Ct=t.createElement("span",{"data-qa":Ae.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(Tt=Ae.extras)===null||Tt===void 0?void 0:Tt.forceHeaderWrap})},At)}const Rt=st.length,It=ot===-1?void 0:ot+1,Mt=t.createElement("div",ce({"aria-hidden":et?"true":null,"aria-selected":fe?Me:ve,"aria-label":xe?null:this.getArialabelForItem(ge[Z]),className:this.getClassName(at,ct),"data-qa":Ke?void 0:this.getDataQaTag(Ae,Z),id:(0,A.Es)(Te,`option_${Z}`),key:z},$?{style:$}:{},{onClick:He||Ye?(0,v.A)(()=>this.onOptionSelected(Ae)):(0,v.A)(()=>{this.onOptionClicked(Ae)}),onMouseEnter:He||Ye?a.A:(0,v.A)(()=>{this.onMouseEnteredOption(Z)}),onMouseLeave:He||Ye?a.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":ve?"true":void 0,ref:ve?this.currentRow:null,optgroup:Le?ge[Z].optgroup:void 0,"aria-disabled":He||null,"aria-setsize":Rt,"aria-posinset":It}),Xe&&!ye&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),Ct);return!Ue||!this.cellMeasurerCache?Mt:t.createElement(h.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:Z,key:z,parent:ee},Mt)}isOptionSelected(F,Z,z,$){let{selectedOptions:ee,selectedOption:de}=F;return z&&(!ee||ee&&!ee.length)||!z&&!de?!1:z?!$&&Z?ee&&ee.some(ie=>ie.value===Z.value):ee&&ee.some(ie=>$({selectedOption:ie,listOption:Z})):de&&Z&&de.value===Z.value}isOptionActive(F,Z,z){let{activeRowIndex:$}=F;if(!$&&$!==0)return!1;const de=Z[$];return(de&&de.option?de.option:de)===z}render(){const{className:F,ariaLabel:Z,classPrefix:z=void 0,multiSelectMode:$=!1,selectDataQa:ee=void 0,selectState:de,dropdownContainer:ie=void 0,footerBannerContent:ue}=this.props,{isExpanded:fe,activeRowIndex:re,selectId:_e,selectType:Ue}=de,ye=(0,n.A)("c-select_options_list",{[`${z}_options_list`]:z}),Te=Ue===y.US.BASIC&&fe&&(0,i.A)(re)?(0,A.Es)(_e,`option_${re}`):void 0,ge=t.createElement("div",{className:ye,ref:this.listBody,"data-qa":ee?`${ee}-options-list`:null,id:(0,A.Es)(_e,"listbox"),"aria-activedescendant":Te,"aria-label":Z,"aria-multiselectable":!!$,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:Ae=!0}=this.props;if(!Ae)return ge;const Re=(0,n.A)("c-select_options_list__wrapper",{[`${F}`]:F,[`${z}_options_list_wrapper`]:z});return t.createElement("div",ce({className:this.getClassName(Re),"data-qa":ee?`${ee}-options-list-wrapper`:"sk-select-options-list-wrapper"},ie?{ref:ie}:{}),ge,ue&&t.createElement("div",{className:"c-select_options_list__footer_banner"},ue))}constructor(F){super(F),this.isMouseMoveEnabled=!1,(0,D.v)(this,["getOptionsList","getOptionFromList","handleClear","onKeyPressedDown","onKeyPressedEnter","onKeyPressedTab","onKeyPressedShiftTab","onKeyPressedUp","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,Ie.A)(I),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,u.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,u.A)(this.onScroll.bind(this),200),y.az.label=X.t("Clear selection");const{optionsRowHeight:Z=y.bJ,dynamicHeight:z=!1}=F;z&&(this.cellMeasurerCache=new h.jS({defaultHeight:Z,fixedWidth:!0}))}},"SelectOptionsList");x.displayName="SelectOptionsList",x.contextType=E.Mn;const S=x},4640201401:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(3134334389),n=e(7715417323),s=e(9268023148),r=e(5617110048),d=e(1641606663),o=e(5249175977),a=e(1162627626),i=e(7193040700),m=e(2322735331),l=e(6244014364);function _(){return _=Object.assign||function(y){for(var T=1;T<arguments.length;T++){var M=arguments[T];for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(y[O]=M[O])}return y},_.apply(this,arguments)}c(_,"_extends");const v={onClose:{action:l.UiAction.CLOSE},onOpen:{action:l.UiAction.OPEN}},u=50,h=50,f=12,p=4,E=32;let g=c(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(T){return(T==null?void 0:T.type)==="click"}didClickInput(T){const{inputRef:M}=this.props;if(!(M!=null&&M.current)||!this.isMouseEvent(T))return;const O=T.clientX,I=T.clientY,D=M.current.getBoundingClientRect();return O>D.left&&O<D.right&&I>D.top&&I<D.bottom}onClose(T){var M;const{selectState:O,inputRef:I,onOptionsListClose:D,setSelectState:P}=this.props;if(O.isExpanded){if(T instanceof KeyboardEvent){var L;(L=this.optionsListRef.current)===null||L===void 0||L.close(T)}I==null||(M=I.current)===null||M===void 0||M.focus(),D==null||D(this.didClickInput(T)),P(()=>({isExpanded:!1,activeRowIndex:null,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:T,inputContainerRef:M=null}=this.props,O=M||T;return O&&O.current?O.current.getBoundingClientRect():null}getPopoverPosition(T){let{top:M,bottom:O}=T;var I;const D=M,P=(((I=this.context.windowRef.deref())===null||I===void 0?void 0:I.innerHeight)||0)-O,{selectState:L,maxListHeight:k=i.CK}=this.props,{options:G}=L;let b=0;const W=c(R=>R.map(j=>this.getRowHeight(j)).reduce((j,w)=>j+w,0),"calculateRowHeight");if(G){const R=[];G.forEach(j=>{if(j.options){R.push(j.label),j.options.forEach(w=>R.push(w));return}R.push(j)}),b=W(R)}const B=Math.min(b,k);return P<B&&P<D?"top-left":"bottom-left"}getRowHeight(T){const{optionsRowHeight:M=i.bJ}=this.props;return T.type&&T.type==="divider"?i.r3:M}maybeInstallListener(){var T,M;if(this.listenerInstalled)return;(T=this.context.windowRef.deref())===null||T===void 0||T.addEventListener("resize",this.onResize),(M=this.context.windowRef.deref())===null||M===void 0||M.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:O=null}=this.props;if(O){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.addEventListener(O,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:T=null}=this.props;if(this.listenerInstalled){var M,O;if(this.onResize.cancel(),this.onScroll.cancel(),(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener("resize",this.onResize),(O=this.context.windowRef.deref())===null||O===void 0||O.removeEventListener("scroll",this.onScroll),T){var I;(I=this.context.windowRef.deref())===null||I===void 0||I.removeEventListener(T,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var T,M;const{popoverProps:O={},selectState:I,minOptionsListWidth:D=null,onOpen:P=n.A,onScrollablePage:L=!1,autoClogProps:k=void 0,maxListHeight:G=i.CK,shouldAllowUnselectInSingleSelectMode:b,shouldAllowUnselectInMultiSelectMode:W,stayExpandedAfterSelection:B}=this.props,{selectId:R}=I,j=this.state.optionsListBounds||{width:0,bottom:0,left:0},w=this.getPopoverPosition({top:j.top,bottom:j.bottom}),N=w==="top-left",K=((T=this.context.windowRef.deref())===null||T===void 0?void 0:T.innerWidth)||0;let J=j.width;D&&j.width<D&&(J=D);const Y=j.left-f+J;let q=0;D&&Y>K&&(q=D-j.width);const ne=(N?j.top:(((M=this.context.windowRef.deref())===null||M===void 0?void 0:M.innerHeight)||0)-j.bottom)-E,te=Math.min(ne,G),le={...this.props,autoClogProps:k,width:J+f*2,maxListHeight:te,shouldAllowUnselectInSingleSelectMode:b,shouldAllowUnselectInMultiSelectMode:W,stayExpandedAfterSelection:B},{pageYOffset:he}=this.context.windowRef.deref()||{},Ie={top:j.top+he+p,bottom:j.bottom+he-p,left:j.left-(f+q),width:J};let Ee;if(L){var me;Ee={height:(me=this.context.windowRef.deref())===null||me===void 0?void 0:me.document.body.scrollHeight}}return t.createElement(r.A,_({elementType:l.ElementType.DROPDOWN,actionProps:v},k?{autoClogProps:k}:{}),t.createElement(o.AM,_({position:w,allowanceX:-f,ref:this.popover},O,{onClose:this.onClose,isOpen:!!I.isExpanded,key:`${R}-popover`,shouldFocusAfterRender:!1,targetBounds:Ie,ariaHideApp:!1,onOpen:P},typeof Ee<"u"?{overlayStyle:Ee}:{},{shouldPropagateOnClose:!0}),t.createElement(a.A,_({},le,{ref:this.optionsListRef}))))}constructor(T){super(T),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,m.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,s.A)(this.measureOptionsListAndSetState,u,{maxWait:u}),this.onScroll=(0,s.A)(this.measureOptionsListAndSetState,h,{maxWait:h}),this.listenerInstalled=null}},"SelectPopoverOptionsList");g.displayName="SelectPopoverOptionsList",g.contextType=d.Mn,g.defaultProps={includePadding:!0,window};const A=g},9573786552:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(166097325),s=e(3297051565),r=e.n(s);function d(){return d=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(a[l]=m[l])}return a},d.apply(this,arguments)}c(d,"_extends");function o(a){const i={showConfirmDialog:r().func,setSelectState:r().func.isRequired,selectedOptions:r().array,selectedOption:r().object},m={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0};let l=c(class extends t.Component{setSelectState(v,u){const h=v();h.selectedOptions&&!(0,n.A)(h.selectedOptions,this.selectedOptions)||h.selectedOption&&!(0,n.A)(h.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({isExpanded:!1})),this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(v,u),this.selectedOptions=h.selectedOptions||this.selectedOptions,this.selectedOption=h.selectedOption||this.selectedOption}})):(this.props.setSelectState(v,u),this.selectedOptions=h.selectedOptions||this.selectedOptions,this.selectedOption=h.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:v}=this.props,u=v?this.setSelectState:this.props.setSelectState;return t.createElement(a,d({},this.props,{setSelectState:u}))}constructor(v){super(v),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=v.selectedOptions,this.selectedOption=v.selectedOption}},"ConfirmSelectWrapper");return l.displayName="ConfirmSelectWrapper",l.propTypes=i,l.defaultProps=m,l}c(o,"withConfirm")},2742076544:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(3134334389),n=e(166097325),s=e(9113979368),r=e(7715417323),d=e(9268023148),o=e(6422693406),a=e(796111729);function i(){return i=Object.assign||function(_){for(var v=1;v<arguments.length;v++){var u=arguments[v];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(_[h]=u[h])}return _},i.apply(this,arguments)}c(i,"_extends");const m=(0,a.Wo)();function l(_){let v=c(class extends t.Component{componentDidMount(){const{searchOnClick:h,disableSearchOnMount:f,expandOnFocus:p,minQueryLength:E}=this.props,{filterQuery:g}=this.state;if(!h&&!f||p){const A=!E||g&&g.length>=E;g!==void 0&&A&&this.search(g)}}componentDidUpdate(h){const{isInvalid:f,selectedOption:p,selectedOptions:E,isDisabled:g,minQueryLength:A}=this.props,y={};h.isInvalid!==f&&(y.isInvalid=f),h.isDisabled!==g&&(y.isDisabled=g),(0,n.A)(h.selectedOption,p)||(y.selectedOption=p),(0,n.A)(h.selectedOptions,E)||(y.selectedOptions=E),(0,n.A)(h.minQueryLength,A)||(y.minQueryLength=A),(0,s.A)(y)||this.setSelectState(()=>y)}componentWillUnmount(){this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}setSelectState(h,f){const p=h();(p.filterQuery!==void 0&&p.filterQuery!==this.state.filterQuery||p.searchOnClick)&&(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.state.minQueryLength||p.filterQuery&&p.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(p.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))),this.setState(()=>p,f)}search(h){const{search:f,onSearch:p=r.A,onSearchError:E=r.A,selectId:g,processOptions:A=c(y=>o.S.resolve(y),"processOptions")}=this.props;p(h),this.searchPromise=f(h).then(y=>{A(y,h).then(T=>{this.setSelectState(()=>({options:T})),this.setState(()=>({isLoading:!1}))})}).catch(y=>{this.setState(()=>({isLoading:!1})),m.error(`Error when searching for select id: ${g}, error: ${y}`),E(y)})}render(){const h=this.props.inputRef||this.inputRef;return t.createElement(_,i({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:h,isLoading:this.state.isLoading}))}constructor(h){super(h),this.inputRef=t.createRef(),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:h.isExpanded,expandOnFocus:h.expandOnFocus,selectId:h.selectId,selectedOptions:h.selectedOptions||[],selectedOption:h.selectedOption||null,isRequired:h.isRequired,isLoading:!1,isDisabled:h.isDisabled,isInvalid:h.isInvalid,searchOnClick:h.searchOnClick,minQueryLength:h.minQueryLength},this.search=(0,d.A)(this.search,h.debounceWaitPeriod)}},"CustomSearchWrapper");return v.displayName="CustomSearchWrapper",v.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:r.A,onSearchError:r.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:u=>o.S.resolve(u),shouldAllowUnselectInMultiSelectMode:!1},v}c(l,"withCustomSearch")},3239909785:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ne});var t=e(9706240641),n=e(3134334389),s=e(7715417323),r=e(166097325),d=e(9113979368),o=e(9524650809),a=e(235108050),i=e(362134992),m=e(2208015175),l=e(8086952004),_=e(4360875129),v=e(2394306156),u=e(9746734072),h=e(2101927269),f=e(8840779375),p=e(9268023148),E=e(5950652755),g=e(3297051565),A=e.n(g),y=e(6422693406),T=e(6987519067),M=e(145735569),O=e(3708320478),I=e(6543729974),D=e(2170574487);function P(te){return[...te.filter(le=>!le.isError&&!le.isUnknown),...te.filter(le=>!le.isError&&le.isUnknown),...te.filter(le=>le.isError)]}c(P,"sortTokens");var L=e(9236644324),k=e(56548687),G=e(796111729),b=e(735940183),W=e(4327331459),B=e(3707193570),R=e(4862221402),j=e(9868740303),w=e(4342685672),N=e(4757466470),K=e(9391594207),J=e(8847766420);function Y(){return Y=Object.assign||function(te){for(var le=1;le<arguments.length;le++){var he=arguments[le];for(var Ie in he)Object.prototype.hasOwnProperty.call(he,Ie)&&(te[Ie]=he[Ie])}return te},Y.apply(this,arguments)}c(Y,"_extends");const q=(0,G.Wo)(),H=new b.Ay("form_inputs");function ne(te){const le={searcherOptions:A().object.isRequired,selectId:A().string.isRequired,inputRef:A().object,isRequired:A().bool,selectedOptions:A().array,selectedOption:A().object,isExpanded:A().bool,isDisabled:A().bool,isInvalid:A().bool,focusOnMount:A().bool,searchOnPaste:A().bool,expandOnFocus:A().bool,expandOnClick:A().bool,searchBatchSize:A().number,debounceWaitPeriod:A().number,onFilterQueryPaste:A().func,onInputFocused:A().func,onSearch:A().func,onSearchError:A().func,onSearchResolved:A().func,onOptionsListClose:A().func,splitPastedQuery:A().func,processOptions:A().func,processSelectedOptions:A().func,clogger:A().object.isRequired,search:A().func.isRequired,teamId:A().string.isRequired,useSearcherSessions:A().bool,showConfirmDialog:A().func,restrictedSelectedTokenIndexes:A().array,disabledSelectedTokenIndexes:A().array,invalidSelectedTokenIndexes:A().array,useBulkSearch:A().bool},he={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:s.A,onInputFocused:s.A,onSearch:s.A,onSearchError:s.A,onSearchResolved:s.A,onOptionsListClose:s.A,splitPastedQuery:D.I,processOptions:ce=>y.K.resolve(ce),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1};let Ie=c(class extends n.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(X,V){const{isDisabled:x,isInvalid:S,selectedOptions:U,selectedOption:F,searchOnPaste:Z,expandOnFocus:z,expandOnClick:$,restrictedSelectedTokenIndexes:ee,disabledSelectedTokenIndexes:de,invalidSelectedTokenIndexes:ie}=this.props,ue={};if(X.isInvalid!==S&&(ue.isInvalid=S),X.isDisabled!==x&&(ue.isDisabled=x),(0,r.A)(X.selectedOptions,U)||(ue.selectedOptions=U),(0,r.A)(X.selectedOption,F)||(ue.selectedOption=F),(X.expandOnFocus&&!z||X.expandOnClick&&!$)&&(ue.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,V.selectedOptions)){var re,_e;const Re=this.getNextUnknownTokenIndex();ue.selectedTokenIndexes=[Re],(re=this.inputRef)===null||re===void 0||(_e=re.current)===null||_e===void 0||_e.focus()}X.restrictedSelectedTokenIndexes!==ee&&(ue.restrictedSelectedTokenIndexes=ee),X.disabledSelectedTokenIndexes!==de&&(ue.disabledSelectedTokenIndexes=de),X.invalidSelectedTokenIndexes!==ie&&(ue.invalidSelectedTokenIndexes=ie);const{isLoading:Ue,pendingQueries:ye,selectedOptions:Te,pendingEscapeQueries:ge,filterQuery:Ae}=this.state;if(Z&&!Ue){if(!(0,d.A)(ye))ue.isLoading=!0,ue.loadInBackground=!0,this.searchQueryObjects(ye);else if(V.isLoading){if(this.updateDisabled(!1),ge.length>0&&Ae===""){const Re=(0,b.jd)(ge.map(Me=>Me.query),{noConj:!0}).join(""),Be=ge[0],{options:ke}=Be,se=c(Me=>Me.map(be=>{const{query:xe,options:Le,...Ke}=be,He=Le?{options:se(Le)}:{};return{...Ke,...He,query:Re}}),"getUpdatedOptions"),ve={...Be,options:se(ke),query:Re};ue.pendingEscapeQueries=[],ue.options=ve.options,ue.filterQuery=Re,ue.isExpanded=!0,ue.isLoading=!1}if(Te.length){const Re=Te.filter(ke=>ke.isError||ke.isUnknown).length,Be=Re?H.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:Re}):H.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Be)}}}(0,d.A)(ue)||this.setSelectState(()=>ue)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}onFilterQueryPaste(X){var V=this;return(0,t.coroutine)(function*(){const{searchOnPaste:x,searcherOptions:S,splitPastedQuery:U,processOptions:F}=V.props;if(!x||!X&&!X.clipboardData)return;X.preventDefault();const Z=X.clipboardData.getData("text/plain")?"text/plain":"Text",z=(0,L.i_)(X),$=z.text,ee=U($,{...S,fromMetadata:z.text!==X.clipboardData.getData(Z)});V.props.onFilterQueryPaste(ee);const de=[],ie=[];yield y.K.all(ee.map(ue=>{const fe=V.getQueryId();return(0,W.A)(ue)||(0,R.A)(ue)||(0,B.Ay)(ue)?F([{key:fe,pasted:!0,fromMetadata:!0,value:ue,label:z.members?z.members[ue]:ue}]).then(re=>(re[0]&&ie.push(re[0]),y.K.resolve())):(de.push({query:ue,queryId:fe,pasted:!0}),ie.push({label:ue,queryId:fe,isLoading:!0,key:fe,pasted:!0}),y.K.resolve())})),V.setSelectState(ue=>({pendingQueries:ue.pendingQueries.concat(de),selectedOptions:ue.selectedOptions.concat(ie)})),V.updateDisabled(!(0,d.A)(de)),V.updateAriaTextThrottled.cancel&&V.updateAriaTextThrottled.cancel()})()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(X){const{isLoading:V,isExpanded:x,filterQuery:S}=this.state;!V&&x&&S.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(X)}onTokenSelect(X){var V=this;return(0,t.coroutine)(function*(){if(!(V.props.expandOnClick||V.shouldExpandOnFocus())){if(X&&!X.isUnknown)V.setState(()=>({isExpanded:!1,options:[]}));else if(X){const x=yield V.props.processOptions(X.resultOptions.map(S=>({...S,fromUnknown:!0})),X.label);V.lastShownSearchDetails=X.searcher,V.setState(()=>({isExpanded:!0,options:x}))}}})()}getQueryId(){return(0,o.A)("query__")}setSelectState(X,V){var x=this;return(0,t.coroutine)(function*(){var S;const{processSelectedOptions:U}=x.props;let F=X(x.state);const{selectedOption:Z,selectedOptions:z}=x.state;F.filterQuery!==void 0&&F.filterQuery!==x.state.filterQuery&&(F.isLoading=!0,F.loadInBackground=!1,x.searchQuery(F.filterQuery));const{searchOnPaste:$}=x.props;if($&&F.selectedOptions){const de=F.selectedOptions.map(ue=>{let{key:fe}=ue;return fe}),ie=(0,a.A)((0,i.A)(de.filter(ue=>de.indexOf(ue)!==de.lastIndexOf(ue))));(0,m.A)(ie,ue=>{const fe=(0,l.A)(F.selectedOptions,_e=>{let{key:Ue,isUnknown:ye}=_e;return Ue===ue&&!ye}),re=(0,i.A)(F.selectedOptions.map(_e=>_e.key===ue?_e.isUnknown?fe:null:_e));F.selectedOptions=re})}if(F.selectedOptions!==void 0&&!(0,r.A)(F.selectedOptions,z)){const de=F.selectedOptions.filter(ue=>{let{isLoading:fe,isUnknown:re}=ue;return!fe&&!re}),[ie]=(0,_.A)(de,z,"value");ie&&x.clogSearcherResults(ie)}F.selectedOption!==void 0&&F.selectedOption!==null&&((S=F.selectedOption)===null||S===void 0?void 0:S.value)!==(Z==null?void 0:Z.value)&&x.clogSearcherResults(F.selectedOption);const ee=!!F.removalInitiator;if(F.selectedOptions&&!ee&&U){if(F=(0,v.A)(F),F.isLoading!==void 0){const de=F.isLoading;x.setState(()=>({isLoading:de})),delete F.isLoading}F.selectedOptions=yield U(F.selectedOptions)}x.setState(()=>F,V)})()}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(X=>X.isUnknown&&X.queryId)}wasUnknownTokenResolved(X,V){const x=X.filter(U=>U.isUnknown).length,S=V.filter(U=>U.isUnknown).length;return x<S}shouldExpandOnFocus(){const{expandOnFocus:X}=this.props,{selectedOptions:V}=this.state,x=(0,I.A)(V);return X&&!x}clogSearcherResults(X){if(this.lastShownSearchDetails===null)return;const{clogger:V,selectId:x,useSearcherSessions:S,teamId:U}=this.props,{query:F,results:Z}=this.lastShownSearchDetails,z={source:x,query:F,results:Z};X?(z.selectedItemId=X.value,S?(0,j.A)({teamId:U,key:x}).clogSearcherAccept({clogger:V,data:z}):(0,T.DC)({clogger:V,data:z})):S?(0,j.A)({teamId:U,key:x}).clogSearcherReject({clogger:V,data:z}):(0,T.Yb)({clogger:V,data:z})}processSearchResults(X){const{searchOnPaste:V,onSearchResolved:x,searcherOptions:S}=this.props,{escapeHatchEnabled:U,escapeHatchKeys:F}=S,Z=this.state.selectedOptions.slice(0);V&&X.forEach(z=>{let{queryId:$,options:ee,searcher:de}=z;const ie=Z.findIndex(re=>re.queryId===$),ue=Z[ie];let fe=null;if(ue){this.lastShownSearchDetails=de;let re;ee.length===1?(re=ee[0],U&&de&&de.results&&de.results.length===0&&de.pasted&&F&&F[re.key]&&this.setState(Ue=>({pendingEscapeQueries:[...Ue.pendingEscapeQueries,{query:de.query,options:[re]}]})),this.clogSearcherResults(re)):ee.length?re={isUnknown:!0}:(re={isError:!0},this.clogSearcherResults()),fe={...ue,...re,resultOptions:ee,searcher:de,isLoading:!1},Z[ie]=fe}x({result:ee,selectedOption:fe})}),this.setState(z=>{if((0,N.Ay)(z.selectedOptions,Z,2)){const{options:$,searcher:ee}=X[0];return this.lastShownSearchDetails=ee,z.loadInBackground?null:{options:$}}return{selectedOptions:P(Z)}})}runBatchedSearch(X){const V=X.slice(0,this.props.searchBatchSize);if(X.length>1&&this.props.useBulkSearch){const S=V.some(F=>!!F.pasted),U=V.some(F=>!!F.initial);return this.runSingleSearch({query:V,pasted:S,initial:U})}const x=V.map(S=>{let{query:U,queryId:F,pasted:Z,initial:z}=S;return this.runSingleSearch({query:U,queryId:F,pasted:Z,initial:z})});return y.K.all(x)}runSingleSearch(X){let{query:V,queryId:x,pasted:S,initial:U}=X;const{onSearch:F,onSearchError:Z,processOptions:z,searcherOptions:$,selectId:ee,useSearcherSessions:de,teamId:ie,useBulkSearch:ue}=this.props;let fe,re,_e=!1;const Ue=x||this.getQueryId(),ye=new Map;if((0,u.A)(V)&&ue?(fe=V.map(Ae=>(ye.set(Ae.queryId,Ae.query),{query:(0,D.t)(Ae.query,$),queryId:Ae.queryId})),_e=!0):re=(0,D.t)(V,$),re&&F(V)===!1)return z([],re).then(Ae=>({queryId:Ue,options:Ae,searcher:this.lastShownSearchDetails}));let Te;de&&(!S||_e)?Te=(0,j.A)({teamId:ie,key:U?Ue:ee}).search({query:_e?fe:re,options:{...$,sort:{source:ee,...$.sort},returnMetadata:!0}}):Te=this.props.search({query:_e?fe:re,options:{...$,sort:{source:ee,...$.sort},returnMetadata:!0}});var ge=this;return Te.then(function(){var Ae=(0,t.coroutine)(function*(Re){ge.lastShownSearchDetails={query:_e?fe:re,results:Re};const Be=(Re||[]).map((ve,Me)=>{var be;return{key:_e?ve.queryId:`${Ue}_${Me}`,value:ve.item.id,label:ve.name||((be=ve.item)===null||be===void 0?void 0:be.name)||(_e?ye.get(ve.queryId):V),entity:ve.item,matchData:ve.subqueryScoresByMember}}),{selectedOption:ke}=ge.state;re===""&&ke&&((0,l.A)(Be,["value",ke.value])||Be.unshift(ke));const se=yield z(Be,V,{pasted:S});return{queryId:Ue,options:se,searcher:{...ge.lastShownSearchDetails,pasted:S}}});return function(Re){return Ae.apply(this,arguments)}}()).catch(Ae=>{q.error(`Error when searching for select id: ${ee}, error: ${Ae}`),Z(Ae);const Re=[];return{queryId:Ue,options:Re,searcher:{query:_e?fe:re,results:Re,pasted:S,isError:!0}}})}searchQuery(X){this._isMounted&&this.searchQueryObjects([{query:X}])}searchQueryObjects(X){if((0,d.A)(X))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:x,queryId:S}=X[0];this.searchPromise=this.runSingleSearch({query:x,queryId:S}).then(U=>{let{options:F}=U;this.setSelectState(()=>({options:F})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(X).then(x=>{let S=x;this.props.useBulkSearch&&(S=this.generateBulkSearchResultsArray(S)),this.processSearchResults(S);const U=S.map(F=>{let{queryId:Z}=F;return Z});this.setState(F=>({pendingQueries:F.pendingQueries.filter(z=>{let{queryId:$}=z;return!U.includes($)}),isLoading:!1}))});const V=H.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:X.length});this.updateAriaTextThrottled(V)}updateAriaText(X){this.setState(V=>V.ariaText===X?null:{ariaText:X})}updateDisabled(X){this.setState(V=>V.isDisabled===X?null:{isDisabled:X})}generateBulkSearchResultsArray(X){var V;if(!(!(X==null||(V=X.options)===null||V===void 0)&&V.length))return X.splice(0);const{options:x,searcher:S}=X,{pasted:U,query:F,results:Z}=S;return F.map($=>({options:x.filter(ee=>ee.key===$.queryId),queryId:$.queryId,searcher:{pasted:U,query:$.query,results:Z.filter(ee=>ee.queryId===$.queryId)}}))}render(){return n.createElement(n.Fragment,null,n.createElement(te,Y({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),n.createElement(O.A,{message:this.state.ariaText}))}constructor(X){super(X),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:V,searchOnPaste:x}=X,S=(0,h.A)(V,F=>(0,M.iC)(F));let U=[];x&&(U=(0,i.A)((0,f.A)(S,F=>!F.label||!F.queryId?null:{query:F.label,queryId:F.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:X.isExpanded,selectId:X.selectId,selectedOptions:X.selectedOptions||[],selectedOption:X.selectedOption||null,isRequired:X.isRequired,isLoading:!1,isDisabled:X.isDisabled,isInvalid:X.isInvalid,pendingQueries:U||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!X.showConfirmDialog,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:X.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:X.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:X.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,p.A)(this.searchQuery,X.debounceWaitPeriod),this.updateAriaTextThrottled=(0,E.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=X.inputRef||n.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");Ie.displayName="SearcherSelectWrapper",Ie.propTypes=le,Ie.defaultProps=he;const Ee=c(ce=>({clogger:(0,k.e)({state:ce}),teamId:(0,J.JY)(ce),useSearcherSessions:(0,w.nK)(ce)}),"mapStateToProps"),me={search:function(){for(var ce=arguments.length,X=new Array(ce),V=0;V<ce;V++)X[V]=arguments[V];return(0,T.$P)(...X)}};return(0,K.N)(Ee,me)(Ie)}c(ne,"withSearcher")},2602118042:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3134334389),n=e(5846524816);function s(){return s=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var m=arguments[i];for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(a[l]=m[l])}return a},s.apply(this,arguments)}c(s,"_extends");const r={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function d(a){return t.createElement(n.A,s({},a,{textSelect:!0}))}c(d,"TextSelect"),d.displayName="TextSelect",d.defaultProps=r;const o=d},2864323261:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2825917518);const n=c(function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;if(!a)return o;const{label:i,options:m}=a,l=new t.A(r,{fuzzyLimit:3,...d});if(!m)isFinite(l.normalizeAndScore(i))&&o.push(a);else{const _=[];m.forEach(v=>{const{label:u}=v;isFinite(l.normalizeAndScore(u))&&_.push(v)}),_.length&&o.push({label:a.label,options:_})}return o},"findMatches");function s(r,d){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d?r.reduce((a,i)=>n(d,o,a,i),[]):r}c(s,"defaultFilter")},6543729974:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(9113979368),n=e(1703559452),s=e(145735569);function r(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,t.A)(d)?!1:(0,n.A)(d,o=>(0,s.hH)(o))}c(r,"__WEBPACK_DEFAULT_EXPORT__")},3650946343:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9113979368),n=e(2101927269),s=e(4724591729),r=e(796111729);function d(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(o))return!1;const a=(0,n.A)(o,i=>(i&&!i.message&&(0,s.Cu)()&&(0,r.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${i.id}, message: ${i.message}}`),i&&!!i.message));return!(0,t.A)(a)}c(d,"__WEBPACK_DEFAULT_EXPORT__")},2170574487:(Q,C,e)=>{"use strict";e.d(C,{I:()=>a,t:()=>i});var t=e(3044566667);const n=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],s=new RegExp(`[${n}]`),r=new RegExp(`<(${t.gy})>`,"i"),d=new RegExp(`\\((${t.gy})\\)`,"i"),o=/(?=\s+[@\uFF20])/g;function a(m){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[];return l.entities&&l.entities.members&&l.entities.members.matchEmailField&&(r.test(m)||d.test(m))?_=m.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):s.test(m)?_=m.split(s):l.fromMetadata?_=m.split(/\s+/):l.entities&&l.entities.members&&o.test(m)&&(_=m.split(o)),(!_||!_.length)&&(_=m.split(/\s+/)),_.map(v=>v.trim()).filter(v=>Boolean(v))}c(a,"defaultSplitQuery");function i(m){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=m;return l.entities&&l.entities.members&&l.entities.members.matchEmailField&&t.tN.CONTAINS_EMAIL.test(m)&&(_=m.match(t.tN.CONTAINS_EMAIL)[0]),_}c(i,"parseQueryForSearch")},7772530643:(Q,C,e)=>{"use strict";e.d(C,{k:()=>n});var t=e(2864323261);const n=c(function(r,d){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d.filterQuery===void 0?d:{...d,options:(0,t.A)(r,d.filterQuery,o)}},"defaultFilter"),s=c((r,d)=>r.reduce((o,a)=>a(o),d),"applyTransforms")},1959847761:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,e:()=>n.ex});var t=e(1211063534),n=e(5139334449);const s=t.A},1211063534:(Q,C,e)=>{"use strict";e.d(C,{A:()=>g});var t=e(3134334389),n=e(5255740490),s=e(5950652755),r=e(7715417323),d=e(1641606663),o=e(8245211418),a=e(5139334449),i=e(3256698098);function m(){return m=Object.assign||function(A){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(A[M]=T[M])}return A},m.apply(this,arguments)}c(m,"_extends");const l=1,_=10,v=10,u=2,h=12,f=50;let p=c(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(y,T){return y.isOpen!==T.passedIsOpen?{isOpen:y.isOpen,passedIsOpen:y.isOpen}:null}componentDidUpdate(y){if(y.isOpen!==this.props.isOpen)if(this.state.isOpen){var T;this.forceUpdate(),(T=this.context.windowRef.deref())===null||T===void 0||T.document.addEventListener("mousemove",this.onMouseMove)}else{var M;(M=this.context.windowRef.deref())===null||M===void 0||M.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(y){const T={x:y.clientX,y:y.clientY},M=this.mouseProgressingTowardsSubmenu(T);M!==this.state.mouseProgressingTowardsSubmenu&&(M?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(()=>({mouseCoordinates:T,mouseProgressingTowardsSubmenu:M}))}onSubmenuItemSelected(y,T){this.props.menuCallback(this.props.menuCallbackId,T)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const y=this.getContentBounds(),T=this.getTriggerBounds(),M={...this.props.submenuStyle},O=this.context.windowRef.deref();if((y==null?void 0:y.width)===void 0||(T==null?void 0:T.left)===void 0||!O)return M;const I=T.right+y.width>O.innerWidth,D=T.left>y.width,P=this.props.forceLeft||I&&D;I&&!D?M.left=O.innerWidth-y.width-_:P?M.left=T.left-y.width+u:M.left=T.right-u;const k=T.top-h,G=k+y.height>O.innerHeight-v;return M.top=G?O.innerHeight-v-y.height:k,M}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(y){this.submenuContainer=y}setTriggerRef(y){this.trigger=y}allowHighlightChange(){this.setState(y=>({...y,highlightChangePrevented:!1}))}closeSubmenu(){this.props.returnKBNav(),this.setState(()=>({isOpen:!1}),()=>{var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(y){const{mouseCoordinates:T}=this.state,M=this.getContentBounds();if(M){const{left:O,right:I,top:D,bottom:P}=M;if(y.x>=O&&y.x<=I&&y.y>=D&&y.y<=P)return!0;if(T){const k=Math.abs(I-T.x)>Math.abs(O-T.x),G={x:k?O:I,y:D-l},b={x:k?O:I,y:P+l},W={x:k?T.x-l:T.x+l,y:T.y};return(0,i._i)(y,W,G,b)}}return!1}preventHighlightChange(){this.setState(y=>({...y,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const y=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),T=this.getSubmenuContainerStyle(),M=(0,n.A)("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:M,ref:this.setSubmenuRef,style:T,"data-qa":"submenu_container"},y)}render(){const{menuCallback:y,menuCallbackId:T,...M}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(o.A,m({},M,{withSubmenu:!0})),this.renderSubmenu())}constructor(y){super(y),this.state={isOpen:!1,passedIsOpen:!1,mouseCoordinates:void 0,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},this.closeSubmenu=this.closeSubmenu.bind(this),this.setSubmenuRef=this.setSubmenuRef.bind(this),this.setTriggerRef=this.setTriggerRef.bind(this),this.onMouseMove=(0,s.A)(this.onMouseMove.bind(this),f),this.onSubmenuItemSelected=this.onSubmenuItemSelected.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this)}},"Submenu");p.displayName="Submenu",p.defaultProps={isOpen:!1,menuCallback:r.A,menuCallbackId:null,kbNavActive:!1,returnKBNav:r.A,preventHighlightChange:r.A,allowHighlightChange:r.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},p.contextType=d.Mn;const E={Submenu:p,SUBMENU_OVERLAP:u,MENU_VERTICAL_MARGIN:h,ALLOWANCE_X:_,ALLOWANCE_Y:v},g=(0,a.Ay)(p)},5139334449:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>l,ex:()=>m});var t=e(2208015175),n=e(3297051565),s=e.n(n),r=e(101973425),d=e(4724591729),o=e(796111729);const a="_isSlackSubmenuItem",i={...r.LN,kbNavActive:s().bool,stealKBNav:s().func,returnKBNav:s().func,preventHighlightChange:s().func,allowHighlightChange:s().func};function m(_){return!!_[a]}c(m,"isSubmenu");function l(_){if((0,d.Cu)()){const v=_.propTypes||{};let u;Object.defineProperty(_,"propTypes",{get:()=>u,set:h=>{const f=_.displayName||_.name||"Component";(0,t.A)(i,(p,E)=>{const g=h[E];g&&g!==p&&g!==p.isRequired&&(0,o.Wo)().warn(`${f}'s ${E} prop type doesn't match submenu`)}),u={...i,...h}}}),_.propTypes=v}return _[a]=!0,_[r.KJ]=!0,_}c(l,"wrapSubmenu")},4525741652:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3134334389),n=e(5255740490);function s(){return s=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&(o[m]=i[m])}return o},s.apply(this,arguments)}c(s,"_extends");const d=(0,t.forwardRef)((o,a)=>{let{tabContent:i,fullHeight:m,className:l,role:_="tabpanel",...v}=o;const u=(0,n.A)(l,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":m});return t.createElement("div",s({role:_,className:u,"data-qa":"tabs_content_container",ref:a},v),i)})},6130762911:(Q,C,e)=>{"use strict";e.d(C,{T:()=>s});var t=e(3134334389);const n={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},s=(0,t.createContext)(n)},2598612765:(Q,C,e)=>{"use strict";e.d(C,{A:()=>O});var t=e(3134334389),n=e(5255740490),s=e(8628145494),r=e(9268023148),d=e(4980558152),o=e(2309855086),a=e(5914783706),i=e(3749524846),m=e(9332393661),l=e(6084388622),_=e(1610251172),v=e(8683010724),u=e(6130762911),h=e(7239742441),f=e(698347924);function p(I){return/\.(jpe?g|png|gif|bmp)$/i.test(I)}c(p,"hasImageExtention");const E=p;function g(){return g=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(I[L]=P[L])}return I},g.apply(this,arguments)}c(g,"_extends");const A=c(I=>{let{icon:D,svgIcon:P,customIcon:L,className:k}=I;return t.createElement("div",{className:k,"data-qa":"tabs_item_render_icon"},!L&&D&&!P&&t.createElement(_.A,{type:D,size:"inherit",inline:!0}),!L&&P&&!D&&t.createElement(v.A,g({},P)),L&&L)},"TabsItemIcon");A.displayName="TabsItemIcon";const y=c(I=>I>=1e4?(0,h.$k)(I,{precision:4,decimal_places:0,lowercase:!0}):(0,f.Ay)(I),"formatNumber"),T=c(I=>{let{shouldFormatCount:D,titleCount:P,maxTitleCount:L}=I;return D&&P?y(P):L&&P&&P>L?`${L}+`:P},"formatCount"),O=(0,t.forwardRef)((I,D)=>{let{label:P,onClick:L,title:k,isSelected:G,isFocused:b,focusOnMount:W,fullWidth:B,titleCount:R,maxTitleCount:j,icon:w,svgIcon:N,customIcon:K,formatCount:J,isLoading:Y,isCountLoading:q,isDisabled:H,iconPosition:ne="right",className:te="",contextMenuAriaLabel:le,contextMenuTemplate:he,...Ie}=I;const Ee=(0,o.A)(D),[me,ce]=(0,t.useState)(!1),X=(0,t.useContext)(i.A),V=(0,n.A)(te,"c-tabs__tab","js-tab",{"c-tabs__tab--active":G,"c-tabs__tab--full_width":B}),x=P||k,S=typeof x=="string"&&E(x)?t.createElement(m.A,{classes:"c-tabs__tab_image",image:x,ariaHidden:!0}):x,U=Ie.id,F=(0,t.useCallback)(ye=>{L&&L(U,ye)},[U,L]),Z=T({shouldFormatCount:J,titleCount:R,maxTitleCount:j}),z=(0,s.A)(b)?G:b,$=(0,a.A)(z);(0,t.useEffect)(()=>{if(!z)return;const ye=(0,s.A)($);if(ye&&W||!ye&&!$){var Te;(Te=Ee.current)===null||Te===void 0||Te.focus()}},[z,$,W,Ee]);const ee=(0,t.useCallback)(()=>he,[he]),de=(0,r.A)(()=>ce(!0),25),ie=(0,r.A)(()=>ce(!1),25),ue=(0,t.useCallback)(()=>{ie.cancel(),de()},[de,ie]),fe=(0,t.useCallback)(()=>{de.cancel(),ie()},[de,ie]),re=X&&(b??!1),_e=(0,t.useMemo)(()=>({isSelected:G??!1,hasMouseHover:me,hasKeyboardFocus:re,isUserAttentionOnTab:G||me||re}),[re,me,G]);let Ue=t.createElement(l.Nm,g({},Ie,{onClick:F,onMouseOver:ue,onMouseOut:fe,role:"tab",className:V,"aria-selected":G,tabIndex:z?0:-1,disabled:H,ref:Ee}),Y?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!w||!!N||!!K)&&ne==="left"&&t.createElement(A,{icon:w,svgIcon:N,customIcon:K,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},S),Number.isFinite(R)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},Z),q&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!w||!!N||!!K)&&ne==="right"&&t.createElement(A,{icon:w,svgIcon:N,customIcon:K,className:"c-tabs__tab_icon--right"})));return he&&(Ue=t.createElement(d.A,{getTemplate:ee,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:le},Ue)),t.createElement(u.T.Provider,{value:_e},Ue)})},3214129289:(Q,C,e)=>{"use strict";e.d(C,{A:()=>H});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(3514831633),d=e(8773153312),o=e(8683010724),a=e(2598612765),i=e(2312625946);const m={name:"ellipsis-horizontal",variation:"filled"},_=(0,t.forwardRef)((ne,te)=>{let{renderMenu:le,position:he,label:Ie,id:Ee,isSelected:me,isFocused:ce}=ne;return t.createElement(r.cQ,{renderMenu:le,position:he||"bottom-left"},t.createElement(i.Ay,{tip:Ie,position:"top",offsetY:6},t.createElement(a.A,{id:Ee,"aria-label":Ie,isSelected:me,isFocused:ce,className:"c-tabs__tab_overflow",svgIcon:m,ref:te})))});var v=e(5238395322);const u=53,h=27;function f(ne){const te=ne.ownerDocument.defaultView;if(!te)return ne.offsetWidth;const le=te.getComputedStyle(ne),he=parseFloat(le.getPropertyValue("margin-left"))+parseFloat(le.getPropertyValue("margin-right"));return ne.offsetWidth+he}c(f,"getWidth");function p(ne){const te=ne.ownerDocument.defaultView;if(!te)return ne.offsetHeight;const le=te.getComputedStyle(ne),he=parseFloat(le.getPropertyValue("margin-top"))+parseFloat(le.getPropertyValue("margin-bottom"));return ne.offsetHeight+he}c(p,"getHeight");const E=c((ne,te)=>{let{outerElement:le,innerElement:he,threshold:Ie,totalTabsLength:Ee,childElements:me,containerSize:ce,isHorizontal:X}=ne;if(!le||!he||!me||Ee===0)return;const V=ce-Ie,x=X?f:p,S=Array.from(me).map($=>x($));if((0,v.A)(S)<V&&S.length===Ee){te(Ee);return}let F=X?u:h,Z=V,z=1;S.forEach($=>{F+=$,F<V&&$<=Z&&(z+=1),Z-=$}),te(z)},"recalculateVisibleTabs");var g=e(4525741652),A=e(8214116048),y=e(3078252698);const M=c(ne=>(0,y.A)(ne),"isReactNodeAString");var O=e(2322735331),I=e(6244014364),D=e(4806483452),P=e(4724591729),L=e(3688641936),k=e(796111729),G=e(8873262110),b=e(735940183),W=e(3821598679);function B(){return B=Object.assign||function(ne){for(var te=1;te<arguments.length;te++){var le=arguments[te];for(var he in le)Object.prototype.hasOwnProperty.call(le,he)&&(ne[he]=le[he])}return ne},B.apply(this,arguments)}c(B,"_extends");const R=new b.Ay("slack-kit"),j=85,w=52,N=["ArrowLeft"],K=["ArrowRight"],J=N.concat("ArrowUp"),Y=K.concat("ArrowDown");let q=c(class extends t.PureComponent{setVisibleTabs(te){this.setState(()=>({numOfVisibleTabsShown:te}))}onResize(){var te,le,he,Ie,Ee,me,ce,X,V,x;const S=this.props.orientation===A.t4.Horizontal,U=S?(te=this.tabsContainerRef)===null||te===void 0||(le=te.current)===null||le===void 0?void 0:le.clientWidth:(he=this.tabsContainerRef)===null||he===void 0||(Ie=he.current)===null||Ie===void 0?void 0:Ie.clientHeight;if(!U)return;const F=S?j:w,Z={outerElement:(Ee=this.tabsContainerRef)===null||Ee===void 0||(me=Ee.current)===null||me===void 0?void 0:me.getBoundingClientRect(),innerElement:(ce=this.lastVisibleTabRef)===null||ce===void 0||(X=ce.current)===null||X===void 0?void 0:X.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(V=this.tabsContainerRef)===null||V===void 0||(x=V.current)===null||x===void 0?void 0:x.children};E({...Z,threshold:F,containerSize:U,isHorizontal:S},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var z,$;return($=(z=this.props).onTabsResized)===null||$===void 0?void 0:$.call(z)})}componentDidMount(){this._isMounted=!0;const{maxSize:te}=this.props;if(te&&!this.resizeListener){var le;this.resizeListener=(0,G.A)(this.onResize),this.resizeListener.observe((le=this.tabsContainerRef)===null||le===void 0?void 0:le.current)}}componentDidUpdate(te,le){var he;const{defaultTabId:Ie,tabs:Ee,manualTabActivation:me}=this.props;var ce;((ce=(he=te.tabs)===null||he===void 0?void 0:he.length)!==null&&ce!==void 0?ce:0)!==Ee.length&&this.updateSelectedTab(),Ie!==te.defaultTabId&&Ie&&this.selectTab(Ie,void 0);const X=le.numOfVisibleTabsShown!==this.state.numOfVisibleTabsShown,V=le.selectedTabId!==this.state.selectedTabId&&!me;(X||V)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var te;(te=this.resizeListener)===null||te===void 0||te.disconnect(),this.resizeListener=null}}onFocus(te){const{focusedTabIndex:le}=this.state,he=this.getTabIndexById(te.target.id);he!==le&&this.focusTab(he)}onKeyDown(te){const le=te.key;if(te.shiftKey||te.metaKey||te.ctrlKey||te.altKey)return;const Ie=this.props.orientation==="vertical",Ee=Ie?Y:K,me=Ie?J:N;if(!["Home","End"].concat(Ee,me).includes(le))return;const X=Ee.includes(le),V=me.includes(le);te.preventDefault(),X&&this.onNextArrow(te),V&&this.onPreviousArrow(te),le==="Home"&&this.onHome(te),le==="End"&&this.onEnd(te)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:te}=this.props,{numOfVisibleTabsShown:le}=this.state;return te.slice(le,te.length)}getVisibleTabs(){var te,le;const{tabs:he,maxSize:Ie}=this.props;if(!!!Ie)return he;const me=((te=this)===null||te===void 0||(le=te.state)===null||le===void 0?void 0:le.numOfVisibleTabsShown)||he.length;return he.length===me?he:he.slice(0,me).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(te=>{let{id:le}=te;return le})}getTabById(te){var le;return(le=this.props.tabs)===null||le===void 0?void 0:le.find(he=>he.id===te)}getTabIndexById(te){return this.getVisibleTabIds().indexOf(te)}onHome(te){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:le,manualTabActivation:he,onTabChange:Ie}=this.props,Ee=this.getVisibleTabIds(),me=0;if(this.focusTab(me),he)return;const ce=Ee[me];ce!==this.overflowTabId&&(le==null?void 0:le(ce))!==!1&&this.setState(()=>({selectedTabId:ce}),()=>{Ie==null||Ie(ce,te)})}onEnd(te){const le=this.getVisibleTabIds(),he=le.length-1;if(this.state.focusedTabIndex===he)return;const{onTabWillChange:Ie,manualTabActivation:Ee,onTabChange:me}=this.props;if(this.focusTab(he),Ee)return;const ce=le[he];ce!==this.overflowTabId&&(Ie==null?void 0:Ie(ce))!==!1&&this.setState(()=>({selectedTabId:ce}),()=>me==null?void 0:me(ce,te))}onNextArrow(te){const{onTabWillChange:le,manualTabActivation:he,onTabChange:Ie}=this.props,Ee=this.getVisibleTabIds(),me=this.getTabIndexById(te.target.id),ce=me>=Ee.length-1?0:me+1;if(this.focusTab(ce),he)return;const X=Ee[ce];X!==this.overflowTabId&&(le==null?void 0:le(X))!==!1&&this.setState(()=>({selectedTabId:X}),()=>Ie==null?void 0:Ie(X,te))}onPreviousArrow(te){const{onTabWillChange:le,manualTabActivation:he,onTabChange:Ie}=this.props,Ee=this.getVisibleTabIds(),me=this.getTabIndexById(te.target.id),ce=me===0?Ee.length-1:me-1;if(this.focusTab(ce),he)return;const X=Ee[ce];X!==this.overflowTabId&&(le==null?void 0:le(X))!==!1&&this.setState(()=>({selectedTabId:X}),()=>Ie==null?void 0:Ie(X,te))}getNextTabId(){const{defaultTabId:te,tabs:le,currentTabId:he}=this.props,Ie=te?this.getTabIndexById(te):void 0,Ee=he?this.getTabIndexById(he):void 0;return he&&Ee?he:te&&Ie?te:le[0].id}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const te=this.getNextTabId();te!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:te}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:te}=this.focusedTabRef;if(te)return te.focus(),!0;const le=this.props.currentTabId||this.state.selectedTabId,he=this.getTabIndexById(le)||0;return this.focusTab(he),!0}focusTab(te){this.setState(()=>({focusedTabIndex:te}))}selectTab(te,le){const{onTabWillChange:he,onTabChange:Ie}=this.props,Ee=this.getTabById(te);if(!Ee)return null;if((he==null?void 0:he(te))!==!1){if(Ee.isExternalLink){var me;return(me=Ee.onClick)===null||me===void 0?void 0:me.call(Ee,te,le)}return this.setState(()=>({selectedTabId:te}),()=>{if(Ie==null||Ie(te,le),this.props.focusOnFirstFocusableChildOnChange){const ce=this.panelRef&&this.panelRef.current,X=(0,L.Fp)(ce);X==null||X.focus()}}),null}}updateFocusedTabIndex(){const te=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(te)}))}onTabClick(te,le){var he;const Ie=this.getTabById(te);Ie&&(Ie.isExternalLink||this.selectTab(Ie.id,le),Ie==null||(he=Ie.onClick)===null||he===void 0||he.call(Ie,Ie.id,le))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(te){const le=R.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return le;const he=this.getTabById(te);if(!he)return le;const Ie=he["aria-label"]||he.label||he.title;return!Ie||!M(Ie)?le:R.t("More: {selectedTabLabel}",{selectedTabLabel:Ie,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(te,le){const{tabs:he,fullWidthMenu:Ie,orientation:Ee,iconPosition:me,focusOnMount:ce}=this.props,X=this.state.focusedTabIndex===le,V=X?this.focusedTabRef:void 0,x=te.autoClogProps?{...this.autoClogProps,...te.autoClogProps,elementType:I.ElementType.TAB}:this.autoClogProps,S=le===he.length-1?this.lastVisibleTabRef:void 0,U=S?(0,D.A)(V,S):V,F=this.props.currentTabId||this.state.selectedTabId,Z=F===te.id;return te.id===this.overflowTabId?t.createElement(_,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel(F),isSelected:!this.isSelectedTabVisible(),isFocused:X,ref:U,id:te.id,key:te.id}):t.createElement(a.A,{key:te.id,id:te.id,icon:te.icon,svgIcon:te.svgIcon,customIcon:te.customIcon,label:te.label||te.title,onClick:this.onTabClick,autoClogProps:x,isSelected:Z,isFocused:X,focusOnMount:ce,isDisabled:te.isDisabled,fullWidth:Ie||Ee==="vertical",titleCount:te.titleCount,maxTitleCount:te.maxTitleCount,"aria-label":te["aria-label"],"aria-describedby":te["aria-describedby"],"data-qa":te["data-qa"]||"tabs_item","aria-haspopup":te["aria-haspopup"],ref:U,formatCount:this.props.formatCount,isLoading:te.isLoading,isCountLoading:te.isCountLoading,iconPosition:me,className:te.className,contextMenuAriaLabel:te.contextMenuAriaLabel,contextMenuTemplate:te.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((le,he)=>{typeof le.label!="string"&&!t.isValidElement(le.label)&&typeof le.title!="string"&&!t.isValidElement(le.title)&&!le["aria-label"]&&((0,P.Cu)()||(0,P.b3)())&&(0,k.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const Ie=this.renderTabsItem(le,he);return le.renderWrapper?t.createElement(t.Fragment,{key:le.id},le.renderWrapper(Ie)):Ie})}renderOverflowMenu(te){var le;const{selectedTabId:he}=this.state,Ie=(le=this.getHiddenTabs())===null||le===void 0?void 0:le.map(Ee=>({label:Ee.label||Ee.title,id:Ee.id,click:me=>this.onTabClick(Ee.id,me),key:Ee.id,type:d.A.radio,checked:Ee.id===he,icon:Ee.svgIcon?t.createElement(o.A,B({size:"18"},Ee.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(r.a,B({width:"200px"},te,{template:Ie}))}renderTabPanelLabel(te){const le=this.getTabById(te);if(!le)return;const he=le["aria-label"]||le.label||le.title;if(M(he))return he}render(){var te;const{fullHeight:le,fullWidthMenu:he,className:Ie,orientation:Ee,tabMenuClassnames:me,tabPanelClassnames:ce,ariaLabel:X,currentTabId:V,maxSize:x}=this.props,S=V||this.state.selectedTabId;var U;const F=(U=(te=this.getTabById(S))===null||te===void 0?void 0:te.content)!==null&&U!==void 0?U:"",Z=(0,n.A)(Ie,{"c-tabs__tab_container--full_height":le,"c-tabs__tab_container--vertical":Ee==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!x}),z=(0,n.A)(me,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":he,"c-tabs__tab_menu--vertical":Ee==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),$=(0,n.A)(ce,{"c-tabs__tab_panel--vertical":Ee==="vertical"});return t.createElement("div",{className:Z,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:z,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-orientation":Ee,"aria-label":X,ref:this.tabsContainerRef},this.renderTabsItems()),F&&t.createElement(g.A,{tabContent:F,fullHeight:le,ref:this.panelRef,className:$,"aria-label":this.renderTabPanelLabel(S)}))}constructor(te){var le;super(te),(0,O.v)(this,["onKeyDown","onFocus","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.focusedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,te.autoClogProps&&(this.autoClogProps={...te.autoClogProps,elementType:I.ElementType.TAB});const he=te.currentTabId||te.defaultTabId||((le=te.tabs[0])===null||le===void 0?void 0:le.id),Ie=this.getTabIndexById(he);this.state={selectedTabId:he,focusedTabIndex:Ie!==-1?Ie:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,W.A)()}`}},"Tabs");q.displayName="Tabs",q.defaultProps={onTabChange:s.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0};const H=q},4275787242:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3134334389),n=e(3708320478),s=e(5733135148);const r=c(d=>{let{children:o,duration:a,svgIconProps:i,toastClasses:m,position:l,offsetX:_,offsetY:v,showCloseButton:u,onCloseComplete:h,shouldAutoFade:f,shouldSkipToastDismissal:p,closeButtonClasses:E,svgIconClassName:g,announceContentAsAssertive:A}=d;return t.createElement(s.Ay,{fadeDelay:a,svgIconClassName:g,svgIconProps:i,toastClasses:m,offsetX:_,offsetY:v,position:l,showCloseButton:u,onCloseComplete:h,shouldAutoFade:f,shouldSkipToastDismissal:p,closeButtonClasses:E},t.createElement(n.z,{assertive:A},o))},"Toast");r.displayName="Toast",r.defaultProps={duration:6e3}},2855755676:(Q,C,e)=>{"use strict";e.d(C,{F:()=>t,n:()=>n});const t={small:"small",medium:"medium",large:"large"},n={small:22,medium:26,large:32}},561151542:(Q,C,e)=>{"use strict";e.d(C,{A:()=>w,L:()=>R});var t=e(3134334389),n=e(5255740490),s=e(7715417323),r=e(126225536),d=e(1030162945),o=e(7969928607),a=e(1407713935),i=e(4559887502),m=e(8798294025),l=e(6839188756),_=e(6308822),v=e(5387475318),u=e(5289504844),h=e(8460568133),f=e(5415825258),p=e(1610251172),E=e(7193040700),g=e(3267847539),A=e(8683010724),y=e(5484624422),T=e(2312625946),M=e(82287009),O=e(8040098042),I=e(6112179660),D=e(4327331459),P=e(3707193570),L=e(4862221402),k=e(9391594207),G=e(2235302340),b=e(9101533895),W=e(3677514771);function B(){return B=Object.assign||function(N){for(var K=1;K<arguments.length;K++){var J=arguments[K];for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&(N[Y]=J[Y])}return N},B.apply(this,arguments)}c(B,"_extends");let R=c(class extends t.Component{renderChannelToken(K){const{channel:J,showMemberCounts:Y,isSelected:q,channelHasNonUniqueName:H}=this.props;let ne;return(0,a.LI)(J)?ne=t.createElement(u.Ay,{id:(0,m.e)(J),className:"c-token_channel"}):(0,a.yz)(J)?ne=t.createElement(h.A,{mpim:J,className:"c-token_channel",isActive:q}):ne=t.createElement(v.A,{channel:J,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:Y,showTeamForLocalChannel:H}),t.createElement("span",{className:K,"data-qa":"token_channel"},ne)}renderContent(){const{isLoading:K,isUnknown:J,isError:Y,isMemberError:q,isTeamError:H,isInvalid:ne,channel:te,memberId:le,teamName:he,userGroupId:Ie,channelSection:Ee,contentInnerClassName:me,emailTeam:ce}=this.props;let X=(0,n.A)("c-token_content__inner",me);return K&&!ne?(X+=" c-token_content__inner--loading",this.renderLoadingToken(X)):J?(X+=" c-token_content__inner--unknown",this.renderUnknownToken(X)):Y?(X+=" c-token_content__inner--error",this.renderErrorToken(X)):ce?(X+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(X)):le&&q?(X+=" c-token_content__inner--error",this.renderMemberErrorToken(X)):le?(X+=" c-token_content__inner--member",this.renderMemberToken()):te?this.renderChannelToken(X):he&&H?(X+=" c-token_content__inner--error",this.renderTeamErrorToken(X)):he?(X+=" c-token_content__inner--team",this.renderTeamToken(X)):Ee?(X+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(X)):Ie?(X+=" c-token_content__inner--usergroup",this.renderUserGroupToken(X)):this.renderPlainToken(X)}renderErrorToken(K){const{label:J}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(A.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_error"},J))}renderLoadingToken(K){const{size:J,label:Y}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(_.A,B({},J?{size:J}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_loading"},Y))}renderMemberToken(){const{forceRealName:K,isDisabled:J,memberId:Y,size:q}=this.props;return t.createElement(u.Ay,{id:Y,isDeactivated:J,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:K,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:q})}renderMemberErrorToken(K){const{forceRealName:J,isDisabled:Y,memberId:q,size:H}=this.props;return t.createElement(u.Ay,{id:q,isDeactivated:Y,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:J,showStatus:!1,className:(0,n.A)(K,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:H})}renderIcon(){const{icon:K,svgIcon:J}=this.props;return J?t.createElement("span",{className:"c-token_content__icon"},t.createElement(A.A,B({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},J))):K?t.createElement(p.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:K,inline:!0}):null}renderPlainToken(K){const{label:J}=this.props;return t.createElement("span",{className:K},this.renderIcon(),t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(o.A,{text:J,inputIsEscaped:!0,emojiSize:d.lw.MEDIUM})))}renderEmailTokenWithTeamIcon(K){const{icon:J,label:Y,emailTeam:q}=this.props;return t.createElement("span",{className:K},J&&t.createElement(p.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:J,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(o.A,{text:Y,inputIsEscaped:!0,emojiSize:d.lw.MEDIUM})),q&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(y.A,{team:q,"data-qa":"token_email_with_team_icon",size:u.Cg,className:"c-member__team_icon"})))}renderTeamToken(K){const{teamId:J,teamName:Y}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(y.A,{id:J,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_team_name"},Y))}renderTeamErrorToken(K){const{teamId:J,teamName:Y}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(y.A,{id:J,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_team_name_error"},Y))}renderChannelSectionToken(K){const{channelSection:J}=this.props;return J?t.createElement("span",{className:(0,n.A)(K,"c-token_content__label")},t.createElement(r.A,{channelSection:J})):null}renderUnknownToken(K){const{label:J}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(A.A,{size:"18",name:"emoji-missing",variation:"filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:(0,n.A)(K,"c-token_content__label"),"data-qa":"token_unknown"},J))}renderUserGroupToken(K){const{userGroupId:J}=this.props;return t.createElement(f.A,{id:J,showDescription:!1,className:(0,n.A)(K,"c-token_content__label")})}render(){const{isDisabled:K,isInvalid:J,isError:Y,memberId:q,isMemberError:H,isTeamError:ne,isUnknown:te,isLoading:le,isSelected:he,size:Ie,hoverText:Ee,tabIndex:me,contentEditable:ce,className:X,onMouseDown:V,enableProfileHoverCard:x,customizeProfileHoverCardProps:S,isRestricted:U}=this.props,F=(0,n.A)("c-token",X,`c-token--${Ie}`,{"c-token--selected":he,"c-token--disabled":K,"c-token--invalid":J,"c-token--restricted":U,"c-token--error":Y||H||ne,"c-token--unknown":te,"c-token--loading":le}),Z=this.renderContent();let z=Z;Ee&&Z?z=t.createElement(T.Ay,{tip:Ee},Z):q&&x&&(z=(0,M.yN)({...S||{},memberId:q,children:Z}));const $=this.props.renderIcon(this.props);return t.createElement("span",{className:F,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:me,contentEditable:ce,onMouseDown:V},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},z),$)}},"Token");R.displayName="Token",R.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:E.hu.MEDIUM,renderIcon:s.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1};const j=c((N,K)=>{const{entityId:J,disableIdParsing:Y}=K;let q;(0,D.A)(J)&&!Y&&(q=J);let H,ne;if(((0,P.Ay)(J)||(0,P.JV)(J))&&!Y){const me=(0,W._J)(N,J);me&&(H=J,ne=(0,l.F1)(me))}let te;(0,I.A)(J)&&!Y&&(te=(0,G.xe)(N,J));let le;(0,L.A)(J)&&!Y&&(le=J);const he=(0,b.OL)(N,J),Ie=(0,b.MS)(N);let Ee;return(0,O.A)(J)&&he&&(Ee=(0,i.i)(Ie,he)),{channel:he,memberId:q,teamName:ne,teamId:H,userGroupId:le,channelSection:te,channelHasNonUniqueName:Ee}},"mapStateToProps"),w=(0,g.nM)((0,k.N)(j,null)(R))},2312625946:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>L,PK:()=>E,Ws:()=>O,YU:()=>_.Y,n1:()=>g});var t=e(3134334389),n=e(862210999),s=e(4332857818),r=e(4505564445),d=e(1293324111),o=e(1641606663),a=e(7331519201),i=e(348699080),m=e(1523057168),l=e(5249175977),_=e(1926356522),v=e(8214116048),u=e(2689960678),h=e(8869734951),f=e(3821598679);function p(){return p=Object.assign||function(G){for(var b=1;b<arguments.length;b++){var W=arguments[b];for(var B in W)Object.prototype.hasOwnProperty.call(W,B)&&(G[B]=W[B])}return G},p.apply(this,arguments)}c(p,"_extends");const E=300,g=60,A=3,y=3;let T=c(class{track(b){this.instance&&b!==this.instance&&this.instance.hide(),this.instance=b}stopTracking(b){b===this.instance&&(this.instance=void 0)}hideActive(){this.instance&&(this.instance.hide(),this.instance=void 0)}},"TooltipManager");const M=new T;function O(){M.hideActive()}c(O,"hideVisibleTooltip");function I(G){const b=c(W=>((W==null?void 0:W.offsetWidth)||0)<((W==null?void 0:W.scrollWidth)||0)||((W==null?void 0:W.offsetHeight)||0)<((W==null?void 0:W.scrollHeight)||0),"retIsTruncated");if(G!=null&&G.querySelector){const W=G.querySelector(".c-truncate");if(W)return b(W)}return b(G)}c(I,"isElementTruncated");function D(G,b){return G.width.toFixed(2)===(b==null?void 0:b.width.toFixed(2))&&G.height.toFixed(2)===(b==null?void 0:b.height.toFixed(2))&&G.left.toFixed(2)===(b==null?void 0:b.left.toFixed(2))&&G.right.toFixed(2)===(b==null?void 0:b.right.toFixed(2))&&G.top.toFixed(2)===(b==null?void 0:b.top.toFixed(2))&&G.bottom.toFixed(2)===(b==null?void 0:b.bottom.toFixed(2))}c(D,"areBoundsEqual");const P=t.forwardRef((G,b)=>{let{children:W,position:B=v.yX.Top,delay:R=150,shouldFade:j=!0,tip:w,tipClassName:N,tipArrowOffset:K,"data-qa":J,status:Y=_.Y.Info,offsetX:q=0,offsetY:H=0,zIndex:ne="menu",shouldForceVisible:te=!1,shouldOnlyShowWhenTruncated:le=!1,onShow:he,onHide:Ie,onClick:Ee,maxWidth:me,hideFromScreenReader:ce=!1,automaticallyPositionTip:X=!0,tipAnchorRef:V,...x}=G;const S=t.Children.only(W),{windowRef:U}=(0,t.useContext)(o.Mn),F=(0,t.useRef)(),Z=(0,t.useRef)(null),z=(0,t.useRef)(),$=(0,t.useRef)(!1),[ee,de]=(0,t.useState)(!1),[ie,ue]=(0,t.useState)(!1),[fe,re]=(0,t.useState)(!1),[_e,Ue]=(0,t.useState)(),ye=(0,t.useContext)(m.A),Te=I(z.current),ge=Te||!le,Ae=te||ee||ie,Re=!!_e&&ge,Be=(0,t.useMemo)(()=>(0,h.P)(Z,b),[b]),ke=(0,t.useCallback)((It,Mt)=>X?{top:It,left:Mt}:void 0,[X]),se=(0,t.useMemo)(()=>`sk-tooltip-${(0,f.A)()}`,[]),ve=(0,t.useCallback)(()=>{re(!0)},[]),[Me,be]=(0,a.i)(ve),xe=(0,t.useMemo)(()=>({id:se,hide:()=>{be(),$.current&&re(!1),Ie==null||Ie()}}),[se,be,Ie]),Le=(0,t.useCallback)(()=>{be(),M.stopTracking(xe)},[xe,be]),Ke=(0,t.useCallback)(()=>{te||ye?re(!0):Me(R),he==null||he({isTruncated:Te}),M.track(xe)},[te,ye,he,Te,xe,Me,R]),He=(0,t.useCallback)(()=>{Le(),fe&&(re(!1),Ie==null||Ie())},[Le,fe,Ie]),Ye=(0,t.useCallback)(It=>{S.props.onKeyDown&&S.props.onKeyDown(It),It.which===r._f&&fe&&ye&&(It.nativeEvent.stopImmediatePropagation(),It.stopPropagation(),re(!1))},[re,fe,ye,S.props]),Xe=(0,t.useCallback)(It=>{S.props.onMouseEnter&&S.props.onMouseEnter(It),de(!0),fe||(F.current=It)},[S.props,fe]),et=(0,t.useCallback)(It=>{S.props.onFocus&&S.props.onFocus(It),ye&&ue(!0)},[S.props,ye]),st=(0,t.useCallback)(It=>{S.props.onMouseLeave&&S.props.onMouseLeave(It),de(!1),F.current=void 0},[S.props]),ot=(0,t.useCallback)(It=>{S.props.onBlur&&S.props.onBlur(It),ue(!1)},[S.props]);(0,t.useEffect)(c(function(){z.current||(z.current=(0,s.findDOMNode)(Z.current))},"syncChildDOMNodeRef")),(0,t.useEffect)(()=>{const It=U.deref(),Mt=c(nn=>{nn.which===r._f&&He()},"hoverEscHide");if(It)return ee?(It.addEventListener("keydown",Mt),()=>{It.removeEventListener("keydown",Mt)}):()=>{It.removeEventListener("keydown",Mt)}},[ee,U,He]),(0,t.useEffect)(()=>($.current=!0,()=>{$.current=!1}),[]),(0,i.A)(c(function(){let Mt=z.current;if(V!=null&&V.current&&(Mt=(0,s.findDOMNode)(V.current)),Ae&&Mt){const nn=_e,Ot=Mt.getClientRects();let bt=Ot[0];if(F.current){const Yt=F.current,hn=Array.from(Ot).find(Qe=>Yt.clientY>=Qe.top&&Yt.clientY<=Qe.bottom&&Yt.clientX>=Qe.left&&Yt.clientX<=Qe.right);hn&&(bt=hn)}if(!bt)return;const Jt=U.deref(),en=Jt?Jt.scrollX||Jt.pageXOffset:0,sn=Jt?Jt.scrollY||Jt.pageYOffset:0,zt={height:bt.height,width:bt.width,left:bt.left+en,right:bt.right+en,top:bt.top+sn,bottom:bt.bottom+sn};D(zt,nn)||Ue(zt)}},"maybeCalculateContentBounds"),[Ae,V]),(0,i.A)(c(function(){Re&&Ae?Ke():He()},"showOrHideTooltip"),[Re,Ae]);const ct=S.props["aria-label"],at=(0,t.useMemo)(()=>ct===w||ce?u.t0:{"aria-describedby":fe?se:void 0},[ct,ce,fe,w,se]),At=(0,t.useMemo)(()=>t.cloneElement(S,{...x,...S.props,...at,onClick:Ee||S.props.onClick,onFocus:et,onBlur:ot,onKeyDown:Ye,onMouseEnter:Xe,onMouseLeave:st,"data-sk":"tooltip_parent"}),[at,S,ot,Ee,et,Ye,Xe,st,x]),Ct=(0,t.useMemo)(()=>{if(K)return K;if(_e)return _e.width/2},[_e,K]),Tt=(0,t.useMemo)(()=>({position:B,arrowOffset:Ct,status:Y,className:N,"data-qa":J,maxWidth:me}),[J,me,B,Y,N,Ct]),Rt=(0,t.useMemo)(()=>fe?t.createElement(l.AM,{isOpen:fe,position:B,targetBounds:_e,overlayClassName:"c-popover c-popover--no-pointer",offsetX:q,offsetY:H,allowanceX:A,allowanceY:y,key:"tooltip-popover",zIndex:ne,shouldFocusAfterRender:!1,shouldFade:j,ariaHideApp:!1,tryOppositePosition:!0,id:se,ariaRole:"tooltip",dataAttributes:{qa:"tooltip-popover"},disableOverlaysContextProvider:!0},It=>{let{position:Mt,top:nn,left:Ot,targetBounds:bt}=It;const Jt=(0,n.A)(w)?w({hasKeyboardFocus:ye}):w;return t.createElement(_.A,p({},Tt,{position:Mt,tipBounds:ke(nn,Ot),targetBounds:bt}),Jt)}):null,[fe,_e,B,q,H,ne,j,w,ye,Tt,ke,se]);return t.createElement(t.Fragment,null,t.createElement(d.V,{ref:Be},At),Rt)});P.displayName="Tooltip";const L=P;Object.defineProperty({isElementTruncated:I,areBoundsEqual:D},"isElementTruncated",{get:()=>I,set:G=>{I=G}})},5184226701:(Q,C,e)=>{"use strict";e.d(C,{BD:()=>t,Cz:()=>r,LH:()=>d,LX:()=>o,T0:()=>n,UC:()=>s});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},n={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},s={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class d{constructor(i){this.ok=i.ok,this.invitee=i.email,this.inviteeType=n.Email,this.accessType=i.inviteType||t.Member,this.error=i.error}}c(d,"InviteResult");function o(a){return a===t.Member||a===t.MultiChannelGuest||a===t.SingleChannelGuest}c(o,"isBaseInviteType")},9536443280:(Q,C,e)=>{"use strict";e.d(C,{D:()=>t});var t;(function(n){n[n.available=0]="available",n[n.processing=1]="processing",n[n.none=2]="none"})(t||(t={}))},8178126019:(Q,C,e)=>{"use strict";e.d(C,{Ao:()=>o.k,FQ:()=>d.q,IU:()=>i,Jg:()=>s.G,RW:()=>n.jB,YB:()=>l,fe:()=>t.T,iV:()=>m,mF:()=>r.I,on:()=>a,qU:()=>n.Sv});var t=e(1614054140),n=e(4349526263),s=e(5216556985),r=e(8485081141),d=e(6515569951),o=e(2164700852);const a={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function i(_){return!!_&&!!_.channel}c(i,"isSharedChannelInvite");function m(_){return!!_&&!i(_)&&!l(_)}c(m,"isDirectMessageInvite");function l(_){return!!_&&!!_.shared_workspace}c(l,"isSharedWorkspaceInvite")},266169032:(Q,C,e)=>{"use strict";e.d(C,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal",workflowBuilderFreemiumTrialOfferModal:"unlimited_workflows_trial_offer_modal"}},7712314707:(Q,C,e)=>{"use strict";e.d(C,{V:()=>s});var t=e(8389327410);const{BROADCAST:n}=t.Lv,s=c(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextBroadcastElement")},475043867:(Q,C,e)=>{"use strict";e.d(C,{P:()=>s});var t=e(8389327410);const{CHANNEL:n}=t.Lv,s=c(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextChannelElement")},1843207890:(Q,C,e)=>{"use strict";e.d(C,{i:()=>s});var t=e(8389327410);const{DATE:n}=t.Lv,s=c(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextDateElement")},6659965705:(Q,C,e)=>{"use strict";e.d(C,{H:()=>s});var t=e(8389327410);const{USER:n}=t.Lv,s=c(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextUserElement")},9413477854:(Q,C,e)=>{"use strict";e.d(C,{G:()=>s});var t=e(8389327410);const{USERGROUP:n}=t.Lv,s=c(r=>{var d;return((d=r)===null||d===void 0?void 0:d.type)===n},"isRichTextUsergroupElement")},1305633231:(Q,C,e)=>{"use strict";e.d(C,{A:()=>V});var t=e(6696292586),n=e(498506970),s=e(1835177371),r=e(8276911661),d=e(9101533895),o=e(8847766420),a=e(3037015781),i=e(9884588328),m=e(6495946979),l=e(9262712126),_=e(1407713935),v=e(5577180258),u=e(4282439381),h=e(6188550180),f=e(8389327410),p=e(8193414630),E=e(2756015265),g=e(972463850),A=e(4695291896),y=e(6345573615),T=e(8525228540);function M(x){if(x<=0)return"";let S="",U=x;for(;U>0;)U-=1,S=String.fromCharCode("a".charCodeAt(0)+U%26)+S,U=Math.floor(U/26);return S}c(M,"convertNumberToLetterIncrement");const O=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"];function I(x){if(x<=0)return"";const S=x.toString().split("");let U="";for(let z=2;z>=0;z--){const $=parseInt(S.pop()||"0",10);U=(O[$+z*10]||"")+U}const F=S.join("")||"0",Z=parseInt(F,10)+1;return Array(Z).join("m")+U}c(I,"convertNumberToRomanNumeral");var D=e(735940183),P=e(3270010894),L=e(8983164438),k=e(6795568989),G=e(3695531806),b=e(8393662842),W=e(937317117),B=e(3574134525);const R=new D.Ay("channel_token"),j=new D.Ay("emoji"),w=c((x,S)=>S.text||"","textToText"),N=c((x,S)=>`@${S.range}`,"broadcastToText"),K=c((x,S)=>S.value||"","colorToText"),J=c((x,S,U)=>{let{linkFormat:F}=U;const{text:Z="",url:z=""}=S;if(!Z&&!z)return"";if(!Z)return z;switch(F){case"default":return Z;case"prefer_url":return z;case"bracket":return`[ ${Z}: ${z} ]`;default:(0,p.Kh)(F)}},"linkToText"),Y=c((x,S)=>{const U=(0,r.nv)(x,S.user_id);return`@${(0,l.Gt)(U)||S.user_id}`},"userToText"),q=c((x,S)=>{const U=(0,s.lJ)(x,S.usergroup_id);if(U===!1)return(0,A.A)({userGroupHandle:"",isUnknown:!0,isNonExistent:!0});const F=(0,a.lv)(U);var Z;return(0,A.A)({userGroupHandle:F?"":(Z=U.handle)!==null&&Z!==void 0?Z:"",isUnknown:(0,a.mX)(U),isNonExistent:(0,a.lv)(U)})},"userGroupToText"),H=c((x,S)=>{const U=(0,d.OL)(x,S.channel_id);var F;const Z=(F=(0,i.SB)(x,U,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}))!==null&&F!==void 0?F:"",z=(0,a.mX)(U),$=(0,a.lv)(U),ee=(0,_.Zp)(U),de=(0,m.b)(U);return $||ee&&!de?`#${R.t("private-channel")}`:(0,y.A)({channelName:Z,isUnknown:z,isNonExistent:$})},"channelToText"),ne=c((x,S,U)=>{let{convertEmoji:F}=U;const Z=(0,h.A)(S,{state:x,localize:!1}),z=(0,T.bR)({state:x,locale:(0,D.Yp)(),name:Z});return F==="phrase"?(0,E.A)(z||"",{state:x})||"":F==="unicode"&&(S!=null&&S.unicode)&&(0,k.d)(S.unicode)?(0,G.z)({codePointLikeString:S.unicode})||"":F==="unicode"&&!(S!=null&&S.unicode)?(0,g.A)(x,{messageText:Z,teamId:(0,o.ZT)(x)}):z??""},"emojiToText"),te=c((x,S)=>{const U=(0,W.Lp)(x,S.file_id);return(0,b.SB)(U)||S.file_id},"fileToText"),le=c((x,S,U)=>{let{convertEmoji:F}=U;const Z=(0,h.A)({...S,type:f.Lv.EMOJI},{state:x,localize:!1}),z=(0,T.bR)({state:x,locale:(0,D.Yp)(),name:Z});if(F==="phrase"){var $;return($=(0,E.U)(z||"",S.size||0,{state:x}))!==null&&$!==void 0?$:""}var ee;const de=(ee=F==="unicode"?(0,g.A)(x,{messageText:Z,teamId:(0,o.ZT)(x)}):z)!==null&&ee!==void 0?ee:"";return(0,u.x)(x)?j.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:de,size:S.size}):`${S.size} ${de} emojis`},"emojiGroupToText"),he=c((x,S)=>!S.timestamp&&S.fallback?S.fallback:(0,P.Yq)(S.timestamp,S.format,{...S.fallback&&{fallbackString:S.fallback}}),"dateToText"),Ie=c((x,S)=>{const U=x.workflowBuilder.workflowEditor.variables.list,F=(0,B.x)(U,S.id);return F?`@${F.label}`:S.id},"workflowTokenToText"),Ee={[f.Lv.TEXT]:w,[f.Lv.USER]:Y,[f.Lv.USERGROUP]:q,[f.Lv.CHANNEL]:H,[f.Lv.BROADCAST]:N,[f.Lv.DATE]:he,[f.Lv.COLOR]:K,[f.Lv.LINK]:J,[f.Lv.EMOJI]:ne,[f.Lv.FILE]:te,[f.Lv.CANVAS]:te,[f.Lv._EMOJI_GROUP]:le,[f.Lv.WORKFLOWTOKEN]:Ie};function me(x){let{indent:S}=x;return!(0,t.A)(S)||S%3===0?"\u2022":S%3===1?"\u25E6":S%3===2?"\u25A0":"\u2022"}c(me,"getUnorderedListCharacter");function ce(x){let{indent:S,incr:U}=x;return!(0,t.A)(S)||S%3===0?U:S%3===1?M(U):S%3===2?I(U):U}c(ce,"getOrderedListCharacter");function X(x,S){return(0,u.x)(x)?(0,v.A)((0,n.A)(S)):S}c(X,"maybeGroupEmojies");function V(x,S){let{convertEmoji:U="text",linkFormat:F="default"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S||!S.length)return"";const Z=c(ee=>{if(!ee||!ee.elements)return"";const de=[];return ee.elements.forEach(ie=>{if(!ie||!ie.type)return;const ue=Ee[ie.type];var fe;const re=(fe=ue==null?void 0:ue(x,ie,{convertEmoji:U,linkFormat:F}))!==null&&fe!==void 0?fe:"";de.push(re)}),de.join("")},"convertSection"),z=[];return X(x,S[0].elements).forEach(ee=>{if(!(!ee||!ee.type))if((0,L.C)(ee)){const de=ee.offset||0,ie=ee.indent||0;let ue=1+de;ee.elements.forEach(fe=>{const re=Z(fe);if(ee.style==="ordered"){const _e=ce({indent:ie,incr:ue});z.push(`${_e}. ${re}.`),ue+=1}else{const _e=me({indent:ie});z.push(`${_e} ${re}.`)}})}else z.push(Z(ee))}),z.join(`
`)}c(V,"convertRichTextToPlainText")},6188550180:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(8389327410),n=e(8525228540),s=e(735940183),r=e(3829348308),d=e(6795568989);function o(a,i){let{state:m,localize:l}=i;if(!a||a.type!==t.Lv.EMOJI)return"";const _=a.skinTone||a.skin_tone,v=a.unicode;let u;return!v&&_?u=`:${a.name}::skin-tone-${_}:`:!_&&!v?u=`:${a.name}:`:v&&(0,d.d)(v)&&(u=`:${(0,r.qJ)(m,v)}:`),l?(0,n.bR)({state:m,locale:(0,s.Yp)(),name:u})||"":u}c(o,"getEmojiElementAsText")},9802930866:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(7715417323),n=e(8389327410);function s(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return r?r.reduce((a,i)=>{if(i.type===n.Lv.LIST){const l=(i.elements||[]).map(_=>_.elements.reduce((v,u)=>o(v,u),d));return a.concat(l)}const m=(i.elements||[]).reduce((l,_)=>o(l,_),d);return a.concat([m])},[]):[]}c(s,"richTextChunkReduce")},411655882:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(362134992),n=e(9671714094),s=e(8933111773);function r(){return(0,t.A)(Object.entries(n.N).filter(d=>{let[o,a]=d;return a.is_enabled_by_default}).map(d=>{let[o,a]=d;return(0,s.A)(o)}))}c(r,"getAllBroadcastKeywords")},2229186:(Q,C,e)=>{"use strict";e.d(C,{A:()=>f});var t=e(362134992),n=e(9101533895),s=e(6113051341),r=e(1407713935),d=e(2350349607),o=e(9884588328),a=e(641827819),i=e(324756633),m=e(8933111773),l=e(2233365467),_=e(1190344069),v=e(9548888903),u=e(9280052135),h=e(3339229351);function f(p,E){const g=(0,n.OL)(p,E),A=(0,u.l)(p);if(!g)return[];const y=[];if((0,a.W)(p,E)&&y.push((0,m.A)("BKeveryone")),((0,d.V)(g)||(0,r.yz)(g))&&(!(0,s.N)(g)||(0,a.W)(p,E))&&(0,i.S)(p,E)&&(y.push((0,m.A)("BKchannel")),y.push((0,m.A)("BKhere"))),(0,_.hm)(p)&&(0,r.U_)(g))switch((0,l.dM)(g)){case v.hM.Account:y.push((0,m.A)("BKsf:accountteam",(0,o.SB)(p,g),!0));break;case v.hM.Opportunity:y.push((0,m.A)("BKsf:dealteam",(0,o.SB)(p,g),!0));break;default:break}if(A){const T=(0,n.Pu)(p,h.Q$);(g==null?void 0:g.id)===(T==null?void 0:T.id)&&y.push((0,m.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(y)}c(f,"getBroadcastKeywordsForUser")},3342113153:(Q,C,e)=>{"use strict";e.d(C,{Kx:()=>u,Zo:()=>f,_E:()=>p,cv:()=>h,gi:()=>m,zU:()=>l});var t=e(735940183),n=e(9101533895),s=e(1835177371),r=e(8276911661),d=e(4761125736),o=e(5605150493);const a=new t.Ay("channel_modal"),i=new t.Ay("ui_validation"),m={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1,hasUnknownWarning:!1,hasRestriction:!1};function l(){return 80}c(l,"getMaxLength");const _=/[ .,;'`~!@#$%^&*+=)(\\/:"<>?|\u2018\u2019{}[\]]/;function v(E){return E?_.test(E.trim()):!1}c(v,"hasSpecialCharacters");function u(E){return E?E.replace(new RegExp(_,"g"),""):""}c(u,"replaceSpecialCharacters");function h(E){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:80,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const M=!g.trim(),O=(0,o.A)(g)>y,I=v(g),D=/^[-|_]+$/.test(g),P=/[A-Z]/.test(g);let L=!1;return g!==A&&E&&!T&&(L=!!((0,n.Os)(E,g)||(0,r.MV)(E,g)||(0,s.xw)(E,g))),{hasNameRequiredWarning:M,hasMaxLengthWarning:O,hasSpecialsWarning:I,hasPunctuationWarning:D,hasLowercaseWarning:P,hasNameTakenWarning:L}}c(h,"channelNameValidation");function f(E){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxChannelNameLength:A,workspaceName:y,experimentFriendlyChannelNamesGroupOn:T}=g;if(E){if(E.hasNameRequiredWarning)return a.t("Give your channel a name to continue. You can always change the name later.");if(E.hasMaxLengthWarning)return i.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:A});if(E.hasSpecialsWarning)return T?a.t("Channel names can\u2019t contain the punctuation you included."):a.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(E.hasPunctuationWarning)return a.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(E.hasNameTakenWarning)return y?i.t("That name is already taken by a channel, username, or user group in {workspaceName}.",{workspaceName:y}):a.t("That name is already taken by a channel, username, or user group in this workspace.");if(E.hasRestriction)return a.t("Your organization\u2019s settings have changed and may limit who can create channels. Contact an Admin or channel Owner to add people.");if(E.hasUnknownWarning)return a.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}c(f,"getErrorStringFromChannelNameErrors");const p=c(E=>(0,d._Z)(E,"friendly_channel_names")==="on","isFriendlyChannelNamesEnabled")},755982243:(Q,C,e)=>{"use strict";e.d(C,{w:()=>s});var t=e(3193155968);function n(r){var d;return(d=r.ownerDocument)===null||d===void 0?void 0:d.defaultView}c(n,"getWindowForElement");function s(r){return!t.TQ.includes(r)}c(s,"shouldViewNavigateInContext")},1236965385:(Q,C,e)=>{"use strict";e.d(C,{$A:()=>o,ce:()=>d,hO:()=>s});var t=e(3134334389),n=e(6244014364);const s=c(a=>({action:n.UiAction.IMPRESSION,uiPage:window.location.href,...a}),"getAuthImpressionTrackParams"),r=c(a=>({action:n.UiAction.CLICK,uiPage:window.location.href,...a}),"getAuthClickTrackParams"),d=c(a=>({uiPage:window.location.href,...a}),"getAuthTrackParams");function o(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const i=(0,t.useRef)(null),m=(0,t.useCallback)(v=>u=>{if(i.current={track:u},a){var h;i==null||(h=i.current)===null||h===void 0||h.track(s(v))}},[i,a]),l=(0,t.useCallback)(v=>()=>{var u;i==null||(u=i.current)===null||u===void 0||u.track(r(v))},[i]),_=(0,t.useCallback)(v=>()=>{var u;i==null||(u=i.current)===null||u===void 0||u.track(d(v))},[i]);return{trackClog:i,trackClogAuthRef:m,clogAuthLoginClick:l,clogAuthLoginAction:_}}c(o,"useAuthClogger")},6089229811:(Q,C,e)=>{"use strict";e.d(C,{LC:()=>n,av:()=>s,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},n={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},s=20},3246555800:(Q,C,e)=>{"use strict";e.d(C,{FL:()=>a,HC:()=>h,Je:()=>v,KV:()=>f,L$:()=>m,P7:()=>_,RL:()=>l,Y3:()=>d,b6:()=>i,jM:()=>p,zb:()=>o});var t=e(6089229811),n=e(8086952004);function s(E,g,A,y){if(A&&y){var T,M;return E==null||(T=E[g])===null||T===void 0||(M=T.regional_overrides)===null||M===void 0?void 0:M[A]}return E==null?void 0:E[g]}c(s,"getTaxConfig");function r(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(E,g,A,y);var M;return(M=T==null?void 0:T.tax_id_form_variant)!==null&&M!==void 0?M:t.ev.NONE}c(r,"getTaxUiFormType");function d(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return r(E,g,A,y)===t.ev.EXTENSIVE}c(d,"shouldShowMultipartTaxUI");function o(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=r(E,g,A,y);return T===t.ev.EXTENSIVE||T===t.ev.OPTIONAL_ID_ONLY||T===t.ev.OPTIONAL_AND_REGIONAL_IDS}c(o,"shouldShowTaxIdInputField");function a(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return r(E,g,A,y)===t.ev.OPTIONAL_AND_REGIONAL_IDS}c(a,"shouldCollectRegionalTaxId");function i(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=r(E,g,A,y);return T===t.ev.OPTIONAL_ID_ONLY||T===t.ev.OPTIONAL_AND_REGIONAL_IDS}c(i,"isTaxIdOptional");function m(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(E,g,A,y);var M;return(M=T==null?void 0:T.stripe_tax_id_type)!==null&&M!==void 0?M:null}c(m,"getTaxIdType");function l(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(E,g,A,y);return T==null?void 0:T.tax_name}c(l,"getTaxName");function _(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(E,g,A,y);var M;const O=(M=T==null?void 0:T.tax_id_max_length)!==null&&M!==void 0?M:0;return Number.isInteger(O)&&O>0?O:t.av}c(_,"getTaxIdMaxLength");function v(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(E,g,A,y);var M;const O=(M=T==null?void 0:T.tax_id_examples)!==null&&M!==void 0?M:[];var I;return(I=O[0])!==null&&I!==void 0?I:""}c(v,"getTaxIdExample");function u(E,g,A,y){var T;const M=s(E,g,A,y),O=M==null||(T=M.tax_id_validation_regex)===null||T===void 0?void 0:T.replace(/\//g,"");return O?new RegExp(O,"i"):null}c(u,"getTaxIdValidator");function h(E,g,A,y){let T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const M=u(E,g,A,T);return!M||!y&&i(E,g,A,T)?!0:y&&M?M.test(y):!1}c(h,"isTaxIdValid");function f(E,g,A){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=s(E,g,A,y);return!!(T!=null&&T.should_ask_is_vat_registered)}c(f,"shouldAskIsVatRegistered");function p(E,g){return(0,n.A)(E,A=>A.iso_code===g)}c(p,"getCountryByCode")},9293534148:(Q,C,e)=>{"use strict";e.d(C,{AH:()=>y,Fz:()=>L,HJ:()=>P,WR:()=>A,ef:()=>E,jA:()=>v,rO:()=>D,sJ:()=>g,zB:()=>_});var t=e(3783303734),n=e(796111729),s=e(5613323535),r=e(4327331459);const d=200,o=(0,n.Wo)();let a=[];const i=c(k=>{(0,t.A)(a)>d&&(o.error("composer-tracing-utils: sentTimestamps exceeded maximum array size"),a=[]),a.push(k)},"addSentTimestamps"),m=c(k=>{a=a.filter(G=>G!==k)},"removeSentTimestamps"),l=c(k=>a.indexOf(k)>-1,"hasSentTimestamps"),_=c((k,G)=>{l(k)||(i(k),s.LI.start({label:s.gC.MessageSendRendering,id:k,options:{traceName:s.gC.MessageSendRendering,teamId:G}}))},"maybeStartMessageRenderSlugAutoTrace"),v=c(k=>{l(k)&&(m(k),s.LI.stop({label:s.gC.MessageSendRendering,id:k}))},"maybeStopMessageRenderSlugAutoTrace");let u=[];const h=c(k=>{(0,t.A)(u)>d&&(o.error("composer-tracing-utils: slugIds exceeded maximum array size"),a=[]),u.push(k)},"addSlugId"),f=c(k=>{u=u.filter(G=>G!==k)},"removeSlugId"),p=c(k=>u.indexOf(k)>-1,"hasSlugId"),E=c(k=>{p(k)||(h(k),s.LI.start({label:s.gC.ComposerEmojiRendering,id:k,options:{traceName:s.gC.ComposerEmojiRendering}}))},"maybeStartEmojiSlugAutoTrace"),g=c(k=>{p(k)&&(f(k),s.LI.stop({label:s.gC.ComposerEmojiRendering,id:k}))},"maybeStopEmojiSlugAutoTrace"),A=c(k=>{if(!p(k)){h(k);const G=(0,r.A)(k)?s.gC.ComposerMentionRendering:s.gC.ComposerChannelRendering;s.LI.start({label:G,id:k,options:{traceName:G}})}},"maybeStartMentionSlugAutoTrace"),y=c(k=>{if(p(k)){f(k);const G=(0,r.A)(k)?s.gC.ComposerMentionRendering:s.gC.ComposerChannelRendering;s.LI.stop({label:G,id:k})}},"maybeStopMentionSlugAutoTrace");let T=[];const M=c(k=>{(0,t.A)(T)>d&&(o.error("composer-tracing-utils: matchIds exceeded maximum array size"),T=[]),T.push(k)},"addMatchId"),O=c(k=>{T=T.filter(G=>G!==k)},"removeMatchId"),I=c(k=>T.indexOf(k)>-1,"hasMatchId"),D=c((k,G,b)=>{I(k)||(M(k),s.LI.start({label:s.gC.ComposerAutocompleteRender,id:k,options:{traceName:s.gC.ComposerAutocompleteRender,tags:{type:G},teamId:b}}))},"maybeStartAutocompleteMatchRenderTrace"),P=c(k=>{I(k)&&(O(k),s.LI.stop({label:s.gC.ComposerAutocompleteRender,id:k}))},"maybeStopAutocompleteMatchRenderTrace"),L=c(k=>{I(k)&&(O(k),s.LI.remove({label:s.gC.ComposerAutocompleteRender,id:k}))},"maybeCancelAutocompleteMatchRenderTrace")},3044566667:(Q,C,e)=>{"use strict";e.d(C,{gy:()=>n,tN:()=>s,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},n="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",s={EMAIL:new RegExp(`^${n}$`,"i"),CONTAINS_EMAIL:new RegExp(`${n}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},2756015265:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,U:()=>i});var t=e(735940183),n=e(5799716058),s=e(8525228540),r=e(9907843289),d=e(4282439381);const o=new t.Ay("emoji");function a(l,_){const v=(0,t.Yp)();return(0,s.WX)({state:l,locale:v,text:_})}c(a,"getLocalizedEmojiName");function i(l,_,v){let{state:u}=v;const h=a(u,l),f=(0,d.x)(u),p=h&&(0,n.Y)(h,_,f);return h?(0,r.DU)()?p:` ${p} `:f?o.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:l,size:_}):`${_} ${l} emojis`}c(i,"convertEmojiGroupNameToPhrase");function m(l,_){let{state:v}=_;const u=a(v,l),h=u&&(0,n.A)(u);return u?(0,r.DU)()?h:` ${h} `:l}c(m,"convertEmojiNameToPhrase")},3982736577:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(3078252698),n=e(3740968700),s=e(362134992);const d=c(o=>{if(!(0,t.A)(o))return null;const a=[...o].map(i=>{const m=i.codePointAt(0);if(!m)return null;const l=m.toString("16");return(0,n.A)(l,4,"0")});return(0,s.A)(a).join("-")},"convertNativeEmojiToUnicodeSequence")},6818330210:(Q,C,e)=>{"use strict";e.d(C,{H:()=>s});var t=e(9113979368),n=e(9936232041);function s(r,d){if(!d||(0,t.A)(d))return{name:r};const o=(0,n.A)(r);if(!o)return{name:r};const{name:a,skinTone:i}=o,m=d[a];if(!m||(0,t.A)(m))return{name:r};const l=m.display_alias,_=l??a,v=i?`:${_}::skin-tone-${i}:`:`:${_}:`,u=m.display_url;return{name:v,url:u}}c(s,"getEmojiDisplayInfoFromMap")},2354051480:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3339229351);let n;const s=c(()=>{if(n)return n;const r=Object.keys(t.dq).map(d=>d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return n=new RegExp(`(^|\\s)(${r.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),n},"__WEBPACK_DEFAULT_EXPORT__")},7854655276:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3078252698),n=e(735940183);const s=new n.Ay("emoji");function r(d){const o=(0,t.A)(d)?d:d.toString(),a={1:()=>s.t("No skin tone"),2:()=>s.t("light skin tone"),3:()=>s.t("medium-light skin tone"),4:()=>s.t("medium skin tone"),5:()=>s.t("medium-dark skin tone"),6:()=>s.t("dark skin tone")},i={"2-3":()=>s.t("left light skin tone and right medium-light skin tone"),"2-4":()=>s.t("left light skin tone and right medium skin tone"),"2-5":()=>s.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>s.t("left light skin tone and right dark skin tone"),"3-2":()=>s.t("left medium-light skin tone and right light skin tone"),"3-4":()=>s.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>s.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>s.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>s.t("left medium skin tone and right light skin tone"),"4-3":()=>s.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>s.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>s.t("left medium skin tone and right dark skin tone"),"5-2":()=>s.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>s.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>s.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>s.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>s.t("left dark skin tone and right light skin tone"),"6-3":()=>s.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>s.t("left dark skin tone and right medium skin tone"),"6-5":()=>s.t("left dark skin tone and right medium-dark skin tone")},m=i[o]?i[o]():null;return m||a[o]&&a[o]()}c(r,"__WEBPACK_DEFAULT_EXPORT__")},1301184890:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6533394955),n=e(3829348308);function s(r,d){const o=d&&(0,t.getStateByTeamId)(d);return o&&(0,n.ux)(o,{text:r,teamId:d})?o&&(0,n.pA)(o,{text:r,teamId:d}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${r}`)}c(s,"isEmojiMultiSkinToneCapable")},5799716058:(Q,C,e)=>{"use strict";e.d(C,{A:()=>a,Y:()=>o});var t=e(735940183),n=e(9936232041),s=e(7854655276);const r=/_|-/g,d=new t.Ay("emoji"),o=c(function(i,m){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!i||!m)return null;const{name:_,skinTone:v}=(0,n.A)(i)||{};if(!_)return l?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:i,size:m}):`${m} ${i} emojis`;const u=_.replace(r," "),h=l?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:u,size:m}):`${m} ${u} emojis`;if(!v)return h;const f=(0,s.A)(v);return f===""?h:l?d.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:u,size:m,skinToneDescription:f}):`${m} ${u} emojis with ${f}`},"makePhraseForEmojiGroup");function a(i){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!i)return i;const{name:l,skinTone:_}=(0,n.A)(i)||{};if(!l)return i;const v=l.replace(r," "),u=d.t("{emojiPhrase} emoji",{emojiPhrase:v});if(!_)return u===""?v:u;const h=(0,s.A)(_);return h===""?u===""?v:u:m?d.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:v,skinToneDescription:h}):d.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:v,skinToneDescription:h})}c(a,"__WEBPACK_DEFAULT_EXPORT__")},3259512346:(Q,C,e)=>{"use strict";e.d(C,{s:()=>s});var t=e(6089972488),n=e(571104883);function s(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.process&&window.process.versions&&window.process.versions.electron,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.navigator.userAgent;if(!(0,n.y3)(o)||!d)return!1;const a=(0,t.P)(r),i=(0,t.P)(d);return(0,t.Z)(i,a)>=0}c(s,"isElectronAndAtLeastVersion")},665229739:(Q,C,e)=>{"use strict";e.d(C,{U:()=>s});var t=e(4761125736);const n="files_explorer_prototype";function s(r){return(0,t._Z)(r,n)==="on"}c(s,"isFilesExplorerPrototypeEnabled")},6212362990:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n,h:()=>s});const t=/^p?(\d{10})\.?(\d{6})$/;function n(r){return!r||!t.test(r)?null:r.replace(t,"$1.$2")}c(n,"formatMessageTimestamp");function s(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();if(!r)return null;const d=String((+r/1e3).toFixed(6));return n(d)}c(s,"getFormattedMessageTimestamp")},1033764764:(Q,C,e)=>{"use strict";e.d(C,{UK:()=>i,Z$:()=>r,hZ:()=>o});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],s=c(function(l,_,v){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(l===0)return 0;if(_===v)return parseFloat(l.toFixed(u));const f=h?1024:1e3,p=h?t:n,E=p.findIndex(A=>A.toLowerCase()===_.toLowerCase()),g=p.findIndex(A=>A.toLowerCase()===v.toLowerCase());if(E===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);if(g===-1)throw new Error(`Unknown desiredType '${v}' passed to convertToSize`);return E<g?parseFloat((l/f**(g-E)).toFixed(u)):parseFloat((l*f**(E-g)).toFixed(u))},"convertToSize"),r=c(function(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(l===0)return{size:0,type:"B"};const h=u?1024:1e3,f=u?t:n;let p=Math.log(l)/Math.log(h);p<1&&(p=-Math.floor(Math.log(Math.abs(p))/Math.log(10)+1));const E=f.findIndex(A=>A.toLowerCase()===_.toLowerCase()),g=Math.max(Math.min(E+Math.floor(p),f.length-1),0);if(E===-1)throw new Error(`Unknown currentType '${_}' passed to convertToSize`);return{size:s(l,_,f[g],v,u),type:f[g]}},"convertToOptimumSize"),d=c(function(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(l,"B","KB",_,!1)},"convertBytesToKilobytes"),o=c(function(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(l,"B","MB",_,!1)},"convertBytesToMegabytes"),a=c(function(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(l,"B","GB",_,!1)},"convertBytesToGigabytes"),i=c(function(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(l,"KB","MB",_,!1)},"convertKilobytesToMegabytes"),m=c(function(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return s(l,"KB","GB",_,!1)},"convertKilobytesToGigabytes")},6333950786:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(6249041335),n=e(5342516244),s=e(1842363787),r=e(8847766420),d=e(6533394955),o=e(2047021170),a=e(6866036454),i=e(1317368584),m=e(3829348308),l=e(735940183),_=e(9846149684),v=e(8207536819),u=e(4862221402),h=e(8040098042),f=e(2414816894),p=e(1707481146),E=e(6106767915);function g(R,j,w){const N=[];return{text:R.replace(_.Y,(J,Y,q)=>{let H;if((0,f.A)(Y)?H=`<!${(0,E.A)(Y)}>`:(0,p.A)(Y)?H=j?(0,v.A)(q):q:(0,u.A)(Y)?H=`<!subteam^${Y}|${q}>`:(0,h.A)(Y)?H=w?`<#${Y}|${q.substr(1)}>`:void 0:H=`<@${Y}>`,!H)return J;const te=`mention-${N.length+1}-${Date.now()}`;return N.push({mention:H,placeholder:te}),te}),mentions:N}}c(g,"replaceFormatMentions");const A=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function y(R){const j=[];let w=0;return{text:R.replace(A,K=>{w+=1;const J=`quoted-text-placeholder-${Date.now()}-${w}`;return j.push({match:K,placeholder:J}),J}),quotedSections:j}}c(y,"replaceQuotedText");var T=e(2354051480),M=e(3339229351);const O=/[-[\]{}()*+?.,\\^$|#\s]/g,I=/\n?(6\)|7\))/,D=c(R=>{let j=0;const w=[];let N=R.replace((0,T.A)(),(K,J,Y,q)=>{const H=j;j=q+K.length;const ne=Y.indexOf("(")!==-1,te=Y.indexOf(")")!==-1;if((ne||te)&&w.indexOf(Y)===-1&&w.push(Y),te&&!ne){const le=R.substring(H,q);if(le.indexOf("(")!==-1&&le.indexOf(")")===-1)return K}if(K===`
8)`){const le=R.substring(0,q);if(I.test(le))return K}return M.dq[Y]?`${J}:${M.dq[Y]}:`:K});if(w.length){const K=w.map(Y=>Y.replace(O,"\\$&")),J=new RegExp(`(\\(.+)(${K.join("|")})(.+\\))`,"g");N=N.replace(J,(Y,q,H,ne)=>M.dq[H]?`${q}:${M.dq[H]}:${ne}`:Y)}return N},"replace_emoticons_with_colons");var P=e(8525228540),L=e(9421999304),k=e(4797500022),G=e(9599231336);const b=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,W=/(^|\S)( +)(\n|$)/gm;function B(R,j){let{isInternalMessage:w}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!R||!j)return"";const N=!w,K=(0,i.A)(R),J=(0,o.ty)(R,"convert_emoticons"),Y=(0,a.A)(R),q=(0,G.P)(R),H=!0;let ne=j,te=[];ne=(0,n.A)(ne),ne=(0,s.kW)(te,ne,{replace_pre:!0,replace_code:!0});const le=g(ne,N,H);if(ne=le.text,ne=ne.replace(W,"$1$3"),J&&!q){const Ie=y(ne);ne=Ie.text,ne=D(ne),Ie.quotedSections.forEach(Ee=>{ne=ne.replace(Ee.placeholder,()=>Ee.match)})}if(N&&(ne=(0,s.wx)(ne,"CLEAN",{jumbomoji:K,allow_intra_word_formatting:!0})),le.mentions.forEach(Ie=>{ne=ne.replace(Ie.placeholder,()=>Ie.mention)}),!l.EZ){const Ie=(0,r.ZT)(R);ne=(0,d.dispatchForTeamId)(Ie,(0,P.Z_)({text:ne,locale:(0,L.JK)()}))}const he=(0,m.CK)(R);return te=te.map(Ie=>{const Ee={...Ie},me=(0,_.A)(Ee.str,{highlightWords:Y,shouldRenderEmojiAsText:q,emojiNames:he,locale:(0,l.Yp)(),useChannelTagging:H});return Ee.str=(0,k.A)(me),N&&(Ee.str=(0,s.wx)(Ee.str,"CLEAN",{jumbomoji:K,allow_intra_word_formatting:!0})),Ee}),ne=(0,s.Ki)(te,ne),(0,t.A)(ne)}c(B,"clean_message_text_with_state")},6380257921:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8933111773),n=e(770649013);function s(r){let{type:d,tsfMode:o="NORMAL"}=r;if(!d)return null;let a;return d==="group"?a="group":a=(0,n.A)((0,t.A)(`BK${d}`)),o==="EDIT"?`<@BK${d}|@${a}>`:`@${a}`}c(s,"formatBroadcastCommand")},972463850:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(3297051565),n=e.n(t),s=e(647040695),r=e(3829348308);const d=c(function(a){let{messageText:i,teamId:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i||!m)return"";const l=(0,s.A)();return i.replace(l,_=>{const v=(0,r.Zc)(a,{text:_,teamId:m});return v||_})},"replaceTextEmojiWithNative"),o=d;d.propTypes={messageText:n().string,teamId:n().string}},5342516244:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});const t=c(n=>n?n.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},3802883493:(Q,C,e)=>{"use strict";e.d(C,{TU:()=>s});const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=10;function s(l,_){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;if(l!==null&&m(l,v,u),_!==null&&m(_,v,u),l!==null&&_!==null&&l>=_)throw new Error(`${l} >= ${_}`);if(l===null){if(_===null){const T=5*10**(u-1);return a(T,u)}const y=o(_,u);return y.toString()<_&&_.slice(u+1)!==""?a(y,u):a(y-1,u)}if(_===null){const y=o(l,u);return a(y+1,u)}const h=o(l,u),f=o(_,u),p=l.slice(u+1),E=_.slice(u+1);if(h===f){const y=d(p,E,v);return`${a(h,u)}.${y}`}const g=h+1;if(g<f)return a(g,u);const A=d(p,null,v);return`${a(h,u)}.${A}`}c(s,"generateKeyBetween");function r(l,_,v){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:n;if(v===0)return[];if(v===1)return[s(l,_,u,h)];if(_===null){let E=s(l,_,u,h);const g=[E];for(let A=0;A<v-1;A++)E=s(E,_,u,h),g.push(E);return g}if(l===null){let E=s(l,_,u,h);const g=[E];for(let A=0;A<v-1;A++)E=s(l,E,u,h),g.push(E);return g.reverse(),g}const f=Math.floor(v/2),p=s(l,_,u,h);return[...r(l,p,f,u,h),p,...r(p,_,v-f-1,u,h)]}c(r,"generateNKeysBetween");function d(l,_,v){const u=v[0];if(_!==null&&l>=_)throw new Error(`${l} >= ${_}`);if(l.slice(-1)===u||_&&_.slice(-1)===u)throw new Error("trailing zero");if(_){let p=0;for(;(l[p]||u)===_[p];)p+=1;if(p>0)return _.slice(0,p)+d(l.slice(p),_.slice(p),v)}const h=l?v.indexOf(l[0]):0,f=_!==null?v.indexOf(_[0]):v.length;if(f-h>1){const p=Math.round(.5*(h+f));return v[p]}return _&&_.length>1?_.slice(0,1):v[h]+d(l.slice(1),null,v)}c(d,"midpoint");function o(l,_){const v=l.slice(0,_);return Number(v)}c(o,"getIntegerPart");function a(l,_){if(l>=10**_)throw new Error(`Integer overflow at ${l} for fixed length ${_}`);if(l<0)throw new Error(`Integer underflow at ${l} for fixed length ${_}`);return l.toString().padStart(_,"0")}c(a,"formatInteger");function i(l,_){const v=l.length;if(v<_)throw new Error("Invalid integer portion, length too short");if(v===_){const u=l.indexOf(".");if(u>=0)throw new Error(`Unexpected . at position ${u} in string of exact length ${_}`);const h=Number(l);if(isNaN(h))throw new Error(`Invalid integer portion - not a valid integer ${l}`)}else if(l[_]!==".")throw new Error(`Expected . after int_fixed length ${_} and got ${l[_]}`)}c(i,"validateIntegerLength");function m(l,_,v){if(i(l,v),v!==l.length&&l.slice(v).endsWith(_[0]))throw new Error(`Fractional portion must not end with ${_[0]}`)}c(m,"validateOrderKey")},3256698098:(Q,C,e)=>{"use strict";e.d(C,{_i:()=>r});function t(o,a,i,m){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=[m.x-a.x,m.y-a.y],v=[i.x-a.x,i.y-a.y],u=[o.x-a.x,o.y-a.y],h=_[0]*_[0]+_[1]*_[1],f=_[0]*v[0]+_[1]*v[1],p=_[0]*u[0]+_[1]*u[1],E=v[0]*v[0]+v[1]*v[1],g=v[0]*u[0]+v[1]*u[1],A=1/(h*E-f*f),y=(E*p-f*g)*A,T=(h*g-f*p)*A;return y>=-l&&T>=-l&&y+T<1+l}c(t,"isPointInTriangle");function n(o,a,i){const m=(i.x-a.x)**2+(i.y-a.y)**2,l=((o.x-a.x)*(i.x-a.x)+(o.y-a.y)*(i.y-a.y))/m;return l<0?(o.x-a.x)**2+(o.y-a.y)**2:l<=1?(a.x-o.x)**2+(a.y-o.y)**2-l**2*m:(o.x-i.x)**2+(o.y-i.y)**2}c(n,"distanceSquarePointToSegment");function s(o,a,i,m){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const _=Math.min(a.x,Math.min(i.x,m.x))-l,v=Math.max(a.x,Math.max(i.x,m.x))+l,u=Math.min(a.y,Math.min(i.y,m.y))-l,h=Math.max(a.y,Math.max(i.y,m.y))+l;return o.x>_&&o.x<v&&o.y>u&&o.y<h}c(s,"pointInTriangleBoundingBox");function r(o,a,i,m){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!s(o,a,i,m,l))return!1;const _=l**2;return t(o,a,i,m,0)||n(o,a,i)<=_||n(o,i,m)<=_||n(o,m,a)<=_}c(r,"accurateIsPointInTriangle");var d={accurateIsPointInTriangle:r,isPointInTriangle:t}},2595238443:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(1516013259),n=e(2774532222);const s=c(r=>(0,t.A)(r,(d,o)=>(0,n.A)(o,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},1596328926:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(1516013259),n=e(2774532222);function s(r){return(0,t.A)(r,(d,o)=>(0,n.A)(o,"data-"))}c(s,"getDataProps")},8556787853:(Q,C,e)=>{"use strict";e.d(C,{Ac:()=>u,Ay:()=>_,lF:()=>v});var t=e(9706240641),n=e.n(t),s=e(7174777686),r=e(2047021170),d=e(2364576462),o=e(3339229351),a=e(6839188756),i=e(3677514771),m=e(9397223697);const l=c((h,f,p)=>{const E=p?h*2:h,g=p?f*2:f,y=E>o.QI||g>o.Jo?Math.min(o.QI/E,o.Jo/g):1,T=Math.floor(E*y),M=Math.floor(g*y);return{width:T,height:M}},"getConstrainedMediaDimensions");function _(h){let{url:f,width:p,height:E,rotate:g,renderSvg:A,stopAnimations:y,sizeForRetina:T,convertIco:M,isEmoji:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!f)return null;const I=(0,a.Uz)((0,i.H7)(h));if(!I||f.indexOf(I)===0||f.indexOf("/img/")===0)return f;if(f.indexOf("https://")===0&&!O){const b=(0,d.yz)(f,!0),W=(0,m.QL)();if((0,s.A)(W,b)){if(y&&b==="slack-imgs.com"){const B=new URL(f),R=B.searchParams.has("o1")?`${B.searchParams.get("o1")}.gu`:"gu";return B.searchParams.set("o1",R),B.href}return f}}const D=new URL(I);D.searchParams.set("c",o.lW);const{width:P,height:L}=p&&E?l(p,E,T):{},k=[];return P&&L&&(k.push(`wi${P}`),k.push(`he${L}`),k.push("si")),g&&k.push("ro"),A&&k.push("sv2"),(y||!(0,r.ty)(h,"a11y_animations"))&&k.push("gu"),M&&k.push("ip"),k.length&&D.searchParams.set("o1",k.join(".")),D.searchParams.set("url",f),D.href}c(_,"getImgProxyUrl");const v=function(){var h=(0,t.coroutine)(function*(f){const p=new URL(f);try{return!!(yield fetch(`https://${p.hostname}/?url=${p.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(E){if(E)return!1}return!1});return c(function(p){return h.apply(this,arguments)},"isImageAnimated")}(),u=c(h=>h.replace(".gu",""),"getAnimatedImgUrl")},8257102208:(Q,C,e)=>{"use strict";e.d(C,{$q:()=>a,W4:()=>l});var t=e(8234448831),n=e(937317117),s=e(8393662842),r=e(497761763),d=e(7102510068),o=e(5244168417);function a(_,v){if(!v)return null;const u=(0,t.Ay)(v);return m(_,u)}c(a,"getListIdFromUrl");function i(_){for(const v of d.h)if(v.urlType===o.CollabUrlType.SLACK_LIST){const u=v.regExp,h=_.match(u);if(!h||h.length<1)continue;return h}return null}c(i,"matchListCollabUrlRegex");function m(_,v){const u=v.href,h=i(u);if(!h)return null;const f=h[6];if(!f||!(0,r.A)(f))return null;const p=(0,n.Lp)(_,f);return(0,s.l7)(p)?f:null}c(m,"getListIdFromParsedUrl");function l(_,v){const u=m(_,v);if(!u)return null;const h=(0,n.Lp)(_,u);return h&&((0,s.sR)(h)||(0,s.Bp)(h))?u:null}c(l,"getListFileIdWithoutAccessFromParsedUrl")},6415587347:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>nt});var t=e(4063699741),n=e.n(t),s=e(7129884748),r=e.n(s),d=e(4840951141),o=e.n(d),a=e(9241168512),i=e.n(a),m=e(9602720019),l=e.n(m),_=e(9777215928),v=e.n(_),u=e(9833689275),h=e.n(u),f=e(2981982679),p=e.n(f),E=e(9267813754),g=e.n(E),A=e(3963460214),y=e.n(A),T=e(9948433110),M=e.n(T),O=e(2295488157),I=e.n(O),D=e(5908867676),P=e.n(D),L=e(4948097913),k=e.n(L),G=e(5156772208),b=e.n(G),W=e(3333214639),B=e.n(W),R=e(9825918216),j=e.n(R),w=e(1302153452),N=e.n(w),K=e(474239361),J=e.n(K),Y=e(350135845),q=e.n(Y),H=e(7428983508),ne=e.n(H),te=e(1001408479),le=e.n(te),he=e(7331486018),Ie=e.n(he),Ee=e(669259003),me=e.n(Ee),ce=e(1889110914),X=e.n(ce),V=e(7183565897),x=e.n(V),S=e(4814900690),U=e.n(S),F=e(3710970638),Z=e.n(F),z=e(1023719767),$=e.n(z),ee=e(4165874747),de=e.n(ee),ie=e(3431559584),ue=e.n(ie),fe=e(2261459203),re=e.n(fe),_e=e(7272988726),Ue=e.n(_e),ye=e(2200759559),Te=e.n(ye),ge=e(451984622),Ae=e.n(ge),Re=e(77360885),Be=e.n(Re),ke=e(7523979550),se=e.n(ke),ve=e(4245237474),Me=e.n(ve),be=e(1957386787),xe=e.n(be),Le=e(8390767423),Ke=e.n(Le),He=e(983107878),Ye=e.n(He),Xe=e(3224273568),et=e.n(Xe),st=e(2979422297),ot=e.n(st),ct=e(4923972147),at=e.n(ct),At=e(1060768686),Ct=e.n(At),Tt=e(5098468056),Rt=e.n(Tt),It=e(6906793909),Mt=e.n(It),nn=e(3708998647),Ot=e.n(nn),bt=e(2256285620),Jt=e.n(bt),en=e(2316786074),sn=e.n(en),zt=e(3783723764),Yt=e(8840779375),hn=e(2604971659),Qe=e(4103274853),Wt=e(2208015175),gn=e(3339229351),rn=e(397660785),ut=e(6363331542);function Pt(pt){return(0,zt.A)((0,Yt.A)((0,hn.A)(pt),Dt=>parseInt(Dt,10)),null,"desc")}c(Pt,"makeOrderedIconSizes");function Bt(pt){return(0,Qe.A)(pt,Dt=>Pt(Dt))}c(Bt,"makeOrderedNamedIconSizes");const Ft={24:sn(),32:Ot(),36:Rt(),72:at(),192:et()},un={24:Jt(),32:Mt(),36:Ct(),72:ot(),192:Ye()},Sn={fancy:{20:Ke(),24:xe(),32:Me(),36:se(),48:Be(),72:Ae(),192:Te(),360:Ue(),512:re(),1024:ue()},frowny:{20:de(),24:$(),32:Z(),36:U(),48:x(),72:X(),192:me(),360:Ie(),512:le(),1024:ne()},neutral:{20:q(),24:J(),32:N(),36:j(),48:B(),72:b(),192:k(),360:P(),512:I(),1024:M()},sad_surprise:{20:y(),24:g(),32:p(),36:h(),48:v(),72:l(),192:i(),360:o(),512:r(),1024:n()}},Un=24,Cn=Pt(un),Ln=Bt(Sn),yn="image_";function Xt(pt){const Dt=[];return(0,Wt.A)(pt,(Qt,tn)=>{if(tn.indexOf(yn)!==0)return;const an=tn.slice(yn.length);Dt.unshift(parseInt(an,10))}),Dt}c(Xt,"getSizeOptionsFromProfile");function nt(pt){let{size:Dt,teamOrEnterpriseId:Qt,memberId:tn,avatarHash:an,emoji:ht,isBot:yt=!1,botImages:Ut=!1,slackbotFeels:Gt=null,isUserHidden:mn=!1}=pt,Oe,we,Fe=!1;if(!Dt||!yt&&!mn&&(!Qt||!tn||!an)&&!ht)return{};if(ht)return{emoji:ht,isDefault:!1};if(mn){const qe=(0,ut.A)(Dt,Cn),ze=(0,ut.A)(Dt*2,Cn);Oe=Ft[qe||Un],we=Ft[ze||Un],Fe=!0}else if(tn===gn.Q$&&Gt&&Sn[Gt]){const qe=(0,ut.A)(Dt,Ln[Gt]),ze=(0,ut.A)(Dt*2,Ln[Gt]);Oe=Sn[Gt][qe||Un],we=Sn[Gt][ze||Un]}else if(!yt||Qt&&tn&&an){const qe=(0,ut.A)(Dt),ze=(0,ut.A)(Dt*2),Ge=(0,rn.Z)(Qt);Oe=`${Ge}${Qt}-${tn}-${an}-${qe}`,we=`${Ge}${Qt}-${tn}-${an}-${ze}`}else if(Ut){const qe=Xt(Ut),ze=(0,ut.A)(Dt,qe),Ge=(0,ut.A)(Dt*2,qe);Oe=Ut[yn+ze],we=Ut[yn+Ge]}if(yt&&!Oe&&!we&&!ht){const qe=(0,ut.A)(Dt,Cn),ze=(0,ut.A)(Dt*2,Cn);Oe=un[qe||Un],we=un[ze||Un],Fe=!0}return{imageUrl:Oe,imageUrl2x:we,emoji:ht,isDefault:Fe}}c(nt,"getMemberProfileImage")},92812954:(Q,C,e)=>{"use strict";e.d(C,{d:()=>r});var t=e(8276911661),n=e(3792998666),s=e(5096647761);function r(d,o){if(!o)return"member";const a=(0,t.nv)(d,o);let i="member";return(0,s.g)(a)?i="external":(0,n.Ez)(a)&&!(0,n.Yd)(a)?i="ra":(0,n.Yd)(a)&&(i="ura"),i}c(r,"getMemberType")},9899967630:(Q,C,e)=>{"use strict";e.d(C,{cR:()=>i,dR:()=>h});var t=e(8234448831),n=e(937317117),s=e(8393662842),r=e(497761763),d=e(4761125736),o=e(7102510068),a=e(5244168417);function i(f,p){if(!p)return null;const E=(0,t.Ay)(p);return v(f,E)}c(i,"getQuipFileIdFromUrl");function m(f,p){if(!p)return null;const E=parseUrl(p);return u(f,E)}c(m,"getQuipFileIdWithAccessFromUrl");function l(f,p){if(!p)return null;const E=parseUrl(p);return h(f,E)}c(l,"getQuipFileIdWithoutAccessFromUrl");function _(f){for(const p of o.h)if(p.urlType===a.CollabUrlType.SLACK_DOCUMENT||p.urlType===a.CollabUrlType.SLACK_DOCUMENT_SECTION){const E=p.regExp,g=f.match(E);if(!g||g.length<1)continue;return g}return null}c(_,"matchCanvasCollabUrlRegex");function v(f,p){const E=p.href,g=_(E);if(!g)return null;const A=g[6];if(!A||!(0,r.A)(A))return null;const y=(0,n.Lp)(f,A);return(0,s.DQ)(y)?A:null}c(v,"getQuipFileIdFromParsedUrl");function u(f,p){const E=v(f,p);if(!E)return null;const g=getFileById(f,E);if(!g)return null;const A=getGroupForUser(f,"canvas_ts_sfdc_slack_connect_sharing")==="on";return isNotVisible(g)||A&&isExternalAccessDenied(g)?null:E}c(u,"getQuipFileIdWithAccessFromParsedUrl");function h(f,p){const E=v(f,p);if(!E)return null;const g=(0,n.Lp)(f,E);if(!g)return null;const A=(0,d._Z)(f,"canvas_ts_sfdc_slack_connect_sharing")==="on";return(0,s.sR)(g)||A&&(0,s.Bp)(g)?E:null}c(h,"getQuipFileIdWithoutAccessFromParsedUrl")},8873262110:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6061527706),n=e(5950652755);function s(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const o=c(a=>{!Array.isArray(a)||!a.length||requestAnimationFrame(()=>r(a))},"observer");return new t.A((0,n.A)(o,d))}c(s,"getResizeObserver")},8232660909:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>l,Tp:()=>_});var t=e(6422693406),n=e(4103274853),s=e(7156798807),r=e(571104883),d=e(2786906754),o=e(3245843483);let a;const i={substitutions:{},useSmartDashes:!1,useSmartQuotes:!1},m={substitutions:{},useSmartDashes:!0,useSmartQuotes:!0};function l(){let{bustCache:u=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a&&!u)return t.K.resolve(a);const h=(0,r.cX)(),f=(0,r.y3)(),p=(0,d.qN)(window.location.href);return f&&!h||!f&&p.smart_quotes!=="1"?t.K.resolve(i):f?(a=m,(0,o.J7P)().then(E=>(a={...m,substitutions:{}},E&&((0,r.dY)("4.3.0")||(a.substitutions=(0,n.A)((0,s.A)(E.substitutions,"replace"),"with")),a.useSmartDashes=E.useSmartDashes,a.useSmartQuotes=E.useSmartQuotes,!a.substitutions["--"]&&a.useSmartDashes&&(a.substitutions["--"]="\u2014")),a))):(a={...m,substitutions:{"--":"\u2014"}},t.K.resolve(a))}c(l,"__WEBPACK_DEFAULT_EXPORT__");const _=c(()=>a,"getSystemTextPreferencesCache"),v={resetCache:()=>{a=void 0}}},3695531806:(Q,C,e)=>{"use strict";e.d(C,{z:()=>n});var t=e(6795568989);const n=c(s=>{let{codePointLikeString:r}=s;if(!(0,t.d)(r))return;const d=16;return r.split("-").map(o=>String.fromCodePoint(parseInt(o,d))).join("")},"getUnicodeFromCodePointLikeString")},8958249318:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(){var n,s;return(s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)!==null&&s!==void 0?s:"no-ua"}c(t,"getUserAgent")},5770715593:(Q,C,e)=>{"use strict";e.d(C,{C9:()=>a,Gl:()=>d,VQ:()=>o,XU:()=>n,dL:()=>s,rU:()=>r,x_:()=>i});var t=e(4761125736);const n=c(m=>{var l;return(l=(0,t._Z)(m,"help_shareables_tm")==="on")!==null&&l!==void 0?l:!1},"isHelpShareablesTmExperimentOn"),s=c(m=>{var l;return(l=(0,t._Z)(m,"help_articles_in_search")==="treatment")!==null&&l!==void 0?l:!1},"isHelpArticlesInSearchExperimentTreatment"),r=c(m=>{var l;return(l=(0,t._Z)(m,"help_smarticles")==="on")!==null&&l!==void 0?l:!1},"isHelpSmarticlesExperimentOn"),d=c(m=>{var l;return(l=(0,t._Z)(m,"help_navigation")==="on")!==null&&l!==void 0?l:!1},"isHelpNavigationExperimentOn"),o=c(m=>{var l;return(l=(0,t._Z)(m,"help_tour")==="treatment")!==null&&l!==void 0?l:!1},"isHelpTourExperimentTreatment"),a=c(m=>{var l;return(l=(0,t._Z)(m,"help_tips")==="on")!==null&&l!==void 0?l:!1},"isHelpTipsExperimentOn"),i=c(m=>{var l;return(l=(0,t._Z)(m,"help_slider_a11y_translations")==="on")!==null&&l!==void 0?l:!1},"isHelpSliderA11yTranslationsExperimentOn")},1251564078:(Q,C,e)=>{"use strict";e.d(C,{v:()=>n});var t=e(9907843289);function n(s){const r=(0,t.Yp)().toLowerCase();return r==="en-us"?s:`/intl/${r}${s}`}c(n,"getLocalizedPath")},4240442510:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3193155968),n=e(735940183);const s=new n.Ay("view");function r(d){let{tab:o,experimentSlackAiInboxGroupOn:a,experimentFilesExplorerPrototypeGroupOn:i,experimentAskSlackViewGroupOn:m}=d,l;switch(o){case t.k6.Home:l=a?s.t("Channels",{ns:"search"}):s.t("Home");break;case t.k6.DMs:l=s.t("DMs");break;case t.k6.Activity:l=a?s.t("Inbox"):s.t("Activity");break;case t.k6.Later:l=s.t("Later");break;case t.k6.SalesHome:l=s.t("Sales");break;case t.k6.Search:l=s.t("Search");break;case t.k6.Canvases:l=s.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case t.k6.Files:l=s.t("Files",{ns:"search"});break;case t.k6.FilesPrototype:l=i?s.t("Docs"):"Docs";break;case t.k6.Channels:l=s.t("Channels",{ns:"search"});break;case t.k6.People:l=s.t("People",{ns:"search"});break;case t.k6.Platform:l=s.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case t.k6.ExternalConnections:case t.k6.ExternalConnectionsTemp:l=s.t("External");break;case t.k6.Huddles:l=s.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33x`",fallbackHashNs:"search"});break;case t.k6.Assistant:l=m?s.t("Ask Slack"):"Ask Slack";break;case t.k6.Browse:l=s.t("More");break;case t.k6.Lists:l=s.t("Lists");break;case t.k6.Todos:l="To-dos";break;case t.k6.Solutions:l=s.t("Templates");break;case t.k6.SlackKitPlayground:l="Slack Kit Playground";break;case t.k6.BBM:l="";break;default:l="";break}return l}c(r,"getTabLabel")},6910192640:(Q,C,e)=>{"use strict";e.d(C,{A:()=>T,o:()=>A});var t=e(8956161330),n=e(2384831516),s=e(3193155968),r=e(1552255081),d=e(6642124196),o=e(920478515),a=e(1340402138),i=e(6470070112),m=e(9280052135),l=e(665229739),_=e(7244076749),v=e(4626613428),u=e(2711189973),h=e(5332875232),f=e(3290693121),p=e(2664997725);const E=!1,g={[s.k6.Home]:M=>!(0,a.R)(M),[s.k6.Activity]:M=>(0,v.Ty)(M)&&!(0,f.x)(M),[s.k6.DMs]:M=>(0,v.Ty)(M),[s.k6.FilesPrototype]:M=>(0,l.U)(M)&&(0,v.Ty)(M),[s.k6.SlackKitPlayground]:M=>(0,_.b)()&&(0,v.Ty)(M),[s.k6.Solutions]:M=>(0,p.x)(M)&&(0,v.Ty)(M),[s.k6.Later]:M=>(0,o.Bp)(M),[s.k6.Assistant]:M=>(0,m.l)(M)&&(0,v.Ty)(M),[s.k6.Canvases]:M=>(0,r.F)(M)&&!(0,a.R)(M)&&!(0,l.U)(M),[s.k6.Files]:M=>!(0,a.R)(M)&&(0,v.Ty)(M),[s.k6.Channels]:M=>!(0,a.R)(M)&&(0,v.Ty)(M),[s.k6.Platform]:()=>!0,[s.k6.People]:M=>!(0,a.R)(M)&&(0,v.Ty)(M),[s.k6.Huddles]:M=>(0,i.Wd)(M)&&!(0,h.LS)(M)&&!(0,a.R)(M),[s.k6.SalesHome]:M=>(0,t.hx)(M),[s.k6.Lists]:M=>(0,d.teamHasFullListsAccess)(M)&&!(0,a.R)(M)&&!(0,l.U)(M),[s.k6.Todos]:M=>(0,d.isTodosEnabled)(M),[s.k6.ExternalConnections]:M=>(0,u.y)(M,E),[s.k6.ExternalConnectionsTemp]:M=>!(0,u.y)(M,E)},A=c(M=>(0,n.Mz)(O=>g[M](O)),"makeSelectVisibleTab"),T=c((M,O)=>A(O)(M),"getTabVisibility")},505908973:(Q,C,e)=>{"use strict";e.d(C,{A:()=>B});var t=e(6644049054),n=e(352142497),s=e(5657872960),r=e(6642124196),d=e(3559837422),o=e(6839188756),a=e(3677514771),i=e(8956161330),m=e(1552255081),l=e(7274827479),_=e(4761125736),v=e(418103123),u=e(1190344069),h=e(9889493721),f=e(7069714209),p=e(665229739),E=e(9280052135),g=e(7244076749),A=e(2711189973),y=e(5332875232),T=e(2052624953),M=e(9132066222),O=e(3856748711),I=e(8646192222),D=e(3875705815),P=e(6695353875),L=e(2664997725),k=e(6120301420);const G=!1,b={[n.D.KeyboardShortcuts]:()=>!0,[n.D.WhatsNew]:()=>!0,[n.D.RecentCanvases]:()=>!1,[n.D.CanvasesSharedWithYou]:R=>(0,_._Z)(R,"canvas_collection_prototype")==="on"&&(0,m.F)(R),[n.D.CanvasesCreatedByYou]:R=>(0,_._Z)(R,"canvas_collection_prototype")==="on"&&(0,m.F)(R),[n.D.BrowseCanvases]:R=>(0,m.F)(R),[n.D.RecentFiles]:()=>!0,[n.D.FilesCreatedByYou]:()=>!0,[n.D.FilesSharedWithYou]:()=>!0,[n.D.BrowseExternalWorkspace]:f.U,[n.D.BrowseChannels]:()=>!0,[n.D.BrowsePeople]:()=>!0,[n.D.ExternalOrganizations]:R=>(0,A.y)(R,G),[n.D.ExternalOrganization]:R=>(0,A.y)(R,G),[n.D.ExternalPeople]:()=>!1,[n.D.SlackConnectChannels]:()=>!1,[n.D.SlackConnectInvitations]:R=>(0,A.y)(R,G),[n.D.BrowseUserGroups]:R=>!(0,d.sV)(R)&&(0,o.qR)((0,a.H7)(R)),[n.D.SlackConnect]:R=>(0,t.A)(R),[n.D.Channel]:()=>!0,[n.D.AppSpace]:()=>!0,[n.D.RecentPlatform]:R=>(0,h.MA)(R),[n.D.BrowseWorkflowsManagedByYou]:R=>(0,h.EH)(R),[n.D.BrowseYourWorkflowTemplates]:R=>(0,h.M7)(R),[n.D.BrowseShortcuts]:R=>(0,h.S0)(R),[n.D.BrowseWorkflowTemplates]:R=>(0,h.fh)(R),[n.D.BrowseApps]:R=>(0,h.pr)(R),[n.D.OrgDirectory]:()=>!0,[n.D.Page]:()=>!0,[n.D.Threads]:()=>!0,[n.D.Thread]:()=>!0,[n.D.Profile]:()=>!0,[n.D.FileDetails]:()=>!0,[n.D.Help]:()=>!0,[n.D.UserGroup]:()=>!0,[n.D.Feedback]:()=>!0,[n.D.List]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecord]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecordDetails]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecordThread]:R=>(0,r.isListsEnabled)(R),[n.D.ListRecordHistory]:R=>(0,r.isListsEnabled)(R),[n.D.DeletedLists]:R=>(0,r.isListsEnabled)(R),[n.D.Tasks]:R=>(0,r.isTodosEnabled)(R),[n.D.AssignedTasks]:R=>(0,r.isTodosEnabled)(R),[n.D.Reminders]:R=>(0,r.isTodosEnabled)(R),[n.D.Saved]:R=>(0,r.isTodosEnabled)(R),[n.D.ComposeList]:()=>!0,[n.D.Compose]:()=>!0,[n.D.QuipCommentThread]:()=>!0,[n.D.QuipCommentStream]:()=>!0,[n.D.QuipActivityHistory]:()=>!0,[n.D.QuipAutomationsOverview]:()=>!0,[n.D.Quip]:()=>!0,[n.D.Canvas]:()=>!0,[n.D.ChannelCanvas]:()=>!0,[n.D.CanvasBrowser]:R=>(0,m.F)(R),[n.D.DeletedCanvases]:R=>(0,k.qD)(R),[n.D.PaidBenefits]:()=>!0,[n.D.Setup]:()=>!0,[n.D.SearchEmpty]:()=>!0,[n.D.AboutWorkspace]:()=>!1,[n.D.Unknown]:()=>!0,[n.D.MorePeopleSidebar]:()=>!0,[n.D.MoreCanvasesSidebar]:()=>!0,[n.D.MoreSolutionsSidebar]:R=>(0,L.x)(R),[n.D.AppPopout]:()=>!0,[n.D.ChannelList]:()=>!0,[n.D.BrowseFiles]:()=>!0,[n.D.BrowseFilesPrototype]:R=>(0,p.U)(R),[n.D.SlackKitPlayground]:()=>(0,g.b)(),[n.D.Solutions]:R=>(0,L.x)(R),[n.D.SolutionsFiltered]:R=>(0,L.x)(R),[n.D.BrowseLists]:R=>(0,r.teamHasFullListsAccess)(R),[n.D.DmsList]:()=>!0,[n.D.BrowseList]:()=>!0,[n.D.ActivityList]:()=>!0,[n.D.LaterList]:R=>(0,s.c)(R),[n.D.Search]:()=>!0,[n.D.MoreFilesSidebar]:()=>!0,[n.D.MoreListsSidebar]:()=>!0,[n.D.MoreTodosSidebar]:()=>!0,[n.D.FilesPrototypeSidebar]:R=>(0,p.U)(R),[n.D.MoreChannelsSidebar]:()=>!1,[n.D.MorePlatformSidebar]:()=>!0,[n.D.MoreHuddlesSidebar]:()=>!0,[n.D.MoreExternalConnectionsSidebar]:R=>(0,A.y)(R,G),[n.D.HelpBrowser]:()=>!0,[n.D.Huddle]:()=>!0,[n.D.BrowseHuddles]:R=>(0,y.LS)(R),[n.D.KeyboardShortcutsBrowser]:()=>!0,[n.D.WhatsNewBrowser]:()=>!0,[n.D.FeedbackBrowser]:()=>!0,[n.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[n.D.ExternalWorkspaceSidebar]:()=>!1,[n.D.ExternalWorkspacePeopleBrowser]:()=>!1,[n.D.ExternalWorkspaceChannelBrowser]:()=>!1,[n.D.PostEvent]:()=>!1,[n.D.AiSummaryDetails]:R=>(0,l._z)(R),[n.D.DailyDigest]:R=>(0,l.sS)(R),[n.D.MoreAiSummarySidebar]:R=>(0,l.M1)(R),[n.D.SearchSummary]:R=>(0,l.lQ)(R),[n.D.AssistantList]:R=>(0,E.l)(R),[n.D.Today]:R=>(0,v._)(R),[n.D.Record]:R=>(0,u.hm)(R),[n.D.RecordChannelCreate]:R=>(0,u.hm)(R),[n.D.RecordChannelRelatedList]:R=>(0,u.dw)(R),[n.D.SalesAdministration]:()=>!0,[n.D.SalesBulkGrid]:()=>!0,[n.D.SalesHome]:R=>(0,i.hx)(R),[n.D.SalesLogActivity]:()=>!0,[n.D.SalesListViewBrowser]:()=>!0,[n.D.SalesSidebar]:()=>!0,[n.D.SalesNotifications]:()=>!0,[n.D.AssistantThread]:()=>!0,[n.D.ChannelFiles]:R=>(0,_._Z)(R,"channel_canvas_in_bbar")==="on",[n.D.AiApp]:R=>(0,T.wP)(R),[n.D.WorkflowDetails]:R=>(0,_._Z)(R,"workflow_progress_fe")==="on",[n.D.WorkflowEditor]:R=>(0,_._Z)(R,"wfb_in_client")==="on",[n.D.BookmarksFolder]:R=>(0,M.U6)(R),[n.D.ActionItems]:R=>(0,l.FV)(R),[n.D.Inbox]:R=>(0,O.y)(R),[n.D.BBMMain]:R=>(0,I.mL)(R)&&(0,D.V)(R),[n.D.BBMWorkspaceSwitcher]:R=>(0,I.mL)(R)&&(0,D.V)(R),[n.D.SearchInChannel]:R=>(0,P.k8)(R),[n.D.HuddleTranscriptDetails]:R=>(0,y.Bd)(R),[n.D.HuddlePageCanvas]:()=>!0,[n.D.BBMMore]:R=>(0,I.mL)(R)&&(0,D.V)(R)},B=c((R,j)=>b[j](R),"getViewTypeVisibility")},4900557724:(Q,C,e)=>{"use strict";e.d(C,{BB:()=>i,GP:()=>m,Uf:()=>l});var t=e(9706240641),n=e.n(t),s=e(3398586081),r=e(7715417323),d=e(6422693406);const o={didTimeout:!0,timeRemaining:()=>0},a=(0,s.A)(()=>!!(window.requestIdleCallback&&window.cancelIdleCallback));function i(v,u){return a()?window.requestIdleCallback(v,u):window.setTimeout(()=>v(o))}c(i,"requestIdleCallback");function m(v){return a()?window.cancelIdleCallback(v):window.clearTimeout(v)}c(m,"cancelIdleCallback");function l(v){return new d.S(function(u,h){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.A;const p=i(function(){var E=(0,t.coroutine)(function*(g){try{const A=yield d.S.resolve(v(g));u(A)}catch(A){h(A)}});return function(g){return E.apply(this,arguments)}}());f(()=>{m(p)})})}c(l,"awaitIdleCallback");const _={IDLE_DEADLINE_FALLBACK:o}},5731054235:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(9636997165);let n=null;function s(){if(n===null){var r,d;n=(document==null||(r=document.documentElement)===null||r===void 0||(d=r.dataset)===null||d===void 0?void 0:d.app)===t.u.APP_POPOUTS}return n}c(s,"isAppPopouts")},8800777280:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n,s){return!n||!s?!1:s(n)?!0:t(n.parentElement||void 0,s)}c(t,"isContainedBy")},6045540917:(Q,C,e)=>{"use strict";e.d(C,{h:()=>r});var t=e(8276911661),n=e(8170643398),s=e(3986753718);function r(d,o){if(!o)return!1;const a=(0,t.nv)(d,o);return!(0,n.zU)(a)&&!!o&&!!(0,s.t6)(d,o)}c(r,"isDnd")},6551836451:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth))}c(t,"isElementScrollable")},7640408795:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){var s;return!n||n.metaKey||n.ctrlKey?!1:((s=n.key)===null||s===void 0?void 0:s.length)===1}c(t,"isPrintableKeyEvent")},8707546752:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(2774532222),n=e(3339229351);function s(r){return(0,t.A)(r,n.Rw)}c(s,"isSlackAction")},6605261507:(Q,C,e)=>{"use strict";e.d(C,{Dl:()=>r,Mk:()=>n,qF:()=>s});var t=e(1269024372);const n=["about","canvas"],s=["app","about","settings","chat"];function r(d){return n.indexOf(d)!==-1||s.indexOf(d)!==-1||Object.keys(t.e).indexOf(d)!==-1}c(r,"isValidTabRoute")},5587260451:(Q,C,e)=>{"use strict";e.d(C,{L:()=>t,c:()=>n});const t=["invitations","contacts"];function n(s){return t.includes(s)}c(n,"isValidViewName")},2249017398:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(9636997165);let n=null;function s(){if(n===null){var r,d;n=(document==null||(r=document.documentElement)===null||r===void 0||(d=r.dataset)===null||d===void 0?void 0:d.app)===t.u.WORKFLOW_BUILDER}return n}c(s,"isWorkflowBuilder")},1233969417:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^\d+$/;function n(s){return t.test(s)}c(n,"looksLikeHelpArticleId")},110305600:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^Ft[A-Z0-9]{7,}$/;function n(s){return t.test(s)}c(n,"looksLikeHermesTriggerId")},1466694191:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function n(s){return s?t.test(s):!1}c(n,"looksLikeQuipHistoryId")},8305125093:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=/^Wt[A-Z0-9]{7,}$/;function n(s){return t.test(s)}c(n,"looksLikeWorkflowTemplateId")},6904279885:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(9746734072),n=e(735940183);const s=new n.Ay("a11y");function r(){let{channelName:d,previousChannelName:o,workspaceName:a,orgName:i,isOrgGlobalSharedPublicOrPrivateChannel:m,isOrgSharedPublicOrPrivateChannel:l,isExternallySharedChannel:_,isArchived:v,isCurrent:u,hasUnreads:h,hasNotifications:f,isPrivate:p,isNotMember:E,isMuted:g,isStarred:A,hasDraft:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const T=(()=>{if(_&&a&&a.length>0){const O=(0,t.A)(a)?a:[a];return s.t("shared with {workspaceName}",{workspaceName:O[0]})}return m&&i?s.t("shared across all {orgName} workspaces",{orgName:i}):l?s.t("shared channel"):""})(),M=(()=>v?s.t("archived channel"):u&&h&&f&&p&&E&&g&&A&&y?s.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):!u&&h&&f&&p&&E&&g&&A&&y?s.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):u&&!h&&f&&p&&E&&g&&A&&y?s.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):!u&&!h&&f&&p&&E&&g&&A&&y?s.t("has notifications, private, not a member, muted, starred, has a draft message"):u&&h&&!f&&p&&E&&g&&A&&y?s.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):!u&&h&&!f&&p&&E&&g&&A&&y?s.t("has unread messages, private, not a member, muted, starred, has a draft message"):u&&!h&&!f&&p&&E&&g&&A&&y?s.t("current channel, private, not a member, muted, starred, has a draft message"):!u&&!h&&!f&&p&&E&&g&&A&&y?s.t("private, not a member, muted, starred, has a draft message"):u&&h&&f&&!p&&E&&g&&A&&y?s.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):!u&&h&&f&&!p&&E&&g&&A&&y?s.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):u&&!h&&f&&!p&&E&&g&&A&&y?s.t("current channel, has notifications, not a member, muted, starred, has a draft message"):!u&&!h&&f&&!p&&E&&g&&A&&y?s.t("has notifications, not a member, muted, starred, has a draft message"):u&&h&&!f&&!p&&E&&g&&A&&y?s.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):!u&&h&&!f&&!p&&E&&g&&A&&y?s.t("has unread messages, not a member, muted, starred, has a draft message"):u&&!h&&!f&&!p&&E&&g&&A&&y?s.t("current channel, not a member, muted, starred, has a draft message"):!u&&!h&&!f&&!p&&E&&g&&A&&y?s.t("not a member, muted, starred, has a draft message"):u&&h&&f&&p&&!E&&g&&A&&y?s.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):!u&&h&&f&&p&&!E&&g&&A&&y?s.t("has unread messages and notifications, private, muted, starred, has a draft message"):u&&!h&&f&&p&&!E&&g&&A&&y?s.t("current channel, has notifications, private, muted, starred, has a draft message"):!u&&!h&&f&&p&&!E&&g&&A&&y?s.t("has notifications, private, muted, starred, has a draft message"):u&&h&&!f&&p&&!E&&g&&A&&y?s.t("current channel, has unread messages, private, muted, starred, has a draft message"):!u&&h&&!f&&p&&!E&&g&&A&&y?s.t("has unread messages, private, muted, starred, has a draft message"):u&&!h&&!f&&p&&!E&&g&&A&&y?s.t("current channel, private, muted, starred, has a draft message"):!u&&!h&&!f&&p&&!E&&g&&A&&y?s.t("private, muted, starred, has a draft message"):u&&h&&f&&!p&&!E&&g&&A&&y?s.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):!u&&h&&f&&!p&&!E&&g&&A&&y?s.t("has unread messages and notifications, muted, starred, has a draft message"):u&&!h&&f&&!p&&!E&&g&&A&&y?s.t("current channel, has notifications, muted, starred, has a draft message"):!u&&!h&&f&&!p&&!E&&g&&A&&y?s.t("has notifications, muted, starred, has a draft message"):u&&h&&!f&&!p&&!E&&g&&A&&y?s.t("current channel, has unread messages, muted, starred, has a draft message"):!u&&h&&!f&&!p&&!E&&g&&A&&y?s.t("has unread messages, muted, starred, has a draft message"):u&&!h&&!f&&!p&&!E&&g&&A&&y?s.t("current channel, muted, starred, has a draft message"):!u&&!h&&!f&&!p&&!E&&g&&A&&y?s.t("muted, starred, has a draft message"):u&&h&&f&&p&&E&&!g&&A&&y?s.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):!u&&h&&f&&p&&E&&!g&&A&&y?s.t("has unread messages and notifications, private, not a member, starred, has a draft message"):u&&!h&&f&&p&&E&&!g&&A&&y?s.t("current channel, has notifications, private, not a member, starred, has a draft message"):!u&&!h&&f&&p&&E&&!g&&A&&y?s.t("has notifications, private, not a member, starred, has a draft message"):u&&h&&!f&&p&&E&&!g&&A&&y?s.t("current channel, has unread messages, private, not a member, starred, has a draft message"):!u&&h&&!f&&p&&E&&!g&&A&&y?s.t("has unread messages, private, not a member, starred, has a draft message"):u&&!h&&!f&&p&&E&&!g&&A&&y?s.t("current channel, private, not a member, starred, has a draft message"):!u&&!h&&!f&&p&&E&&!g&&A&&y?s.t("private, not a member, starred, has a draft message"):u&&h&&f&&!p&&E&&!g&&A&&y?s.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):!u&&h&&f&&!p&&E&&!g&&A&&y?s.t("has unread messages and notifications, not a member, starred, has a draft message"):u&&!h&&f&&!p&&E&&!g&&A&&y?s.t("current channel, has notifications, not a member, starred, has a draft message"):!u&&!h&&f&&!p&&E&&!g&&A&&y?s.t("has notifications, not a member, starred, has a draft message"):u&&h&&!f&&!p&&E&&!g&&A&&y?s.t("current channel, has unread messages, not a member, starred, has a draft message"):!u&&h&&!f&&!p&&E&&!g&&A&&y?s.t("has unread messages, not a member, starred, has a draft message"):u&&!h&&!f&&!p&&E&&!g&&A&&y?s.t("current channel, not a member, starred, has a draft message"):!u&&!h&&!f&&!p&&E&&!g&&A&&y?s.t("not a member, starred, has a draft message"):u&&h&&f&&p&&!E&&!g&&A&&y?s.t("current channel, has unread messages and notifications, private, starred, has a draft message"):!u&&h&&f&&p&&!E&&!g&&A&&y?s.t("has unread messages and notifications, private, starred, has a draft message"):u&&!h&&f&&p&&!E&&!g&&A&&y?s.t("current channel, has notifications, private, starred, has a draft message"):!u&&!h&&f&&p&&!E&&!g&&A&&y?s.t("has notifications, private, starred, has a draft message"):u&&h&&!f&&p&&!E&&!g&&A&&y?s.t("current channel, has unread messages, private, starred, has a draft message"):!u&&h&&!f&&p&&!E&&!g&&A&&y?s.t("has unread messages, private, starred, has a draft message"):u&&!h&&!f&&p&&!E&&!g&&A&&y?s.t("current channel, private, starred, has a draft message"):!u&&!h&&!f&&p&&!E&&!g&&A&&y?s.t("private, starred, has a draft message"):u&&h&&f&&!p&&!E&&!g&&A&&y?s.t("current channel, has unread messages and notifications, starred, has a draft message"):!u&&h&&f&&!p&&!E&&!g&&A&&y?s.t("has unread messages and notifications, starred, has a draft message"):u&&!h&&f&&!p&&!E&&!g&&A&&y?s.t("current channel, has notifications, starred, has a draft message"):!u&&!h&&f&&!p&&!E&&!g&&A&&y?s.t("has notifications, starred, has a draft message"):u&&h&&!f&&!p&&!E&&!g&&A&&y?s.t("current channel, has unread messages, starred, has a draft message"):!u&&h&&!f&&!p&&!E&&!g&&A&&y?s.t("has unread messages, starred, has a draft message"):u&&!h&&!f&&!p&&!E&&!g&&A&&y?s.t("current channel, starred, has a draft message"):!u&&!h&&!f&&!p&&!E&&!g&&A&&y?s.t("starred, has a draft message"):u&&h&&f&&p&&E&&g&&!A&&y?s.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):!u&&h&&f&&p&&E&&g&&!A&&y?s.t("has unread messages and notifications, private, not a member, muted, has a draft message"):u&&!h&&f&&p&&E&&g&&!A&&y?s.t("current channel, has notifications, private, not a member, muted, has a draft message"):!u&&!h&&f&&p&&E&&g&&!A&&y?s.t("has notifications, private, not a member, muted, has a draft message"):u&&h&&!f&&p&&E&&g&&!A&&y?s.t("current channel, has unread messages, private, not a member, muted, has a draft message"):!u&&h&&!f&&p&&E&&g&&!A&&y?s.t("has unread messages, private, not a member, muted, has a draft message"):u&&!h&&!f&&p&&E&&g&&!A&&y?s.t("current channel, private, not a member, muted, has a draft message"):!u&&!h&&!f&&p&&E&&g&&!A&&y?s.t("private, not a member, muted, has a draft message"):u&&h&&f&&!p&&E&&g&&!A&&y?s.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):!u&&h&&f&&!p&&E&&g&&!A&&y?s.t("has unread messages and notifications, not a member, muted, has a draft message"):u&&!h&&f&&!p&&E&&g&&!A&&y?s.t("current channel, has notifications, not a member, muted, has a draft message"):!u&&!h&&f&&!p&&E&&g&&!A&&y?s.t("has notifications, not a member, muted, has a draft message"):u&&h&&!f&&!p&&E&&g&&!A&&y?s.t("current channel, has unread messages, not a member, muted, has a draft message"):!u&&h&&!f&&!p&&E&&g&&!A&&y?s.t("has unread messages, not a member, muted, has a draft message"):u&&!h&&!f&&!p&&E&&g&&!A&&y?s.t("current channel, not a member, muted, has a draft message"):!u&&!h&&!f&&!p&&E&&g&&!A&&y?s.t("not a member, muted, has a draft message"):u&&h&&f&&p&&!E&&g&&!A&&y?s.t("current channel, has unread messages and notifications, private, muted, has a draft message"):!u&&h&&f&&p&&!E&&g&&!A&&y?s.t("has unread messages and notifications, private, muted, has a draft message"):u&&!h&&f&&p&&!E&&g&&!A&&y?s.t("current channel, has notifications, private, muted, has a draft message"):!u&&!h&&f&&p&&!E&&g&&!A&&y?s.t("has notifications, private, muted, has a draft message"):u&&h&&!f&&p&&!E&&g&&!A&&y?s.t("current channel, has unread messages, private, muted, has a draft message"):!u&&h&&!f&&p&&!E&&g&&!A&&y?s.t("has unread messages, private, muted, has a draft message"):u&&!h&&!f&&p&&!E&&g&&!A&&y?s.t("current channel, private, muted, has a draft message"):!u&&!h&&!f&&p&&!E&&g&&!A&&y?s.t("private, muted, has a draft message"):u&&h&&f&&!p&&!E&&g&&!A&&y?s.t("current channel, has unread messages and notifications, muted, has a draft message"):!u&&h&&f&&!p&&!E&&g&&!A&&y?s.t("has unread messages and notifications, muted, has a draft message"):u&&!h&&f&&!p&&!E&&g&&!A&&y?s.t("current channel, has notifications, muted, has a draft message"):!u&&!h&&f&&!p&&!E&&g&&!A&&y?s.t("has notifications, muted, has a draft message"):u&&h&&!f&&!p&&!E&&g&&!A&&y?s.t("current channel, has unread messages, muted, has a draft message"):!u&&h&&!f&&!p&&!E&&g&&!A&&y?s.t("has unread messages, muted, has a draft message"):u&&!h&&!f&&!p&&!E&&g&&!A&&y?s.t("current channel, muted, has a draft message"):!u&&!h&&!f&&!p&&!E&&g&&!A&&y?s.t("muted, has a draft message"):u&&h&&f&&p&&E&&!g&&!A&&y?s.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):!u&&h&&f&&p&&E&&!g&&!A&&y?s.t("has unread messages and notifications, private, not a member, has a draft message"):u&&!h&&f&&p&&E&&!g&&!A&&y?s.t("current channel, has notifications, private, not a member, has a draft message"):!u&&!h&&f&&p&&E&&!g&&!A&&y?s.t("has notifications, private, not a member, has a draft message"):u&&h&&!f&&p&&E&&!g&&!A&&y?s.t("current channel, has unread messages, private, not a member, has a draft message"):!u&&h&&!f&&p&&E&&!g&&!A&&y?s.t("has unread messages, private, not a member, has a draft message"):u&&!h&&!f&&p&&E&&!g&&!A&&y?s.t("current channel, private, not a member, has a draft message"):!u&&!h&&!f&&p&&E&&!g&&!A&&y?s.t("private, not a member, has a draft message"):u&&h&&f&&!p&&E&&!g&&!A&&y?s.t("current channel, has unread messages and notifications, not a member, has a draft message"):!u&&h&&f&&!p&&E&&!g&&!A&&y?s.t("has unread messages and notifications, not a member, has a draft message"):u&&!h&&f&&!p&&E&&!g&&!A&&y?s.t("current channel, has notifications, not a member, has a draft message"):!u&&!h&&f&&!p&&E&&!g&&!A&&y?s.t("has notifications, not a member, has a draft message"):u&&h&&!f&&!p&&E&&!g&&!A&&y?s.t("current channel, has unread messages, not a member, has a draft message"):!u&&h&&!f&&!p&&E&&!g&&!A&&y?s.t("has unread messages, not a member, has a draft message"):u&&!h&&!f&&!p&&E&&!g&&!A&&y?s.t("current channel, not a member, has a draft message"):!u&&!h&&!f&&!p&&E&&!g&&!A&&y?s.t("not a member, has a draft message"):u&&h&&f&&p&&!E&&!g&&!A&&y?s.t("current channel, has unread messages and notifications, private, has a draft message"):!u&&h&&f&&p&&!E&&!g&&!A&&y?s.t("has unread messages and notifications, private, has a draft message"):u&&!h&&f&&p&&!E&&!g&&!A&&y?s.t("current channel, has notifications, private, has a draft message"):!u&&!h&&f&&p&&!E&&!g&&!A&&y?s.t("has notifications, private, has a draft message"):u&&h&&!f&&p&&!E&&!g&&!A&&y?s.t("current channel, has unread messages, private, has a draft message"):!u&&h&&!f&&p&&!E&&!g&&!A&&y?s.t("has unread messages, private, has a draft message"):u&&!h&&!f&&p&&!E&&!g&&!A&&y?s.t("current channel, private, has a draft message"):!u&&!h&&!f&&p&&!E&&!g&&!A&&y?s.t("private, has a draft message"):u&&h&&f&&!p&&!E&&!g&&!A&&y?s.t("current channel, has unread messages and notifications, has a draft message"):!u&&h&&f&&!p&&!E&&!g&&!A&&y?s.t("has unread messages and notifications, has a draft message"):u&&!h&&f&&!p&&!E&&!g&&!A&&y?s.t("current channel, has notifications, has a draft message"):!u&&!h&&f&&!p&&!E&&!g&&!A&&y?s.t("has notifications, has a draft message"):u&&h&&!f&&!p&&!E&&!g&&!A&&y?s.t("current channel, has unread messages, has a draft message"):!u&&h&&!f&&!p&&!E&&!g&&!A&&y?s.t("has unread messages, has a draft message"):u&&!h&&!f&&!p&&!E&&!g&&!A&&y?s.t("current channel, has a draft message"):!u&&!h&&!f&&!p&&!E&&!g&&!A&&y?s.t("has a draft message"):u&&h&&f&&p&&E&&g&&A&&!y?s.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):!u&&h&&f&&p&&E&&g&&A&&!y?s.t("has unread messages and notifications, private, not a member, muted, starred"):u&&!h&&f&&p&&E&&g&&A&&!y?s.t("current channel, has notifications, private, not a member, muted, starred"):!u&&!h&&f&&p&&E&&g&&A&&!y?s.t("has notifications, private, not a member, muted, starred"):u&&h&&!f&&p&&E&&g&&A&&!y?s.t("current channel, has unread messages, private, not a member, muted, starred"):!u&&h&&!f&&p&&E&&g&&A&&!y?s.t("has unread messages, private, not a member, muted, starred"):u&&!h&&!f&&p&&E&&g&&A&&!y?s.t("current channel, private, not a member, muted, starred"):!u&&!h&&!f&&p&&E&&g&&A&&!y?s.t("private, not a member, muted, starred"):u&&h&&f&&!p&&E&&g&&A&&!y?s.t("current channel, has unread messages and notifications, not a member, muted, starred"):!u&&h&&f&&!p&&E&&g&&A&&!y?s.t("has unread messages and notifications, not a member, muted, starred"):u&&!h&&f&&!p&&E&&g&&A&&!y?s.t("current channel, has notifications, not a member, muted, starred"):!u&&!h&&f&&!p&&E&&g&&A&&!y?s.t("has notifications, not a member, muted, starred"):u&&h&&!f&&!p&&E&&g&&A&&!y?s.t("current channel, has unread messages, not a member, muted, starred"):!u&&h&&!f&&!p&&E&&g&&A&&!y?s.t("has unread messages, not a member, muted, starred"):u&&!h&&!f&&!p&&E&&g&&A&&!y?s.t("current channel, not a member, muted, starred"):!u&&!h&&!f&&!p&&E&&g&&A&&!y?s.t("not a member, muted, starred"):u&&h&&f&&p&&!E&&g&&A&&!y?s.t("current channel, has unread messages and notifications, private, muted, starred"):!u&&h&&f&&p&&!E&&g&&A&&!y?s.t("has unread messages and notifications, private, muted, starred"):u&&!h&&f&&p&&!E&&g&&A&&!y?s.t("current channel, has notifications, private, muted, starred"):!u&&!h&&f&&p&&!E&&g&&A&&!y?s.t("has notifications, private, muted, starred"):u&&h&&!f&&p&&!E&&g&&A&&!y?s.t("current channel, has unread messages, private, muted, starred"):!u&&h&&!f&&p&&!E&&g&&A&&!y?s.t("has unread messages, private, muted, starred"):u&&!h&&!f&&p&&!E&&g&&A&&!y?s.t("current channel, private, muted, starred"):!u&&!h&&!f&&p&&!E&&g&&A&&!y?s.t("private, muted, starred"):u&&h&&f&&!p&&!E&&g&&A&&!y?s.t("current channel, has unread messages and notifications, muted, starred"):!u&&h&&f&&!p&&!E&&g&&A&&!y?s.t("has unread messages and notifications, muted, starred"):u&&!h&&f&&!p&&!E&&g&&A&&!y?s.t("current channel, has notifications, muted, starred"):!u&&!h&&f&&!p&&!E&&g&&A&&!y?s.t("has notifications, muted, starred"):u&&h&&!f&&!p&&!E&&g&&A&&!y?s.t("current channel, has unread messages, muted, starred"):!u&&h&&!f&&!p&&!E&&g&&A&&!y?s.t("has unread messages, muted, starred"):u&&!h&&!f&&!p&&!E&&g&&A&&!y?s.t("current channel, muted, starred"):!u&&!h&&!f&&!p&&!E&&g&&A&&!y?s.t("muted, starred"):u&&h&&f&&p&&E&&!g&&A&&!y?s.t("current channel, has unread messages and notifications, private, not a member, starred"):!u&&h&&f&&p&&E&&!g&&A&&!y?s.t("has unread messages and notifications, private, not a member, starred"):u&&!h&&f&&p&&E&&!g&&A&&!y?s.t("current channel, has notifications, private, not a member, starred"):!u&&!h&&f&&p&&E&&!g&&A&&!y?s.t("has notifications, private, not a member, starred"):u&&h&&!f&&p&&E&&!g&&A&&!y?s.t("current channel, has unread messages, private, not a member, starred"):!u&&h&&!f&&p&&E&&!g&&A&&!y?s.t("has unread messages, private, not a member, starred"):u&&!h&&!f&&p&&E&&!g&&A&&!y?s.t("current channel, private, not a member, starred"):!u&&!h&&!f&&p&&E&&!g&&A&&!y?s.t("private, not a member, starred"):u&&h&&f&&!p&&E&&!g&&A&&!y?s.t("current channel, has unread messages and notifications, not a member, starred"):!u&&h&&f&&!p&&E&&!g&&A&&!y?s.t("has unread messages and notifications, not a member, starred"):u&&!h&&f&&!p&&E&&!g&&A&&!y?s.t("current channel, has notifications, not a member, starred"):!u&&!h&&f&&!p&&E&&!g&&A&&!y?s.t("has notifications, not a member, starred"):u&&h&&!f&&!p&&E&&!g&&A&&!y?s.t("current channel, has unread messages, not a member, starred"):!u&&h&&!f&&!p&&E&&!g&&A&&!y?s.t("has unread messages, not a member, starred"):u&&!h&&!f&&!p&&E&&!g&&A&&!y?s.t("current channel, not a member, starred"):!u&&!h&&!f&&!p&&E&&!g&&A&&!y?s.t("not a member, starred"):u&&h&&f&&p&&!E&&!g&&A&&!y?s.t("current channel, has unread messages and notifications, private, starred"):!u&&h&&f&&p&&!E&&!g&&A&&!y?s.t("has unread messages and notifications, private, starred"):u&&!h&&f&&p&&!E&&!g&&A&&!y?s.t("current channel, has notifications, private, starred"):!u&&!h&&f&&p&&!E&&!g&&A&&!y?s.t("has notifications, private, starred"):u&&h&&!f&&p&&!E&&!g&&A&&!y?s.t("current channel, has unread messages, private, starred"):!u&&h&&!f&&p&&!E&&!g&&A&&!y?s.t("has unread messages, private, starred"):u&&!h&&!f&&p&&!E&&!g&&A&&!y?s.t("current channel, private, starred"):!u&&!h&&!f&&p&&!E&&!g&&A&&!y?s.t("private, starred"):u&&h&&f&&!p&&!E&&!g&&A&&!y?s.t("current channel, has unread messages and notifications, starred"):!u&&h&&f&&!p&&!E&&!g&&A&&!y?s.t("has unread messages and notifications, starred"):u&&!h&&f&&!p&&!E&&!g&&A&&!y?s.t("current channel, has notifications, starred"):!u&&!h&&f&&!p&&!E&&!g&&A&&!y?s.t("has notifications, starred"):u&&h&&!f&&!p&&!E&&!g&&A&&!y?s.t("current channel, has unread messages, starred"):!u&&h&&!f&&!p&&!E&&!g&&A&&!y?s.t("has unread messages, starred"):u&&!h&&!f&&!p&&!E&&!g&&A&&!y?s.t("current channel, starred"):!u&&!h&&!f&&!p&&!E&&!g&&A&&!y?s.t("starred"):u&&h&&f&&p&&E&&g&&!A&&!y?s.t("current channel, has unread messages and notifications, private, not a member, muted"):!u&&h&&f&&p&&E&&g&&!A&&!y?s.t("has unread messages and notifications, private, not a member, muted"):u&&!h&&f&&p&&E&&g&&!A&&!y?s.t("current channel, has notifications, private, not a member, muted"):!u&&!h&&f&&p&&E&&g&&!A&&!y?s.t("has notifications, private, not a member, muted"):u&&h&&!f&&p&&E&&g&&!A&&!y?s.t("current channel, has unread messages, private, not a member, muted"):!u&&h&&!f&&p&&E&&g&&!A&&!y?s.t("has unread messages, private, not a member, muted"):u&&!h&&!f&&p&&E&&g&&!A&&!y?s.t("current channel, private, not a member, muted"):!u&&!h&&!f&&p&&E&&g&&!A&&!y?s.t("private, not a member, muted"):u&&h&&f&&!p&&E&&g&&!A&&!y?s.t("current channel, has unread messages and notifications, not a member, muted"):!u&&h&&f&&!p&&E&&g&&!A&&!y?s.t("has unread messages and notifications, not a member, muted"):u&&!h&&f&&!p&&E&&g&&!A&&!y?s.t("current channel, has notifications, not a member, muted"):!u&&!h&&f&&!p&&E&&g&&!A&&!y?s.t("has notifications, not a member, muted"):u&&h&&!f&&!p&&E&&g&&!A&&!y?s.t("current channel, has unread messages, not a member, muted"):!u&&h&&!f&&!p&&E&&g&&!A&&!y?s.t("has unread messages, not a member, muted"):u&&!h&&!f&&!p&&E&&g&&!A&&!y?s.t("current channel, not a member, muted"):!u&&!h&&!f&&!p&&E&&g&&!A&&!y?s.t("not a member, muted"):u&&h&&f&&p&&!E&&g&&!A&&!y?s.t("current channel, has unread messages and notifications, private, muted"):!u&&h&&f&&p&&!E&&g&&!A&&!y?s.t("has unread messages and notifications, private, muted"):u&&!h&&f&&p&&!E&&g&&!A&&!y?s.t("current channel, has notifications, private, muted"):!u&&!h&&f&&p&&!E&&g&&!A&&!y?s.t("has notifications, private, muted"):u&&h&&!f&&p&&!E&&g&&!A&&!y?s.t("current channel, has unread messages, private, muted"):!u&&h&&!f&&p&&!E&&g&&!A&&!y?s.t("has unread messages, private, muted"):u&&!h&&!f&&p&&!E&&g&&!A&&!y?s.t("current channel, private, muted"):!u&&!h&&!f&&p&&!E&&g&&!A&&!y?s.t("private, muted"):u&&h&&f&&!p&&!E&&g&&!A&&!y?s.t("current channel, has unread messages and notifications, muted"):!u&&h&&f&&!p&&!E&&g&&!A&&!y?s.t("has unread messages and notifications, muted"):u&&!h&&f&&!p&&!E&&g&&!A&&!y?s.t("current channel, has notifications, muted"):!u&&!h&&f&&!p&&!E&&g&&!A&&!y?s.t("has notifications, muted"):u&&h&&!f&&!p&&!E&&g&&!A&&!y?s.t("current channel, has unread messages, muted"):!u&&h&&!f&&!p&&!E&&g&&!A&&!y?s.t("has unread messages, muted"):u&&!h&&!f&&!p&&!E&&g&&!A&&!y?s.t("current channel, muted"):!u&&!h&&!f&&!p&&!E&&g&&!A&&!y?s.t("muted"):u&&h&&f&&p&&E&&!g&&!A&&!y?s.t("current channel, has unread messages and notifications, private, not a member"):!u&&h&&f&&p&&E&&!g&&!A&&!y?s.t("has unread messages and notifications, private, not a member"):u&&!h&&f&&p&&E&&!g&&!A&&!y?s.t("current channel, has notifications, private, not a member"):!u&&!h&&f&&p&&E&&!g&&!A&&!y?s.t("has notifications, private, not a member"):u&&h&&!f&&p&&E&&!g&&!A&&!y?s.t("current channel, has unread messages, private, not a member"):!u&&h&&!f&&p&&E&&!g&&!A&&!y?s.t("has unread messages, private, not a member"):u&&!h&&!f&&p&&E&&!g&&!A&&!y?s.t("current channel, private, not a member"):!u&&!h&&!f&&p&&E&&!g&&!A&&!y?s.t("private, not a member"):u&&h&&f&&!p&&E&&!g&&!A&&!y?s.t("current channel, has unread messages and notifications, not a member"):!u&&h&&f&&!p&&E&&!g&&!A&&!y?s.t("has unread messages and notifications, not a member"):u&&!h&&f&&!p&&E&&!g&&!A&&!y?s.t("current channel, has notifications, not a member"):!u&&!h&&f&&!p&&E&&!g&&!A&&!y?s.t("has notifications, not a member"):u&&h&&!f&&!p&&E&&!g&&!A&&!y?s.t("current channel, has unread messages, not a member"):!u&&h&&!f&&!p&&E&&!g&&!A&&!y?s.t("has unread messages, not a member"):u&&!h&&!f&&!p&&E&&!g&&!A&&!y?s.t("current channel, not a member"):!u&&!h&&!f&&!p&&E&&!g&&!A&&!y?s.t("not a member"):u&&h&&f&&p&&!E&&!g&&!A&&!y?s.t("current channel, has unread messages and notifications, private"):!u&&h&&f&&p&&!E&&!g&&!A&&!y?s.t("has unread messages and notifications, private"):u&&!h&&f&&p&&!E&&!g&&!A&&!y?s.t("current channel, has notifications, private"):!u&&!h&&f&&p&&!E&&!g&&!A&&!y?s.t("has notifications, private"):u&&h&&!f&&p&&!E&&!g&&!A&&!y?s.t("current channel, has unread messages, private"):!u&&h&&!f&&p&&!E&&!g&&!A&&!y?s.t("has unread messages, private"):u&&!h&&!f&&p&&!E&&!g&&!A&&!y?s.t("current channel, private"):!u&&!h&&!f&&p&&!E&&!g&&!A&&!y?s.t("private"):u&&h&&f&&!p&&!E&&!g&&!A&&!y?s.t("current channel, has unread messages and notifications"):!u&&h&&f&&!p&&!E&&!g&&!A&&!y?s.t("has unread messages and notifications"):u&&!h&&f&&!p&&!E&&!g&&!A&&!y?s.t("current channel, has notifications"):!u&&!h&&f&&!p&&!E&&!g&&!A&&!y?s.t("has notifications"):u&&h&&!f&&!p&&!E&&!g&&!A&&!y?s.t("current channel, has unread messages"):!u&&h&&!f&&!p&&!E&&!g&&!A&&!y?s.t("has unread messages"):u&&!h&&!f&&!p&&!E&&!g&&!A&&!y?s.t("current channel"):"")();return o&&!T&&!M?s.t("{channelName}, previously {previousChannelName}",{channelName:d,previousChannelName:o}):!o&&!T&&M?s.t("{channelName} ({context})",{channelName:d,context:M}):o&&!T&&M?s.t("{channelName}, previously {previousChannelName} ({context})",{channelName:d,previousChannelName:o,context:M}):!o&&T&&!M?s.t("{channelName}, {workspaceDescription}",{channelName:d,workspaceDescription:T}):o&&T&&!M?s.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:d,workspaceDescription:T,previousChannelName:o}):!o&&T&&M?s.t("{channelName}, {workspaceDescription} ({context})",{channelName:d,workspaceDescription:T,context:M}):o&&T&&M?s.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:d,workspaceDescription:T,previousChannelName:o,context:M}):d||""}c(r,"makeAriaLabelForChannel")},1269024372:(Q,C,e)=>{"use strict";e.d(C,{e:()=>n,k:()=>s});var t=e(352142497);const n={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function s(r){return n[r]}c(s,"maybeGetAutomationsTab")},264208541:(Q,C,e)=>{"use strict";e.d(C,{Ey:()=>o,Hn:()=>a,gs:()=>i,mw:()=>l,nS:()=>m});var t=e(8665296019),n=e(1033764764),s;let r=!!(!(window==null||(s=window.performance)===null||s===void 0)&&s.memory);function d(){return r?window.performance.memory.jsHeapSizeLimit:null}c(d,"getMemoryLimit");function o(){return r?window.performance.memory.totalJSHeapSize:null}c(o,"getMemoryTotal");function a(){return r?window.performance.memory.usedJSHeapSize:null}c(a,"getMemoryUsed");function i(){return r}c(i,"supportsMemoryMeasurement");function m(v){const u=v/1e3/1e3;return`${u<100?u.toPrecision(3):Math.round(u)} MB`}c(m,"humanizeBytes");function l(v,u){const h=(0,t.A)(v,f=>{let{memory:p}=f;return p[u]||0});return Math.ceil((0,n.UK)(h))}c(l,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:v=>{r=v}}})},8869734951:(Q,C,e)=>{"use strict";e.d(C,{N:()=>t,P:()=>s});function t(r,d){const{ref:o}=d;return s(r,o)}c(t,"mergeRefWithChildRef");function n(r){return d=>{typeof r=="function"?r(d):r&&(r.current=d)}}c(n,"makeRefBackwardsCompatible");function s(){for(var r=arguments.length,d=new Array(r),o=0;o<r;o++)d[o]=arguments[o];return a=>{d.forEach(i=>{n(i)(a)})}}c(s,"mergeRefs")},5737576046:(Q,C,e)=>{"use strict";e.d(C,{Pw:()=>l,bC:()=>a,wn:()=>m,zC:()=>i});var t=e(1703559452),n=e(1022424641),s=e(796111729),r=e(9470581768),d=e(8800777280);const o={};function a(_){let{channelId:v,functions:u,getInputInstance:h,threadTs:f,viewContext:p}=_;if(!h)throw new Error('Missing required "getInputInstance" param');const E=`${p}-${v}-${f}`;return o[E]&&(0,s.Ay)().warn(`Registering duplicate input (key: "${E}")`),o[E]={clear:()=>{var g,A;(g=h())===null||g===void 0||(A=g.clear)===null||A===void 0||A.call(g)},clearHistory:()=>{var g,A;(g=h())===null||g===void 0||(A=g.clearHistory)===null||A===void 0||A.call(g)},focus:()=>{var g,A;(g=h())===null||g===void 0||(A=g.focus)===null||A===void 0||A.call(g)},getContents:()=>{var g,A;return(g=h())===null||g===void 0||(A=g.getContents)===null||A===void 0?void 0:A.call(g)},getDisplayValue:()=>{var g,A;return(g=h())===null||g===void 0||(A=g.displayValue)===null||A===void 0?void 0:A.call(g)},getLength:()=>{var g,A;return(g=h())===null||g===void 0||(A=g.getLength)===null||A===void 0?void 0:A.call(g)},getSelection:()=>{var g,A;return(g=h())===null||g===void 0||(A=g.getSelection)===null||A===void 0?void 0:A.call(g)},getText:()=>{var g,A;return(g=h())===null||g===void 0||(A=g.value)===null||A===void 0?void 0:A.call(g)},hasFocus:()=>{var g,A;return(g=h())===null||g===void 0||(A=g.hasFocus)===null||A===void 0?void 0:A.call(g)},insertContentsAtCursor:function(){for(var g=arguments.length,A=new Array(g),y=0;y<g;y++)A[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.insertContentsAtCursor)===null||M===void 0||M.call(T,...A)},isEmpty:()=>{var g,A;return!!(!((g=h())===null||g===void 0||(A=g.isEmpty)===null||A===void 0)&&A.call(g))},isEnabled:()=>{var g,A;return!!(!((g=h())===null||g===void 0||(A=g.isEnabled)===null||A===void 0)&&A.call(g))},prependContents:g=>{var A,y;(A=h())===null||A===void 0||(y=A.prependContents)===null||y===void 0||y.call(A,g)},setContents:function(){for(var g=arguments.length,A=new Array(g),y=0;y<g;y++)A[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.setContents)===null||M===void 0||M.call(T,...A)},setCursor:function(){for(var g=arguments.length,A=new Array(g),y=0;y<g;y++)A[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.setCursor)===null||M===void 0||M.call(T,...A)},setCursorAtEnd:()=>{var g,A;(g=h())===null||g===void 0||(A=g.setCursorAtEnd)===null||A===void 0||A.call(g)},setText:function(){for(var g=arguments.length,A=new Array(g),y=0;y<g;y++)A[y]=arguments[y];var T,M;(T=h())===null||T===void 0||(M=T.value)===null||M===void 0||M.call(T,...A)},...u},()=>{delete o[E]}}c(a,"registerInputAuto");function i(_){let{viewContext:v,channelId:u,threadTs:h}=_;return o[`${v}-${u}-${h||void 0}`]}c(i,"getInputProxy");function m(_){if(!_||!(0,r.A)(_))return null;let v,u,h;return(0,d.A)(_,p=>p.getAttribute("data-message-input")?(v=p.getAttribute("data-channel-id"),u=p.getAttribute("data-thread-ts"),h=p.getAttribute("data-view-context"),!0):!1)?i({viewContext:h,channelId:v,threadTs:u}):null}c(m,"getProxyForElement");function l(){let{channelId:_,threadTs:v}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const u=`${_}-${v}`,h=Object.keys(o);return(0,t.A)(h,f=>(0,n.A)(f,u))}c(l,"isInputRegistered")},4394722864:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>t});const t=c(()=>null,"noopNull")},662226046:(Q,C,e)=>{"use strict";e.d(C,{R2:()=>f,bP:()=>p,ec:()=>T,fU:()=>y,p6:()=>I,qe:()=>M,x2:()=>P,yj:()=>D});var t=e(6858020025),n=e(3783303734),s=e(796111729),r=e(571104883),d=e(5795074931),o=e(8847766420),a=e(2872463257),i=e(3855029223);const m="notification:sent",l="notification:received",_="notification:opened",v="notification:quick_reply",u="notification:read_in_app",h=100;function f(L){try{return JSON.stringify(L)}catch(k){return(0,s.Wo)().warn("encodeNotificationTracePassthrough json stringify error",k),""}}c(f,"encodeNotificationTracePassthrough");function p(L){try{const{traceId:k,parentSpanId:G}=JSON.parse(L);return{traceId:k,parentSpanId:G}}catch(k){return(0,s.Wo)().warn("decodeNotificationTracePassthrough json parse error",k),{traceId:"",parentSpanId:""}}}c(p,"decodeNotificationTracePassthrough");function E(L){let{tracer:k,name:G,parentSpanId:b,traceId:W}=L;return k.createSpan({name:G,samplingOptions:{sampleType:a.nl.ALWAYS},options:{parentSpanId:b,traceId:W}})}c(E,"createSpan");function g(L){let{tracer:k,name:G,parentSpanId:b,traceId:W}=L;const B=E({tracer:k,name:G,parentSpanId:b,traceId:W});return B.close(),B}c(g,"createAndCloseSpan");function A(L,k){let{tracer:G,message:b}=k;const W=g({tracer:G,name:m}),B=(0,r.y3)()?"desktop":"browser",R=(0,d.WR)(L),j=(0,o.ZT)(L),w=(0,t.A)(b==null?void 0:b.ts,".",""),N=b==null?void 0:b.channel,K=`${R}-${N}-${w}`;return W.addTags({platform:B,encoded_user_id:R,encoded_team_id:j,encoded_channel_id:N,message_ts:w,notification_id:K}),W}c(A,"createAndCloseNotificationSentSpan");function y(L,k){let{message:G}=k;if(!G||!(G!=null&&G.ts)||!(G!=null&&G.channel))return;const b=(0,i.E)({state:L});let W,B;const R=[];if((G==null?void 0:G.type)==="desktop_notification"&&(G!=null&&G.trace_ctx))W=G.trace_ctx["x-b3-traceid"],B=G.trace_ctx["x-b3-spanid"];else{const w=A(L,{tracer:b,message:G});R.push(w),B=w.getId(),W=w.getTraceId()}const j=g({name:l,tracer:b,traceId:W,parentSpanId:B});return R.push(j),b.reportSpans(R),{traceId:W,parentSpanId:B}}c(y,"traceNotificationSentAndReceived");function T(L,k){let{notificationTracePassthroughData:G}=k;if(!G)return;const{traceId:b,parentSpanId:W}=G,B=(0,i.E)({state:L}),R=g({tracer:B,traceId:b,parentSpanId:W,name:_});B.reportSpans([R])}c(T,"traceNotificationOpened");function M(L,k){let{notificationTracePassthroughData:G,clientMsgId:b}=k;if(!G||!b)return;const{traceId:W,parentSpanId:B}=G,R=(0,i.E)({state:L}),j=g({tracer:R,traceId:W,parentSpanId:B,name:v});j.addTags({reply_message_client_message_id:b}),R.reportSpans([j])}c(M,"traceNotificationQuickReply");let O={};function I(L){return!!O[L]}c(I,"messageHasPendingNotificationTrace");function D(L,k){let{timestamp:G,notificationTracePassthroughData:b}=k;if(!b)return;(0,n.A)(O)>h&&((0,s.Ay)({state:L}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),O={});const{traceId:W,parentSpanId:B}=b,R=(0,i.E)({state:L}),j=E({tracer:R,traceId:W,parentSpanId:B,name:u});O[G]=j}c(D,"openNotificationReadSpan");function P(L,k){let{timestamp:G}=k;if(!G)return;const b=O[G];if(!b)return;const W=(0,i.E)({state:L});b.close(),W.reportSpans([b]),delete O[G]}c(P,"closeAndReportNotificationReadSpan")},5123689463:(Q,C,e)=>{"use strict";e.d(C,{Kk:()=>m,N_:()=>v,iu:()=>u,px:()=>a,rk:()=>i});var t=e(8786006583),n=e(9884588328),s=e(9022734571),r=e(2523456537),d=e(8234448831);function o(f){const{hostname:p,pathname:E,search:g}=f;if(!p||!E)return;const A=p.split("."),y=E.split("/").slice(1);if(!(0,r.A)(p)||y.length<2)return;const T=y[0];switch(T){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const M=A[0],O=(0,t.A)(g.split("?")),I=O&&(0,s.nT)(O);let D;return I&&I.thread_ts&&(D=I.thread_ts),{team:M,type:T,path:y,threadTs:D}}c(o,"parsePermalinkFromUrlObject");function a(f){return i((0,d.Ay)(f))}c(a,"getPermalinkIdentifier");function i(f){const p=o(f);if(!p)return;const{path:E}=p;return E?E&&E[1]:!1}c(i,"getPermalinkIdentifierFromUrlObject");function m(f){let{team:p,channelId:E,ts:g,threadTs:A}=f,y=E&&(0,n.Bn)({team:p,channelId:E,archive:!0});return E&&g&&(y+=`/p${g.replace(".","")}`),E&&g&&A&&A!==g&&(y+=`?thread_ts=${A}&cid=${E}`),y}c(m,"getXWSPermalink");function l(f){let{encodedSearchString:p}=f;return`/search/${p}`}c(l,"getSearchPermalink");function _(f,p){return`/archives/${f}/tabs/${p}`}c(_,"getChannelTabPermalink");function v(f){return`/create/channel/${f}`}c(v,"getChannelTemplatePermalink");function u(f){let{channelId:p,ts:E,threadTs:g}=f,A="/archives";return p&&(A+=`/${p}`),p&&E&&(A+=`/p${E.replace(".","")}`),p&&E&&g&&g!==E&&(A+=`?thread_ts=${g}&cid=${p}`),A}c(u,"getPermalink");var h=null},6979898962:(Q,C,e)=>{"use strict";e.d(C,{B:()=>s,I:()=>r.A});var t=e(3134334389),n=e(4757466470);let s=c(class extends t.Component{shouldComponentUpdate(o,a){return!(0,n.Ay)(o,this.props,2)||!(0,n.Ay)(a,this.state,2)}},"PureComponentDepth2");var r=e(8993095355)},8993095355:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3134334389),n=e(4757466470);let s=c(class extends t.Component{shouldComponentUpdate(d,o){return!(0,n.Ay)(d,this.props,3)||!(0,n.Ay)(o,this.state,3)}},"PureComponentDepth3")},7948868735:(Q,C,e)=>{"use strict";e.d(C,{F:()=>s});var t=e(6422693406),n=e(4615579178);class s extends n.l{fetchData(){return t.S.resolve()}onCacheData(d){super.onCacheData(d);const o=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*o)}getStaleWhileRevalidate(d){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?d:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}c(s,"AutocompleteCache")},1948374838:(Q,C,e)=>{"use strict";e.d(C,{X:()=>d});var t=e(2223860501),n=e(8847766420);let s=c(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(a){const i=this.queryCache.has(a);return this.clearIfStale(),i}containsPrefixOf(a){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(a)}add(a){return this.clearIfStale(),this.queryCache.add(a)}addAsPrefix(a){return this.clearPrefixIfStale(),this.prefixQueryCache.add(a)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function d(o){const a=(0,n.ZT)(o),m=(0,n.jV)(o)||a||"";return r[m]||(r[m]=new s),r[m]}c(d,"getWorkflowTriggersAutocompleteQueryCache")},6125148745:(Q,C,e)=>{"use strict";e.d(C,{O:()=>E,w:()=>f});var t=e(9706240641),n=e.n(t),s=e(6422693406),r=e(6987519067),d=e(9884588328),o=e(1407713935),a=e(8798294025),i=e(8040098042),m=e(926136447),l=e(9752307e3),_=e(9150404500),v=e(9101533895),u=e(2036289572),h=e(2505585477);function f(y,T){const M=(0,h.YR)(y),O=new RegExp(`\\b(${(0,_.av)().in}|in):(#([^\\s]+))`,"g"),I=l.dn.fromString(y,M),D={};return I.suggestionTokenList.forEach(L=>{if(L instanceof m.tT){const{id:k,name:G}=L.getRawIdAndNameForXwsChannelWorkaround();k&&(0,i.A)(k)&&G&&(D[G]||(D[G]=[]),D[G].push({id:k,name:G}))}}),T.replace(O,(L,k,G,b)=>{if(D[b]&&D[b].length>0){const{id:W,name:B}=D[b].shift()||{};return`${k}:<#${W}|${B}>`}return L})}c(f,"convertUserQueryXwsChannelStringsForXwsChannelWorkaround");function p(y,T){if((0,o.LI)(T))return`<@${(0,a.e)(T)}>`;const M=(0,d.SB)(y,T,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return M?`<#${T.id}|${M}>`:`<#${T.id}>`}c(p,"formatInChannelValue");function E(y,T,M){const O=T(),I={},D=[],P={};((0,h.Zi)(O)||[]).forEach(G=>{const b=(0,v.OL)(O,G);b&&D.push(b)});const k=new RegExp(`\\b(${(0,_.av)().in}|in):(#([^\\s]+))`,"g");return g(M,k,(G,b,W,B)=>{const R=D.find(w=>(0,d.mG)(w)===B&&!I[w.id]&&!P[w.id]);if(R)return I[R.id]=!0,P[R.id]=!0,s.S.resolve(`${b}:${p(O,R)}`);const j=(0,v.Os)(O,B);return j&&!I[j.id]?(I[j.id]=!0,s.S.resolve(`${b}:${p(O,j)}`)):y((0,r.$P)({query:B,options:{fuzzyLimit:0,limit:150,entities:{channels:{includeArchived:!0,includeFromAnotherTeam:!0}},sort:{frecency:!1}}})).then(w=>{const N=T(),K=B&&B.replace("#",""),J=w.find(q=>q.name===K&&!I[q.id]);if(!J)return`${b}:${W}`;I[J.id]=!0;const Y=(0,h.C6)(N).queryFilter;return Y.in=Array.from(new Set([...Y.in||[],J.id])),y((0,u.c3)({queryFilter:Y})),`${b}:${p(O,J)}`})})}c(E,"convertContentsStringForEncodedXwsChannels");function g(y,T,M){return A.apply(this,arguments)}c(g,"replaceAsync");function A(){return A=(0,t.coroutine)(function*(y,T,M){const O=[];y.replace(T,function(D){for(var P=arguments.length,L=new Array(P>1?P-1:0),k=1;k<P;k++)L[k-1]=arguments[k];const G=M(D,...L);return O.push(G),y});const I=yield s.S.all(O);return y.replace(T,()=>I.shift()||"")}),A.apply(this,arguments)}c(A,"_replaceAsync")},2825917518:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r,u:()=>s});var t=e(6030318713),n=e(9422011462);const s=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=c(class ks{normalizeAndScore(o){const a=(0,n.B)(o);return a===this.normalizedQuery?0:this.score(a)}score(o){if(!o||this.queryNoSeparators.length>o.replace(s,"").length||!ks.containsAllLetters(o,this.queryNode)||!this.queryNode)return 1/0;const i=ks.lettersToGraph(o,this.options);if(!i)return 1/0;const m=ks.searchWordBoundariesOnly(i,this.queryNode,this.options);if(!m)return 1/0;const l=ks.countResult(m);return l>this.fuzzyLimit?1/0:l}static scoreOnce(o,a,i){const m=(0,n.B)(a),l=(0,n.B)(o);return new ks(m,i).score(l)}static lettersToGraph(o,a){const i=o.split(""),m=i.shift();return ks.lettersToGraphWorker(m,null,i,[],0,a)}static lettersToGraphWorker(o,a,i,m,l){let _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!o)return null;const v=(0,t.A)(o),u=ks.makeLetterNode(o,a,m,l,v);if(ks.shouldAddJump(a,u,_)){const f=_.fuzzyJumpLimit||5;m.length<f&&m.push(u)}const h=ks.lettersToGraphWorker(i.shift(),u,i,m,l+1,_);return h&&(u.next=h),u}static shouldAddJump(o,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a.ignored?!1:!!(!o||o.ignored&&!a.ignored||i.fuzzyCJK&&(o.isCJK!==a.isCJK||a.isCJK))}static makeLetterNode(o,a,i,m,l){return{letter:o,ignored:o.match(s),next:null,prev:a,jumps:i,visited:!1,index:m,isCJK:l}}static queryToLinkedList(o){if(!o)return null;let a=o.split("");return a.length>1024&&(a=a.slice(0,1024)),ks.queryToLinkedListWorker(a,0)}static queryToLinkedListWorker(o,a){if(a>=o.length)return null;const i=o[a],m=!!(i.match(s)&&(a!==0||o.length>1));return{letter:i,isSeparator:m,isSpace:i===" ",next:ks.queryToLinkedListWorker(o,a+1),index:a}}static searchWordBoundariesOnly(o,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=ks.searchWordBoundariesOnlyWorker(o,a,0,i);return m||(m=o.jumps.reduce((l,_)=>l||_===o?l:ks.searchWordBoundariesOnlyWorker(_,a,1,i),null)),m}static searchWordBoundariesOnlyWorker(o,a,i){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!o||!a)return null;let l;if(!o.visited&&(o.letter===a.letter||o.ignored&&a.isSeparator)&&(l={node:o,count:i}),!l)return null;if(!a.next)return l;o.visited=!0;let _=ks.searchWordBoundariesOnlyWorker(o.next,a.next,0,m),v=a.next;for(;v.isSeparator&&v.next;)v=v.next;return _||(_=o.jumps.reduce((u,h)=>u||h.visited||h===o||(m.searchForwardOnly||m.substringsOnly)&&h.index<o.index||m.substringsOnly&&h.index>o.index+2?u:ks.searchWordBoundariesOnlyWorker(h,v,1,m),null)),o.visited=!1,_?(l.next=_,l):null}static countResult(o){return o?o.count+ks.countResult(o.next):0}static containsAllLetters(o,a){let i=a;for(;i;){if(!(i.isSeparator||o.includes(i.letter)))return!1;i=i.next}return!0}constructor(o,a={}){this.normalizedQuery=(0,n.B)(o),this.queryNode=ks.queryToLinkedList(this.normalizedQuery),this.options=a;var i;this.fuzzyLimit=(i=this.options.fuzzyLimit)!==null&&i!==void 0?i:1/0,this.queryNoSeparators=this.normalizedQuery.replace(s,"")}},"FuzzyMatcher")},8170659516:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(9884588328),n=e(8921478798),s=e(8701485242),r=e(5795074931);function d(o){let{state:a,mpim:i,matchData:m}=o;const l=(0,r.WR)(a);let _=[];if((0,t.Ug)(i)&&(_=(0,t.Ug)(i).filter(p=>l!==p)),!m)return _;const v=!1,u=!1,h=[];m.forEach(p=>{p.map(g=>({name:(0,n.I)(a,g.id,v,u),...g})).sort((g,A)=>g.score<A.score?1:g.score>A.score?-1:(0,s.Ay)(g.name,A.name)).filter(g=>isFinite(g.score)).forEach(g=>{_.includes(g.id)&&(h.push(g.id),_.splice(_.indexOf(g.id),1))})});const f=_.map(p=>({id:p,name:(0,n.I)(a,p,v,u)})).sort((p,E)=>(0,s.Ay)(p.name,E.name)).map(p=>p.id);return[...h,...f]}c(d,"getMemberDisplayOrderForSearcherMPIM")},220244708:(Q,C,e)=>{"use strict";e.d(C,{B:()=>r});var t=e(6495946979),n=e(8170643398),s=e(3730613858);function r(d,o,a){if((0,n.fy)(o))return(0,t.b)(a);const i=(0,s.Ql)(d,a.id,o.id);return!!(i.isKnown&&i.isMember)}c(r,"isUserKnownToBeMemberOfChannel")},1072784641:(Q,C,e)=>{"use strict";e.d(C,{A:()=>he});var t=e(7715417323),n=e(5729325965),s=e(1703559452),r=e(4249070636),d=e(5238395322),o=e(8086952004),a=e(2003990933),i=e(3037015781),m=e(8496310524),l=e(7111365413),_=e(9884588328),v=e(1407713935),u=e(8798294025),h=e(395285811),f=e(3890290905);const p=c(Ie=>Ie&&(Ie.displayName||Ie.display_name||(0,f.Y)(Ie)),"getEmojiDisplayName"),E=c(Ie=>Ie?(Ie.aliases?[Ie,...Ie.aliases]:[Ie]).map(me=>({name:(0,f.Y)(me),displayName:p(me)})):null,"getAllEmojiNameObjects");var g=e(8393662842),A=e(102566929),y=e(5455782105),T=e(8170643398),M=e(9262712126),O=e(6120301420),I=e(3212336858),D=e(6839188756),P=e(2023092677),L=e(1033870301),k=e(796111729),G=e(8088280230);const b={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var W=e(1917953477),B=e(2825917518),R=e(9422011462),j=e(8518663094),w=e(2332798892);const N=c(Ie=>(Ie||"").split(/\s+/)[0],"getFirstWord"),K=c(Ie=>["/","\uFF0F"].includes((Ie||"").charAt(0))?Ie:`/${Ie}`,"prependSlashToStr"),J=c(Ie=>((Ie||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var Y=e(8847766420),q=e(2762206868),H=e(9101533895),ne=e(4761125736),te=e(8276911661),le=e(3677514771);let he=c(class{filterMembers(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if((0,T.Zx)(V)||this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery){const F={item:V,score:0,id:V.id};return this.selfFirst&&(0,T.fy)(V)&&(F.isSelf=!0),X.push(F),X}const{score:x,scoreDetails:S}=this.scoreMember(V),U={item:V,score:x,scoreDetails:S,id:V.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(U.isExactMatch=this.isMemberExactMatch(V),U.exactMatchDetails=this.getMemberExactMatchDetails(V)),this.selfFirst&&(0,T.fy)(V)&&(U.isSelf=!0),x<=this.fuzzyLimit&&X.push(U),X},[])}scoreMember(Ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const ce=1/0,X={};if(this.queryIsMaybeSelf&&(0,T.fy)(Ee))X.self_score=0;else{const U=(0,M.j_)(Ee),F=(0,M.sJ)(Ee);X.real_name=U?me.score(U):ce,X.display_name=F?me.score(F):ce}if(this.shouldMatchEmail){const U=(0,M.ZL)(Ee);X.email=U?this.forwardOnlyMatcher.score(U):1/0}var V;const x=(V=(0,n.A)(Object.values(X)))!==null&&V!==void 0?V:ce,S=Object.entries(X).reduce((U,F)=>{let[Z,z]=F;return isFinite(z)&&(U[Z]=z),U},{});return{score:x,scoreDetails:S}}filterChannels(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if((0,v.PC)(V)||(0,v.Zx)(V)||(0,h.jT)(V)||this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=(0,R.B)((0,_.SB)(Ee,V,{publicChannelIncludeHashSign:!1})),S=this.matcher.score(x),U={item:V,score:S,id:V.id};this.preferExactMatch&&(U.isExactMatch=this.isChannelExactMatchPreNormalized(x));const F=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,Z=V.previous_names&&V.previous_names.length;let z=!1;if(F&&Z){var $;const ee=V==null||($=V.previous_names)===null||$===void 0?void 0:$.map(ue=>({score:this.matcher.normalizeAndScore(ue),name:ue}));U.previousNameScores=ee,z=(0,s.A)(ee,ue=>ue.score<=this.fuzzyLimit);const de=z&&S>this.fuzzyLimit;let ie;if(de){const ue=(0,r.A)(ee,"score");ie=ue&&ue.name}U.bestPreviousNameMatch=ie}return S<=this.fuzzyLimit||z?X.push(U):this.rawQuery===V.id&&X.push({item:V,score:0,id:V.id}),X},[])}filterTeams(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if((0,D.Zx)(V)||this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.matcher.normalizeAndScore((0,D.F1)(V)),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isTeamExactMatch(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}filterUserGroups(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if((0,P.Zx)(V)||this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.scoreUserGroupName(V),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isUsergroupExactMatch(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}scoreUserGroupName(Ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ce=1/0,X=1/0;const V=(0,P.TZ)(Ee)||(0,P.ue)(Ee).toLocaleLowerCase(),x=(0,P.x_)(Ee,{includeAtSign:!1});return ce=me.normalizeAndScore(V),x&&(X=me.normalizeAndScore(x)),Math.min(ce,X)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(me=>!!me).map(me=>{const ce=me.charAt(0)==="@"?me.substring(1):me;return new B.A(ce,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=(0,_.Ug)(V);if(!x)return X;const S=x.map(ie=>(0,te.nv)(Ee,ie)).filter(ie=>!(0,T.fy)(ie)&&!(0,T.Zx)(ie)),U={},F={},Z=[];let z=0;const $=this.getSubQueryMatchers();for(const ie of $){const ue=[];let fe=1/0;for(const re of S){const{score:_e,scoreDetails:Ue}=this.scoreMember(re,ie),ye=U==null?void 0:U[re.id];_e<(ye!==void 0?ye:1/0)&&(U[re.id]=_e,F[re.id]={score_details:Ue}),ue.push({id:re.id,score:_e}),_e<fe&&(fe=_e)}Z.push(ue),z+=fe}let ee;isFinite(z)?ee=(0,d.A)(Object.values(U).filter(isFinite)):ee=z;const de={id:V.id,item:V,score:ee,scoreDetailsByMember:F,subqueryScoresByMember:Z};return ee<=this.fuzzyLimit?X.push(de):this.rawQuery===V.id&&X.push({item:V,score:0,id:V.id}),X},[])}filterIms(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;const x=(0,u.e)(V);if(!x)return X;const S=(0,te.nv)(Ee,x);if((0,T.Zx)(S))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const{score:U,scoreDetails:F}=this.scoreMember(S),Z={item:V,score:U,scoreDetails:F,id:V.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(Z.isExactMatch=this.isMemberExactMatch(S),Z.exactMatchDetails=this.getMemberExactMatchDetails(S)),U<=this.fuzzyLimit?X.push(Z):this.rawQuery===V.id&&X.push({item:V,score:0,id:V.id}),X},[])}filterViews(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.matcher.normalizeAndScore(V.name),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isViewOrModalExact(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}filterModals(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.matcher.normalizeAndScore(V.name),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isViewOrModalExact(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}filterAppActions(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if((0,i.GU)(V)||this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=(0,m.u)(V),S=(0,q.sO)(Ee,V.app_id),U=!(0,i.GU)(S)&&(0,l.fj)(S),F=U?[`${x} ${U}`,`${U} ${x}`]:[x],Z=F.map(ee=>this.matcher.normalizeAndScore(ee)),z=Math.min(...Z),$={item:V,score:z,id:V.id};return this.preferExactMatch&&($.isExactMatch=!!(this.query&&F.map(R.B).includes(this.query))),z<=this.fuzzyLimit&&X.push($),X},[])}filterApps(Ee,me,ce,X){let V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const x={};return me!=null&&me.length&&me.forEach(S=>{const U=S.app_id;U&&!x[U]&&(x[U]={id:U,name:S.appName})}),ce!=null&&ce.length&&ce.forEach(S=>{const U=S==null?void 0:S.appId;U&&!x[U]&&(x[U]={id:U,name:S==null?void 0:S.appName})}),X!=null&&X.length&&X.forEach(S=>{const U=S.appId;U&&!x[U]&&(x[U]={id:U,name:S.appName})}),this.filterShortcuts(Ee,Object.values(x),!1,V)}filterShortcuts(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return me.reduce((V,x)=>{if((0,i.GU)(x)||this.shouldFilterItem(x,X))return V;if(!this.query&&this.allowEmptyQuery)return V.push({item:x,score:0,id:x.id}),V;const{score:S,scoreDetails:U,bestNameMatch:F,bestNameIsExactMatch:Z}=this.scoreShortcut(x,ce),z={item:x,id:x.id,score:S};if(ce){z.firstWordOfRawQuery=N(this.query);const $=(0,w.A)(x,K(z.firstWordOfRawQuery),{allowPartialMatches:!1});z.commandMatch=$&&this.isOpenedWithSlash,z.isExactMatch=z.commandMatch}return z.scoreDetails=U,z.bestNameMatch=F,z.bestNameIsExactMatch=Z,z.isExactMatch=z.isExactMatch||Z,(S<=this.fuzzyLimit||z.commandMatch)&&V.push(z),V},[])}scoreShortcut(Ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const X=this.isQueryExactlySlash?[]:Ee.aliases||[];let V=(0,R.B)((0,I.fK)(Ee));const x={name:ce.score(V),label:ce.normalizeAndScore(Ee.label),desc:ce.normalizeAndScore((0,I.Hv)(Ee)),app_name:ce.normalizeAndScore((0,I.qA)(Ee))};me&&x.name!==void 0&&x.name>0&&(x.name-=1);let S,U,F;X.forEach(ee=>{let de=(0,R.B)(ee);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(de=(0,W.O)(de));const ie=ce.score(de);de=(0,W.O)(de),!F&&(S===void 0||ie<S)&&(S=ie,U=de),this.normalizedQuery===de&&(F=!0,U=de)}),S!==void 0&&isFinite(S)&&(x.aliases=S);var Z;const z=(Z=(0,n.A)(Object.values(x)))!==null&&Z!==void 0?Z:1/0;V=(0,W.O)(V),!F&&isFinite(x.name)&&(S===void 0||x.name<S)&&(U=V),this.normalizedQuery===V&&(F=!0,U=V);const $=Object.entries(x).reduce((ee,de)=>{let[ie,ue]=de;return isFinite(ue)&&(ee[ie]=ue),ee},{});return{score:z,scoreDetails:$,bestNameMatch:U,bestNameIsExactMatch:F}}filterWorkflowTriggers(Ee,me){return me.reduce((ce,X)=>{if(!this.query&&this.allowEmptyQuery)return ce.push({item:X,score:0,id:X.id}),ce;const V=this.scoreWorkflowTrigger(X),x={item:X,score:V,id:X.id};return this.preferExactMatch&&(x.isExactMatch=this.isTriggerExactMatch(X)),V<=this.fuzzyLimit&&ce.push(x),ce},[])}scoreWorkflowTrigger(Ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;var ce;const X={name:me.normalizeAndScore(Ee.name),description:me.normalizeAndScore(Ee.description),appName:me.normalizeAndScore((ce=Ee.workflow.app)===null||ce===void 0?void 0:ce.name)};var V;return(V=(0,n.A)(Object.values(X)))!==null&&V!==void 0?V:1/0}filterBroadcastKeywords(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.scoreBroadcastKeyword(V),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isBroadcastKeywordExactMatch(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}scoreBroadcastKeyword(Ee){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,ce=1/0,X=1/0;const V=me.normalizeAndScore(Ee.name);return Ee.id==="BKchannel"&&(ce=me.normalizeAndScore("group")),Ee.ms_name!==Ee.name&&(X=me.normalizeAndScore(Ee.ms_name)),Math.min(V,X,ce)}filterEmoji(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const X=[];return me.forEach(V=>{if(this.shouldFilterItem(V,ce))return;if(!this.query&&this.allowEmptyQuery){var x;X.push({item:V,emojiScore:0,emojiMatchIndices:[],score:0,id:(x=V.id)!==null&&x!==void 0?x:V.name});return}var S;const U=(S=E(V))!==null&&S!==void 0?S:[];let F=1/0,Z,z,$,ee,de,ie;U.forEach(ye=>{let{name:Te,displayName:ge}=ye;if(Te){const Ae=(0,R.B)(Te),Re=this.scoreEmojiName(Ae);(Re.score<F||F===1/0)&&(F=Re.score,Z=Re.matchIndices,z=Te,$=Te,de=Re.queryLengthRatio,ie=Re.totalComboBreaks,ee=this.query===Ae||Te==="ok_hand"&&this.query==="ok")}if(ge&&ge!==Te){const Ae=(0,R.B)(ge),Re=this.scoreEmojiName(Ae);(Re.score<F||F===1/0)&&(F=Re.score,Z=Re.matchIndices,z=ge,$=Te,de=Re.queryLengthRatio,ie=Re.totalComboBreaks,ee=this.query===Ae)}});const ue=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,fe=V.keywords,re=!!(fe&&fe.length&&Array.isArray(fe));fe&&fe.length&&!Array.isArray(fe)&&(0,k.Ay)({state:Ee}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${V.name} is not an array - ${V.keywords}`);let _e=!1;if(F===1/0&&ue&&re&&(_e=V.keywords.some(ye=>this.matcher.normalizeAndScore(ye)<1/0),_e&&(z=V&&(V.displayName||V.name))),F!==1/0||_e){const ye=(0,o.A)(U,Ae=>{let{name:Re}=Ae;return Re===$}),Te=ye&&ye.displayName;var Ue;const ge={item:V,score:F,emojiScore:F,emojiBestNameMatch:z,emojiBestNameMatchCanonical:$,emojiBestNameMatchLocalized:Te,emojiMatchIndices:Z,emojiQueryLengthRatio:de,emojiTotalComboBreaks:ie,id:(Ue=V.id)!==null&&Ue!==void 0?Ue:V.name};this.preferExactMatch&&(ge.isExactMatch=ee,ge.isEmojiExactMatch=ee),X.push(ge)}}),X}scoreEmojiName(Ee){const me={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!Ee)return me;if(Ee==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(b[this.query]&&b[this.query].indexOf(Ee)!==-1)return me;const ce=this.query.length,X=[];let V=2,x=5;ce<3?(V=0,x=0):ce===3?(V=1,x=1):ce===4&&(V=1);let S=1/0,U=0,F=null,Z=Ee.indexOf(this.query);if(Z===-1&&(Z=Ee.indexOf(this.query[0])),Z!==-1){const z=/\s+/g,$=/[-]+/g,ee=this.query.replace(z,"").replace($,"_"),de=Ee.replace($,"_"),ie=ee.split("");F=0;let ue=0,fe=0,re=!0;for(let _e=Z;_e<de.length;_e++){if(de[_e]===ie[0]){if(re=!0,X.push(_e),ie.shift(),fe>ue&&(ue=fe),fe=0,ie.length===0)break}else re&&(F+=1),re=!1,fe+=1;if(F>V)return{score:S,matchIndices:X,queryLengthRatio:U,totalComboBreaks:F};if(fe>x)return{score:S,matchIndices:X,queryLengthRatio:U,totalComboBreaks:F}}if(ie.length>0)return me;U=ee.length/de.length,S=1-U,F>0&&(S+=F)}return{score:S,matchIndices:X,queryLengthRatio:U,totalComboBreaks:F}}filterFiles(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const X=(0,O.hq)(Ee),V=(0,Y.Kc)(Ee),x=(0,le._J)(Ee,V),S=(0,y.k)(Ee),U=x&&(0,D.qR)(x),F=!S&&!U,Z=(0,ne._Z)(Ee,"native_dlp_canvas")==="on";return me.reduce((z,$)=>{var ee,de;if((0,i.GU)($)||(0,g.sR)($))return z;const ie=(ee=this.options)===null||ee===void 0||(de=ee.entities)===null||de===void 0?void 0:de.files,ue=!!(ie!=null&&ie.includeChannelCanvases)||!!(ie!=null&&ie.onlyChannelCanvases);if($&&(0,g.aD)($)&&!ue)return z;const fe=$&&(0,g.CA)($),re=$==null?void 0:$.user_team,_e=re?(0,le._J)(Ee,re):null;var Ue;const Te=((Ue=(0,D.Ss)(_e??void 0))!==null&&Ue!==void 0?Ue:re)!==V;if(fe&&(Te||F)||Z&&(0,g.Sp)($)||$&&X&&(ie!=null&&ie.onlyChannelCanvases||F)&&(0,g.wL)($)||this.shouldFilterItem($,ce))return z;if(!this.query&&this.allowEmptyQuery)return z.push({item:$,score:0,id:$.id}),z;const ge=this.scoreFile(Ee,$),Ae={item:$,score:ge,id:$.id};return this.preferExactMatch&&(Ae.isExactMatch=this.isFileExactMatch($)),ge<=this.fuzzyLimit&&z.push(Ae),z},[])}scoreFile(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const X=me.name?ce.normalizeAndScore(me.name):1/0,V=me.title&&me.name!==me.title?ce.normalizeAndScore(me.title):1/0,S=(0,ne._Z)(Ee,"top_engaged_files_autocomplete")==="on"?(0,G.A)({input:this.query}).length>0:!0,U=me.external_url&&S?ce.normalizeAndScore(me.external_url):1/0,F=me.permalink&&S?ce.normalizeAndScore(me.permalink):1/0;let Z=1/0;if((0,g.aD)(me)){const z=(0,A.Iz)(me),$=(0,H.OL)(Ee,z);if($){const ee=(0,R.B)((0,_.SB)(Ee,$,{publicChannelIncludeHashSign:!1}));Z=this.matcher.score(ee)}}return Math.min(X,V,U,F,Z)}filterLists(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.scoreList(V),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isListExactMatch(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}scoreList(Ee){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(Ee.title)}filterListRecords(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce)||!V.name||!V.listTitle)return X;if(!this.query&&this.allowEmptyQuery)return X.push({item:V,score:0,id:V.id}),X;const x=this.scoreListRecord(V),S={item:V,score:x,id:V.id};return this.preferExactMatch&&(S.isExactMatch=this.isListRecordExactMatch(V)),x<=this.fuzzyLimit&&X.push(S),X},[])}scoreListRecord(Ee){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(Ee.name)}filterChannelSections(Ee,me){let ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return me.reduce((X,V)=>{if(this.shouldFilterItem(V,ce))return X;const x=(0,L.v2)(Ee,V),S=this.matcher.normalizeAndScore(x),U={item:V,score:S,id:V.id};return!this.query&&this.allowEmptyQuery?(X.push(U),X):(S<=this.fuzzyLimit&&X.push(U),X)},[])}shouldFilterItem(Ee,me){return me(Ee)===!1||this.filter(Ee)===!1}getMemberExactMatchDetails(Ee){const me={},ce=(0,M.j_)(Ee),X=(0,M.sJ)(Ee);return me.real_name=ce===this.query,me.display_name=X===this.query,this.shouldMatchEmail&&(me.email=(0,M.ZL)(Ee)===this.query),me}isMemberExactMatch(Ee){return!this.query||!this.query.length?!1:(0,s.A)(this.getMemberExactMatchDetails(Ee),Boolean)}isChannelExactMatchPreNormalized(Ee){return!this.query||!this.query.length?!1:Ee===this.query}isFileExactMatch(Ee){if(!this.query||!this.query.length)return!1;var me,ce;return(0,R.B)(Ee.name)===this.query||(0,R.B)(Ee.title)===this.query||(0,R.B)((me=Ee.external_url)!==null&&me!==void 0?me:void 0)===this.query||(0,R.B)((ce=Ee.permalink)!==null&&ce!==void 0?ce:void 0)===this.query}isListExactMatch(Ee){return!this.query||!this.query.length?!1:(0,R.B)(Ee.title)===this.query}isListRecordExactMatch(Ee){return!this.query||!this.query.length?!1:(0,R.B)(Ee.name)===this.query}isTeamExactMatch(Ee){return!this.query||!this.query.length?!1:(0,R.B)((0,D.F1)(Ee))===this.query}isUsergroupExactMatch(Ee){return!this.query||!this.query.length?!1:(0,R.B)((0,P.x_)(Ee))===this.query||(0,R.B)((0,P.ue)(Ee))===this.query}isTriggerExactMatch(Ee){return!this.query||!this.query.length?!1:(0,R.B)(Ee.name)===this.query}isBroadcastKeywordExactMatch(Ee){return!this.query||!this.query.length?!1:(0,R.B)(Ee.name)===this.query||(0,R.B)(Ee.ms_name)===this.query}isViewOrModalExact(Ee){return!this.query||!this.query.length?!1:(0,R.B)(Ee.name)===this.query}filterHelpArticles(Ee,me){const X=me.reduce((V,x)=>{const S=(0,R.B)(x.title),U=this.substringMatcher.normalizeAndScore(x.title);return U>this.fuzzyLimit?V:V.concat({item:{...x,id:String(x.id)},score:U,isExactMatch:S===this.query,id:String(x.id)})},[]).sort((V,x)=>V.score-x.score);return X.slice(0,Math.min(5,X.length))}filterSalesforceRecordSuggestions(Ee,me){const X=me.reduce((V,x)=>{const S=x.label;if(!S)return V;const U=(0,R.B)(S),F=this.substringMatcher.normalizeAndScore(U);if(F>this.fuzzyLimit)return V;const Z=x.id;return V.concat({item:{...x,name:S,recordType:x.objectType},score:F,isExactMatch:U===this.query,id:Z})},[]).sort((V,x)=>V.score-x.score);return X.slice(0,Math.min(5,X.length))}filterSalesListViews(Ee,me){return me.reduce((X,V)=>{const x=V.label;if(!x)return X;const S=(0,R.B)(x),U=this.substringMatcher.normalizeAndScore(S);if(U>this.fuzzyLimit)return X;const F=V.id;return X.concat({item:{...V,id:F,name:x},score:U,isExactMatch:S===this.query,id:F})},[])}constructor({query:Ee="",options:me={entities:{}}}){var ce,X,V,x,S,U,F,Z,z,$,ee,de,ie;this.options=me,this.rawQuery=Ee,this.query=(0,R.B)(Ee);var ue;this.fuzzyLimit=(ue=this.options.fuzzyLimit)!==null&&ue!==void 0?ue:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((ce=this.options)===null||ce===void 0||(X=ce.sort)===null||X===void 0)&&X.avoidExactMatchForMembers),this.selfFirst=!!(!((V=this.options)===null||V===void 0||(x=V.sort)===null||x===void 0)&&x.selfFirst),this.filter=this.options.filter||t.A,this.shouldMatchEmail=(0,a.A)(this.options,"entities.members.matchEmailField")||(0,a.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,j.t)(Ee),this.normalizedQuery=this.query,!((S=this.options)===null||S===void 0||(U=S.entities)===null||U===void 0||(F=U.shortcuts)===null||F===void 0)&&F.queryStartsWithSlash&&(this.query=K(this.query)),this.matcher=new B.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.forwardOnlyMatcher=new B.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new B.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((Z=this.options)===null||Z===void 0||(z=Z.entities)===null||z===void 0||($=z.shortcuts)===null||$===void 0)&&$.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((ee=this.options)===null||ee===void 0||(de=ee.entities)===null||de===void 0||(ie=de.shortcuts)===null||ie===void 0)&&ie.isQueryExactlySlash)}},"SearcherMatcher")},1399977320:(Q,C,e)=>{"use strict";e.d(C,{A:()=>y});var t=e(3367239067),n=e(1703559452),s=e(7264301376),r=e(129753175),d=e(9884588328),o=e(1407713935),a=e(6007206761),i=e(6495946979),m=e(8170643398),l=e(3534324375),_=e(6839188756),v=e(9190452268),u=e(8701485242),h=e(181849556),f=e(220244708),p=e(5795074931),E=e(9101533895),g=e(8276911661);const A={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let y=c(class{sort(M,O){var I;const D=(0,v.Cy)({state:M});D.mark("modern-searcher-sorting-mark");const{members:P,channels:L,mpims:k,ims:G,teams:b,userGroups:W,emoji:B,broadcastKeywords:R,views:j,modals:w,appActions:N,channelSections:K,emails:J,files:Y,lists:q,listRecords:H,slashCommands:ne,slackGlobalActions:te,quipShortcutCommands:le,channelActions:he,fakeGlobalActions:Ie,callActions:Ee,apps:me,helpArticles:ce,salesforceRecords:X,workflowTriggers:V,salesListViews:x}=O,S={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};L&&L.reduce((ee,de)=>(0,a.F)(de.item)?(ee.archivedChannels.push(de),ee):((0,i.b)(de.item)?ee.memberChannels.push(de):ee.nonmemberChannels.push(de),ee),S);let U=[...P||[],...S.memberChannels,...k||[],...G||[],...B||[],...W||[],...R||[],...j||[],...w||[],...N||[],...K||[],...J||[],...Y||[],...q||[],...H||[],...Ee||[],...he||[],...Ie||[],...me||[],...ce||[],...V||[],...X||[],...x||[]],F=[...S.nonmemberChannels,...b||[],...ne||[],...te||[],...le||[]],Z=S.archivedChannels;const z=this.getSortFuzzyFunction(M,{localeAware:!0});this.options.flat||(U=this.precomputeMatchNames(M,U).sort(z),F=this.precomputeMatchNames(M,F).sort(z),Z=this.precomputeMatchNames(M,Z).sort(z));let $=[...U,...F,...Z];return this.options.flat&&$.sort(z),this.options.preferExactMatch&&($=[...(0,t.A)($,de=>de.isExactMatch),...$]),this.options.frecency&&(this.options.normalize=!0,D.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?$=(0,h.jW)(M,{query:this.query,list:$,bonusPoints:this.getFrecencyBonusPointsFunction(M)}):$=(0,h.Zh)(M,{query:this.query,list:$,bonusPoints:this.getFrecencyBonusPointsFunction(M)}),D.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((I=$[0])===null||I===void 0)&&I.isSelf)&&($=[...(0,t.A)($,de=>de.isSelf),...$]),D.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),$}precomputeMatchNames(M,O){return O.map(I=>({...I,name:this.getNameForComparison(M,I)}))}getSortFuzzyFunction(M,O){let{localeAware:I}=O;return(D,P)=>{if((0,o.yz)(D.item)&&!(0,o.yz)(P.item))return 1;if((0,o.yz)(P.item)&&!(0,o.yz)(D.item)||(0,o.LI)(D.item)&&!(0,o.LI)(P.item))return-1;if((0,o.LI)(P.item)&&!(0,o.LI)(D.item))return 1;if(!(0,o.yz)(D.item)&&!(0,o.yz)(P.item)){const R=D.score-P.score;if(R!==0)return R}if((0,o.yz)(D.item)&&(0,o.yz)(P.item)){const R=D.score-P.score;if(R!==0)return R;var L,k;const j=((L=(0,d.N4)(D.item))!==null&&L!==void 0?L:0)-((k=(0,d.N4)(P.item))!==null&&k!==void 0?k:0);if(j!==0)return j}var G;const b=(G=D.name)!==null&&G!==void 0?G:"";var W;const B=(W=P.name)!==null&&W!==void 0?W:"";return I?(0,u.Ay)(b,B):b>B?1:B>b?-1:0}}getFrecencyBonusPointsFunction(M){return O=>{var I,D;const{item:P}=O,L={};if((0,o.yz)(P)){if(L.isMpim=0,this.options.preferMpimsWithActiveMembers){const k=(0,d.Ug)(P);if(!k)return L;const G=k.map(b=>(0,g.nv)(M,b));(0,n.A)(G,b=>(0,m.oy)(b)||(0,m.eJ)(b))&&(L.isMpimWithDeactivatedMember=A.mpimWithDeactivatedMember)}return L}if(O.isExactMatch?(L.isExactMatch=A.exactMatch,O.isEmojiExactMatch&&(L.isEmojiExactMatch=A.exactMatch)):O.emojiScore?L.emojiScoreBonus=this.calculateNormalizedFuzzyBonusPoints(O,"emojiScore",A.emojiMatch):(0,a.F)(P)||(0,m.oy)(P)||(0,m.eJ)(P)||(L.fuzzyScoreBonus=this.calculateNormalizedFuzzyBonusPoints(O,"score",A.fuzzyMatch)),O.bestPreviousNameMatch&&(L.onlyMatchesPreviousName=A.matchesPreviousName),this.options.preferChannelMembers&&P.presence&&this.options.currentChannel&&(0,f.B)(M,P,this.options.currentChannel)&&(L.isMemberOfThisChannel=A.memberOfThisChannel),(0,o.jq)(P)&&(0,d.m2)(M,P)&&(L.isStarred=A.starredChannel),(0,m.NB)(P)){const k=(0,E.Pu)(M,P.id);k&&(0,d.m2)(M,k)&&(L.isStarred=A.starredChannel)}return P.is_emoji&&(P.name==="thumbsup"||P.name==="point_up")&&(L.isPopularEmojiVariant=A.popularEmoji),this.options.selfFirst&&(0,m.fy)(P)&&(L.isSelf=A.isSelf),this.options.preferChannelWorkflows&&P.type==="channel_action"&&P.channelId===((I=this.options)===null||I===void 0||(D=I.currentChannel)===null||D===void 0?void 0:D.id)&&(L.isWorkflowAssociatedWithChannel=A.workflowAssociatedWithChannel),((0,o.rW)(P)||(0,o.Zp)(P))&&((0,a.F)(P)&&(L.isArchived=A.archivedChannel),(0,o.rW)(P)&&this.options.preferChannelsUserBelongsTo&&!(0,a.F)(P)&&!(0,i.b)(P)&&(L.isNotChannelMember=A.notInChannel),(0,p.u8)(M)&&(0,d.lo)(P)&&(L.isChannelFromAnotherTeam=A.channelFromAnotherTeam)),(0,m.NB)(P)&&((0,m.oy)(P)||(0,m.eJ)(P))&&(L.isDeactivatedMember=A.deactivatedMember),(P.is_usergroup||P.is_broadcast_keyword)&&(L.isUserGroupOrKeyword=A.userGroupOrKeyword),L}}calculateNormalizedFuzzyBonusPoints(M,O,I){const D=M[O];if(!(0,s.A)(D))return 0;const P=.5**D;return Math.round(I*P)}getNameForComparison(M,O){let I;const D=O.item;return(0,o.yz)(D)?I=D.name_normalized:(0,o.mz)(D)?I=(0,r.A)((0,d.SB)(M,D,{publicChannelIncludeHashSign:!1})):(0,m.NB)(D)?I=(0,l.sE)(M,D):D.is_usergroup?I=D.handle||D.name:D.team_name?I=(0,r.A)((0,_.F1)(D)):D.isEmail?I=(0,r.A)(D.value):D.title?I=D.title:I=D.name,I}constructor({query:M,options:O={}}){this.options=O,this.query=M}},"SearcherSorter")},9868740303:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ee});var t=e(8571983633),n=e(9746734072),s=e(9113979368),r=e(897091071),d=e(7715417323),o=e(1703559452),a=e(2141441167),i=e(5503876160),m=e(6422693406),l=e(2664504268),_=e(7599421656),v=e(6987519067),u=e(9552526132),h=e(4423055085),f=e(5613323535),p=e(1197508738),E=e(5455782105),g=e(3212336858),A=e(9931116838),y=e(411655882),T=e(2229186),M=e(6244014364),O=e(2689960678),I=e(82287009),D=e(9190452268),P=e(5770715593),L=e(6030318713),k=e(4096483543),G=e(6471801899),b=e(1917953477),W=e(1072784641),B=e(1399977320),R=e(8956261571),j=e(8847766420),w=e(4119164726),N=e(6533394955),K=e(6451390137),J=e(2854654447),Y=e(9107158149),q=e(7688940281),H=e(2235302340),ne=e(9101533895),te=e(6728717861),le=e(7600673124),he=e(3829348308),Ie=e(4761125736),Ee=e(937317117),me=e(761034736),ce=e(4224126550),X=e(9706240641),V=e(1031947056),x=e(9174292896);const S=(0,V.Ay)("Fetch list records for lists mentions",function(){var de=(0,X.coroutine)(function*(ie,ue,fe){let{query:re}=fe;const _e=(0,G.V3)(re);if(!_e)return;const{listTitle:Ue}=_e,ye=(0,ce.Mr)(ue()),Te=(0,G.xL)(ye,Ue);if(!Te)return;const ge=Te.id;yield ie((0,x.D)({listId:ge}))});return function(ie,ue,fe){return de.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var U=e(4525672255),F=e(8276911661),Z=e(1835177371);class z{search(ie){let{query:ue,options:fe}=ie;var re;if(this.maybeStartSession(ue),((0,t.A)(ue)||!ue.length)&&!fe.allowEmptyQuery)return m.S.resolve(O.Ml);if((0,n.A)(ue))return this.bulkSearch({queryRecords:ue,options:fe});const _e=(0,N.getStateByTeamId)(this.teamId),Ue=(0,D.Cy)({state:_e}),ye=(0,l.A)();Ue.mark(`modern-searcher-search-mark-${ye}`);const Te=(0,b.O)(ue??"");f.LI.start({label:f.gC.Searcher,id:ye,options:{teamId:(0,j.ZT)(_e),tags:this.getTraceTags({query:Te,options:fe})}});const ge=(re=f.LI.get({label:f.gC.Searcher,id:ye}))===null||re===void 0?void 0:re.createChildSpan({name:"searcher:search"}),Ae=(0,v.aw)(fe,v.lp,ue);if((0,s.A)(Ae))return m.S.resolve(O.Ml);if((0,p.x)(_e)!==te.M9.ONLINE||!(fe!=null&&fe.allowEmptyQueryRemoteSearch)&&!Te.length&&(0,k.A)()&&(0,Ie._Z)(_e,"searcher_local_empty_string")==="treatment"&&!fe.entities.lists)return m.S.resolve(this.searchLocal({query:Te,options:Ae,autoTraceId:ye,parentSpanId:ge==null?void 0:ge.getId()}));const Re=this.fetchRemote({query:Te,options:Ae,autoTraceId:ye,parentSpanId:ge==null?void 0:ge.getId()}).then(Be=>this.processFetchedEntities({query:Te,data:Be,options:Ae,autoTraceId:ye,parentSpanId:ge==null?void 0:ge.getId()}));if(Ae.tiered){const Be=this.searchLocal({query:Te,options:Ae,autoTraceId:ye,parentSpanId:ge==null?void 0:ge.getId()});return Be.promise=Re.finally(()=>{ge==null||ge.close(),f.LI.stop({label:f.gC.Searcher,id:ye})}),m.S.resolve(Be).finally(()=>{Ue.measureAndClear(`modern-searcher-search-mark-${ye}`,"modern-searcher-search-tiered")})}return Re.finally(()=>{Ue.measureAndClear(`modern-searcher-search-mark-${ye}`,"modern-searcher-search"),ge==null||ge.close(),f.LI.stop({label:f.gC.Searcher,id:ye})})}flattenResultsWithQueryId(ie){let{returnedResults:ue,queryIds:fe}=ie;const re=ue;for(let _e=0;_e<ue.length;_e++)for(let Ue=0;Ue<ue[_e].length;Ue++)re[_e][Ue].queryId=fe[_e];return(0,r.A)(re)}bulkSearch(ie){let{queryRecords:ue,options:fe}=ie;const re=(0,N.getStateByTeamId)(this.teamId),_e=(0,D.Cy)({state:re}),Ue=(0,l.A)();_e.mark(`modern-searcher-search-mark-${Ue}`);const ye=(0,v.aw)(fe,v.lp,"");if((0,s.A)(ye))return m.S.resolve(O.Ml);const Te=ue.map(se=>se.query),ge=ue.map(se=>se.queryId),Ae=Te.map(se=>(0,b.O)(se));let Re,Be;if((0,p.x)(re)!==te.M9.ONLINE)return Be=Ae.map(se=>this.searchLocal({query:se,options:ye})),Re=this.flattenResultsWithQueryId({returnedResults:Be,queryIds:ge}),m.S.resolve(Re);const ke=this.fetchRemote({query:Ae,options:ye}).then(se=>(Be=se.map((ve,Me)=>this.processFetchedEntities({query:Ae[Me],data:ve,options:ye})),this.flattenResultsWithQueryId({returnedResults:Be,queryIds:ge})));return ye.tiered?(Be=Ae.map(se=>this.searchLocal({query:se,options:ye})),Re=this.flattenResultsWithQueryId({returnedResults:Be,queryIds:ge}),Re.promise=ke,m.S.resolve(Re).finally(()=>{_e.measureAndClear(`modern-searcher-search-mark-${Ue}`,"modern-searcher-search-tiered")})):ke.finally(()=>{_e.measureAndClear(`modern-searcher-search-mark-${Ue}`,"modern-searcher-search")})}searchLocal(ie){let{query:ue,options:fe,autoTraceId:re,parentSpanId:_e}=ie;var Ue;const ye=(0,N.getStateByTeamId)(this.teamId);let Te=re;Te||(Te=(0,l.A)(),f.LI.start({label:f.gC.Searcher,id:Te,options:{teamId:(0,j.ZT)(ye),tags:this.getTraceTags({query:ue,options:fe})}}));const ge=(Ue=f.LI.get({label:f.gC.Searcher,id:Te}))===null||Ue===void 0?void 0:Ue.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:_e}});if(!ue.length&&!fe.allowEmptyQuery)return[];const Ae=(0,v.aw)(fe,v.lp,ue);if((0,s.A)(Ae))return[];const Re=(0,b.O)(ue),Be=this.fetchLocal({query:ue,options:Ae}),ke=this.processFetchedEntities({query:Re,data:Be,options:Ae,autoTraceId:Te,parentSpanId:ge==null?void 0:ge.getId()});return ge==null||ge.close(),ke}fetchRemote(ie){let{query:ue,options:fe,autoTraceId:re,parentSpanId:_e}=ie;var Ue;const ye=(0,N.getStateByTeamId)(this.teamId),Te=(Ue=f.LI.get({label:f.gC.Searcher,id:re}))===null||Ue===void 0?void 0:Ue.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:_e}});this.pendingRequests.forEach(Ke=>Ke.cancel()),this.pendingRequests=[];const ge=[],Ae=[],{channels:Re,emoji:Be,files:ke,lists:se,members:ve,teams:Me,userGroups:be,appActions:xe,workflowTriggers:Le}=fe.entities;if(ve){let Ke;(0,n.A)(ue)?Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.U7)({queries:ue,options:fe})):Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.QH)({query:ue,options:fe})),this.pendingRequests.push(Ke),ve.runaway?Ae.push(Ke):ge.push(Ke)}if(Re&&!(0,n.A)(ue)){const Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.J6)({query:ue,options:fe}));this.pendingRequests.push(Ke),Re.runaway?Ae.push(Ke):ge.push(Ke)}if(Be&&!(0,n.A)(ue)){const Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.LR)({query:ue,options:fe}));this.pendingRequests.push(Ke),Be.runaway?Ae.push(Ke):ge.push(Ke)}if(ke&&!(0,n.A)(ue)&&((0,L.A)(ue)||ue.length>3)){const Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.cD)({query:ue,options:fe}));this.pendingRequests.push(Ke),ke.runaway?Ae.push(Ke):ge.push(Ke)}if(se&&!(0,n.A)(ue)){const Ke=(0,N.dispatchForTeamId)(this.teamId,ue.indexOf(">")<0?(0,U.E)({query:ue}):S({query:ue}));this.pendingRequests.push(Ke),se.runaway?Ae.push(Ke):ge.push(Ke)}if(be){let Ke;(0,n.A)(ue)?Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.eR)({queries:ue,options:fe})):Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.UC)({query:ue,options:fe})),this.pendingRequests.push(Ke),be.runaway?Ae.push(Ke):ge.push(Ke)}if(Me&&((0,E.k)(ye)||Me.onlyExternal||Me.includeExternal)&&!(0,n.A)(ue)){const Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.DF)({query:ue,options:fe}));this.pendingRequests.push(Ke),Me.runaway?Ae.push(Ke):ge.push(Ke)}if((0,A.e)(ye)&&xe){const Ke=(0,N.dispatchForTeamId)(this.teamId,(0,J.G)()).timeout(2e3).catch(d.A);this.pendingRequests.push(Ke),xe.runaway?Ae.push(Ke):ge.push(Ke)}if(Le&&!(0,n.A)(ue)){const Ke=(0,N.dispatchForTeamId)(this.teamId,(0,v.fx)({query:ue}));Le.runaway?Ae.push(Ke):ge.push(Ke)}return m.S.all(ge).then(Ke=>{let He;if((0,n.A)(ue))He=ue.map(st=>this.fetchLocal({query:st,options:fe})).map(st=>{const ot={...st};return ot.remoteIds=(0,v.jl)(Ke),ot});else{if(He=this.fetchLocal({query:ue,options:fe}),He.remoteIds=(0,v.jl)(Ke),ve&&ve.onlyFromExternalWorkspaceId){var Ye,Xe;He.members=(Xe=(Ye=Ke.find(st=>!!st.members))===null||Ye===void 0?void 0:Ye.members)!==null&&Xe!==void 0?Xe:O.Ml}const et=(0,o.A)((0,a.A)(He),"length");if(Ae.length&&!et)return m.S.all(Ae).then(()=>this.fetchLocal({query:ue,options:fe}))}return Te==null||Te.close(),He}).finally(()=>{this.pendingRequests=[]})}fetchLocal(ie){let{query:ue,options:fe}=ie;const re=(0,N.getStateByTeamId)(this.teamId);(0,v.ZD)(fe);const _e={},{members:Ue,channels:ye,teams:Te,userGroups:ge,appActions:Ae,views:Re,broadcastKeywords:Be,emoji:ke,files:se,lists:ve,channelSections:Me,emails:be,modals:xe,shortcuts:Le,workflowTriggers:Ke,helpArticles:He}=fe.entities;if(ye&&(ye.includePublic||ye.includePrivate)&&(_e.channels=(0,v.AC)(re,fe)),ye&&ye.includeMpims&&(_e.mpims=(0,ne.FS)(re)),ye&&ye.includeIms&&(_e.ims=(0,ne._B)(re)),Ue&&(_e.members=Ue.onlyFromExternalWorkspaceId?O.Ml:(0,F.I_)(re).filter(et=>(0,Y.zP)(re,et.id)&&!(0,le.y)(re,et.id))),Te&&(_e.teams=(0,v.mi)(re,fe)),ge&&(_e.userGroups=(0,Z.jJ)(re)),Ae&&(_e.appActions=(0,_.B)(re)?(0,K.PL)(re):(0,v.g2)(re,Ae.channel)),se&&(_e.files=(0,Ee.Gn)(re)),ve&&(ue.indexOf(">")<0?_e.lists=(0,ce.C0)(re):_e.listRecords=(0,ce.vD)(re,ue)),Re&&(_e.views=(0,v.mK)(re)),xe&&(_e.modals=(0,v.A$)(re)),Be){var Ye;const et=Be.currentChannel?Be.currentChannel.id:null;_e.broadcastKeywords=!((Ye=fe.entities.broadcastKeywords)===null||Ye===void 0)&&Ye.includeAll||!et?(0,y.A)():(0,T.A)(re,et)}if(ke&&(_e.emoji=(0,he.Gt)(re)),Me&&(_e.channelSections=(0,a.A)((0,H.jV)(re))),(Le!=null&&Le.slashCommands||Le!=null&&Le.fakeGlobalActions)&&!(Le!=null&&Le.isAnnounceOnly)&&(_e.slashCommands=(0,_.B)(re)?(0,I.A_)(re,Le.channel,!!Le.threadTs,!0).map(et=>({...et,id:(0,g.Bs)(et),isSlashCommand:!0})):(0,v.lS)(re,Le.channel,Le.threadTs)),Le!=null&&Le.slackGlobalActions&&(_e.slackGlobalActions=(0,I.Yk)(re,Le.channel,Le.threadTs)),Le!=null&&Le.quipShortcutCommands&&(_e.quipShortcutCommands=(0,w.Aw)(re,!!ue)),Le!=null&&Le.channelActions&&(_e.channelActions=(0,q.fo)(re,Le.channel)),Le!=null&&Le.fakeGlobalActions&&(_e.fakeGlobalActions=(0,I.JL)(re,Le.channel,Le.threadTs)),Le!=null&&Le.callActions&&(_e.callActions=(0,I.Uw)(re,Le.channel,Le.threadTs,Le.isAnnounceOnly)),Ke){const et=(0,I.NJ)(re);Ke.includeAutomated?_e.workflowTriggers=et:_e.workflowTriggers=et.filter(st=>st.type===u.M.Shortcut)}be&&(_e.emails=(0,v.FF)(ue));const Xe=(0,P.dL)(re);return He&&Xe&&(_e.helpArticles=(0,me.Fb)(re,"searcher/fetch_all_articles")),(0,v.S)(),_e}processFetchedEntities(ie){let{query:ue,data:fe,options:re,autoTraceId:_e,parentSpanId:Ue}=ie;var ye,Te,ge;const Ae=(0,N.getStateByTeamId)(this.teamId),Re=(ye=f.LI.get({label:f.gC.Searcher,id:_e}))===null||ye===void 0?void 0:ye.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Ue}});(0,v.ZD)(re);const Be={},ke=new W.A({query:ue,options:re}),se=(0,D.Cy)({state:Ae});se.mark("modern-searcher-matching-mark");const ve=(Te=f.LI.get({label:f.gC.Searcher,id:_e}))===null||Te===void 0?void 0:Te.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Re==null?void 0:Re.getId()}});if(fe.channels&&(Be.channels=ke.filterChannels(Ae,fe.channels,(0,v.sr)(Ae,re.entities.channels))),fe.members&&(Be.members=ke.filterMembers(Ae,fe.members,(0,v.bE)(Ae,re.entities.members))),fe.emails&&fe.members&&!(!(Be==null||(ge=Be.members)===null||ge===void 0)&&ge.length)&&(Be.emails=fe.emails),fe.mpims&&(Be.mpims=ke.filterMpims(Ae,fe.mpims,(0,v.AQ)(Ae,re.entities.channels))),fe.ims&&(Be.ims=ke.filterIms(Ae,fe.ims,(0,v.EM)(Ae,re.entities.channels))),fe.userGroups&&(Be.userGroups=ke.filterUserGroups(Ae,fe.userGroups,(0,v.H9)(Ae,re.entities.userGroups))),fe.teams&&(Be.teams=ke.filterTeams(Ae,fe.teams,(0,v.A1)(Ae,re.entities.teams))),fe.views&&(Be.views=ke.filterViews(Ae,fe.views)),fe.modals&&(Be.modals=ke.filterModals(Ae,fe.modals)),fe.appActions&&(Be.appActions=ke.filterAppActions(Ae,fe.appActions)),fe.slashCommands&&(Be.slashCommands=ke.filterShortcuts(Ae,fe.slashCommands,!0)),fe.slackGlobalActions&&(Be.slackGlobalActions=ke.filterShortcuts(Ae,fe.slackGlobalActions)),fe.quipShortcutCommands&&(Be.quipShortcutCommands=ke.filterShortcuts(Ae,fe.quipShortcutCommands)),fe.channelActions&&(Be.channelActions=ke.filterShortcuts(Ae,fe.channelActions)),fe.fakeGlobalActions&&(Be.fakeGlobalActions=ke.filterShortcuts(Ae,fe.fakeGlobalActions)),fe.callActions&&(Be.callActions=ke.filterShortcuts(Ae,fe.callActions)),fe.workflowTriggers&&(Be.workflowTriggers=ke.filterWorkflowTriggers(Ae,fe.workflowTriggers)),fe.broadcastKeywords&&(Be.broadcastKeywords=ke.filterBroadcastKeywords(Ae,fe.broadcastKeywords)),fe.emoji&&(Be.emoji=ke.filterEmoji(Ae,fe.emoji)),fe.channelSections&&(Be.channelSections=ke.filterChannelSections(Ae,fe.channelSections,st=>{var ot,ct;return!!(!((ot=re.entities.channelSections)===null||ot===void 0||(ct=ot.includeTypes)===null||ct===void 0)&&ct[st.type])})),fe.files&&(Be.files=ke.filterFiles(Ae,fe.files,(0,v.Do)(Ae,re.entities.files))),fe.lists&&(Be.lists=ke.filterLists(Ae,fe.lists)),fe.listRecords){var Me;const{recordQuery:st}=(Me=(0,G.V3)(ue))!==null&&Me!==void 0?Me:{},ot=new W.A({query:st,options:re});Be.listRecords=ot.filterListRecords(Ae,fe.listRecords)}fe.helpArticles&&(Be.helpArticles=ke.filterHelpArticles(Ae,fe.helpArticles)),se.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),ve==null||ve.close();const be=(0,v.SI)(Be,fe.remoteIds||{});let xe=(0,r.A)(Object.values(be));const Le=500,Ke=3;var He;const Ye=Math.min(((He=re==null?void 0:re.limit)!==null&&He!==void 0?He:1)*Ke,Le);if(re.sort&&!re.sort.bypassSorting){var Xe;let st=!1;xe.length<Ye&&(st=!0);const ot=new B.A({query:ue,options:{modelOnly:st,...re.sort}}),ct=(Xe=f.LI.get({label:f.gC.Searcher,id:_e}))===null||Xe===void 0?void 0:Xe.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Re==null?void 0:Re.getId()}});xe=ot.sort(Ae,be),ct==null||ct.close()}if(re.sort&&re.sort.frecency&&!re.sort.bypassSorting){var et;const st=(et=f.LI.get({label:f.gC.Searcher,id:_e}))===null||et===void 0?void 0:et.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Re==null?void 0:Re.getId()}});xe=new R.A({query:ue,options:re.sort,teamId:(0,j.ZT)(Ae),enterpriseId:(0,E.k)(Ae)&&(0,j.jV)(Ae)?(0,j.jV)(Ae):void 0}).sort(Ae,xe.slice(0,Ye)),st==null||st.close()}return re.limit&&(xe=(0,i.A)(xe,re.limit)),re.returnMetadata||(xe=xe.map(st=>st.item)),(0,v.S)(),xe||[]}clogSearcherAccept(ie){let{clogger:ue,data:fe}=ie;const{source:re,query:_e,results:Ue,selectedItemId:ye,displayedItemIds:Te}=fe,ge=15;if(!ye)return;const Ae=Te?Te.length:Ue.length,Re=Te?Te.indexOf(ye):Ue.findIndex(Ye=>Ye.item.id===ye);if(Re<0)return;const Be=Ue.find(Ye=>Ye.item.id===ye);if(!Be)return;const ke=Be.type||"other",se=(0,n.A)(_e)?_e.map(Ye=>(0,b.O)(Ye)):(0,b.O)(_e),ve=Be.source||"local";let Me;Be.type==="mpim"?Me=Be.scoreDetailsByMember:Be.type==="member"?Me={[ye]:{is_exact_match:Be.isExactMatch,exact_match_details:Be.exactMatchDetails,score_details:Be.scoreDetails}}:Be.type==="emoji"&&(Me={[ye]:{is_exact_match:Be.isExactMatch}});let be=[];Ue.some(Ye=>Ye.featureVectorRaw)&&(Te?be=Te.map(Ye=>{const Xe=Ue.find(et=>et.item.id===Ye);return Xe&&Xe.featureVectorRaw.serialize()||""}):be=Ue.map(Ye=>{var Xe,et;return Ye==null||(Xe=Ye.featureVectorRaw)===null||Xe===void 0||(et=Xe.serialize)===null||et===void 0?void 0:et.call(Xe)}));let Le;(0,n.A)(se)?Le=se.reduce((Ye,Xe)=>Ye+(0,v.Cs)((0,b.O)(Xe)),0):Le=(0,v.Cs)(se);var Ke;const He={source:re,query_length:se.length?se.length:0,query_terms_length:Le,results_length:Ae,selected_position:Re,selected_type:ke,selected_source:ve,selected_match_details:Me,feature_vector_list:be.slice(0,ge),session_length:Date.now()-((Ke=this.sessionTs)!==null&&Ke!==void 0?Ke:0)};ue.track(M.EventId.SEARCHER_ACCEPT,He),this.endSession()}clogSearcherReject(ie){let{clogger:ue,data:fe}=ie;const{source:re,query:_e,results:Ue,displayedItemIds:ye}=fe,Te=ye!==void 0?ye.length:Ue.length,ge=(0,n.A)(_e)?_e.map(ke=>(0,b.O)(ke)):(0,b.O)(_e);let Ae;(0,n.A)(ge)?Ae=ge.reduce((ke,se)=>ke+(0,v.Cs)((0,b.O)(se)),0):Ae=(0,v.Cs)(ge);var Re;const Be={source:re,query_length:ge.length?ge.length:0,query_terms_length:Ae,results_length:Te,session_length:Date.now()-((Re=this.sessionTs)!==null&&Re!==void 0?Re:0)};ue.track(M.EventId.SEARCHER_REJECT,Be),this.endSession()}maybeStartSession(ie){!this.sessionId&&ie!==void 0&&ie.length&&(this.sessionTs=Date.now(),this.sessionId=(0,l.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(ie){let{query:ue,options:fe}=ie;var re;const _e=fe.entities;return{source:(fe==null?void 0:fe.searchViewContext)||((re=fe.sort)===null||re===void 0?void 0:re.source),tiered:fe.tiered,is_searcher_sessions:!0,entities:Object.keys(_e).filter(Ue=>!!_e[Ue]).sort().toString(),query_length:ue.length}}constructor(ie){this.teamId=ie,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}c(z,"Searcher");const $={};function ee(de){let{teamId:ie,key:ue}=de;if(!ie)throw new Error("Searcher must be instantiated with a team id");return $[ie]&&!$[ie][ue]&&($[ie][ue]=new z(ie)),$[ie]||($[ie]={},$[ie][ue]=new z(ie)),$[ie][ue]}c(ee,"getSearcher"),(0,h.ul)("searcherObj",{search:(de,ie)=>new z(de).search(ie),searchLocal:(de,ie)=>{new z(de).searchLocal(ie)}})},4342685672:(Q,C,e)=>{"use strict";e.d(C,{In:()=>s,KV:()=>n,nK:()=>r});var t=e(4761125736);const n="autocompleteFallback";function s(){return n}c(s,"getModelForSorter");function r(d){return(0,t._Z)(d,"searcher_sessions_phase_1")==="treatment"}c(r,"shouldUseSearcherSessions")},8956261571:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Qn});var t=e(3367239067),n=e(1703559452),s=e(9816084745),r=e(5141066605),d=e(3037015781),o=e(9884588328),a=e(1407713935),i=e(6007206761),m=e(6495946979);function l(ae){var De;const $e=(De=ae.actions)===null||De===void 0?void 0:De[0];if(!$e)return 0;const St=parseFloat($e.ts);return isNaN(St)?0:St}c(l,"getLatestActionTs");var _=e(8170643398),v=e(9262712126),u=e(5096647761),h=e(6536982570),f=e(9190452268),p=e(3879245650),E=e(735940183),g=e(4096483543),A=e(8040098042),y=e(4496040127),T=e(6422693406),M=e(1520110262),O=e(3707193570),I=e(7948868735),D=e(6533394955);const P=.014,L=.094,k=.148,G=.132,b=.179;class W extends I.F{fetchData(){return(0,O.Am)(this.teamId)?(0,D.dispatchForTeamId)(this.teamId,(0,M.yp)()).catch(De=>({exception:De})).then(De=>new B({topEmojis:De.top_emojis,topMpims:De.top_mpims,topChannels:De.top_channels,topUsers:De.top_users,emojiFeatures:De.emoji_features,mpimFeatures:De.mpim_features,channelFeatures:De.channel_features,userFeatures:De.user_features,mpimCtr:De.mpim_ctr,channelCtr:De.channel_ctr,userCtr:De.user_ctr,emojiCtr:De.emoji_ctr,otherCtr:De.other_ctr,defaultFeatureNames:De.default_features,topAppActions:De.top_app_actions,topGlobalActions:De.top_global_actions,topSlashCommands:De.top_slash_commands,topWorkflowTriggers:De.top_workflow_triggers,topChannelActions:De.top_channel_actions,appActionCtr:De.app_action_ctr,globalActionCtr:De.global_action_ctr,slashCommandCtr:De.slash_command_ctr,workflowTriggerCtr:De.workflow_trigger_ctr,channelActionCtr:De.channel_action_ctr,usersHasDmed:De.users_has_dmed})):T.S.resolve(new B)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new B)}constructor(De){super(),this.teamId=De}}c(W,"AutocompleteFeaturesCache");class B{getFeatures(De,$e){const St=this.topEntities[$e],Mn=this.featureNames[$e]||this.featureNames.default,Pn=this.defaultEntityFeatures[$e],wn=St&&St[De];if(wn&&Mn){const cn={};for(let ms=0;ms<Mn.length;ms++)cn[Mn[ms]]=wn[ms];const qn={team_ctr_90dd:Pn.team_ctr_90dd,user_ctr_30dd:Pn.user_ctr_30dd};for(const ms of Object.keys(Pn))qn[ms]=cn[ms]||Pn[ms];return qn}return Pn}getEntityCtr(De){return this.entityCtr[De]||this.otherEntityCtr}getUserDmChannelMetadata(De){return this.usersHasDmed?this.usersHasDmed[De]:null}constructor({topEmojis:De,topMpims:$e,topChannels:St,topUsers:Mn,emojiFeatures:Pn,mpimFeatures:wn,channelFeatures:cn,userFeatures:qn,mpimCtr:ms,channelCtr:As,userCtr:xs,emojiCtr:Rs,otherCtr:gs,defaultFeatureNames:Ls,topAppActions:dn,topGlobalActions:tt,topSlashCommands:Je,topWorkflowTriggers:Vt,topChannelActions:vt,appActionCtr:xt,globalActionCtr:wt,slashCommandCtr:Ht,workflowTriggerCtr:Zt,channelActionCtr:vn,usersHasDmed:On}={}){this.topEntities={emoji:De,mpim:$e,channel:St,member:Mn,appAction:dn,globalAction:tt,slashCommand:Je,workflowTrigger:Vt,channelAction:vt},this.featureNames={emoji:Pn,mpim:wn,channel:cn,member:qn,default:Ls},this.otherEntityCtr=gs??b,this.entityCtr={mpim:ms??P,channel:As??k,member:xs??G,emoji:Rs??L,appAction:xt??this.otherEntityCtr,globalAction:wt??this.otherEntityCtr,slashCommand:Ht??this.otherEntityCtr,workflowTrigger:Zt??this.otherEntityCtr,channelAction:vn??this.otherEntityCtr},this.defaultEntityFeatures={};for(const En of Object.keys(this.entityCtr))this.defaultEntityFeatures[En]={team_ctr_90dd:this.getEntityCtr(En),user_ctr_30dd:this.getEntityCtr(En)};this.usersHasDmed=On}}c(B,"AutocompleteFeatures");const R={};function j(ae){let{teamId:De,enterpriseId:$e}=ae;const St=$e||De||"_default";return R[St]||(R[St]=new W(De)),R[St]}c(j,"getAutocompleteFeaturesCache");var w=e(1041273904),N=e(5238395322),K=e(8571983633),J=e(2774532222),Y=e(7110454183),q=e(1022424641),H=e(8274921051),ne=e(4630136761),te=e(4562579337),le=e(796111729),he=e(3051657319),Ie=e(7715417323);class Ee{writeNumericalFeature(De,$e){!De||!isFinite(De)||(this.writeIdAndType($e,H.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,De),this.offset+=4)}writeBinaryFeature(De,$e){De&&this.writeIdAndType($e,H.c.BINARY)}writeTextFeature(De,$e){if(!De)return;this.writeIdAndType($e,H.c.TEXT);const St=unescape(encodeURIComponent(De));this.ensureCapacity(2+St.length),this.view.setUint16(this.offset,St.length),this.offset+=2,(0,he.A)(St.length).forEach(Mn=>{this.view.setUint8(this.offset,St.charCodeAt(Mn)),this.offset+=1})}writeNullFeature(){(0,Ie.A)()}writeIdAndType(De,$e){this.ensureCapacity(2),this.view.setUint16(this.offset,De<<3|$e),this.offset+=2}ensureCapacity(De){this.offset+De>this.buffer.byteLength&&this.resize(this.offset+De)}resize(De){if(this.buffer.byteLength>=De)return;const $e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array($e).set(new Uint8Array(this.buffer)),this.buffer=$e,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}c(Ee,"BinaryFeatureVectorSerializer");var me=e(3395271606);const ce=(0,me.A)(H.Q);function X(ae){return ce[ae]}c(X,"getFeatureNameFromId");var V=e(9150404500);const x={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};var S=e(9422011462);function U(ae,De){return Jt.fromSuggestion(ae,De)}c(U,"featureVectorForSuggestion");function F(){return(0,le.Wo)({label:"SORTER-RANKING"})}c(F,"getLogger");function Z(ae){return Number.isInteger(ae)}c(Z,"isIntegerWithType");const z=60*60,$=24*z;var ee,de,ie,ue,fe,re,_e,Ue,ye,Te,ge,Ae,Re,Be,ke,se,ve,Me,be,xe,Le,Ke,He,Ye,Xe,et,st,ot,ct,at,At,Ct,Tt,Rt,It,Mt,nn,Ot;const bt={FRECENCY:ae=>Qe({id:H.Q.FRECENCY,value:gn(ae)}),TYPE_NAVIGATION_CHANNEL:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.TYPE_NAVIGATION_CHANNEL,value:$e})},TYPE_NAVIGATION_FILE:ae=>Qe({id:H.Q.TYPE_NAVIGATION_FILE,value:ae.suggestionType===V.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:ae=>Qe({id:H.Q.TYPE_NAVIGATION_LINK,value:ae.suggestionType===V.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:ae=>Qe({id:H.Q.TYPE_NAVIGATION_MODAL,value:ae.suggestionType===V.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:ae=>Qe({id:H.Q.TYPE_NAVIGATION_MPIM,value:!!(0,a.yz)(ae.item)}),TYPE_NAVIGATION_USER:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.TYPE_NAVIGATION_USER,value:$e})},TYPE_QUERY:ae=>Qe({id:H.Q.TYPE_QUERY,value:ae.suggestionType===V.fd.QUERY}),TYPE_QUERY_HISTORY:ae=>Qe({id:H.Q.TYPE_QUERY_HISTORY,value:ae.suggestionType===V.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_IN,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_FROM,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_TO,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_DURING,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_ON,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_AFTER,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_HAS,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_IS,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:ae=>Qe({id:H.Q.ACTIVE_TOKEN_FILTER_WITH,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:ae=>Qe({id:H.Q.ACTIVE_TOKEN_MEMBER,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.MEMBER}),ACTIVE_TOKEN_STRING:ae=>Qe({id:H.Q.ACTIVE_TOKEN_STRING,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.STRING}),ACTIVE_TOKEN_PHRASE:ae=>Qe({id:H.Q.ACTIVE_TOKEN_PHRASE,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.PHRASE}),STRING_EXACT_MATCH:ae=>Wt({id:H.Q.STRING_EXACT_MATCH,suggestion:ae,extractionFunction:pt}),STRING_EXACT_PREFIX_MATCH:ae=>Wt({id:H.Q.STRING_EXACT_PREFIX_MATCH,suggestion:ae,extractionFunction:Dt}),STRING_NORMAL_MATCH:ae=>Wt({id:H.Q.STRING_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt}),STRING_NORMAL_PREFIX_MATCH:ae=>Wt({id:H.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn}),STRING_SAME_NUMBER_WORDS:ae=>Wt({id:H.Q.STRING_SAME_NUMBER_WORDS,suggestion:ae,extractionFunction:an}),EXCESS_STRING_LENGTH:ae=>Wt({id:H.Q.EXCESS_STRING_LENGTH,suggestion:ae,extractionFunction:ht}),ID:ae=>Qe({id:H.Q.ID,value:ae.logId||ae.id}),FILE_SUGGESTION_SCORE:ae=>Qe({id:H.Q.FILE_SUGGESTION_SCORE,value:ut(ae)}),ACTIVE_TOKEN_QUERY_SUGGESTION:ae=>Qe({id:H.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.API}),QUERY_SUGGESTION_SCORE_V2:ae=>Qe({id:H.Q.QUERY_SUGGESTION_SCORE_V2,value:rn(ae)}),TYPE_NAVIGATION_TEAM:ae=>Qe({id:H.Q.TYPE_NAVIGATION_TEAM,value:ae&&ae.suggestionType===V.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:ae=>Qe({id:H.Q.TYPE_NAVIGATION_VIEW,value:ae&&ae.suggestionType===V.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:ae=>Qe({id:H.Q.TYPE_USER_QUERY,value:ae&&ae.suggestionType===V.fd.QUERY_USER}),NAV_EXACT_MATCH:ae=>Wt({id:H.Q.NAV_EXACT_MATCH,suggestion:ae,extractionFunction:pt,text:Ft(ae)}),NAV_EXACT_PREFIX_MATCH:ae=>Wt({id:H.Q.NAV_EXACT_PREFIX_MATCH,suggestion:ae,extractionFunction:Dt,text:Ft(ae)}),NAV_NORMAL_MATCH:ae=>Wt({id:H.Q.NAV_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt,text:Ft(ae)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(ae,De)=>{let{itemIsChannel:$e}=De;var St,Mn;return Wt({id:H.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:ae,extractionFunction:Pn=>{let{text:wn,query:cn}=Pn;return wn?(0,n.A)(wn.split(",").map(qn=>pt({text:qn,query:cn}))):!1},text:$e?(St=ae.item)===null||St===void 0||(Mn=St.previous_names)===null||Mn===void 0?void 0:Mn.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(ae,De)=>{let{itemIsChannel:$e}=De;var St,Mn;return Wt({id:H.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:ae,extractionFunction:Pn=>{let{text:wn,query:cn}=Pn;return wn?(0,n.A)(wn.split(",").map(qn=>Dt({text:qn,query:cn}))):!1},text:$e?ae==null||(St=ae.item)===null||St===void 0||(Mn=St.previous_names)===null||Mn===void 0?void 0:Mn.join(","):null})},CHANNEL_IS_ARCHIVED:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_IS_ARCHIVED,value:$e&&(0,i.F)(ae.item)})},CHANNEL_IS_MEMBER:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_IS_MEMBER,value:$e&&(0,m.b)(ae.item)})},CHANNEL_IS_STARRED:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_IS_STARRED,value:$e&&ae.isStarred})},MPIM_IS_STARRED:ae=>Qe({id:H.Q.MPIM_IS_STARRED,value:(0,a.yz)(ae.item)&&ae.isStarred}),CHANNEL_IS_UNREAD:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_IS_UNREAD,value:$e&&(0,o.KJ)(ae.item)})},MPIM_IS_UNREAD:ae=>Qe({id:H.Q.MPIM_IS_UNREAD,value:(0,a.yz)(ae.item)&&(0,o.KJ)(ae.item)}),CHANNEL_IS_OTHER_TEAM:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_IS_OTHER_TEAM,value:$e&&(0,o.lo)(ae.item)})},USER_IS_ACTIVE:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_IS_ACTIVE,value:$e&&(0,_.ls)(ae.item)})},USER_IS_EXTERNAL:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_IS_EXTERNAL,value:$e&&(0,u.g)(ae.item)})},USER_IS_BOT:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_IS_BOT,value:$e&&(0,te.A)(ae.item)})},USER_SAME_TEAM:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_SAME_TEAM,value:$e&&!!ae.sameTeam})},USER_IS_CURRENT_USER:(ae,De)=>{let{isCurrentUser:$e}=De;return Qe({id:H.Q.USER_IS_CURRENT_USER,value:$e})},USER_DM_IS_STARRED:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_IS_STARRED,value:$e&&ae.im&&ae.imIsStarred})},USER_DM_IS_UNREAD:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_IS_UNREAD,value:$e&&ae.im&&(0,o.KJ)(ae.im)})},CHANNEL_PRIORITY:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_PRIORITY,value:$e&&(ae==null?void 0:ae.priority)})},CHANNEL_READ_AGE_DECAY_7D:(ae,De)=>{let{itemIsChannel:$e,now:St}=De;return Qe({id:H.Q.CHANNEL_READ_AGE_DECAY_7D,value:$e&&Oe(St,parseFloat((ee=ae.lastReadTs)!==null&&ee!==void 0?ee:""),7*$)||0})},CHANNEL_READ_AGE_DECAY_2H:(ae,De)=>{let{itemIsChannel:$e,now:St}=De;return Qe({id:H.Q.CHANNEL_READ_AGE_DECAY_2H,value:$e&&Oe(St,parseFloat((de=ae.lastReadTs)!==null&&de!==void 0?de:""),2*z)||0})},MPIM_READ_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_READ_AGE_DECAY_2H,value:(0,a.yz)(ae.item)&&Oe($e,parseFloat((ie=ae.lastReadTs)!==null&&ie!==void 0?ie:""),2*z)||0})},MPIM_READ_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_READ_AGE_DECAY_7D,value:(0,a.yz)(ae.item)&&Oe($e,parseFloat((ue=ae.lastReadTs)!==null&&ue!==void 0?ue:""),7*$)||0})},USER_DM_READ_AGE_DECAY_7D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_AGE_DECAY_7D,value:$e&&ae.im&&Oe(St,parseFloat((fe=ae.lastReadTs)!==null&&fe!==void 0?fe:""),7*$)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:$e&&ae.im&&Oe(St,parseFloat((re=ae.lastReadImTs)!==null&&re!==void 0?re:""),7*$)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:$e&&Oe(St,parseFloat((_e=nt(ae))!==null&&_e!==void 0?_e:""),7*$)||0})},USER_DM_READ_AGE_DECAY_2H:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_AGE_DECAY_2H,value:$e&&ae.im&&Oe(St,parseFloat((Ue=ae.lastReadTs)!==null&&Ue!==void 0?Ue:""),2*z)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:$e&&ae.im&&Oe(St,parseFloat((ye=ae.lastReadImTs)!==null&&ye!==void 0?ye:""),2*z)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:$e&&Oe(St,parseFloat((Te=nt(ae))!==null&&Te!==void 0?Te:""),2*z)||0})},USER_DM_NULL:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_NULL,value:$e&&!ae.im})},USER_DM_EMPTY:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_EMPTY,value:$e&&ae.im&&!parseFloat((ge=ae.latestTs)!==null&&ge!==void 0?ge:"")})},USER_DM_EMPTY_V2:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_EMPTY_V2,value:$e&&ae.im&&!parseFloat((Ae=ae.latestImTs)!==null&&Ae!==void 0?Ae:"")})},USER_HAS_DMED:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_HAS_DMED,value:$e&&!!parseFloat((Re=nt(ae))!==null&&Re!==void 0?Re:"")})},USER_DM_NOT_OPEN:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_NOT_OPEN,value:$e&&ae.im&&!(0,o.nT)(ae.im)})},USER_DM_OPEN:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_OPEN,value:$e&&ae.im&&(0,o.nT)(ae.im)})},USER_DM_LATEST_OLDER_30D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_OLDER_30D,value:$e&&Fe(St,parseFloat((Be=ae.latestTs)!==null&&Be!==void 0?Be:""),30*$)})},USER_DM_LATEST_OLDER_30D_V2:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_OLDER_30D_V2,value:$e&&Fe(St,parseFloat((ke=ae.latestImTs)!==null&&ke!==void 0?ke:""),30*$)})},USER_DM_LATEST_OLDER_90D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_OLDER_90D,value:$e&&Fe(St,parseFloat((se=ae.latestTs)!==null&&se!==void 0?se:""),90*$)})},USER_DM_LATEST_OLDER_90D_V2:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_OLDER_90D_V2,value:$e&&Fe(St,parseFloat((ve=ae.latestImTs)!==null&&ve!==void 0?ve:""),90*$)})},USER_DM_READ_OLDER_7D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_OLDER_7D,value:$e&&Fe(St,parseFloat((Me=nt(ae))!==null&&Me!==void 0?Me:""),7*$)})},USER_DM_READ_OLDER_30D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_OLDER_30D,value:$e&&Fe(St,parseFloat((be=nt(ae))!==null&&be!==void 0?be:""),30*$)})},USER_DM_READ_OLDER_90D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_READ_OLDER_90D,value:$e&&Fe(St,parseFloat((xe=nt(ae))!==null&&xe!==void 0?xe:""),90*$)})},USER_MPIM_READ_AGE_DECAY_7D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_MPIM_READ_AGE_DECAY_7D,value:$e&&ae.mpimFeatures&&Oe(St,ae.mpimFeatures.lastReadTs,7*$)||0})},USER_MPIM_READ_AGE_DECAY_2H:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_MPIM_READ_AGE_DECAY_2H,value:$e&&ae.mpimFeatures&&Oe(St,ae.mpimFeatures.lastReadTs,2*z)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:$e&&ae.mpimFeatures&&Oe(St,ae.mpimFeatures.latestMsgTs,7*$)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:$e&&ae.mpimFeatures&&Oe(St,ae.mpimFeatures.latestMsgTs,2*z)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(ae,De)=>{let{itemIsMember:$e}=De;var St;return Qe({id:H.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:$e&&((St=ae.mpimFeatures)===null||St===void 0?void 0:St.itemCount)&&Math.log1p(ae.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(ae,De)=>{let{itemIsMember:$e}=De;var St;return Qe({id:H.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:$e&&((St=ae.mpimFeatures)===null||St===void 0?void 0:St.hitCount)&&Math.log1p(ae.mpimFeatures.hitCount)||0})},QUERY_LENGTH:ae=>Wt({id:H.Q.QUERY_LENGTH,suggestion:ae,extractionFunction:Gt}),NAV_QUERY_LENGTH:ae=>Wt({id:H.Q.NAV_QUERY_LENGTH,suggestion:ae,extractionFunction:Gt,text:Ft(ae)}),SUGGESTION_TEXT_LENGTH:ae=>Wt({id:H.Q.SUGGESTION_TEXT_LENGTH,suggestion:ae,extractionFunction:mn}),NAV_TEXT_LENGTH:ae=>Wt({id:H.Q.NAV_TEXT_LENGTH,suggestion:ae,extractionFunction:mn,text:Ft(ae)}),RAW_FRECENCY:ae=>Qe({id:H.Q.RAW_FRECENCY,value:ae.rawFrecencyScore}),MPIM_PRIORITY:ae=>Qe({id:H.Q.MPIM_PRIORITY,value:(0,a.yz)(ae.item)&&(ae==null?void 0:ae.priority)}),QUERY_RATIO_LENGTH_STRING:ae=>Wt({id:H.Q.QUERY_RATIO_LENGTH_STRING,suggestion:ae,extractionFunction:yt}),NAV_QUERY_RATIO_LENGTH_STRING:ae=>Wt({id:H.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:ae,extractionFunction:yt,text:Ft(ae)}),USER_QUERY_RATIO_LENGTH_STRING:ae=>Wt({id:H.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:ae,extractionFunction:yt,text:un(ae,V.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:ae=>Wt({id:H.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:ae,extractionFunction:yt,text:un(ae,V.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:ae=>Wt({id:H.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:ae,extractionFunction:yt,text:un(ae,V.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:ae=>Qe({id:H.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,a.yz)(ae.item)&&ae.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:ae=>Wt({id:H.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:Ft(ae)}),FRECENCY_BONUS:ae=>Qe({id:H.Q.FRECENCY_BONUS,value:(0,N.A)(Object.values(ae.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:ae,extractionFunction:pt,text:$e&&(0,_.XS)(ae.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:ae,extractionFunction:Dt,text:$e&&(0,_.XS)(ae.item)})},USER_FIRST_NAME_NORMAL_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt,text:$e&&(0,_.XS)(ae.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:$e&&(0,_.XS)(ae.item)})},USER_LAST_NAME_EXACT_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:ae,extractionFunction:pt,text:$e&&(0,_.lQ)(ae.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:ae,extractionFunction:Dt,text:$e&&(0,_.lQ)(ae.item)})},USER_LAST_NAME_NORMAL_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt,text:$e&&(0,_.lQ)(ae.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(ae,De)=>{let{itemIsMember:$e}=De;return Wt({id:H.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:$e&&(0,_.lQ)(ae.item)})},USER_EMAIL_MATCH:ae=>{var De,$e;return Qe({id:H.Q.USER_EMAIL_MATCH,value:((De=ae.scoreDetails)===null||De===void 0?void 0:De.email)!==void 0?(($e=ae.scoreDetails)===null||$e===void 0?void 0:$e.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:ae=>{var De,$e;return Qe({id:H.Q.USER_EMAIL_ONLY_MATCH,value:((De=ae.scoreDetails)===null||De===void 0?void 0:De.email)!==void 0&&(($e=ae.scoreDetails)===null||$e===void 0?void 0:$e.email)>=0&&Object.keys((Le=ae.scoreDetails)!==null&&Le!==void 0?Le:{}).length===1})},USER_PRIORITY:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_PRIORITY,value:$e&&ae.im&&(ae==null?void 0:ae.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:ae=>Qe({id:H.Q.ONLY_MATCHES_PREVIOUS_NAME,value:ae.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:ae=>Qe({id:H.Q.FRECENCY_WEIGHT_HIT_VISITS,value:ae.weightHitVisits}),FRECENCY_HIT_VISITS_4H:ae=>Qe({id:H.Q.FRECENCY_HIT_VISITS_4H,value:ae.hitVisits4h}),FRECENCY_HIT_VISITS_1D:ae=>Qe({id:H.Q.FRECENCY_HIT_VISITS_1D,value:ae.hitVisits1d}),FRECENCY_HIT_VISITS_3D:ae=>Qe({id:H.Q.FRECENCY_HIT_VISITS_3D,value:ae.hitVisits3d}),FRECENCY_HIT_VISITS_1W:ae=>Qe({id:H.Q.FRECENCY_HIT_VISITS_1W,value:ae.hitVisits1w}),FRECENCY_HIT_VISITS_1M:ae=>Qe({id:H.Q.FRECENCY_HIT_VISITS_1M,value:ae.hitVisits1m}),FRECENCY_HIT_VISITS_90D:ae=>Qe({id:H.Q.FRECENCY_HIT_VISITS_90D,value:ae.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:ae=>Qe({id:H.Q.FRECENCY_ITEM_VISITS_4H,value:ae.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:ae=>Qe({id:H.Q.FRECENCY_ITEM_VISITS_1D,value:ae.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:ae=>Qe({id:H.Q.FRECENCY_ITEM_VISITS_3D,value:ae.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:ae=>Qe({id:H.Q.FRECENCY_ITEM_VISITS_1W,value:ae.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:ae=>Qe({id:H.Q.FRECENCY_ITEM_VISITS_1M,value:ae.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:ae=>Qe({id:H.Q.FRECENCY_ITEM_VISITS_90D,value:ae.itemVisits90d}),FRECENCY_HIT_COUNT:ae=>Qe({id:H.Q.FRECENCY_HIT_COUNT,value:ae.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:ae=>Qe({id:H.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:ae.weightItemVisits}),FRECENCY_ITEM_COUNT:ae=>Qe({id:H.Q.FRECENCY_ITEM_COUNT,value:ae.itemCount}),NAV_NORMAL_MATCH_USER:ae=>Wt({id:H.Q.NAV_NORMAL_MATCH_USER,suggestion:ae,extractionFunction:De=>{let{text:$e,normalizedQuery:St}=De;return Qt({text:$e,normalizedQuery:St})&&!tn({text:(0,_.XS)(ae.item),normalizedQuery:St})},text:un(ae,V.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:ae=>Wt({id:H.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:ae,extractionFunction:De=>{let{text:$e,normalizedQuery:St}=De;return tn({text:$e,normalizedQuery:St})&&!tn({text:(0,_.XS)(ae.item),normalizedQuery:St})},text:un(ae,V.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:ae=>Wt({id:H.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:ae,extractionFunction:Qt,text:Sn(ae)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:ae=>Wt({id:H.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:ae,extractionFunction:tn,text:Sn(ae)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{itemIsChannel:$e,now:St}=De;return Qe({id:H.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:$e&&Oe(St,parseFloat((Ke=ae.latestTs)!==null&&Ke!==void 0?Ke:""),7*$)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{itemIsChannel:$e,now:St}=De;return Qe({id:H.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:$e&&Oe(St,parseFloat((He=ae.latestTs)!==null&&He!==void 0?He:""),2*z)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,a.yz)(ae.item)&&Oe($e,parseFloat((Ye=ae.latestTs)!==null&&Ye!==void 0?Ye:""),2*z)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,a.yz)(ae.item)&&Oe($e,ae.maxLatestMsgTsOfAllMembers,2*z)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,a.yz)(ae.item)&&Oe($e,ae.maxLatestMsgTsOfAllMembers,7*$)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,a.yz)(ae.item)&&Oe($e,ae.avgLatestMsgTsOfAllMembers,2*z)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,a.yz)(ae.item)&&Oe($e,ae.avgLatestMsgTsOfAllMembers,7*$)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,a.yz)(ae.item)&&Oe($e,ae.maxLastReadTsOfAllMembers,2*z)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,a.yz)(ae.item)&&Oe($e,ae.maxLastReadTsOfAllMembers,7*$)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,a.yz)(ae.item)&&Oe($e,ae.avgLastReadTsOfAllMembers,2*z)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,a.yz)(ae.item)&&Oe($e,ae.avgLastReadTsOfAllMembers,7*$)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:ae=>Qe({id:H.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,a.yz)(ae.item)&&ae.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:ae=>Qe({id:H.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,a.yz)(ae.item)&&ae.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:ae=>Qe({id:H.Q.MPIM_USERS_ALL_INTERNAL,value:(0,a.yz)(ae.item)&&ae.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,a.yz)(ae.item)&&Oe($e,parseFloat((Xe=ae.latestTs)!==null&&Xe!==void 0?Xe:""),7*$)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:$e&&ae.im&&Oe(St,parseFloat((et=ae.latestTs)!==null&&et!==void 0?et:""),7*$)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:$e&&ae.im&&Oe(St,parseFloat((st=ae.latestImTs)!==null&&st!==void 0?st:""),7*$)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:$e&&ae.im&&Oe(St,parseFloat((ot=ae.latestTs)!==null&&ot!==void 0?ot:""),2*z)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(ae,De)=>{let{itemIsMember:$e,now:St}=De;return Qe({id:H.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:$e&&ae.im&&Oe(St,parseFloat((ct=ae.latestImTs)!==null&&ct!==void 0?ct:""),2*z)||0})},FRECENCY_LOG_HIT_COUNT:ae=>Qe({id:H.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((at=ae.hitCount)!==null&&at!==void 0?at:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:ae=>Qe({id:H.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:ae.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:ae=>Qe({id:H.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((At=ae.itemCount)!==null&&At!==void 0?At:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:ae=>Qe({id:H.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:ae.logItemCountScaled}),QUERY_FRECENCY_RAW:ae=>Qe({id:H.Q.QUERY_FRECENCY_RAW,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&ae.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:ae=>Qe({id:H.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&ae.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:ae=>Qe({id:H.Q.QUERY_FRECENCY_HIT_COUNT,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&ae.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:ae=>Qe({id:H.Q.QUERY_LOG_HIT_COUNT,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&qe(ae.scoringContext.frecencyHitCount)||ae.suggestionType===V.fd.QUERY_HISTORY&&qe((Ct=ae.count)!==null&&Ct!==void 0?Ct:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:ae=>Qe({id:H.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&ae.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:ae=>Qe({id:H.Q.QUERY_FRECENCY_ITEM_COUNT,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&ae.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:ae=>Qe({id:H.Q.QUERY_FUZZY_SCORE,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&ae.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:ae=>{var De;return Qe({id:H.Q.QUERY_FRECENCY_BONUS,value:(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER)&&(0,N.A)(Object.values(((De=ae.scoringContext)===null||De===void 0?void 0:De.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:ae=>Qe({id:H.Q.QUERY_HISTORY_LOG_INDEX,value:ae.suggestionType===V.fd.QUERY_HISTORY&&qe(ae.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.QUERY_HISTORY_AGE_DECAY_30D,value:ae.suggestionType===V.fd.QUERY_HISTORY&&Oe($e,ae.lastUpdateTs,30*$)||0})},FUZZY_SCORE:ae=>Qe({id:H.Q.FUZZY_SCORE,value:ae.score}),FUZZY_SCORE_SCALED_EXP:ae=>Qe({id:H.Q.FUZZY_SCORE_SCALED_EXP,value:Z(ae.score)&&.5**Math.min(ae.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:ae=>Qe({id:H.Q.FUZZY_SCORE_SCALED_FLIPPED,value:Z(ae.score)&&10-Math.min(ae.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:ae=>Qe({id:H.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:Z(ae.score)&&Math.min(ae.score,10)-1}),FUZZY_SCORE_50:ae=>Qe({id:H.Q.FUZZY_SCORE_50,value:ae.bonusPointMap&&ae.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:ae=>Qe({id:H.Q.FUZZY_SCORE_25,value:ae.bonusPointMap&&ae.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:ae=>Qe({id:H.Q.FUZZY_SCORE_ALL,value:ae.bonusPointMap&&ae.bonusPointMap.fuzzyScoreBonus&&ae.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:ae=>Qe({id:H.Q.FILTER_USER_IS_ACTIVE,value:ae.lastSuggestionToken&&ae.lastTokenMemberOrNull&&(0,_.ls)(ae.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:ae=>Qe({id:H.Q.FILTER_USER_IS_CURRENT_USER,value:ae.lastSuggestionToken&&ae.lastTokenMemberOrNull&&(0,_.fy)(ae.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:ae=>Qe({id:H.Q.FILTER_USER_DM_IS_STARRED,value:ae.lastTokenIm&&ae.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:ae=>Qe({id:H.Q.FILTER_USER_DM_IS_UNREAD,value:ae.lastTokenIm&&(0,o.KJ)(ae.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:ae.lastTokenIm&&Oe($e,ae.lastTokenImLastRead,7*$)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:ae.lastTokenIm&&Oe($e,ae.lastTokenImLastRead,2*z)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:ae.lastTokenIm&&Oe($e,parseFloat((Tt=ae.lastTokenImLatest)!==null&&Tt!==void 0?Tt:""),7*$)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:ae.lastTokenIm&&Oe($e,parseFloat((Rt=ae.lastTokenImLatest)!==null&&Rt!==void 0?Rt:""),2*z)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:ae=>Wt({id:H.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt,text:Ln(ae)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:ae=>Wt({id:H.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:Ln(ae)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:ae=>Wt({id:H.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt,text:yn(ae)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:ae=>Wt({id:H.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:yn(ae)}),FILTER_USER_PRIORITY:ae=>Qe({id:H.Q.FILTER_USER_PRIORITY,value:ae.lastTokenIm&&(ae==null?void 0:ae.priority)}),HERE_KEYWORD:ae=>Qe({id:H.Q.HERE_KEYWORD,value:ae.name==="here"}),HERE_KEYWORD_EXACT_MATCH:ae=>Qe({id:H.Q.HERE_KEYWORD_EXACT_MATCH,value:ae.name==="here"&&ae.query==="here"}),IS_BROADCAST_KEYWORD:ae=>Qe({id:H.Q.IS_BROADCAST_KEYWORD,value:!!(ae.type&&ae.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:ae=>Qe({id:H.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(ae.type&&ae.type==="broadcastKeyword"&&Qt({text:(It=ae.name)!==null&&It!==void 0?It:"",normalizedQuery:ae.normalizedQuery}))}),EMOJI_EXACT_MATCH:ae=>Qe({id:H.Q.EMOJI_EXACT_MATCH,value:ae.bonusPointMap&&ae.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:ae=>Wt({id:H.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:ae,extractionFunction:Qt,text:Xt(ae)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:ae=>Wt({id:H.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:Xt(ae)}),FILTER_CHANNEL_IS_ARCHIVED:ae=>Qe({id:H.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,i.F)(ae.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:ae=>Qe({id:H.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,m.b)(ae.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:ae=>Qe({id:H.Q.FILTER_CHANNEL_IS_STARRED,value:ae.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:ae=>Qe({id:H.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,o.KJ)(ae.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:Oe($e,ae.lastTokenChannelLastRead,7*$)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:Oe($e,ae.lastTokenChannelLastRead,2*z)})},FILTER_CHANNEL_PRIORITY:ae=>Qe({id:H.Q.FILTER_CHANNEL_PRIORITY,value:ae==null?void 0:ae.priority}),CHANNEL_IS_FROZEN:(ae,De)=>{let{itemIsChannel:$e}=De;return Qe({id:H.Q.CHANNEL_IS_FROZEN,value:$e&&(0,ne.Zz)(ae.item)})},USER_DM_IS_FROZEN:(ae,De)=>{let{itemIsMember:$e}=De;return Qe({id:H.Q.USER_DM_IS_FROZEN,value:$e&&ae.im&&(0,ne.Zz)(ae.im)})},CHANNEL_HAS_DRAFT:ae=>Qe({id:H.Q.CHANNEL_HAS_DRAFT,value:ae.hasDraft}),USER_DM_HAS_DRAFT:ae=>Qe({id:H.Q.USER_DM_HAS_DRAFT,value:ae.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:ae=>Qe({id:H.Q.EMOJI_QUERY_LENGTH_RATIO,value:ae.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:ae=>Qe({id:H.Q.EMOJI_TOTAL_COMBO_BREAKS,value:ae.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:ae=>Qe({id:H.Q.EMOJI_COMBO_BREAK_0,value:ae.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:ae=>Qe({id:H.Q.EMOJI_COMBO_BREAK_1,value:ae.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:ae=>Qe({id:H.Q.EMOJI_COMBO_BREAK_2,value:ae.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:ae=>Qe({id:H.Q.EMOJI_COMBO_BREAK_3,value:ae.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:ae=>Qe({id:H.Q.TYPE_APP_ACTION,value:ae.suggestionType===V.fd.APP_ACTION}),OS_APP_ACTION:(ae,De)=>{let{source:$e}=De;return Qe({id:H.Q.OS_APP_ACTION,value:($e==null?void 0:$e.startsWith("omniswitcher"))&&ae.suggestionType===V.fd.APP_ACTION})},TYPE_APP:ae=>Qe({id:H.Q.TYPE_APP,value:ae.suggestionType===V.fd.APP}),TYPE_SLASH_COMMAND:ae=>Qe({id:H.Q.TYPE_SLASH_COMMAND,value:ae.suggestionType===V.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:ae=>Qe({id:H.Q.TYPE_GLOBAL_ACTION,value:ae.suggestionType===V.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:ae=>Qe({id:H.Q.IS_INVITE_WORKSPACE,value:ae.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:ae=>Qe({id:H.Q.TYPE_CHANNEL_ACTION,value:ae.suggestionType===V.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:ae=>Qe({id:H.Q.TYPE_WORKFLOW_TRIGGER,value:ae.suggestionType===V.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:ae=>Qe({id:H.Q.TYPE_NAVIGATION_MESSAGE,value:ae.suggestionType===V.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:ae=>Qe({id:H.Q.TYPE_EMOJI,value:ae.suggestionType===V.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:ae=>Qe({id:H.Q.HAS_CHANNEL_ASSOCIATION,value:ae.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:ae=>Qe({id:H.Q.MEMBER_OF_CURRENT_CHANNEL,value:ae.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:ae=>Wt({id:H.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:ae,extractionFunction:Ut,text:un(ae,V.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:Oe($e,ae.latestHitVisit,2*z)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:Oe($e,ae.latestHitVisit,7*$)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:Oe($e,ae.latestItemVisit,2*z)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:Oe($e,ae.latestItemVisit,7*$)||0})},MPIM_MEMBERS:ae=>Qe({id:H.Q.MPIM_MEMBERS,value:ae.item.members.length}),MPIM_MEMBER_NAME_MATCHES:ae=>Qe({id:H.Q.MPIM_MEMBER_NAME_MATCHES,value:ae.scoreDetailsByMember&&Object.values(ae.scoreDetailsByMember).filter(De=>((Mt=De.score_details.real_name)!==null&&Mt!==void 0?Mt:-1/0)>=0||((nn=De.score_details.display_name)!==null&&nn!==void 0?nn:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:ae=>Qe({id:H.Q.MPIM_MEMBER_ALL_MATCHES,value:ae.scoreDetailsByMember&&Object.keys(ae.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:ae=>Qe({id:H.Q.MPIM_MATCHER_SCORE,value:ae.score}),MPIM_MATCHER_SCORE_0:ae=>Qe({id:H.Q.MPIM_MATCHER_SCORE_0,value:ae.score===0}),MPIM_MATCHER_SCORE_1:ae=>Qe({id:H.Q.MPIM_MATCHER_SCORE_1,value:ae.score===1}),MPIM_MATCHER_SCORE_2:ae=>Qe({id:H.Q.MPIM_MATCHER_SCORE_2,value:ae.score===2}),MPIM_MATCHER_SCORE_3:ae=>Qe({id:H.Q.MPIM_MATCHER_SCORE_3,value:ae.score===3}),EMOJI_TEAM_CTR_90DD:ae=>{var De;return Qe({id:H.Q.EMOJI_TEAM_CTR_90DD,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},EMOJI_USER_CTR_30DD:ae=>{var De;return Qe({id:H.Q.EMOJI_USER_CTR_30DD,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:ae=>{var De;return Qe({id:H.Q.MPIM_TEAM_CTR_90DD,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},MPIM_USER_CTR_30DD:ae=>{var De;return Qe({id:H.Q.MPIM_USER_CTR_30DD,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:ae=>{var De;return Qe({id:H.Q.CHANNEL_TEAM_CTR_90DD,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:ae=>{var De;return Qe({id:H.Q.CHANNEL_USER_CTR_30DD,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:ae=>Qe({id:H.Q.USER_ENTITY_TYPE_CTR_30DD,value:ae.entityTypeCtr}),NUM_RESULTS:ae=>Qe({id:H.Q.NUM_RESULTS,value:ae.numResults}),QUERY_IS_SELF:ae=>{var De;return Qe({id:H.Q.QUERY_IS_SELF,value:((De=ae.scoreDetails)===null||De===void 0?void 0:De.self_score)===0})},CURRENT_USER_TEXTY:(ae,De)=>{let{isCurrentUser:$e,source:St}=De;return Qe({id:H.Q.CURRENT_USER_TEXTY,value:St==="texty-autocomplete"&&$e})},FILE_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_AGE_DECAY_7D,value:ae.item&&Oe($e,ae.item.created,7*$)})},FILE_AGE_DECAY_28D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_AGE_DECAY_28D,value:ae.item&&Oe($e,ae.item.created,28*$)})},FILE_AGE_DECAY_90D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_AGE_DECAY_90D,value:ae.item&&Oe($e,ae.item.created,90*$)})},FILE_FROM_CURRENT_USER:ae=>Qe({id:H.Q.FILE_FROM_CURRENT_USER,value:ae.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:ae=>Wt({id:H.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:ae,extractionFunction:Qt,text:un(ae,V.fd.CHANNEL_NAVIGATION),multiplier:qe(ae.numResults)}),FILE_LOG_PUBLIC_SHARES:ae=>{var De,$e;return Qe({id:H.Q.FILE_LOG_PUBLIC_SHARES,value:((De=ae.item)===null||De===void 0||($e=De.shares)===null||$e===void 0?void 0:$e.public)&&qe(Object.keys(ae.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:ae=>{var De,$e;return Qe({id:H.Q.FILE_LOG_PRIVATE_SHARES,value:((De=ae.item)===null||De===void 0||($e=De.shares)===null||$e===void 0?void 0:$e.private)&&qe(Object.keys(ae.item.shares.private).length)})},FILE_LOG_ACTIONS:ae=>{var De;return Qe({id:H.Q.FILE_LOG_ACTIONS,value:((De=ae.item)===null||De===void 0?void 0:De.actions)&&qe(ae.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:Oe($e,ae.latestActionTs,2*z)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:Oe($e,ae.latestActionTs,7*$)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:Oe($e,ae.latestActionTs,90*$)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:Oe($e,ae.latestShareTs,2*z)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:Oe($e,ae.latestShareTs,7*$)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:Oe($e,ae.latestShareTs,90*$)})},FILE_CHANNEL_CTR:ae=>Qe({id:H.Q.FILE_CHANNEL_CTR,value:ae.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:ae=>Qe({id:H.Q.FILE_SUGGESTIONS_SEARCHER,value:ae.fileSuggestionsFromSearcher}),FILE_USER_CTR:ae=>Qe({id:H.Q.FILE_USER_CTR,value:ae.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:ae=>Wt({id:H.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:ae,extractionFunction:ze,text:un(ae,V.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:ae=>Qe({id:H.Q.FILE_IS_CANVAS,value:Un(ae,"quip")}),FILE_HAS_DMS_WITH_CREATOR:ae=>Qe({id:H.Q.FILE_HAS_DMS_WITH_CREATOR,value:ae.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:ae=>Qe({id:H.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:ae.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:Fe($e,parseFloat((Ot=ae.lastReadTs)!==null&&Ot!==void 0?Ot:"")/1e3,90*$)})},APP_NAME_PREFIX_MATCH:ae=>{var De;return Wt({id:H.Q.APP_NAME_PREFIX_MATCH,suggestion:ae,extractionFunction:tn,text:(De=ae.item)===null||De===void 0?void 0:De.appName})},BEST_NAME_MATCH_LOG_RESULTS:ae=>Qe({id:H.Q.BEST_NAME_MATCH_LOG_RESULTS,value:ae.bestNameIsExactMatch&&qe(ae.numResults)}),SLASH_COMMAND_USER_CTR:ae=>{var De;return Qe({id:H.Q.SLASH_COMMAND_USER_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:ae=>{var De;return Qe({id:H.Q.WORKFLOW_TRIGGER_USER_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:ae=>{var De;return Qe({id:H.Q.GLOBAL_ACTION_USER_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:ae=>{var De;return Qe({id:H.Q.CHANNEL_ACTION_USER_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},APP_ACTION_USER_CTR:ae=>{var De;return Qe({id:H.Q.APP_ACTION_USER_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:ae=>{var De;return Qe({id:H.Q.SLASH_COMMAND_TEAM_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:ae=>{var De;return Qe({id:H.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:ae=>{var De;return Qe({id:H.Q.GLOBAL_ACTION_TEAM_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:ae=>{var De;return Qe({id:H.Q.CHANNEL_ACTION_TEAM_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},APP_ACTION_TEAM_CTR:ae=>{var De;return Qe({id:H.Q.APP_ACTION_TEAM_CTR,value:(De=ae.offlineFeatures)===null||De===void 0?void 0:De.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:ae=>Qe({id:H.Q.SHORTCUT_ENTITY_TYPE_CTR,value:ae.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:ae=>Qe({id:H.Q.EXACT_MATCH_LOG_RESULTS,value:(ae.isExactMatch?1:0)*qe(ae.numResults)}),HISTORY_AGE_DECAY_2H:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.HISTORY_AGE_DECAY_2H,value:Oe($e,ae.historyTs,2*z)})},HISTORY_AGE_DECAY_7D:(ae,De)=>{let{now:$e}=De;return Qe({id:H.Q.HISTORY_AGE_DECAY_7D,value:Oe($e,ae.historyTs,7*$)})},HISTORY_POSITION:ae=>Qe({id:H.Q.HISTORY_POSITION,value:ae.historyPosition})};class Jt{serialize(){const De=new Ee;this.featureList.forEach(St=>hn({feature:St,serializer:De}));const $e=De.serialize();return`${this.featuresVersion}:${$e}`}valueForFeature(De){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(De==null)return F().error(`Invalid feature id: ${De}`),null;const St=this.featureList.find(Mn=>Mn.id===De);if(!(0,K.A)(St))return $e?Yt(St)||"":zt(St)||0}static fromSuggestion(De,$e){const St=Date.now()/1e3,Mn=!!(0,_.NB)(De.item),Pn=!!((0,a.rW)(De.item)||(0,a.Zp)(De.item)),wn=Mn&&(0,_.fy)(De.item),cn={itemIsChannel:Pn,itemIsMember:Mn,now:St,isCurrentUser:wn,source:$e};return new this(en(De,$e).map(qn=>bt[qn]&&bt[qn](De,cn)||null))}constructor(De){this.featureList=De,this.featuresVersion="v8"}}c(Jt,"SuggestionFeatureVector");function en(ae,De){return De==="slash-command-menu"?[...x.globalFeatures]:ae.suggestionType===V.fd.USER_NAVIGATION?[...x.globalFeatures,...x.userFeatures]:ae.suggestionType===V.fd.CHANNEL_NAVIGATION?[...x.globalFeatures,...x.channelFeatures]:ae.suggestionType===V.fd.MPIM_NAVIGATION?[...x.globalFeatures,...x.mpimFeatures]:ae.suggestionType===V.fd.VIEW_NAVIGATION?[...x.globalFeatures,...x.viewFeatures]:ae.suggestionType===V.fd.FILE_NAVIGATION?[...x.globalFeatures,...x.fileFeatures,...x.queryFeatures]:ae.suggestionType===V.fd.LINK_NAVIGATION?[...x.globalFeatures,...x.linkFeatures]:ae.suggestionType===V.fd.MODAL_NAVIGATION?[...x.globalFeatures,...x.modalFeatures]:ae.suggestionType===V.fd.TEAM_NAVIGATION?[...x.globalFeatures,...x.teamFeatures]:ae.type==="emoji"?[...x.globalFeatures,...x.emojiFeatures]:ae.type==="broadcastKeyword"?[...x.globalFeatures,...x.broadcastKeywordFeatures]:ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER?[...x.globalFeatures,...x.queryFeatures]:ae.suggestionType===V.fd.APP_ACTION?[...x.globalFeatures,...x.shortcutFeatures,...x.appActionFeatures]:ae.suggestionType===V.fd.SLASH_COMMAND?[...x.globalFeatures,...x.shortcutFeatures,...x.slashCommandFeatures]:ae.suggestionType===V.fd.GLOBAL_ACTION?[...x.globalFeatures,...x.shortcutFeatures,...x.globalActionFeatures]:ae.suggestionType===V.fd.CHANNEL_ACTION?[...x.globalFeatures,...x.shortcutFeatures,...x.channelActionFeatures]:ae.suggestionType===V.fd.WORKFLOW_TRIGGER?[...x.globalFeatures,...x.shortcutFeatures,...x.workflowTriggerFeatures]:ae.suggestionType===V.fd.APP?[...x.globalFeatures,...x.appFeatures]:ae.suggestionType===V.fd.MESSAGE_NAVIGATION?[...x.globalFeatures,...x.messageFeatures]:ae.suggestionType===V.fd.QUERY_HISTORY?[...x.globalFeatures,...x.queryFeatures]:x.globalFeatures}c(en,"getFeaturesForExtraction");class sn{constructor({id:De,value:$e}){De==null&&F().error(`Invalid feature id: ${De}`);const St=X(De);St||F().error(`Missing feature name for id: ${De}`),this.id=De,this.name=St,this.valueOrNull=$e}}c(sn,"Feature");function zt(ae){return typeof ae.valueOrNull=="number"&&isFinite(ae.valueOrNull)?ae.valueOrNull:typeof ae.valueOrNull=="boolean"&&ae.valueOrNull?1:0}c(zt,"getNumericValueForFeature");function Yt(ae){return ae.valueOrNull===null||ae.valueOrNull===void 0?"":ae.valueOrNull.toString()}c(Yt,"getStringValueForFeature");function hn(ae){let{feature:De,serializer:$e}=ae;De.valueOrNull===null&&$e.writeNullFeature(),typeof De.valueOrNull=="number"&&$e.writeNumericalFeature(De.valueOrNull,De.id),typeof De.valueOrNull=="boolean"&&$e.writeBinaryFeature(De.valueOrNull,De.id),typeof De.valueOrNull=="string"&&$e.writeTextFeature(De.valueOrNull,De.id)}c(hn,"serializeFeature");function Qe(ae){let{id:De,value:$e}=ae;const St=(0,K.A)($e)?null:$e;return new sn({id:De,value:St})}c(Qe,"makeFeature");function Wt(ae){let{id:De,suggestion:$e,extractionFunction:St,text:Mn=Bt($e),multiplier:Pn=1}=ae;if(!Mn)return Qe({id:De,value:null});const wn=St({text:Mn,query:$e.query||"",normalizedQuery:$e.normalizedQuery||""}),cn=wn===!0?1:wn===!1?0:wn;return Qe({id:De,value:(cn??0)*Pn})}c(Wt,"makeTextFeature");function gn(ae){let De=null;return(ae.suggestionType===V.fd.QUERY||ae.suggestionType===V.fd.QUERY_USER||ae.suggestionType===V.fd.CHANNEL_NAVIGATION||ae.suggestionType===V.fd.MPIM_NAVIGATION||ae.suggestionType===V.fd.USER_NAVIGATION||ae.suggestionType===V.fd.TEAM_NAVIGATION||ae.suggestionType===V.fd.VIEW_NAVIGATION||ae.suggestionType===V.fd.FILE_NAVIGATION)&&(De=ae.frecencyScore),De}c(gn,"getFrecencyScoreForSuggestion");function rn(ae){let De=null;return ae.suggestionType===V.fd.QUERY&&ae.lastSuggestionToken&&ae.lastSuggestionToken.type===V.S6.API&&(De=ae.lastSuggestionToken.querySuggestionScore),De}c(rn,"getQuerySuggestionScoreV2");function ut(ae){let De=null;return ae.suggestionType===V.fd.FILE_NAVIGATION&&(De=ae.rawScore),De}c(ut,"getFileSuggestionScore");function Pt(ae){return ae&&ae.lastSuggestionToken?ae.lastSuggestionToken.toString():""}c(Pt,"getLastSuggestionTokenString");function Bt(ae){return Cn(ae)?Pt(ae):ae.suggestionType===V.fd.FILE_NAVIGATION?ae.name:null}c(Bt,"getTextOrNullFromQuerySuggestion");function Ft(ae){return ae.isNavigational||ae.isAction||ae.isApp?ae.name:null}c(Ft,"getTextOrNullFromNavigationalSuggestion");function un(ae,De){return ae.suggestionType===De?ae.name:null}c(un,"getTextOrNullFromSuggestionWithType");function Sn(ae){return ae.suggestionType===V.fd.USER_NAVIGATION||(0,K.A)(ae.name)?null:ae.name}c(Sn,"getTextOrNullFromSuggestionNotUser");function Un(ae,De){return ae.suggestionType!==V.fd.FILE_NAVIGATION?!1:ae.fileType===De}c(Un,"isFileTypeMatch");function Cn(ae){return ae.lastSuggestionToken?ae.lastSuggestionToken.type===V.S6.STRING||ae.lastSuggestionToken.type===V.S6.PHRASE||ae.lastSuggestionToken.type===V.S6.API:!1}c(Cn,"isActiveTokenStringLike");function Ln(ae){return ae.lastTokenMemberOrNull&&ae.lastTokenMemberOrNull.profile&&ae.lastTokenMemberOrNull.profile.first_name}c(Ln,"getLastTokenUserFirstName");function yn(ae){return ae.lastTokenMemberOrNull&&ae.lastTokenMemberOrNull.profile&&ae.lastTokenMemberOrNull.profile.last_name}c(yn,"getLastTokenUserLastName");function Xt(ae){return ae.lastTokenMemberName||ae.lastTokenChannelName||null}c(Xt,"lastTokenName");function nt(ae){return ae?ae.im&&ae.lastReadImTs?ae.lastReadImTs:ae.remoteImMetadata&&ae.lastReadRemoteImMetadataTs?(ae.lastReadRemoteImMetadataTs/1e6).toString():null:null}c(nt,"lastReadFromLocalClientElseCachedRemote");function pt(ae){let{text:De,query:$e}=ae;return De===$e}c(pt,"isExactMatch");function Dt(ae){let{text:De,query:$e}=ae;return!!($e&&De&&(0,J.A)(De,$e))}c(Dt,"isPrefixMatch");function Qt(ae){let{text:De,normalizedQuery:$e}=ae;return(0,S.B)(De).replace(/^[@#]/g,"")===$e}c(Qt,"isNormalizedExactMatch");function tn(ae){let{text:De,normalizedQuery:$e}=ae;const St=(0,S.B)(De).replace(/^[@#]/g,"");return!!(St&&$e&&(0,J.A)(St,$e))}c(tn,"isNormalizedPrefixMatch");function an(ae){let{text:De,query:$e}=ae;return(0,Y.A)(De).length+((0,q.A)(De," ")?1:0)===(0,Y.A)($e).length}c(an,"stringSameNumberWordsValueFromSuggestion");function ht(ae){let{text:De,query:$e}=ae;return Math.max(0,De.length-$e.length)}c(ht,"excessStringLengthValueFromSuggestion");function yt(ae){let{text:De,query:$e}=ae;return De.length>0?$e.length/De.length:0}c(yt,"queryRatioLengthValueFromSuggestion");function Ut(ae){let{text:De,normalizedQuery:$e}=ae;return Qt({text:De,normalizedQuery:$e})&&$e.length>1?2**-$e.length:null}c(Ut,"queryLengthDecayNormalMatch");function Gt(ae){let{normalizedQuery:De}=ae;return De.length}c(Gt,"queryLength");function mn(ae){let{text:De}=ae;return De.length}c(mn,"suggestionTextLength");function Oe(ae,De,$e){if(De){var St;return Math.min(1,Math.exp(Math.log(.5)/$e*((St=we(ae,De))!==null&&St!==void 0?St:0)))}return 0}c(Oe,"expAgeDecay");function we(ae,De){return De?Math.max(0,ae-De):null}c(we,"age");function Fe(ae,De,$e){if(!De)return!0;const St=we(ae,De);return!St||St>$e}c(Fe,"ageLatestOlderOrMissing");function qe(ae){return ae>0?Math.log1p(ae):0}c(qe,"log1pSafe");function ze(ae){let{text:De,normalizedQuery:$e}=ae;const St=(0,S.B)(De).replace(/^[@#]/g,"");return St&&$e&&St.includes($e)}c(ze,"stringContainsQueryNormalized");class Ge{score(De){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},St=0;const Mn=De.featureList.length;for(let Pn=0;Pn<Mn;Pn++)St+=this._weightForFeature(De.featureList[Pn],$e.source||null)*(zt(De.featureList[Pn])||0);return St}explain(De){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const St=$e.source||null,Mn=De.featureList.map(cn=>({id:cn.id,name:cn.name,value:cn.valueOrNull,weight:this._weightForFeature(cn,St),globalWeight:this._globalWeightForFeature(cn),score:this._weightForFeature(cn,St)*zt(cn)})),Pn=Mn.filter(cn=>cn.score).sort((cn,qn)=>qn.score-cn.score),wn=Mn.filter(cn=>cn.value&&!cn.score&&cn.name!=="ID");return{score:this.score(De,$e),features:[...Pn,...wn],remoteModel:this.isRemote}}_globalWeightForFeature(De){return this.weights[De.name]||0}_weightForFeature(De){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,St=0;De.name==="USER_IS_EXTERNAL"&&(St=-1);const Mn=this.weights[De.name]||0,wn=$e&&($e==="composer_page__destination"||$e.startsWith("share"))?"WRITE":"READ",cn=this.weights[`${wn}_${De.name}`]||0;return Mn+cn+St}constructor(De,$e=!1){this.isRemote=$e,this.weights=De}}c(Ge,"LinearModel");class Ze extends I.F{fetchData(){return(0,D.dispatchForTeamId)(this.teamId,(0,M.ej)({reason:"AutocompleteModelCache"})).catch(De=>({model:null,omniswitcherModel:null,exception:De})).then(De=>{const $e={model:null,omniswitcherModel:null};if(De.model){const St=(0,w.A)(Object.entries(De.model).map(Mn=>{let[Pn,wn]=Mn;return[Pn.toUpperCase(),wn]}));$e.model=new Ge(St,!0)}else return null;if(De.omniswitcher_model){const St=(0,w.A)(Object.entries(De.omniswitcher_model).map(Mn=>{let[Pn,wn]=Mn;return[Pn.toUpperCase(),wn]}));$e.omniswitcherModel=new Ge(St,!0)}else $e.omniswitcherModel=$e.model;return $e})}constructor(De){super(),this.teamId=De}}c(Ze,"AutocompleteModelCache");let _t=null;function Et(ae){return _t||(_t=new Ze(ae)),_t}c(Et,"getAutocompleteModelCache");var je=e(1917953477),oe=e(220244708);const pe=new Ge({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),Se=new Ge({FRECENCY_LOG_ITEM_COUNT:1}),Ne=new Ge({FRECENCY:1}),lt=new Ge({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),dt=new Ge({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),it=new Ge({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),kt=new Ge({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),ln={testing:it,testing_2:kt,frecency:Ne,autocompleteFallback:pe,shortcuts1:lt,shortcuts3:dt,emojiFrequentlyUsed:Se};var An=e(5795074931),In=e(5267557974),Nn=e(9101533895),kn=e(4761125736),Zn=e(8719147933),_s=e(8276911661),Ts=e(6562711329);const Ms=new E.Ay("search"),ls="autocompleteFallback";let Qn=c(class{sort(De,$e){var St;const Mn=(0,f.Cy)({state:De});Mn.mark("sorter-sort-mark");const Pn=this.prepSuggestions(De,$e);this.extractFeatures(De,Pn);const wn=this.scoreItems(De,Pn),cn=((St=this.options)===null||St===void 0?void 0:St.dryRun)===!0?wn:this.sortByScore(wn);Mn.measureAndClear("sorter-sort-mark","sorter-sort");const qn=2,ms=this.boostExactMatches(cn,qn);return this.forceMatches(ms)}boostExactMatches(De,$e){const St=De.slice(0,$e),Mn=[],Pn=[];for(let wn=$e;wn<De.length;wn++){const cn=De[wn];cn.isExactMatch||cn.bestNameIsExactMatch?Mn.push(cn):Pn.push(cn)}return[...St,...Mn,...Pn]}forceMatches(De){var $e,St;return!(($e=this.options)===null||$e===void 0)&&$e.selfFirst&&!(!((St=De[0])===null||St===void 0)&&St.isSelf)?[...(0,t.A)(De,Pn=>Pn.isSelf),...De]:De}getModels(De,$e){let St=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Mn={model:ln[De],omniswitcherModel:ln[De]};if(!St&&$e){const wn=Et($e).getStaleWhileRevalidate(Mn);return wn===null||wn.model===null||wn.model===void 0?Mn:wn}return Mn}getHistoryChannels(De){if((0,kn._Z)(De,"sq_sorter_history")!=="treatment")return{};if(!(0,g.A)())return{};var $e;const St=[...($e=(0,Zn.t)((0,D.getStateForClientStore)()))!==null&&$e!==void 0?$e:[]];if(!St)return{};for(let Pn=0;Pn<St.length;Pn++)St[Pn].position=Pn+1;const Mn={};return St.filter(Pn=>!(0,y.VA)()&&Pn.teamId!==this.teamId||!Pn.primaryView?!1:(0,A.A)(Pn.primaryView)).forEach(Pn=>{if(Pn.primaryView&&!(Pn.primaryView in Mn)){var wn;Mn[Pn.primaryView]={ts:Pn.ts/1e3,position:(wn=Pn==null?void 0:Pn.position)!==null&&wn!==void 0?wn:-1}}}),Mn}prepSuggestions(De,$e){var St,Mn,Pn;const wn=(0,S.B)((0,je.O)(this.query));if(!((St=this.options)===null||St===void 0)&&St.currentChannel&&wn.length<=1&&!(0,a.yz)((Mn=this.options)===null||Mn===void 0?void 0:Mn.currentChannel)&&!(0,a.LI)((Pn=this.options)===null||Pn===void 0?void 0:Pn.currentChannel)){const dn=$e.filter(tt=>tt.type==="member"||(0,_.NB)(tt.item)).map(tt=>(tt.item||tt).id);(0,D.dispatchForTeamId)(this.teamId,(0,Ts.z)({channelId:this.options.currentChannel.id,userIds:dn}))}let cn=null;if((0,kn._Z)(De,"snd_autocomplete_features_cache")==="treatment"&&this.teamId){var qn;cn=j({teamId:this.teamId,enterpriseId:(qn=this.enterpriseId)!==null&&qn!==void 0?qn:void 0}).getStaleWhileRevalidate()}const ms=$e.length,As=(0,An.WR)(De),xs=(0,_s.cA)(De),Rs=(0,h.dQ)(xs),gs=this.getHistoryChannels(De),Ls={};return $e.forEach(dn=>{const tt=dn.item;(dn.type==="mpim"||(0,a.yz)(dn.item))&&((0,o.Ug)(tt)||[]).forEach(Vt=>{if(Vt!==As){const vt=Ls[Vt]||{itemCount:0,hitCount:0},xt=(0,o._V)(De,tt),wt=xt?parseFloat(xt):void 0,Ht=(0,In.b)(De,tt.id),Zt=Ht?parseFloat(Ht):void 0;wt&&(vt.lastReadTs?vt.lastReadTs=Math.max(vt.lastReadTs,wt):vt.lastReadTs=wt),Zt&&(vt.latestMsgTs?vt.latestMsgTs=Math.max(vt.latestMsgTs,Zt):vt.latestMsgTs=Zt),vt.hitCount+=(dn==null?void 0:dn.hitCount)||0,vt.itemCount+=(dn==null?void 0:dn.itemCount)||0,Ls[Vt]=vt}})}),$e.map(dn=>{const tt=dn.item||dn,Je={...dn,query:this.query,normalizedQuery:wn,id:tt.id,suggestionType:V.fd.UNKNOWN,numResults:ms};if(dn.type==="member"||(0,_.NB)(dn.item)){var Vt,vt,xt;const bn=tt.id&&(0,Nn.Pu)(De,tt.id),pn=tt.id&&cn&&cn.getUserDmChannelMetadata(tt.id);Je.remoteImMetadata=pn,Je.im=bn,Je.latestImTs=bn&&(0,In.b)(De,bn.id),Je.imHasDraft=bn&&(0,o.yc)(De,bn.id),Je.imIsStarred=bn&&(0,o.m2)(De,bn),Je.name=(0,v.Gt)(dn.item),Je.lastReadImTs=(0,o._V)(De,bn),Je.lastReadRemoteImMetadataTs=pn==null?void 0:pn.last_read_abs,(0,h.dQ)(dn.item)===Rs&&(Je.sameTeam=!0);let ss;if(!((Vt=this.options)===null||Vt===void 0)&&Vt.currentChannel&&(ss=this.options.currentChannel),ss)if((0,a.yz)(ss)){var wt,Ht;Je.isMemberOfCurrentChannel=(Ht=ss==null||(wt=ss.members)===null||wt===void 0?void 0:wt.includes(dn.item.id))!==null&&Ht!==void 0?Ht:!1}else(0,a.LI)(ss)||(Je.isMemberOfCurrentChannel=(0,oe.B)(De,tt,ss));Je.priority=(0,o.dh)(De,bn),Je.suggestionType=V.fd.USER_NAVIGATION,Je.isNavigational=!0,Je.historyTs=bn&&((vt=gs[bn.id])===null||vt===void 0?void 0:vt.ts),Je.historyPosition=bn&&((xt=gs[bn.id])===null||xt===void 0?void 0:xt.position);const Xn=Ls[tt.id];Xn&&(Je.mpimFeatures=Xn)}else Je.name=tt.name||tt.string;if(dn.type==="channel"||(0,a.jq)(dn.item)){var Zt,vn;Je.suggestionType=V.fd.CHANNEL_NAVIGATION,Je.isNavigational=!0,Je.isChannelMember=(0,a.rW)(tt)&&!(0,i.F)(tt)&&(0,m.b)(tt),Je.hasDraft=(0,o.yc)(De,tt.id),Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"channel"),Je.historyTs=(Zt=gs[tt.id])===null||Zt===void 0?void 0:Zt.ts,Je.historyPosition=(vn=gs[tt.id])===null||vn===void 0?void 0:vn.position,Je.latestTs=(0,In.b)(De,tt.id),Je.lastReadTs=(0,o._V)(De,tt),Je.priority=(0,o.dh)(De,tt),Je.isStarred=(0,o.m2)(De,tt)}if(dn.type==="mpim"||(0,a.yz)(dn.item)){var On,En;Je.suggestionType=V.fd.MPIM_NAVIGATION,Je.isNavigational=!0;const pn=((0,o.Ug)(tt)||[]).map(as=>(0,_s.nv)(De,as));Je.isMpimWithDeactivatedMember=(0,n.A)(pn,as=>(0,_.oy)(as)||(0,_.eJ)(as)),Je.isMpimWithOnlyInternalMembers=(0,s.A)(pn,as=>!(0,u.g)(as)),Je.hasDraft=(0,o.yc)(De,tt.id),Je.name=(0,o.Oi)(De,dn.item),Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"mpim"),Je.historyTs=(On=gs[tt.id])===null||On===void 0?void 0:On.ts,Je.historyPosition=(En=gs[tt.id])===null||En===void 0?void 0:En.position,Je.priority=(0,o.dh)(De,tt),Je.maxLastReadTsOfAllMembers=null,Je.maxLatestMsgTsOfAllMembers=null;let ss=0,Xn=0,is=0,es=0,vs=0;pn.forEach(as=>{if(as.id!==As){const rs=as.id?(0,Nn.Pu)(De,as.id):void 0,cs=rs&&(0,o._V)(De,rs),Is=as.id&&cn&&cn.getUserDmChannelMetadata(as.id),Us=Is&&Is.last_read_abs/1e6,os=rs||Is,bs=cs?parseFloat(cs):Us;if(os){if(vs+=1,bs){is+=1;var Yn;Je.maxLastReadTsOfAllMembers=Math.max((Yn=Je.maxLastReadTsOfAllMembers)!==null&&Yn!==void 0?Yn:-1/0,bs),ss+=bs}const Ps=(0,In.b)(De,rs==null?void 0:rs.id),ws=rs&&Ps?parseFloat(Ps):void 0;if(ws){es+=1;var hs;Je.maxLatestMsgTsOfAllMembers=Math.max((hs=Je.maxLatestMsgTsOfAllMembers)!==null&&hs!==void 0?hs:-1/0,ws),Xn+=ws}}}}),Je.avgLastReadTsOfAllMembers=ss===0?null:ss/is,Je.avgLatestMsgTsOfAllMembers=Xn===0?null:Xn/es,Je.pctNonEmptyDmsForAllMembers=is/(pn.length-1)*100,Je.pctNonNullDmsForAllMembers=vs/(pn.length-1)*100}if(dn.type==="team"&&(Je.suggestionType=V.fd.TEAM_NAVIGATION,Je.isNavigational=!0),dn.type==="view"&&(Je.suggestionType=V.fd.VIEW_NAVIGATION,Je.isNavigational=!0),dn.type==="appAction"&&(Je.suggestionType=V.fd.APP_ACTION,Je.isAction=!0,Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"appAction")),dn.type==="app"&&(Je.suggestionType=V.fd.APP,Je.isApp=!0),dn.type==="emoji"&&(Je.name=Je.emojiBestNameMatch,Je.suggestionType=V.fd.EMOJI,Je.isNavigational=!0,Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"emoji")),dn.type==="slashCommand"){var on;Je.suggestionType=V.fd.SLASH_COMMAND,Je.isApp=!0,Je.name=(on=Je.name)===null||on===void 0?void 0:on.substring(1),Je.firstWordOfRawQuery&&(Je.query=Je.firstWordOfRawQuery,Je.normalizedQuery=Je.firstWordOfRawQuery),Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"slashCommand")}if(dn.type==="globalAction"&&(Je.suggestionType=V.fd.GLOBAL_ACTION,Je.isApp=!0,Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"globalAction")),dn.type==="quipShortcutCommand"&&(Je.suggestionType=V.fd.QUIP_SHORTCUT),dn.type==="channelAction"&&(Je.suggestionType=V.fd.CHANNEL_ACTION,Je.isApp=!0,Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"channelAction")),dn.type==="workflowTrigger"&&(Je.suggestionType=V.fd.WORKFLOW_TRIGGER,Je.isApp=!0,Je.offlineFeatures=cn&&cn.getFeatures(dn.item.id,"workflowTrigger")),dn.type==="file"){Je.suggestionType=V.fd.FILE_NAVIGATION,Je.isNavigational=!0,Je.fileSuggestionsFromSearcher=!0;const bn=Je.item;Je.id=bn.id,Je.fileId=bn.id,Je.logId=bn.id,Je.fileType=bn.highlight_type||bn.filetype,Je.name=bn.title,Je.fileTypeDescription=bn.is_external?(0,r.A)(bn,De):bn.pretty_type,Je.fileTypeDescription==="Arugula"&&(Je.fileTypeDescription=Ms.t("Post")),Je.fromCurrentUser=bn.user===As;const pn=bn.user&&(0,Nn.Pu)(De,bn.user),ss=bn.user&&cn&&cn.getUserDmChannelMetadata(bn.user);if(Je.hasNonNullDmsWithCreator=pn!==null,Je.hasNonNullLocalOrRemoteDmsWithCreator=pn!==null||ss!==null,Je.lastReadTs=bn.last_read,bn.shares){const is=bn.shares.public&&Math.max(...Object.values(bn.shares.public).flatMap(vs=>vs.map(as=>as.ts?parseFloat(as.ts):-1/0))),es=bn.shares.private&&Math.max(...Object.values(bn.shares.private).flatMap(vs=>vs.map(as=>as.ts?parseFloat(as.ts):-1/0)));is&&es?Je.latestShareTs=is>es?is:es:Je.latestShareTs=is||es}const Xn=l(bn);if(Xn&&(Je.latestActionTs=Xn),cn){const is=bn.channels&&Array.isArray(bn.channels)&&bn.channels.length&&Math.max(...bn.channels.map(vs=>cn.getFeatures(vs,"channel").user_ctr_30dd)),es=bn.groups&&Array.isArray(bn.groups)&&bn.groups.length&&Math.max(...bn.groups.map(vs=>cn.getFeatures(vs,"mpim").user_ctr_30dd));is>0&&es>0?Je.fileChannelCtr=Math.max(is,es):is>0?Je.fileChannelCtr=is:es>0&&(Je.fileChannelCtr=es),bn.user?Je.fileUserCtr=cn.getFeatures(bn.user,"member").user_ctr_30dd:Je.fileUserCtr=cn.getEntityCtr("member")}}if(dn.type==="link"&&(Je.suggestionType=V.fd.LINK_NAVIGATION,Je.isNavigational=!0,Je.name=dn.item.title||dn.item.url),dn.type==="modal"&&(Je.suggestionType=V.fd.MODAL_NAVIGATION,Je.name=dn.item.name),dn.type==="queryHistory"&&(Je.suggestionType=V.fd.QUERY_HISTORY,Je.is_type_query_history=!0,Je.id=(0,p.B)(dn.id||dn.name||dn.string),Je.logId=Je.id,Je.exact_string=dn.string),dn.type==="query"||dn.type==="queryUser"||dn.type==="queryHistory"){var Tn,jn,Wn;Je.is_type_query_completion=!0,Je.lastSuggestionToken=!Je.suggestionTokenList||Je.suggestionTokenList.length<1?null:Je.suggestionTokenList[Je.suggestionTokenList.length-1],Je.frecencyScore=Je.lastSuggestionToken&&Je.lastSuggestionToken._frecencyScore,Je.scoringContext=((Tn=Je.lastSuggestionToken)===null||Tn===void 0?void 0:Tn._scoringContext)||{},Je.lastTokenMemberOrNull=null,Je.lastTokenChannelOrNull=null;const bn=Je.lastSuggestionToken&&(Je.lastSuggestionToken.type===V.S6.FILTER_FROM||Je.lastSuggestionToken.type===V.S6.FILTER_TO||Je.lastSuggestionToken.type===V.S6.FILTER_WITH),pn=Je.lastSuggestionToken&&Je.lastSuggestionToken.type===V.S6.FILTER_IN;if(!((jn=Je.lastSuggestionToken)===null||jn===void 0)&&jn._id&&(Je.lastTokenMemberOrNull=bn&&(0,_s.nv)(De,Je.lastSuggestionToken._id),Je.lastTokenChannelOrNull=pn&&((0,Nn.OL)(De,Je.lastSuggestionToken._id)||(0,Nn.Pu)(De,Je.lastSuggestionToken._id)),Je.priority=Je.lastTokenChannelOrNull?(0,o.dh)(De,Je.lastTokenChannelOrNull):void 0),Je.lastSuggestionToken&&Je.lastSuggestionToken._name&&(Je.lastTokenMemberOrNull||(Je.lastTokenMemberOrNull=bn&&(0,_s.H6)(De,Je.lastSuggestionToken._name)),Je.lastTokenChannelOrNull||(Je.lastTokenChannelOrNull=pn&&(0,Nn.Os)(De,Je.lastSuggestionToken._name))),(0,d.GU)(Je.lastTokenMemberOrNull)&&(Je.lastTokenMemberOrNull=null),Je.lastTokenMemberName=(0,v.Gt)(Je.lastTokenMemberOrNull)||void 0,(0,d.GU)(Je.lastTokenChannelOrNull))Je.lastTokenChannelOrNull=null;else{const Xn=(0,o._V)(De,Je.lastTokenChannelOrNull);Je.lastTokenChannelLastRead=Xn?parseFloat(Xn):void 0,Je.lastTokenChannelIsStarred=(0,o.m2)(De,Je.lastTokenChannelOrNull)}Je.lastTokenChannelName=(0,o.SB)(De,Je.lastTokenChannelOrNull)||null,Je.lastTokenIm=Je.lastTokenMemberOrNull&&Je.lastTokenMemberOrNull.id?(0,Nn.Pu)(De,Je.lastTokenMemberOrNull.id):void 0,Je.lastTokenImLatest=(0,In.b)(De,(Wn=Je.lastTokenIm)===null||Wn===void 0?void 0:Wn.id);const ss=(0,o._V)(De,Je.lastTokenIm);ss&&(Je.lastTokenImLastRead=ss?parseFloat(ss):void 0),Je.lastTokenIm&&(Je.priority=(0,o.dh)(De,Je.lastTokenIm)),Je.lastTokenImIsStarred=(0,o.m2)(De,Je.lastTokenIm)}if(dn.type==="query"&&(Je.suggestionType=V.fd.QUERY),dn.type==="queryUser"&&(Je.suggestionType=V.fd.QUERY_USER),dn.type==="queryHistory"&&(Je.suggestionType=V.fd.QUERY_HISTORY),dn.type==="querySalesforce"&&(Je.suggestionType=V.fd.QUERY_SALESFORCE),dn.type==="query"||dn.type==="queryUser"||dn.type==="queryHistory"||dn.type==="querySalesforce"){var Bn;Je.normalizedQuery=(0,S.B)((0,je.O)(Je.query)),Je.logId=((Bn=Je.lastSuggestionToken)===null||Bn===void 0?void 0:Bn.logId)||"";var Hn;Je.name=((Hn=Je.suggestionTokenList)!==null&&Hn!==void 0?Hn:[]).map(bn=>bn.toString()).join(" ")}return dn.type==="quickMessage"&&(Je.isNavigational=!0,Je.suggestionType=V.fd.MESSAGE_NAVIGATION),dn.type==="salesforceRecord"&&(Je.suggestionType=V.fd.SALESFORCE_RECORD),Je.entityTypeCtr=cn?cn.getEntityCtr(dn.type):void 0,Je})}extractFeatures(De,$e){$e.forEach(St=>{var Mn;const Pn=U(St,(Mn=this.options)===null||Mn===void 0?void 0:Mn.source);this.featureVectors[St.id]=Pn})}selectModelForScoring(){return this.model}scoreItems(De,$e){var St;const Mn={source:(St=this.options)===null||St===void 0?void 0:St.source},Pn=this.selectModelForScoring();return $e.map(wn=>{var cn;const qn=this.featureVectors[wn.id],ms=Pn.score(qn,Mn);let As;return!((cn=this.options)===null||cn===void 0)&&cn.explain&&(As=Pn.explain(qn,Mn)),{...wn,modelScore:ms,featureVectorRaw:qn,explain:As}})}sortByScore(De){var $e,St;return De.sort((Mn,Pn)=>(($e=Pn==null?void 0:Pn.modelScore)!==null&&$e!==void 0?$e:0)-((St=Mn==null?void 0:Mn.modelScore)!==null&&St!==void 0?St:0))}constructor({query:De,options:$e={},teamId:St=null,enterpriseId:Mn=null}){this.query=De,this.options=$e;let Pn=$e.model;Pn===void 0&&(Pn=ls);var wn;const cn=this.getModels(Pn,St||Mn,(wn=this.options.modelLocal)!==null&&wn!==void 0?wn:!1);this.model=cn.model,this.omniswitcherModel=cn.omniswitcherModel,this.teamId=St,this.enterpriseId=Mn,this.featureVectors={}}},"Sorter")},1763226059:(Q,C,e)=>{"use strict";e.d(C,{M:()=>d,W:()=>r});var t=e(2371143272),n=e(7002741921),s=e(4724591729);function r(o,a){const i={resources:[],frames:[],stacks:[],samples:[]},m=new Map,l=new Map,_=new Map;function v(E){if(_.has(E))return _.get(E);const g=i.resources.length;return i.resources.push(o.resources[E]),_.set(E,g),g}c(v,"mapResource");function u(E){if(l.has(E))return l.get(E);const g=o.frames[E],A=i.frames.length;return g.resourceId!=null?i.frames.push({...g,resourceId:v(g.resourceId)}):i.frames.push(g),l.set(E,A),A}c(u,"mapFrame");function h(E){if(m.has(E))return m.get(E);const g=o.stacks[E],A=g.parentId?h(g.parentId):void 0,y=u(g.frameId),T=i.stacks.length;return i.stacks.push(A!=null?{parentId:A,frameId:y}:{frameId:y}),m.set(E,T),T}c(h,"mapStack");function f(E){E.stackId==null?i.samples.push(E):i.samples.push({timestamp:E.timestamp,stackId:h(E.stackId)})}c(f,"addSample");let p=0;for(const{start:E,end:g}of a){for(;p<o.samples.length&&o.samples[p].timestamp<E;)p+=1;for(;p<o.samples.length&&o.samples[p].timestamp<=g;)f(o.samples[p]),p+=1}return i}c(r,"filterTrace");function d(){return!(0,s.b3)()&&(0,n.A)("self_profiling","enabled")&&!(0,t.b)()}c(d,"isProfilingEnabled")},4291335534:(Q,C,e)=>{"use strict";e.d(C,{Og:()=>r,Pc:()=>n,dx:()=>d,fN:()=>s});var t=e(9434083208);function n(o){const a=(0,t.A)(o);return a&&a.toLowerCase()}c(n,"normalizeName");function s(o,a){const i=n(o.replace(/^[@\uFF20]/,"")),m=n(a.replace(/^[@\uFF20]/,"")),l=i==null?void 0:i.split(/[ ._]/),_=m==null?void 0:m.split(/[ \-._]/);if(!l||!_)return!1;for(let v=0;v<l.length;v++)if(l[v].split(/[-]/)[0]===_[0])return!0;return!1}c(s,"isNameMatchGoodEnoughForRealMention");function r(o,a){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return n(o)===n(a.substr(i,o.length))}c(r,"isNameSubstrMatch");function d(o,a){if(!o)return null;for(let i=0;i<o.length;i++){const m=o[i];if(m.name===a||m.ms_name===a||(0,t.A)(m.name)===a)return m}return null}c(d,"getBroadcastMatch")},2332798892:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m});var t=e(1703559452),n=e(7174777686),s=e(735940183);const r=["`","\xB4","\u02C6","\xA8","\u02DC"],d=new RegExp(`[${r.join("")}]$`);function o(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(d,"")}c(o,"trim_trailing_composition_char");const a={COMPOSITION_CHARS:r};var i=e(3212336858);function m(l,_){let{allowPartialMatches:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!_||!l)return!1;let u=_.toLowerCase().replace(/^\uFF0F/,"/");u=(0,s.dV)(u),u=o(u);const h=[(0,i.fK)(l),(0,i.Bs)(l),...(0,i.qc)(l)||[]];return(0,t.A)(h,f=>{const p=(0,s.dV)(f);return v?(0,n.A)(p,u):p===u})}c(m,"is_match_for_command")},475074488:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>o,lr:()=>a,nf:()=>i});var t=e(6313685253),n=e(4178261413),s=e(5797466484),r=e(9746734072),d=e(8840779375);function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,t.A)(l,(_,v,u)=>({..._,[(0,n.A)(u)]:v}),{})}c(o,"snakeCaseKeys");const a=5;function i(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length>2?arguments[2]:void 0;return m(l,_,v)}c(i,"snakeCaseKeysDeep");function m(l){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length>2?arguments[2]:void 0;var u;if(!(0,s.A)(l)&&!(0,r.A)(l)||_>((u=v==null?void 0:v.maxDepth)!==null&&u!==void 0?u:a)||!l)return l;const h=_+1;let f={};return(0,r.A)(l)?(0,r.A)(l)&&(f=(0,d.A)(l,p=>i(p,h,v))):f=(0,t.A)(l,(p,E,g)=>{var A;const y=!(v==null||(A=v.ignoredKeys)===null||A===void 0)&&A.includes(g)?g:(0,n.A)(g);return{...p,[y]:i(E,h,v)}},{}),f}c(m,"snakeCaseKeysDeepPrivate")},8664881451:(Q,C,e)=>{"use strict";e.d(C,{Dd:()=>p,Rj:()=>g,TQ:()=>E,ZH:()=>u,ds:()=>f,qG:()=>_});var t=e(9706240641),n=e.n(t),s=e(796111729),r=e(6673728906),d=e(571104883);const o={},a={},i={},m=(0,s.Wo)({label:"SOUND-PLAYBACK"});function l(A){return`${A}-repeat`}c(l,"createRepeatKey");const _=c(A=>{A&&E(A)},"addSoundToInMemoryCache"),v=function(){var A=(0,t.coroutine)(function*(y){try{if(!y||!("setSinkId"in y)||(0,d.gm)())return;const T=(0,r._o)();yield y.setSinkId(T)}catch(T){m.warn(`Failed to set sink id with reason: ${T}`)}});return c(function(T){return A.apply(this,arguments)},"maybeSetAudioSinkId")}(),u=function(){var A=(0,t.coroutine)(function*(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return null;const M=p(y)||E(y);M.loop=!!T.loop,M.currentTime=0;var O;M.volume=(O=T.volume)!==null&&O!==void 0?O:1,yield v(M);try{yield M.play()}catch(I){m.warn(`Failed to play sound: ${y} with reason: ${I}`)}});return c(function(T){return A.apply(this,arguments)},"play")}(),h=function(){var A=(0,t.coroutine)(function*(y){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return null;const M=l(y),O=c(()=>{a[M]-=1,a[M]>0&&(m.info(`lounge music looping: ${y}`),T.pause?i[M]=setTimeout(()=>{u(M)},T.pause):u(M))},"ended");T.repeat&&(a[M]=T.repeat);const I=p(M)||E(y,{ended:O,customCacheKey:M});I.currentTime=0,yield v(I);try{yield I.play()}catch(D){m.warn(`Failed to play repeated sound: ${y} with reason: ${D}`)}});return c(function(T){return A.apply(this,arguments)},"playRepeat")}();function f(A){let{logFailure:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const T=p(A),M=l(A),O=p(M);if(!T&&!O){y&&m.warn(`Tried to stop sound, but no sound was playing matching url: ${A}. Available cached element urls are ${Object.keys(o).join(", ")}`);return}if(O){O.pause(),clearTimeout(i[M]),a[M]=0;const I=O.src;O.src="",O.src=I}if(T){T.pause();const I=T.src;T.src="",T.src=I}}c(f,"stop");function p(A){return o[A]}c(p,"getAudioElement");function E(A){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=new Audio(A);y.ended&&T.addEventListener("ended",y.ended);const M=y.customCacheKey||A;return o[M]=T,T}c(E,"createAudioElement");function g(A,y,T){if(!A||!y||!T)return;const M=p(A);M&&M.removeEventListener(y,T)}c(g,"removeAudioElementListener")},4737389068:(Q,C,e)=>{"use strict";e.d(C,{z:()=>o});var t=e(2742325982),n=e(1993167390),s=e(5918674591),r=e(1185022047),d=e(9157930672);function o(a,i){const{isHidden:m,...l}=i,_=(0,d.q)(a.id);if(_===null)return a.id===i.id&&a.type===i.type;if(a.type!==(0,s.Z)(a.id,i.type))return!1;const{namespace:v,macroCallbackId:u,namedInputs:h}=_,f=r.s[v].find(A=>{let{callbackId:y}=A;return y===u});if(!f)return!1;const p=h.find(A=>{let{value:y}=A;return y===i.id}),E=f.inputParameters.find(A=>{let{name:y}=A;return y===(p==null?void 0:p.parameter)});if(!p||!E||E.type==="integer"&&i.type==="slack#/types/timestamp")return!0;if(E.type==="array")return i.type==="array"&&(0,t.yH)(l,E);if((f==null?void 0:f.callbackId)==="canvas_card"&&E.name==="object_id"){var g;switch((g=h.find(y=>{let{parameter:T}=y;return T==="object_type"}))===null||g===void 0?void 0:g.value){case"canvas":return i.type==="slack#/types/canvas_id";case"message":return i.type==="slack#/types/message_context";case"user":return i.type==="slack#/types/user_id";default:return!1}}return(f==null?void 0:f.callbackId)==="message_url"&&E.name==="object_id"?i.type==="slack#/types/message_context":(f==null?void 0:f.callbackId)==="canvas_date"?i.type==="slack#/types/timestamp":!!((0,n.X)(t.wP,E.type)&&(0,t.Lm)(l,E))}c(o,"isWorkflowTokenValid")},6013332081:(Q,C,e)=>{"use strict";e.d(C,{C8:()=>o,CE:()=>a,ND:()=>i,R$:()=>m,VN:()=>E,Xq:()=>p,zz:()=>l});var t=e(2384837025),n=e(2508519639),s=e(9157930672),r=e(4459152581);function d(g,A){const y=(0,s.q)(g);if(y){for(const T of y.namedInputs)if(T.parameter===A)return T.value}}c(d,"extractNamedInput");function o(g){return d(g,"timezone")}c(o,"extractLocalizedTimezone");function a(g){return d(g,"locale")}c(a,"extractLocale");function i(g){return g?!!(0,s.q)(g):!1}c(i,"isIdWrappedWithMacro");function m(g){let{type:A,arrayItemType:y,id:T}=g;return A?!!l({type:A,arrayItemType:y,variableId:T}):!1}c(m,"isTypeMacroSupported");function l(g){let{type:A,callbackId:y,fromRichText:T,arrayItemType:M,variableId:O}=g;var I,D;if(!((I=t.ss[A])===null||I===void 0)&&I.call(t.ss)){const G=t.ss[A]();return _({options:G,callbackId:y,fromRichText:T})}if(A===n.TE.Array&&M){var P;const G=(P=t.Wy[M])===null||P===void 0?void 0:P.call(t.Wy);return _({options:G,callbackId:y,fromRichText:T})}if(A===n.TE.String){var L,k;return(k=v(O))!==null&&k!==void 0?k:(L=t.ss[A])===null||L===void 0?void 0:L.call(t.ss)}return(D=t.ss[A])===null||D===void 0?void 0:D.call(t.ss)}c(l,"getMacroOptions");function _(g){let{options:A,callbackId:y,fromRichText:T}=g;if(!y)return A;const M=Object.entries(A??{}).filter(O=>{let[,I]=O;const{macroDetails:D,onlyRichTextAllowed:P,disallowedCallbackIds:L,allowedCallbackIds:k}=I;return!T&&(D==null?void 0:D.outputParameter.type)==="slack#/types/blocks"||P&&!T?!1:L?!L.includes(y):k?k.includes(y):!0});return Object.fromEntries(M)}c(_,"filterMacroOptions");function v(g){if(g!=null&&g.includes("__reaction"))return t.ss[n.sR.CustomTypeEmojiReaction]()}c(v,"getMacroOptionsFromId");function u(g){if(g!=null&&g.includes("__reaction"))return t.T$[n.sR.CustomTypeEmojiReaction]()}c(u,"getDefaultMacroFromId");function h(g){let{type:A,variableId:y}=g;var T,M;return(M=u(y))!==null&&M!==void 0?M:(T=t.T$[A])===null||T===void 0?void 0:T.call(t.T$)}c(h,"getDefaultMacro");function f(g,A,y,T){var M,O,I,D;if(g&&(!((M=t.fU[g])===null||M===void 0||(O=M[y])===null||O===void 0)&&O.call(M,T)))return t.fU[g][y](T);if(A&&(!((I=t.fU[A])===null||I===void 0||(D=I[y])===null||D===void 0)&&D.call(I,T)))return t.fU[A][y](T)}c(f,"getDefaultMacroForStepOrApp");function p(g,A){const y=E(g,A);return y?{...g,id:y}:g}c(p,"applyDefaultMacroForVariable");function E(g,A){const{id:y,type:T,items:M,sourceSubtype:O}=g,I=M&&M.type,P=T===n.TE.Array&&I?I:T;var L;const k=(L=f(A==null?void 0:A.stepId,A==null?void 0:A.appId,P,{isReactionTriggerInsideGsheetStep:O===r.$.ReactionAdded&&(A==null?void 0:A.appId)===t.xM}))!==null&&L!==void 0?L:h({type:P,variableId:y});if(k){var G;const b=(G=l({type:T,arrayItemType:I,callbackId:A==null?void 0:A.callbackId,variableId:y,fromRichText:A==null?void 0:A.fromRichText}))===null||G===void 0?void 0:G[k];if(b)return b.wrapWithMacro(y,A)}}c(E,"wrapIdWithDefaultMacro")},9678184769:(Q,C,e)=>{"use strict";e.d(C,{pE:()=>i,uE:()=>v,KC:()=>_,Jx:()=>l});var t=e(6354089372),n=e(6013332081);const s=c(u=>{let{collection:h,separator:f}=u;return f?`{string.join(collection=${h},separator=${f})}`:`{string.join(collection=${h})}`},"stringJoin");var r=e(2914827650),d=e(7920181432),o=e(9157930672);const i={join:{macroDetails:(0,t.v)(d.J.STRING).join,getLabel:()=>"String Join",getExample:()=>"Str1, Str2",wrapWithMacro:u=>(0,n.ND)(u)?(0,r.sQ)([u,s({collection:r.lQ})]):s({collection:u})}},m=c(u=>Boolean(i[u]),"isTransformMacro"),l=c(u=>{if(!u)return!1;const h=(0,o.D)(u),f=h.filter(p=>{let{macroCallbackId:E}=p;return m(E)});return f.length>0&&f.length===h.length},"isIdWrappedOnlyWithTransformMacro"),_=c(u=>(0,o.D)(u).filter(f=>{let{macroCallbackId:p}=f;return m(p)}).map(f=>{let{macroCallbackId:p}=f;return p}),"getTransformMacros"),v=c((u,h)=>{var f;return h.reduce((p,E)=>{var g;return(f=(g=i[E])===null||g===void 0?void 0:g.wrapWithMacro(p))!==null&&f!==void 0?f:p},u)},"applyTransformMacros")},3436445810:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(308057085),n=e(1026899594);function s(d){var o;if(!(0,t.Ay)(d))return!1;const a=(d==null||(o=d.attributes)===null||o===void 0?void 0:o.link)||"",i=d.insert;if(d.insert===a)return!0;const m=a==null?void 0:a.match(/^(https?:\/\/)(.+)/);return m?`${m[1]}${i}`===a:!1}c(s,"isOpAutolink");function r(d,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{onlyAutoLinks:i}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const m=o.index||0,l=o.length||0,{op:_,opIndex:v}=(0,n.A)(d,m),u=l>0?m+l-1:m+l,{op:h,opIndex:f,opLength:p}=(0,n.A)(d,u);let E=_||{},g=v;const A=h||{};if(!(0,t.Ay)(E)&&m>0&&l===0&&a.link){const T=(0,n.A)(d,m-1);E=T.op||{},g=T.opIndex}const y=o;return(!i&&(0,t.Ay)(E)||i&&((0,t.uK)(E)||s(E)))&&(y.index=g,y.length=l+(m-y.index)),(!i&&(0,t.Ay)(A)||i&&((0,t.uK)(A)||s(A)))&&(y.length=f+p-y.index),y}c(r,"adjustSelectionToCoverLink")},8369963377:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Ue});var t=e(4711108074),n=e.n(t),s=e(3078252698),r=e(1649982175),d=e(9113979368),o=e(5797466484),a=e(4404059078),i=e(2827252833),m=e(308057085),l=e(6564475562),_=e(8405695339),v=e(9017940688),u=e(3436445810);const h="block-formatter";var f=e(796111729),p=e(80326605),E=e(6263851502),g=e(5543919295),A;(function(ye){ye.BulletList="bullet-list",ye.OrderedList="ordered-list",ye.CodeBlock="code-block",ye.BlockQuote="blockquote"})(A||(A={}));function y(ye){return ye===A.BulletList||ye===A.OrderedList||ye===A.CodeBlock||ye===A.BlockQuote}c(y,"stringIsBlockFormat");const T={[A.OrderedList]:p.DI,[A.BulletList]:p.Kp,[A.CodeBlock]:E.h,[A.BlockQuote]:g.h$};function M(ye){const Te=[A.BulletList,A.OrderedList,A.CodeBlock,A.BlockQuote],ge={[A.BulletList]:!1,[A.OrderedList]:!1,[A.CodeBlock]:!1,[A.BlockQuote]:!1};return Te.forEach(Ae=>{const Re=T[Ae];Re(ye)&&(ge[Ae]=!0)}),ge}c(M,"getBlockFormatsOfLine");var O=e(8086952004),I=e(6696292586),D=e(2208015175),P=e(9101902095),L=e(791705512),k=e(9816084745),G=e(5783222387);function b(ye,Te,ge){const Ae=T[ge],Re=(0,G.M)(ye,Te);return!(0,k.A)(Re,ke=>Ae(ke))}c(b,"shouldAddBlockFormattingToRange");function W(ye){var Te;const ge=ye==null||(Te=ye.cache)===null||Te===void 0?void 0:Te.length;return!ge||!(0,I.A)(ge)?null:ge}c(W,"getLineLength");function B(ye,Te){if(!ye||!Te)return null;const ge=ye.getIndex(Te),Ae=W(Te);return!(0,I.A)(ge)||!(0,I.A)(Ae)||ge<-1||Ae<-1?null:{index:ge,length:Ae}}c(B,"getLineRange");function R(ye,Te){const ge=M(Te),Ae=ge[A.BlockQuote],Re=ge[A.OrderedList]||ge[A.BulletList],Be=ge[A.CodeBlock];if(Ae)return;const ke=B(ye,Te);if(!ke){(0,f.Wo)().error("setBlockQuoteOnLine: cannont determine range for line");return}if(Re||Be){ye.formatLine(ke==null?void 0:ke.index,ke==null?void 0:ke.length,"border","1");return}ye.formatLine(ke==null?void 0:ke.index,ke==null?void 0:ke.length,"blockquote",!0)}c(R,"setBlockQuoteOnLine");function j(ye,Te){var ge;const Ae=M(Te),Re=Ae[A.BlockQuote],Be=Ae[A.OrderedList]||Ae[A.BulletList],ke=Ae[A.CodeBlock];if(!Re)return;const se=B(ye,Te);if(!se){(0,f.Wo)().error("removeBlockQuoteOnLine: cannont determine range for line");return}if(Be||ke){ye.formatLine(se==null?void 0:se.index,se==null?void 0:se.length,"border","0");return}ye.formatLine(se==null?void 0:se.index,se==null?void 0:se.length,"blockquote",!1),!((ge=ye.getFormat(se))===null||ge===void 0)&&ge.border&&ye.formatLine(se==null?void 0:se.index,se==null?void 0:se.length,"border","0")}c(j,"removeBlockQuoteOnLine");function w(ye,Te,ge){ge?R(ye,Te):j(ye,Te)}c(w,"toggleBlockQuoteOnLine");function N(ye,Te,ge){ge?K(ye,Te):J(ye,Te)}c(N,"toggleCodeBlockOnLine");function K(ye,Te){const ge=M(Te),Ae=ge[A.CodeBlock],Re=ge[A.OrderedList]||ge[A.BulletList],Be=ge[A.BlockQuote];if(Ae)return;const ke=B(ye,Te);if(!ke){(0,f.Wo)().error("setCodeBlockOnLine: cannont determine range for line");return}if(Be&&!Re){ye.formatLine(ke.index,ke.length,{blockquote:!1,border:"1","code-block":!0});return}const se=ye.getFormat(ke),ve=(se==null?void 0:se.border)>0?se.border:void 0;ye.formatLine(ke.index,ke.length,{"code-block":!0,border:ve})}c(K,"setCodeBlockOnLine");function J(ye,Te){const ge=M(Te),Ae=ge[A.CodeBlock],Re=ge[A.BlockQuote];if(!Ae)return;const Be=B(ye,Te);if(!Be){(0,f.Wo)().error("removeCodeBlockOnLine: cannont determine range for line");return}if(Re){ye.formatLine(Be.index,Be.length,{border:"0",blockquote:!0});return}ye.formatLine(Be==null?void 0:Be.index,Be==null?void 0:Be.length,"code-block",!1)}c(J,"removeCodeBlockOnLine");function Y(ye,Te){const ge=M(Te),Ae=ge[A.OrderedList],Re=ge[A.BulletList],Be=ge[A.CodeBlock],ke=ge[A.BlockQuote];if(Ae)return;const se=B(ye,Te);if(!se){(0,f.Wo)().error("setOrderedListOnLine: cannont determine range for line");return}if(ke&&!Re&&!Be){ye.formatLine(se.index,se.length,{blockquote:!1,border:"1",list:"ordered"});return}const ve=ye.getFormat(se),Me=(ve==null?void 0:ve.border)>0?ve.border:void 0;ye.formatLine(se.index,se.length,{list:"ordered",border:Me})}c(Y,"setOrderedListOnLine");function q(ye,Te){const ge=M(Te),Ae=ge[A.OrderedList],Re=ge[A.BlockQuote];if(!Ae)return;const Be=B(ye,Te);if(!Be){(0,f.Wo)().error("removeOrderedListOnLine: cannont determine range for line");return}if(Re){ye.formatLine(Be.index,Be.length,{border:0,indent:0,blockquote:!0});return}ye.formatLine(Be==null?void 0:Be.index,Be==null?void 0:Be.length,"list",!1)}c(q,"removeOrderedListOnLine");function H(ye,Te,ge){ge?Y(ye,Te):q(ye,Te)}c(H,"toggleOrderedListOnLine");function ne(ye,Te){const ge=M(Te),Ae=ge[A.BulletList],Re=ge[A.OrderedList],Be=ge[A.CodeBlock],ke=ge[A.BlockQuote];if(Ae)return;const se=B(ye,Te);if(!se){(0,f.Wo)().error("setUnorderedListOnLine: cannont determine range for line");return}const ve=ye.getFormat(se);if(ke&&!Re&&!Be){ye.formatLine(se.index,se.length,{blockquote:!1,border:"1",list:"bullet"});return}const Me=(ve==null?void 0:ve.border)>0?ve.border:void 0;ye.formatLine(se.index,se.length,{list:"bullet",border:Me})}c(ne,"setUnorderedListOnLine");function te(ye,Te){const ge=M(Te),Ae=ge[A.BulletList],Re=ge[A.BlockQuote];if(!Ae)return;const Be=B(ye,Te);if(!Be){(0,f.Wo)().error("removeUnorderedListOnLine: cannot determine range for line");return}if(Re){ye.formatLine(Be.index,Be.length,{border:0,indent:0,blockquote:!0});return}ye.formatLine(Be==null?void 0:Be.index,Be==null?void 0:Be.length,"list",!1)}c(te,"removeUnorderedListOnLine");function le(ye,Te,ge){ge?ne(ye,Te):te(ye,Te)}c(le,"toggleUnorderedListOnLine");function he(ye,Te,ge,Ae){Ae===A.BlockQuote?w(ye,Te,ge):Ae===A.OrderedList?H(ye,Te,ge):Ae===A.BulletList?le(ye,Te,ge):Ae===A.CodeBlock&&N(ye,Te,ge)}c(he,"toggleBlockFormatOnLine");function Ie(ye,Te,ge,Ae){(0,G.M)(ye,Te).forEach(Be=>{he(ye,Be,ge,Ae)})}c(Ie,"toggleBlockFormatOverRange");let Ee=c(class{shouldAddOrRemoveBlockFormattingToRange(){return b(this.quill,this.selectionRange,this.selfBlockFormat)}addLineFormatActionsForSelection(){this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,this.endOfSelectionLineIndex,()=>!0,Te=>{let{currentLineIndex:ge}=Te;this.addFormatAction(ge,this.selfBlockFormat,this.isAddingFormatting)})}setAllLineFormattingActions(){this.addLineFormatActionsForSelection(),this.logger.debug("block-formatter -- added lineFormatActions",this.formatActions)}formatSelection(){return this.setAllLineFormattingActions(),(0,D.A)(this.formatActions,(Te,ge)=>{if(!Te||(0,d.A)(Te.orderedFormatActions))return;const Ae=B(this.quill,this.lines[ge]),Re=[];Te.orderedFormatActions.forEach((Be,ke)=>{ke===0?he(this.quill,this.lines[ge],Be.isAdding,Be.blockFormat):(Re[ke]||(Re[ke]=[]),Re[ke].push(()=>{Ie(this.quill,Ae,Be.isAdding,Be.blockFormat)}))}),Re.forEach(Be=>{Be!=null&&Be.length&&(Be==null?void 0:Be.length)>0&&setTimeout(()=>(0,P.A)(Be)(),0)})}),{addedFormatting:this.isAddingFormatting}}getLineIndexOfSelectionStartAndEnd(){const Te=this.selectionRange.index,ge=this.selectionRange.index+this.selectionRange.length,Ae={};this.lines.forEach((se,ve)=>{const Me=B(this.quill,se),be=Me.index,xe=Me.index+Me.length;(0,L.A)(Te,be,xe)&&(Ae.selectionStartLineIndex=ve),(0,L.A)(ge,be,xe)&&(Ae.selectionEndLineIndex=ve)});const Re=(0,I.A)(Ae==null?void 0:Ae.selectionStartLineIndex)&&(0,I.A)(Ae.selectionEndLineIndex),Be=(Ae==null?void 0:Ae.selectionStartLineIndex)<=(Ae==null?void 0:Ae.selectionEndLineIndex);return Re&&Be||this.logger.error("getLineIndexOfSelectionStartAndEnd invalid return value",Ae),Ae}forLineFromIndexToIndexWhile(Te,ge,Ae,Re){if(Te<0||ge>=this.lines.length)return;const Be=c(be=>Te<ge?be+1:be-1,"getNextIndex"),ke=c(be=>Te<ge?be-1:be+1,"getPreviousIndex"),se=c(be=>{const xe=be,Ke={currentLine:this.lines[be],currentLineIndex:xe},He=ke(be);(0,L.A)(He,0,this.lines.length)&&(Ke.previousLineIndex=He,Ke.previousLine=this.lines[He]);const Ye=Be(be);return(0,L.A)(Ye,0,this.lines.length)&&(Ke.nextLineIndex=Ye,Ke.nextLine=this.lines[Ye]),Ke},"getLineContextFromIndex");if(Te===ge){Ae({currentLine:this.lines[Te],currentLineIndex:Te})&&Re(se(Te));return}const ve=c(be=>Te<ge?be<=ge:be>=ge,"moreLinesToIterateOver");let Me=Te;for(;ve(Me)&&!(Me<0||Me>=this.lines.length);){const be=se(Me);if(!Ae(be))break;Re(be),Me=Be(Me)}}addFormatAction(Te,ge,Ae){this.formatActions[Te].formatActionsMap[ge]!==Ae&&(this.formatActions[Te].formatActionsMap[ge]=Ae,this.formatActions[Te].orderedFormatActions.push({isAdding:Ae,blockFormat:ge}))}constructor(Te,ge){this.formatActions=[],this.logger=(0,f.Wo)({label:h}),this.quill=Te,this.selectionRange=Te.getSelection(),this.lines=Te.getLines(),this.lines.forEach((Re,Be)=>{this.formatActions[Be]={orderedFormatActions:[],formatActionsMap:{}}}),this.selfBlockFormat=ge,this.selfFormatIdentifier=T[this.selfBlockFormat];const Ae=this.getLineIndexOfSelectionStartAndEnd();this.startOfSelectionLineIndex=Ae.selectionStartLineIndex,this.endOfSelectionLineIndex=Ae.selectionEndLineIndex,this.isAddingFormatting=this.shouldAddOrRemoveBlockFormattingToRange()}},"BlockFormatter"),me=c(class extends Ee{addLineFormatActionsThatBleedInFromAboveAndBelow(){const Te=c(Ae=>{let{currentLine:Re,currentLineIndex:Be}=Ae;return Be>=this.startOfSelectionLineIndex&&Be<=this.endOfSelectionLineIndex||this.selfFormatIdentifier(Re)},"whileFunction"),ge=c(Ae=>{let{currentLineIndex:Re,previousLineIndex:Be}=Ae;this.lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(Be)&&this.greedyFormatWhenAdding&&this.addFormatAction(Re,this.greedyFormatWhenAdding,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,this.lines.length-1,Te,ge),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,0,Te,ge)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedInFromAboveAndBelow(),this.logger.debug("non-greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasGreedyWhenAddingFormat(Te){return!Te||!this.greedyFormatWhenAdding?!1:T[this.greedyFormatWhenAdding](Te)}lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(Te){return!(0,I.A)(Te)||!this.greedyFormatWhenAdding?!1:this.lineHasGreedyWhenAddingFormat(this.lines[Te])||!!this.formatActions[Te].formatActionsMap[this.greedyFormatWhenAdding]}constructor(Te,ge,Ae){super(Te,ge),this.greedyFormatWhenAdding=Ae===A.BlockQuote?Ae:void 0}},"NonGreedyBlockFormatter"),ce=c(class extends me{removeListAboveAndBelowIfSelectionHasPreservedFormat(){const Te=c(Ae=>{let{currentLine:Re}=Ae;return this.selfFormatIdentifier(Re)&&this.lineHasPreservedFormatForList(Re)},"whileFunction"),ge=c(Ae=>{let{currentLineIndex:Re}=Ae;this.addFormatAction(Re,this.selfBlockFormat,!1)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,Te,ge),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,Te,ge)}addListAboveAndBelowIfSelectionHasPreservedFormat(){const Te=c(Ae=>{let{currentLine:Re}=Ae;return this.lineOnlyHasPreservedFormatForList(Re)},"whileFunction"),ge=c(Ae=>{let{currentLineIndex:Re}=Ae;this.addFormatAction(Re,this.selfBlockFormat,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,Te,ge),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,Te,ge)}setAllLineFormattingActions(){this.isAddingFormatting?this.addListAboveAndBelowIfSelectionHasPreservedFormat():this.removeListAboveAndBelowIfSelectionHasPreservedFormat(),this.logger.debug("list-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasPreservedFormatForList(Te){const ge=M(Te),Ae=this.listWideFormatToPreserve;return!!ge[Ae]}lineOnlyHasPreservedFormatForList(Te){const ge=M(Te),Ae=this.listWideFormatToPreserve,Re=!!ge[Ae];if(!Re)return!1;const Be=(0,O.A)(Object.keys(ge),ke=>ke!==Ae&&ge[ke]);return Re&&!Be}constructor(Te,ge,Ae){super(Te,ge,Ae),this.listWideFormatToPreserve=A.BlockQuote}},"ListBlockFormatter");class X extends ce{constructor(Te){super(Te,A.BulletList,A.BlockQuote)}}c(X,"BulletListFormatter");class V extends ce{constructor(Te){super(Te,A.OrderedList,A.BlockQuote)}}c(V,"OrderedListFormatter");class x extends me{constructor(Te){super(Te,A.CodeBlock,A.BlockQuote)}}c(x,"CodeBlockFormatter");let S=c(class extends Ee{addLineFormatActionsThatBleedUpFromSelection(){if(this.startOfSelectionLineIndex===0)return;const Te=this.lines[this.startOfSelectionLineIndex],ge=this.getYieldingFormatOfLine(Te);if(!ge)return;const Re=T[ge],Be=c(se=>{let{currentLine:ve}=se;return Re(ve)},"whileFunctionUp"),ke=c(se=>{let{currentLineIndex:ve}=se;this.addFormatAction(ve,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,0,Be,ke)}addLineFormatActionsThatBleedDownFromSelection(){if(this.endOfSelectionLineIndex===this.lines.length-1)return;const Te=this.lines[this.endOfSelectionLineIndex],ge=this.getYieldingFormatOfLine(Te);if(!ge)return;const Re=T[ge],Be=c(se=>{let{currentLine:ve}=se;return Re(ve)},"whileFunctionDown"),ke=c(se=>{let{currentLineIndex:ve}=se;this.addFormatAction(ve,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex,this.lines.length-1,Be,ke)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedUpFromSelection(),this.addLineFormatActionsThatBleedDownFromSelection(),this.logger.debug("greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}getYieldingFormatOfLine(Te){const ge=M(Te),Ae=this.isAddingFormatting?this.yieldingAddingFormats:this.yieldingRemovingFormats;let Re;for(const Be of Ae)if(ge[Be]){Re=Be;break}return Re}constructor(Te,ge,Ae=[],Re=[]){super(Te,ge),this.yieldingAddingFormats=Ae,this.yieldingRemovingFormats=Re}},"GreedyBlockFormatter");const U=A.BlockQuote,F=[A.OrderedList,A.BulletList,A.CodeBlock],Z=[A.CodeBlock,A.OrderedList,A.BulletList];class z extends S{constructor(Te){super(Te,U,F,Z)}}c(z,"QuotedBlockFormatter");function $(ye,Te){const ge=(0,f.Wo)({label:h}),Ae=ye.getSelection();if(!Ae)return{didHandle:!1};if(!y(Te))return ee(Te);const Be={[A.BulletList]:X,[A.OrderedList]:V,[A.CodeBlock]:x,[A.BlockQuote]:z}[Te];if(!Be)return ee(Te);ge.debug(`attempting to apply ${Te} to user selection`);const ke=new Be(ye),{addedFormatting:se}=ke.formatSelection();return{didHandle:!0,addedFormatting:se,hadSelection:Ae.length>0}}c($,"applyBlockFormatToSelection");function ee(ye){return(0,f.Wo)().error(`applyBlockFormattingToselection(): ${ye} is not supported`),{didHandle:!1}}c(ee,"logUnsupportedBlockFormat");var de=e(3726677001),ie=e(3904348617),ue=e(2508519639);const fe=c((ye,Te,ge)=>{let Ae={};const Re=ye.getContents(Te,ge);let Be=!1;const ke=[];let se=Te;for(const ve of Re.ops){const Me=(0,ie.sR)(ve);if((0,ie.Ay)(ve)&&(Me===ue.TE.SlackTypesRichText||Me===ue.TE.SlackTypesExpandedRichText))Be=!0;else{const be=(0,de.A)(ve);ke.push({index:se,length:be}),se+=be}}if(!Be)return Ae;if(Be)for(const ve of ke){const Me=(0,r.A)(ye.getFormat(ve.index,ve.length),["indent"]);Ae={...Ae,...Me}}return Ae},"getFormatAroundRichTextWft"),re={h1:{key:"header",value:1},h2:{key:"header",value:2},h3:{key:"header",value:3},"bullet-list":{key:"list",value:"bullet"},"ordered-list":{key:"list",value:"ordered"},"check-list":{key:"list",value:"unchecked"},"code-block":{key:"code-block",value:!0},blockquote:{key:"blockquote",value:!0},paragraph:{key:"paragraph",value:!0},slackhorizontalrule:{key:"slackhorizontalrule",value:!0}};function _e(ye,Te){let{format:ge,index:Ae,length:Re}=Te,Be=0;if(!(ge==="code-block"||ge==="code"))return Be;let ke=Ae,se=Re;if(ge==="code-block"){const[be,xe]=ye.getLine(Ae);ke=Ae-xe;let Le=xe;if(Ae+Re>ke+be.length()){const[He,Ye]=ye.getLine(Ae+Re);Le+=(He==null?void 0:He.length())-Ye}se=Re+Le}let ve=!1;const Me=ye.getContents(ke,se).map(be=>{if((0,i.Ay)(be)&&!(0,s.A)(be.insert)){var xe,Le;const He=((xe=be.insert)===null||xe===void 0||(Le=xe.slackemoji)===null||Le===void 0?void 0:Le.text)||"";return ve=!0,Be=Be+He.length-1,{insert:He}}if((0,m.uK)(be)&&(0,s.A)(be.insert)){var Ke;const He=be.insert||"",Ye=((Ke=be.attributes)===null||Ke===void 0?void 0:Ke.link)||"";return ve=!0,Be=Be+Ye.length-He.length,{insert:Ye}}return be});if(ve){const be=new(n());ke>0&&be.retain(ke),Me.forEach(xe=>{be.insert(xe.insert,xe.attributes)}),be.delete(se),ye.updateContents(be)}return ge==="code-block"&&((0,l.A)()?ye.removeFormat(ke,se+Be):ye.formatText(ke,se+Be,{strike:!1,italic:!1,bold:!1,link:void 0}),ye.history.cutoff()),Be}c(_e,"maybeAdaptDeltaForCode");function Ue(ye,Te,ge){let{format:Ae,index:Re,length:Be}=Te,ke=(0,r.A)(ye.getFormat(Re,Be),["indent"]);const se=fe(ye,Re,Be);(0,d.A)(se)||(ke={...ke,...se});const ve=(0,d.A)(ke)?!1:ke[Ae],Me=re[Ae]||void 0;let be=!ve,xe=0;be&&(xe=_e(ye,{format:Ae,index:Re,length:Be}));let Le=Be+xe;if(Ae==="paragraph")return ye.format("header",null),{didHandle:!0,addedFormatting:be,hadSelection:!1};if(ge&&Ae==="slackhorizontalrule"){const Ye=ye.format(Ae,be);return Ye.insert(`
`),ye.updateContents(Ye),ye.setSelection(Ye.length()-2,0),{didHandle:!0,addedFormatting:be,hadSelection:!1}}if(Me&&(0,o.A)(Me)){if(!ge&&!(0,l.A)())return $(ye,Ae);const Ye=Me.key,Xe=Me.value,et=Object.keys(ke)[0],st=Object.values(ke)[0];if(be=!!(Ye!==et&&Xe||et==="header"&&Ye==="header"&&Xe!==st),Le>0&&Ye==="code-block"&&!be){const ot=ye.getText(Re+Le-1,1),ct=ye.getFormat(Re+Le+1,1);ot&&!ct["code-block"]&&(Le-=1)}return ye.formatLine(Re,Le,{[Ye]:be?Xe:!1}),{didHandle:!0,addedFormatting:be,hadSelection:Le>0}}if(Le>0){let Ye=Re,Xe=Le;if(!(0,l.A)()){const at=(0,u.A)(ye.getContents(),{index:Re,length:Le},ye.getFormat(Re,Le),{onlyAutoLinks:!0});Ye=at.index,Xe=at.length}if(ye.getFormat(Ye,Xe)["code-block"])return{didHandle:!1};const st=ye.getContents(Ye,Xe),ot=Ye+Xe;let ct=0;return(0,_.A)(st,(at,At)=>{const Ct=(0,de.A)(at),Tt=Ye+ct;if(ct+=Ct,(0,v.A)(At))return;const Rt=ot-Tt,It=(0,a.A)(Ct,0,Rt);It===0||ye.getFormat(Tt,It)["code-block"]||ye.formatText(Tt,It,{[Ae]:be})}),{didHandle:!0,addedFormatting:be,hadSelection:!0}}const Ke=ye.getSelection();return ye.getFormat(Ke||void 0)["code-block"]?{didHandle:!1}:(ye.format(Ae,be),{didHandle:!0,addedFormatting:be,hadSelection:!1})}c(Ue,"applyFormattingToSelection")},4244114639:(Q,C,e)=>{"use strict";e.d(C,{A:()=>R});var t=e(4711108074),n=e.n(t),s=e(6717607339),r=e(8571983633),d=e(3339229351),o=e(8283510982),a=e(8389327410),i=e(9283953805);const m=["*","-"];function l(j){return m.includes(j)?a.L1.BULLET:j.match(o.X$)?a.L1.ORDERED:""}c(l,"determineListTypeFromListSymbol");var _=e(2048590538);const v=4;function u(j,w){let N=w;const K=j&&j.ops;if(!K)return[new(n()),N];let J=new(n()),Y=-1,q="",H=0,ne=!1,te={};const le=(0,i.A)(K),he=[...le.matchAll(o.u_)],Ie=[],Ee=le.match(_.qv)||le.match(_.K);Ee!=null&&Ee[0]&&(ne=!0,N=!0);const me=o.Dk.test(le);return le.replace(o.AY,(X,V,x,S,U,F,Z,z)=>{const $=z,ee=$+V.length+x.length+S.length+U.length,de=l(S);if((he||[]).some(ge=>z>((ge==null?void 0:ge.index)||0)&&ee+F.length<=((ge==null?void 0:ge.index)||0)+ge[0].length))return;let ue=x.length?Math.floor(x.length/v):0;ue=Math.min(d.Az-1,ue);const fe=le.substring(le.indexOf(X)),re=le.substring(le.indexOf(X)-2,le.indexOf(X));if(de===a.L1.ORDERED){if(!me||ue===0&&te[ue]===void 0&&S===o.v0&&!o.IK.test(fe))return;if(/\n\n/.test(re)&&S!==o.v0){te={};return}if((0,r.A)(te[ue])&&S!==o.v0)return}let _e={list:de||!1,indent:ue,border:void 0};(V.length||ne)&&(!Ee||z>((Ee==null?void 0:Ee.index)||0))&&(_e={..._e,border:1});const Ue=H+q.length===z,ye=Y!==-1&&Y<ue;(!Ue||ye)&&(te[ue]=0),Y!==-1&&Ue&&ue!==Y&&te[ue]>0&&(_e={..._e,offset:te[ue]}),(0,r.A)(te[ue])&&(te[ue]=0),te[ue]+=1,Y=ue,q=X,H=z;const Te=new(n());Z?Te.retain(z).retain(X.length-1).retain(1,_e):Te.retain(z).retain(X.length).insert(`
`,_e),J=J.compose(Te);for(let ge=$;ge<ee;ge++)Ie.push(ge)}),Ie.sort((X,V)=>V-X).forEach(X=>{J=J.compose(new(n())().retain(X).delete(1))}),[J,N]}c(u,"buildMarkdownChangeDeltaForLists");var h=e(1022424641),f=e(9113979368),p=e(1703559452),E=e(9592753406),g=e(9189262068),A=e(8088280230),y=e(4584833195),T=e(8234448831);const M="mailto:";function O(j,w){const{protocol:N,pathname:K}=(0,T.Ay)(w);return N===M&&K===j?!0:j===w}c(O,"isValidLinkForMrkdwn");const I={link:[o.p7],bold:[o.wq,o.H_],italic:[o.dc,o.QX],code:[o.q6,o.j5],strike:[o.d9]};function D(j){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!j||!j.ops)return[new(n()),K];let J="";w&&w.ops&&(J=(0,i.A)(w.ops));let Y=new(n()),q=0;const H=[],ne={},te=[];if(j.eachLine((Ie,Ee)=>{te.push({line:Ie,attributes:Ee})}),!te.length)return[Y,K];let le=!1;return te.forEach(function(Ie){let{line:Ee,attributes:me}=Ie,ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var X,V,x,S,U;const F=Ee&&Ee.ops;let Z=!1,z=!1,$=(0,i.A)(F);if((0,E.Zz)(me))le=!1;else if(le){if(Z=!0,$.match(_.zd)&&!($.match(_.qv)||$.match(_.K))){var ee;z=!0;const Be=((ee=$.match(_.zd))===null||ee===void 0?void 0:ee[0])||"";for(let ke=0;ke<Be.length;ke++)H.push(q+ke);$=$.substring(Be.length),q+=Be.length}}else if(ce!==0||!J||(0,h.A)(J,`
`)){const Be=$.match(_.qv)||$.match(_.K),ke=$.match(_.zd),se=Be||ke;if(ce===0&&ke&&(ke==null?void 0:ke.index)===0&&((ke==null?void 0:ke.input)===">"||(ke==null?void 0:ke.input)==="\uFF1E"||(ke==null?void 0:ke.input)==="> "||(ke==null?void 0:ke.input)==="\uFF1E "))return;if(!Be&&K&&ke&&(z=!0),se){Z=!0;const ve=se[0];for(let be=0;be<ve.length;be++)H.push(q+be);if($=$.substring(ve.length),q+=ve.length,Be&&(le=!0,K||(K=!0),$==="")){const be=new(n())().retain(q+$.length);be.delete(1),Y=Y.compose(be);return}const Me=$.match(_.zd);if(Me){z=!0;const be=Me[0];for(let xe=0;xe<be.length;xe++)H.push(q+xe);$=$.substring(be.length),q+=be.length}}}const de=te[ce-1],ie=te[ce+1],ue=te[ce],fe=(de==null||(X=de.attributes)===null||X===void 0?void 0:X.border)||0,re=(ie==null||(V=ie.attributes)===null||V===void 0?void 0:V.border)||0;if((fe>=1&&re>=1||fe>=1&&_.zd.test(ie==null||(x=ie.line)===null||x===void 0||(S=x.ops)===null||S===void 0||(U=S[0])===null||U===void 0?void 0:U.insert)&&K)&&($!=null&&$.length)&&(0,f.A)(ue==null?void 0:ue.attributes)&&(Z=!0),fe>=1&&(0,f.A)(ue==null?void 0:ue.attributes)&&ie!==te[te.length-1]&&K&&(Z=!0),Z){const Re=z?1:void 0,Be=new(n())().retain(q+$.length),ke={blockquote:!0};Re&&(ke.border=Re),!(0,g.A)(j)&&ce===te.length-1?Be.insert(`
`,ke):Be.retain(1,ke),Y=Y.compose(Be)}const _e=me["code-block"],{code:Ue,...ye}=I,Te=[["code",Ue],...Object.entries(ye)],ge=[],Ae=[];Te.forEach(Re=>{let[Be,ke]=Re;ke.forEach(se=>{if(!(!$||_e)){if(Be==="link"){$.replace(se,(ve,Me,be,xe)=>{const Le=q+xe,Ke=Le+ve.length;if((0,p.A)(ge,Rt=>{let{codeStart:It,codeEnd:Mt}=Rt;const nn=Le>=It&&Le<=Mt,Ot=Ke>=It&&Ke<=Mt;return nn||Ot}))return;const Ye=(0,y.w)(ve),Xe=(0,y.w)(be),et=(0,A.A)({input:Xe,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),st=et.length===1&&O(et[0].text,Xe);if(et.length===0||!st)return;const ot=q+xe+1,ct=Me.length,at=ot+Me.length,At=q+xe+Ye.length,Ct=et[0].url,Tt=new(n())().retain(ot).retain(ct,{link:Ct});Y=Y.compose(Tt),H.push(ot-1);for(let Rt=at;Rt<At;Rt++)H.push(Rt);Ae.push({linkStart:ot,linkEnd:At}),ne[Be]=!0});return}$.replace(se,(ve,Me,be,xe)=>{const Le=q+xe+Me.length,Ke=be.length,He=Le+Ke;if((0,p.A)(Ae,et=>{let{linkStart:st,linkEnd:ot}=et;return Le>=st&&He<=ot})||Be==="italic"&&be==="(\u30C4)")return;if(Be==="code")ge.push({codeStart:Le,codeEnd:He});else if((0,p.A)(ge,st=>{let{codeStart:ot,codeEnd:ct}=st;const at=Le>=ot&&Le<=ct,At=He>=ot&&He<=ct;return at||At}))return;const Xe=new(n())().retain(Le).retain(Ke,{[Be]:!0});Y=Y.compose(Xe),H.push(Le-1),H.push(Le+Ke),ne[Be]=!0})}})}),q+=($?$.length:0)+1}),H.sort((Ie,Ee)=>Ee-Ie).forEach(Ie=>{Y=Y.compose(new(n())().retain(Ie).delete(1))}),[Y,K]}c(D,"buildMarkdownChangeDeltaForSingleLineFormatting");var P=e(6217320234),L=e(6313685253),k=e(8786006583),G=e(1699044291),b=e(2774532222);function W(j,w){for(let N=0;N<j.length;N++){const K=j[N];K==="`"||K==="\uFF40"||K.match(/\s/)||K.match(">")||K.match("\uFF1E")?w.delete(1):w.retain(1)}return w}c(W,"deleteBackticksAndWhitespace");function B(j,w){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const J=j&&j.ops;if(!J)return[new(n()),K];let Y=new(n()),q=!1;const H=(0,i.A)(J),ne=H.match(_.qv)||H.match(_.K),te=H.match(/```|\uFF40\uFF40\uFF40/);ne!=null&&ne[0]&&((ne==null?void 0:ne.index)||0)<((te==null?void 0:te.index)||0)?q=!0:K=!1;let le="";w&&w.ops&&(le=(0,i.A)(w.ops));const he=[];[o.u_,o.Xr].forEach(me=>{H.replace(me,(ce,X,V,x,S)=>{if(!V||!V.length)return;const U=H[S+ce.length],F=U&&U.match(/\s/)?`${x}${U}`:x;he.push({phraseToFormatPrefix:X,phraseToFormat:V,phraseToFormatSuffix:F,matchOffset:S,backTicksStart:S+X.length-3,backTicksEnd:S+X.length+V.length+3})})});const Ie=(0,P.A)(he,"matchOffset"),Ee=(0,L.A)(Ie,(me,ce)=>{const X=(0,k.A)(me);return(!X||X.backTicksEnd<=ce.backTicksStart)&&me.push(ce),me},[]);return(0,G.A)(Ee).forEach((me,ce)=>{let{phraseToFormatPrefix:X,phraseToFormat:V,phraseToFormatSuffix:x,matchOffset:S}=me,U=new(n());U.retain(S);const Z=_.zd.test(X)||q||K?1:void 0,z=(0,b.A)(X,`
`);z?(U.retain(1),U=W(X.substring(1),U)):U=W(X,U),!z&&(S>0||le&&!(0,h.A)(le,`
`))&&U.insert(`
`);const $=Ee[ce+1];$&&S===$.backTicksEnd&&U.insert(`
`);const ee=V.split(`
`);if(ee.forEach((de,ie)=>{if(U.retain(de.length),ie===0&&de.length===0)U.delete(1);else if(ie!==ee.length-1){const ue={"code-block":!0};Z&&(ue.border=Z),U.retain(1,ue)}}),(0,k.A)(ee)!==""){const de={"code-block":!0};Z&&(de.border=Z),U.insert(`
`,de)}W(x,U),Y=Y.compose(U)}),[Y,K]}c(B,"buildMarkdownChangeDeltaForCodeBlocks");function R(j){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,K=!1;if(!j||!j.ops)return new(n());const J=N;let Y=new(n()),q=new(n());if(J){const[ce,X]=u(j,K);Y=ce,K=X,q=j.compose(Y)}const[H,ne]=B(J?q:j,w||new(n()),K);K=ne;const te=j.compose(H),le=J?q.compose(H):te,[he,Ie]=D(le,w,K);K=Ie;const Ee=J?Y.compose(H).compose(he):H.compose(he),me=(0,s.A)(j.compose(Ee));return Ee.compose(me)}c(R,"buildMarkdownChangeDelta")},512148710:(Q,C,e)=>{"use strict";e.d(C,{Fh:()=>r,Hm:()=>o,Nb:()=>n,Sf:()=>s,z1:()=>d});var t=e(6244014364);const n=[".",",",";",":","?","!","]",")","*","_","~",">"],s=(()=>{const a=n.map(i=>`\\${i}`).join("");return new RegExp(`[${a}]$`)})(),r=[".",",",";",":","?","!","[","(","*","_","~","<"],d=[["(",")"],["[","]"],["<",">"]],o={bold:t.MsgFormattingInputFormat.BOLD,italic:t.MsgFormattingInputFormat.ITALIC,strike:t.MsgFormattingInputFormat.STRIKE,code:t.MsgFormattingInputFormat.CODE,underline:t.MsgFormattingInputFormat.UNDERLINE,link:t.MsgFormattingInputFormat.LINK,"bullet-list":t.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":t.MsgFormattingInputFormat.ORDERED_LIST,"check-list":t.MsgFormattingInputFormat.CHECK_LIST,"code-block":t.MsgFormattingInputFormat.CODE_BLOCK,blockquote:t.MsgFormattingInputFormat.BLOCKQUOTE,h1:t.MsgFormattingInputFormat.H1,h2:t.MsgFormattingInputFormat.H2,hr:t.MsgFormattingInputFormat.HR}},1389436147:(Q,C,e)=>{"use strict";e.d(C,{A:()=>o});var t=e(6313685253),n=e(8207536819),s=e(3904348617),r=e(117342833),d=e(2827252833);function o(i){let{tagChannelsAsSearchGeneric:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tagChannelsAsSearchGeneric:!1};return i.contents?(0,t.A)(i.contents,(_,v)=>{if((0,r.Ay)(v)){const u=v.attributes.slackmention.id,h=v.attributes.slackmention.label,f=a(v,m);let p="";if(f==="%"&&(p="%"),v.insert.length>h.length){let E=v.insert.split(h);if(E.length>1)return E.shift(),E=E.map(()=>`<${f}${u}|${p}${(0,n.A)(h)}>`),_+E.join("")}return`${_}<${f}${u}|${p}${(0,n.A)(h)}>`}if((0,d.Ay)(v))return _+v.insert.slackemoji.text;if((0,s.Ay)(v)){const{id:u,property:h}=v.insert.workflowtoken,f=h?`.${h}`:"";return`${_}{{${u}${f}}}`}return _+v.insert},"").replace(/\n$/,""):""}c(o,"convertContentsToString");function a(i){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!m&&(0,r.BQ)(i)?"#":(0,r.Dw)(i,m)?"%":"@"}c(a,"getControlChar")},5143598415:(Q,C,e)=>{"use strict";e.d(C,{T:()=>R,A:()=>q});var t=e(9816084745),n=e(8571983633),s=e(3783303734),r=e(9686962598),d=e(9746734072),o=e(897091071),a=e(3078252698),i=e(8891672792),m=e(4711108074),l=e.n(m),_=e(9936232041),v=e(4897863105),u=e(8389327410),h=e(796745801),f=e(9189262068),p=e(3829348308),E=e(4921059838),g=e(8405695339),A=e(2827252833),y=e(117342833),T=e(5591756507);function M(x){return!!(x&&x.attributes&&x.attributes.header)}c(M,"isOpHeader");var O=e(5701872082),I=e(3183335528),D=e(9017940688),P=e(4029059089),L=e(308057085),k=e(3904348617),G=e(937317117),b=e(8393662842);const W=/(^|\S)( +)(\n)/gm,B=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,R=/^[0-9a-fA-F]{6}$/,{SECTION:j,LIST:w,PREFORMATTED:N,QUOTE:K,HEADER:J,DIVIDER:Y}=u.Lv;function q(){let{delta:x,options:{convertEmpty:S=!1,trimEndingWhitespace:U=!1,trimStartingWhitespace:F=!0,expandTruncatedLinks:Z=!1,useExpandedRichText:z=!1}={},state:$}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!x||!$)return[];const ee=(0,h.A)({delta:x,trimEnd:U,trimStart:F});if((0,f.A)(ee)||ee.insert(`
`),ee.length()<=1&&!S)return[];let de=[],ie=new(l()),ue=j;return(0,g.A)(ee,(fe,re)=>{const _e=H(fe,re);_e!==ue&&(de=ne(de,ue,ie,$,{stripTrailingWhitespace:!1,expandTruncatedLinks:Z}),ue=_e,ie=new(l())),fe.insert&&ie.insert(fe.insert,fe.attributes)}),de=ne(de,ue,ie,$,{stripTrailingWhitespace:!0,expandTruncatedLinks:Z}),{blocks:[{type:z?"expanded_rich_text":"rich_text",elements:de}]}}c(q,"convertDeltaToBlocks");function H(x,S){return(0,D.A)(S)?N:(0,P.A)(S)?K:(0,T.A)(S)?w:M(S)?J:(0,O.A)(x)?Y:j}c(H,"getElementType");function ne(x,S,U,F){let Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(U.ops.length<=0)return x;let z=[];if(S===w)z=[],z=te(U,F,{expandTruncatedLinks:Z.expandTruncatedLinks});else if(S===N){z=[];const $=U.filter(de=>(0,D.A)(de)),ee=($==null?void 0:$.length)>0&&(0,t.A)($,de=>{var ie;return((de==null||(ie=de.attributes)===null||ie===void 0?void 0:ie.border)||0)>=1});z.push({type:N,border:ee?1:0,elements:he(U,F,{...Z,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(S===K){z=[];const $=U.filter(ee=>{var de;return(0,P.A)(ee)&&((ee==null||(de=ee.attributes)===null||de===void 0?void 0:de.border)||0)>=1});($==null?void 0:$.length)>0?U.eachLine((ee,de)=>{z.push({type:K,border:de!=null&&de.border?de.border:void 0,elements:he(ee,F,{...Z,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):z.push({type:K,elements:he(U,F,{...Z,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else S===J?z=le(U,F):S===Y?(z=[],z.push({type:Y})):(z=[],z.push({type:S,elements:he(U,F,{...Z,preformattedStyle:!1})}));return x.concat(z)}c(ne,"addDeltaToElements");function te(x,S){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const F=[];let Z=null,z=null,$=null,ee={},de=[];x.eachLine((ue,fe)=>{if(Z===null&&(Z=fe.list),z===null&&(z=fe.indent||0),$===null&&($=fe.border||0),(0,n.A)(ee[z])&&(ee[z]=0),Z!==fe.list||z!==(fe.indent||0)){const re={type:w,style:Z||"bullet",indent:z,border:$,elements:de.map(_e=>({type:j,elements:_e}))};Z==="ordered"&&ee[z]>0&&(re.offset=ee[z]),F.push(re),fe.list!==u.L1.ORDERED&&fe.list!==u.L1.BULLET&&fe.list!==u.L1.CHECKED&&fe.list!==u.L1.UNCHECKED?ee={}:(z<(fe.indent||0)&&fe.list===u.L1.ORDERED&&(ee[fe.indent||0]=0),Z===u.L1.ORDERED&&(ee[z]=(ee[z]||0)+(0,s.A)(de))),Z=fe.list,z=fe.indent||0,$=fe.border||0,de=[]}de.push(he(new(l())(ue),S,{stripTrailingWhitespace:!1,preformattedStyle:!1,...U}))});const ie={type:w,style:Z||"bullet",indent:z||0,border:$||0,elements:de.map(ue=>({type:j,elements:ue}))};return Z==="ordered"&&!(0,r.A)(z)&&ee[z]>0&&(ie.offset=ee[z]),F.push(ie),F}c(te,"processDeltaAsList");function le(x,S){const U=[];let F=null,Z=[],z=0;x.eachLine((ee,de)=>{if(F===null&&(F=de.header),F!==de.header||z>0&&(de!=null&&de.header)){const ie={type:J,level:F||1,elements:Z};U.push(ie),Z=[],F=de.header}Z=he(new(l())(ee),S,{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1}),z+=1});const $={type:J,level:F||1,elements:Z};return U.push($),U}c(le,"processDeltaAsHeader");function he(x,S){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const F=x.ops[x.ops.length-1];let Z=x;U.stripTrailingWhitespace&&(F==null?void 0:F.insert)===`
`&&(Z=new(l())(x.ops.slice(0,x.ops.length-1)));let z=[];return Z.forEach($=>{let ee;if((0,A.Ay)($)?ee=ce($,S,{preformattedStyle:U.preformattedStyle}):(0,y.Ay)($)&&!(0,y.zJ)($)&&!(0,y.gC)($)?ee=V($,S,{preformattedStyle:U.preformattedStyle}):(0,L.Ay)($)?ee=me($,{preformattedStyle:U.preformattedStyle,expandTruncatedLinks:U.expandTruncatedLinks}):(0,k.Ay)($)?ee=X($):ee=Ee($,{stripTrailingWhitespace:!!(U.stripTrailingWhitespace&&$===F),preformattedStyle:U.preformattedStyle,skipConversions:!1}),!ee)return;const de=z.length&&z[z.length-1],ie=(0,d.A)(ee)?ee.shift():ee;ie&&ie.type==="text"&&!ie.style&&de&&de.type==="text"&&!de.style?z[z.length-1].text=`${z[z.length-1].text}${ie.text}`:ie&&z.push(ie),(0,d.A)(ee)&&ee.length&&(z=z.concat(ee))}),(0,o.A)(z)}c(he,"createRichTextChunkElements");function Ie(x,S){const U={};return S.attributes&&(S.attributes.bold&&(U.bold=!0),S.attributes.italic&&(U.italic=!0),S.attributes.strike&&(U.strike=!0),S.attributes.code&&(U.code=!0),S.attributes.unlink&&!(0,y.Ay)(S)&&!(0,A.Ay)(S)&&(U.unlink=!0)),{...x,...(0,s.A)(U)&&{style:U}}}c(Ie,"annotateChunkWithStyle");function Ee(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},U=(0,a.A)(x.insert)?x.insert:"";if(S.stripTrailingWhitespace&&(U=(0,i.A)(U)),S.preformattedStyle||(U=U.replace(W,"$1$3")),!U)return;const F=!S.skipConversions&&!S.preformattedStyle&&!(x.attributes&&x.attributes.code),Z={type:"text",text:U},z=S.preformattedStyle?Z:Ie(Z,x);if(F){const $=[];if(U.replace(B,(ie,ue,fe,re)=>{const _e=(0,i.A)(fe,"_-.\u2026");if(_e.match(R)){const Ue=re+ue.length;$.push({start:Ue,end:Ue+_e.length+1,color:`#${_e.toUpperCase()}`})}}),!$.length)return z;const ee=[];let de=0;return $.forEach(ie=>{de<ie.start&&ee.push({type:"text",text:U.slice(de,ie.start)}),ee.push({type:"color",value:ie.color}),de=ie.end}),de<U.length&&ee.push({type:"text",text:U.slice(de)}),ee.map(ie=>Ie(ie,x))}return z}c(Ee,"createTextChunkFromOp");function me(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var U,F;const Z={type:"link",url:((U=x.attributes)===null||U===void 0?void 0:U.link)||""};return(0,a.A)(x.insert)&&x.insert!==((F=x.attributes)===null||F===void 0?void 0:F.link)&&!(S.expandTruncatedLinks&&(0,L.uK)(x))&&(Z.text=x.insert),S.preformattedStyle?Z:Ie(Z,x)}c(me,"createLinkChunkFromOp");function ce(x,S){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,I.A)(x))return Ee({insert:(0,A.Um)(x)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const F=(0,A.Um)(x),Z={type:"emoji",name:""};if(S&&(0,E.A)(S,F)){var z;const{name:ee="",unicode:de=""}=(z=(0,p.i8)(S,F))!==null&&z!==void 0?z:{},[ie]=ee.split("::")||[];Z.name=ie,Z.unicode=de}else{var $;const{skinTone:ee="",name:de=""}=($=(0,_.A)(F))!==null&&$!==void 0?$:{};Z.name=de,ee&&(Z.skin_tone=+ee)}if(!(!Z.name&&!Z.unicode))return Z&&Ie(Z,x)}c(ce,"createEmojiChunkFromOp");function X(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const U={type:"workflowtoken",id:(0,k.PJ)(x),data_type:(0,k.sR)(x),property:(0,k.Lp)(x)};return(S==null?void 0:S.preformattedStyle)===!0?U:Ie(U,x)}c(X,"createWorkflowTokenChunkFromOp");function V(x,S){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,I.A)(x))return Ee(x,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const F=(0,y.I4)(x),Z=(0,y.zv)(x);let z;if((0,v.c)().includes(F))z=Ie({type:"broadcast",range:F.substr(2)},x);else if(F.charAt(0)==="S")z=Ie({type:"usergroup",usergroup_id:F},x);else if((0,y.BQ)(x))z=Ie({type:"channel",channel_id:F},x);else if((0,y.KT)(x)){const $=(0,G.Lp)(S,F);$&&(0,b.l7)($)?z=Ie({type:"list_record",file_id:F},x):z=Ie({type:"file",file_id:F},x)}else z=Ie({type:"user",user_id:F},x);if((0,a.A)(x.insert)&&x.insert.length>Z.length){const $=x.insert.split(Z);return $.length>1?($.shift(),$.fill(z)):[z]}return Z===x.insert?[z]:Ee(x,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}c(V,"createMentionChunksFromOp")},8315518813:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(4711108074),n=e.n(t);function s(r,d){let{format:o,range:a,replacementLength:i,charToInsert:m}=d;const[l,_]=r.getLine(a.index),v=l.length();m&&r.insertText(a.index,m);const u=r.history.options.delay;r.history.options.delay=0;const h=new(n())().retain(a.index-_).delete(i+m.length).retain(v-m.length-_).retain(1,o);r.updateContents(h),r.setSelection(a.index-i),r.history.options.delay=u}c(s,"convertShortcutToBlockFormat")},8405695339:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n,s){n.eachLine((r,d)=>{r.insert(`
`,d);const o={insert:`
`,attributes:d};r.forEach(a=>{s(a,o)})})}c(t,"deltaForEachWithLineData")},1026899594:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3726677001);function n(r,d){let o=0,a;return r.forEach(i=>{if(a)return;const m=o+(0,t.A)(i);d>=o&&d<m?a=i:o=m}),a?{op:a,opIndex:o,opLength:(0,t.A)(a)}:{op:null,opIndex:-1,opLength:0}}c(n,"findOpAtIndex");const s=n},1089076149:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8841789548);function n(s,r,d){return(0,t.A)(s?s.ops:[]).substr(r,d)}c(n,"getDeltaSubStr")},8967399401:(Q,C,e)=>{"use strict";e.d(C,{A:()=>d});var t=e(6696292586),n=e(3726677001),s=e(8405695339);const d=c((o,a)=>{if(!o||!(0,t.A)(a))return null;let i=0,m;return(0,s.A)(o,(l,_)=>{if(m)return;const v=i+(0,n.A)(l);if(a>=i&&a<v){const u=l.attributes||{},h=_.attributes||{};m={...u,...h}}i=v}),m},"getFormatAtIndex")},8430184522:(Q,C,e)=>{"use strict";e.d(C,{A:()=>m,e:()=>l});var t=e(7174777686),n=e(8786006583),s=e(4711108074),r=e.n(s),d=e(4897863105),o=e(2827252833),a=e(117342833),i=e(4547907890);function m(_){const v=_.reduce((h,f)=>{if((0,o.Ay)(f)){const p=(0,o.Um)(f);return p?h+p.length:h}if((0,a.Ay)(f)){const p=(0,a.I4)(f),E=(0,a._z)(f);return p==="UNVERIFIED"||(0,t.A)((0,d.c)(),p)?E.length:h+(p?p.length:E.length)}if((0,i.A)(f)){const p=(0,i.$)(f);return h+p.length}return h},0),u=(0,n.A)(_.ops)||{};return(0,i.A)(u)&&(0,i.$)(u).substr(-1)===`
`?v-1:v}c(m,"getMessageLengthForDelta");function l(_){if(!_||!_.length)return 0;const v=new(r())(_);return m(v)}c(l,"getMessageLengthForMsgOps")},3726677001:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(3078252698),n=e(4200148118);function s(r){return r?(0,n.A)(r)?1:(0,t.A)(r.insert)?r.insert.length:1:0}c(s,"getOpLength")},9189262068:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8786006583),n=e(4547907890);function s(r){if(!r||r.length()===0)return!1;const d=r.slice(r.length()-1);if(!d)return!1;const o=(0,t.A)(d.ops)||{};return!o||!(0,n.A)(o)?!1:o.insert===`
`}c(s,"hasTrailingNewline")},9592753406:(Q,C,e)=>{"use strict";e.d(C,{Fr:()=>d,G$:()=>r,Zz:()=>s});var t=e(1703559452),n=e(3867135795);function s(o){if(!o)return!1;const a=["code-block","blockquote","list"];return(0,t.A)(a,m=>(0,n.A)(o,m))}c(s,"doesAttributesContainBlockFormatting");function r(o){if(!o)return!1;const{insert:a,attributes:i}=o;return a!==`
`||!i?!1:s(i)}c(r,"isOpOnlyBlockFormatting");function d(o){if(!o)return!1;const a=o.ops;if(!a||a.length!==1)return!1;const i=o.ops[0];return i?r(i):!1}c(d,"isDeltaOnlyBlockFormatting")},5939082889:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!n||!n.ops?!0:!(n.ops.length>0)}c(t,"isDeltaEmpty")},6096763876:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){if(!n||!n.length())return!1;let s=!0;for(let r=0;r<n.ops.length;r++)if(!n.ops[r].retain){s=!1;break}return s}c(t,"isDeltaFormattingOnly")},4029059089:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&n.attributes&&n.attributes.blockquote)}c(t,"isOpBlockQuoteItem")},1615300784:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(308057085),n=e(8088280230);function s(r){let{userDidDelete:d,userDidInsertSpace:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var a;if(!(0,t.Ay)(r))return!1;const i=(r==null||(a=r.attributes)===null||a===void 0?void 0:a.link)||"",m=(0,t.AQ)(r),l=i==null?void 0:i.match(/^(https?:\/\/)(.+)/);if(!l)return!1;const _=l[2].split(".");if((d||o)&&_.length===2&&_[0]===r.insert)return!1;const v=`${l[1]}${r.insert}`;if(!d&&!o&&v.length>((i==null?void 0:i.length)||0)&&v.substr(0,i==null?void 0:i.length)===i)return!0;const u=i==null?void 0:i.substr((m==null?void 0:m.length)*-1),h=i==null?void 0:i.substr(0,v.length);if(d&&(h===v||u===r.insert&&!(0,n.A)({input:v}).length))return!0;if(o){const f=m==null?void 0:m.split(" ");if(f.length===1||f.length===2){const p=`${l[1]}${f[0]}`,E=f[1]||"";if(p.length+E.length<=((i==null?void 0:i.length)||0)&&(i==null?void 0:i.substr(0,p.length))===p&&(i.substr(E.length*-1)===E||E.length===0))return!0}}return!1}c(s,"isOpBrokenAutolink")},9017940688:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return!!(n&&n.attributes&&n.attributes["code-block"])}c(t,"isOpCodeBlockItem")},3460983082:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6696292586);function n(s){return!!(s&&(0,t.A)(s.delete))}c(n,"isOpDelete")},5591756507:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});const t=["bullet","ordered","unchecked","checked"];function n(s){var r,d;return!!(s&&s.attributes&&(!((r=s.attributes)===null||r===void 0)&&r.list)&&t.includes((d=s.attributes)===null||d===void 0?void 0:d.list))}c(n,"isOpListItem")},5382342064:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6696292586);function n(s){return!!(s&&(0,t.A)(s.retain))}c(n,"isOpRetain")},9935649141:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>R,AO:()=>k,Zj:()=>L,xN:()=>b,L2:()=>B});var t=e(4711108074),n=e.n(t),s=e(2208015175),r=e(9113979368),d=e(8086952004),o=e(235108050),a=e(1649982175),i=e(8405695339),m=e(8088280230),l=e(9017940688),_=e(4547907890),v=e(308057085);function u(j){var w;return!!(!(j==null||(w=j.attributes)===null||w===void 0)&&w.unlink)}c(u,"isOpUnlink");var h=e(4200148118),f=e(117342833),p=e(5354964300),E=e(9189262068),g=e(4332759902),A=e(1615300784),y=e(3726677001),T=e(8841789548),M=e(512148710),O=e(6564475562);const I=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,D=["dropbox.com"],P=c(j=>j&&(I.test(j)?j:j.split("?")[0]),"sanitizeImageUrlWithParams"),L=c(j=>{const w=P(j);return w?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(w):!1},"isImageUrl"),k=c(j=>{if(j){for(let w=0;w<D.length;w++)if(j.indexOf(D[w])>=0)return!0}return!1},"isImageFromDeniedDomains"),G=c(function(j){let{doImageReplacement:w,ignoreExistingLinks:N,limitCodeBlockLinksToFullURLs:K,ignoreUnbalancedParentheses:J=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!j)return new(n());const Y=(0,E.A)(j),q=new(n());return(0,i.A)(j,(H,ne)=>{const te=(0,l.A)(ne);if(!(0,_.A)(H)||N&&(0,v.Ay)(H)||u(H)||(0,v.uK)(H)){q.insert(H.insert||"",{...H.attributes});return}const le=(0,p.A)(H),he=K&&te,Ie=(0,m.A)({input:le,ignorePhoneMatches:he,ignoreEmailMatches:he,ignoreLinksWithoutHttp:he,ignoreUnbalancedParentheses:!!J});if(!Ie.length){q.insert(H.insert||"",{...H.attributes});return}let Ee=0;const me=H&&H.attributes;if((0,s.A)(Ie,ce=>{const{url:X,type:V,text:x,offset:S}=ce||{};if(S>Ee&&(q.insert(le.slice(Ee,S),me),Ee=S),!(!X||!x)){if(w&&V==="url"&&L(X)&&!k(X)){const U=P(X);q.insert({slackdocimage:U})}else q.insert(x,{...me,link:X});Ee=S+x.length}}),Ee<le.length&&Ee>=0){const ce=le.slice(Ee);q.insert(ce,me)}}),Y?q:(0,g.A)(q)},"linkifyDeltaText"),b=c(j=>{if(!j)return new(n());const w=j.map(J=>{if((0,v.Ay)(J)){const Y={insert:J.insert},q={...J.attributes};return delete q.link,(0,r.A)(q)||(Y.attributes=q),Y}return J}),N=new(n())().compose(new(n())(w));return G(N,{doImageReplacement:(0,O.A)()})},"relinkifyDeltaText"),W=c((j,w,N)=>{const K=w+(0,y.A)(j);return(0,d.A)(N,J=>{if(J.text===j.insert)return!1;const Y=J.offset,q=J.offset+J.text.length;return Y>=w&&Y<=K||q<=w&&q<=K||Y<w&&q<=K})},"isOpInRangeOfMatches"),B=c(j=>{if(!j)return new(n());const w=(0,o.A)(M.Fh.concat(M.Nb)),N=(0,T.A)(j.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),K=(0,m.A)({input:N});let J=0;const Y=j.map(H=>{const ne=J,te=(0,y.A)(H);let le=!1;if(J+=te,!(0,v.Ay)(H))return H;if((0,h.A)(H)||(0,f.Ay)(H))return{...H,attributes:{...(0,a.A)(H.attributes,"link")}};if((0,v.uK)(H))return H;W(H,ne,K)&&(le=!0);const he=ne===0?" ":N.substr(ne-1,1),Ie=he.match(/^\s$/)||w.includes(he),Ee=ne+te===N.length?" ":N.substr(ne+te,1),me=w.includes(Ee)||Ee.match(/^\s$/);if(!le&&(!Ie||!me)){var ce;const X=(0,p.A)(H),V=!le&&(0,m.A)({input:X});V&&V.length===1&&V[0].url===((ce=H.attributes)===null||ce===void 0?void 0:ce.link)&&(le=!0)}if(!le&&(0,A.A)(H)&&(le=!0),le){const X={insert:H.insert},V={...H.attributes};return delete V.link,(0,r.A)(V)||(X.attributes=V),X}return H}),q=new(n())().compose(new(n())(Y));return G(q,{doImageReplacement:(0,O.A)()})},"relinkifyDeltaTextWhileRetainingExistingLinks"),R=G},4071871748:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(8170643398),n=e(9262712126),s=e(7136729150);function r(d){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return(0,s.A)((0,t.K6)(d)||"",`@${(0,n.Gt)(d)}`,o)}c(r,"makeSlackmentionForMember")},9932296884:(Q,C,e)=>{"use strict";e.d(C,{W:()=>G,P:()=>k});var t=e(7165234038),n=e(8289365785),s=e(3078252698),r=e(8786006583),d=e(1649982175),o=e(4711108074),a=e.n(o),i=e(7715417323),m=e(9113979368),l=e(1703559452);const _=c(function(b){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.A;if((0,m.A)(b))return null;if(!(0,l.A)(b.contents,"attributes.slackmention.id"))return b;let R=!1;const j=b.contents.map(w=>{const N=w.attributes&&w.attributes.slackmention&&w.attributes.slackmention.id;if(!N||W({id:N}))return w;R=!0;const K=(0,d.A)(w,"attributes.slackmention");return(0,m.A)(K.attributes)&&delete K.attributes,K});return R?{...b,contents:j}:b},"detachInvalidMentionsFromContents"),v=null,u=c((b,W)=>{if(!b||!b.ops)return null;const B={contents:b.ops},R=_(B,W);if(!R)return null;const j=new(a())(R.contents);return new(a())().compose(j)},"detachInvalidMentionsFromDelta");var h=e(5591756507),f=e(9592753406);function p(b){return b.filter(W=>(0,f.G$)(W)&&(0,h.A)(W)).length}c(p,"getListItemCountInDelta");var E=e(9017940688),g=e(2827252833),A=e(308057085),y=e(5382342064);function T(b){const W=/^\s+$/g;return!!(b&&(0,s.A)(b.insert)&&W.test(b.insert))}c(T,"isOpWhitespace");var M=e(4547907890);function O(b){if(!b||!b.ops)return null;const W=b.map(B=>{if(!(0,M.A)(B))return B;let R=(0,M.$)(B);return R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),{...B,insert:R}});return new(a())(W)}c(O,"normalizeNewlineCharacters");var I=e(6717607339),D=e(4332759902),P=e(9935649141),L=e(5701872082);function k(b,W){return G(b,"slack-texty",W,new(a()),{useWysiwyg:!0,supportsAnchorText:!0})}c(k,"preparePastedDeltaForExternal");function G(b,W,B,R,j,w,N,K){var J;if(!b)return null;let Y=b;const q=O(Y);if(q&&(Y=q),w){const Ee=u(Y,w);Y=Ee??Y}if(!j.useWysiwyg||j.usePlainTextMode)return Y;if(Y=new(a())(Y.map(Ee=>(0,L.A)(Ee)?{insert:`
`}:Ee)),R&&R.length()!==0&&(!B||!B.list||(B==null?void 0:B.list)==="bullet"||(B==null?void 0:B.list)==="ordered")&&p(Y)===1&&(Y=Y.slice(0,Y.length()-1)),R&&R.length()!==0&&B&&!B["code-block"]){const Ee=(0,n.A)(Y.ops);if(Ee&&(0,E.A)(Ee)&&(0,M.A)(Ee)&&(0,s.A)(Ee.insert)){var H;if(Y.ops.length>1||(((H=Ee.insert)===null||H===void 0?void 0:H.match(/\n/g))||[]).length>1)Y=new(a())().insert(`
`).concat(Y);else{const me={...Ee,insert:Ee.insert.replace(`
`,""),attributes:{...Ee.attributes,"code-block":!1}};Y=new(a())([me])}}}if(B!=null&&B.code){const Ee=Y.map(me=>({...me,attributes:{...me.attributes,code:!0}}));Y=new(a())(Ee)}if(B!=null&&B.blockquote){var ne;const Ee=Y.map(X=>{var V,x,S;const U=!(X==null||(V=X.attributes)===null||V===void 0)&&V.blockquote||!(X==null||(x=X.attributes)===null||x===void 0)&&x.list||!(X==null||(S=X.attributes)===null||S===void 0)&&S["code-block"]?{border:1}:{blockquote:!0};return{...X,attributes:{...X.attributes,...U}}}),me=(0,r.A)(Ee);(0,s.A)(me==null?void 0:me.insert)&&(me==null||(ne=me.insert)===null||ne===void 0?void 0:ne.match)&&me.insert.match(/^\n$/g)||Ee.push({insert:`
`,attributes:{blockquote:!0}}),Y=new(a())(Ee),N&&N(!1)}if(W==="slack/texty"){const Ee=!!(B!=null&&B.code||B!=null&&B["code-block"]),me=Y.map(ce=>{if(ce&&Ee&&(0,g.Ay)(ce)&&!(0,s.A)(ce==null?void 0:ce.insert)){var X,V;return{insert:((X=ce.insert)===null||X===void 0||(V=X.slackemoji)===null||V===void 0?void 0:V.text)||"",attributes:{...B}}}let x=B;return x=(0,d.A)(B,["indent","border"]),{insert:ce.insert||"",attributes:{...ce.attributes,...x}}});Y=new(a())(me)}W!=="text/uri-list"&&(K!=null&&K.getModule("slackdocimage")||j.supportsAnchorText?Y=(0,P.Ay)(Y,{doImageReplacement:K==null?void 0:K.getModule("slackdocimage")}):Y=(0,P.xN)(Y));const te=Y.length(),le=(0,I.A)(Y,{stripInlineFormattingFromCodeBlock:!0,stripAllInlineFormatting:B==null?void 0:B["code-block"]});if(Y=Y.compose(le),le.length()>te){const Ee=(0,r.A)(Y.ops);Ee&&(0,y.A)(Ee)&&Ee.retain===1&&(Y=new(a())(Y.ops.slice(0,Y.ops.length-1)))}Y=(0,D.A)(Y);const he=Y.ops[0];if(j.useWysiwyg&&j.supportsAnchorText&&W!=="text/uri-list"&&Y.ops.length===1&&he&&(0,s.A)(he.insert)&&(0,A.Ay)(he)&&he.insert===((J=he.attributes)===null||J===void 0?void 0:J.link)){const Ee=(0,t.A)(he.insert);if(Ee!==he.insert)return new(a())().insert(Ee,he.attributes)}return p(Y)>1&&Y.forEach((Ee,me)=>{var ce,X,V;const x=Y==null||(ce=Y.ops)===null||ce===void 0?void 0:ce[me-1];if(!(x&&(0,h.A)(x)))return;const U=Y==null||(X=Y.ops)===null||X===void 0?void 0:X[me+1];if(!(U&&(0,h.A)(U)))return;const Z=Ee;if(!T(Ee)||!(0,s.A)(Z.insert))return;const z=Z==null||(V=Z.insert)===null||V===void 0?void 0:V.match(/\n/gm);if(z&&z.length<2)return;const $=(z==null?void 0:z.length)&&Math.ceil(z.length/2);$&&(Z.insert=`
`.repeat($))}),Y}c(G,"prepareDeltaForPaste")},6717607339:(Q,C,e)=>{"use strict";e.d(C,{A:()=>A});var t=e(4711108074),n=e.n(t),s=e(8840779375),r=e(9087248458),d=e(4103274853),o=e(7156798807),a=e(3183335528),i=e(117342833),m=e(9017940688),l=e(2827252833),_=e(308057085),v=e(3904348617),u=e(2547625647),h=e(3078252698),f=e(6013332081);function p(y){if(!(0,v.Ay)(y))return!1;const{type:T,property:M,id:O}=y.insert.workflowtoken;if((0,h.A)(y.insert))return!1;if(T===u.GA)return!0;if(T===u.sD)return M===u.yG||M===u.tj;if(T==="string")return!0;const I=(0,f.zz)({type:T,variableId:O});if(I)for(const L of Object.values(I)){var D,P;if(((D=L.macroDetails)===null||D===void 0||(P=D.outputParameter)===null||P===void 0?void 0:P.type)==="string")return!0}return!1}c(p,"isOpWorkflowTokenForText");var E=e(8405695339),g=e(3726677001);function A(y){let{removeEmbedsFromCode:T=!0,stripAllInlineFormatting:M=!1,stripInlineFormattingFromCodeBlock:O=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return new(n());const I=new(n());return(0,E.A)(y,(D,P)=>{const L=(0,g.A)(D),k=(0,a.A)(D)||(0,m.A)(P);if(T&&k||M){let G={...D.attributes};if((0,m.A)(P)&&(G={}),(0,l.Ay)(D)){I.delete(1).insert((0,l.Um)(D),{...G});return}if((0,i.Ay)(D)){delete G.slackmention,I.delete((0,i._z)(D).length).insert((0,i._z)(D),{...G});return}if((0,_.Ay)(D)){delete G.link,I.delete((0,_.AQ)(D).length).insert((0,_.AQ)(D),{...G});return}if((0,v.Ay)(D)&&!p(D)){I.delete(1);return}}if((0,m.A)(P)&&O||M){const G=["bold","italic","strike","code","underline","slackmention","unlink"],b=(0,s.A)(D.attributes||{},(B,R)=>({key:R,value:B})).filter(B=>!!B.value).map(B=>B.key),W=(0,r.A)(G,b);I.retain(L,(0,d.A)((0,o.A)(W,B=>B),()=>!1));return}L&&I.retain(L)}),I}c(A,"stripFormattingFromDelta")},4332759902:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8786006583),n=e(9592753406);function s(r){if(!r||r.length()===0)return r;const d=r.slice(r.length()-1);if(!d)return r;const o=(0,t.A)(d.ops)||{};return!o||(o==null?void 0:o.insert)!==`
`||(0,n.G$)(o)?r:r.slice(0,r.length()-1)}c(s,"stripTrailingNewline")},796745801:(Q,C,e)=>{"use strict";e.d(C,{A:()=>p,Z:()=>f});var t=e(4711108074),n=e.n(t),s=e(498506970),r=e(8825197919),d=e(8289365785),o=e(2749086681),a=e(8786006583),i=e(4547907890),m=e(9592753406),l=e(5939082889),_=e(8967399401);const v=/^\s+$/,u=/^\s+/,h=/\s+$/;function f(){let{ops:E,trimStart:g=!0,trimEnd:A=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!E||!E.length||!g&&!A)return E;let y=(0,s.A)(E);if(g){y=(0,r.A)(y,O=>(0,i.A)(O)&&((0,i.$)(O).match(v)||O.insert==="")&&!(0,m.Zz)(O.attributes||{}));const T=(0,d.A)(y)||{},M=(0,_.A)(new(n())(y),0);if((0,i.A)(T||{})&&!(0,m.Zz)(M||{})){const O=(0,i.$)(T).replace(u,()=>"");T.insert=O}}if(A){y=(0,o.A)(y,M=>(0,i.A)(M)&&((0,i.$)(M).match(v)||M.insert==="")&&!(0,m.Zz)(M.attributes||{}));const T=(0,a.A)(y)||{};if((0,i.A)(T)&&!(0,m.Zz)(T.attributes||{})){const M=(0,i.$)(T).replace(h,()=>"");T.insert=M}}return y}c(f,"trimOps");function p(){let{delta:E,trimStart:g=!0,trimEnd:A=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E&&(0,l.A)(E))return E;const y=E==null?void 0:E.ops,T=f({ops:y,trimStart:g,trimEnd:A});return new(n())(T)}c(p,"trimDelta")},6106767915:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(2414816894);function n(s){return(0,t.A)(s)?s.replace(/^BK/,""):""}c(n,"getBroadcastKeyword")},4171528081:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(2047021170);function n(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!((0,t.ty)(s,"msg_input_send_btn")||r)}c(n,"getEnterCreatesNewlinePref")},9205400085:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(8086952004);function n(s){const r=["composer_edit_link_popover","composer_link_modal"];return!!(0,t.A)(s,d=>r.includes(d))}c(n,"isTextyModalOpen")},6263851502:(Q,C,e)=>{"use strict";e.d(C,{h:()=>t});function t(s){var r;return!!((s==null||(r=s.statics)===null||r===void 0?void 0:r.blotName)==="code-block")}c(t,"lineIsCodeBlock");function n(s){return!!((s==null?void 0:s.length)>0&&every(s,d=>{var o;return(d==null||(o=d.statics)===null||o===void 0?void 0:o.blotName)==="code-block"}))}c(n,"everyLineIsCodeBlock")},9474987151:(Q,C,e)=>{"use strict";e.d(C,{Xh:()=>f});var t=e(9746734072),n=e(235108050),s=e(897091071),r=e(6244014364),d=e(80326605),o=e(6263851502),a=e(5543919295),i;(function(p){p.QUOTED="QUOTED",p.LIST_ITEM="LIST_ITEM",p.CODE_BLOCK="CODE_BLOCK"})(i||(i={}));function m(p){const E=[];return(0,d.K0)(p)&&E.push({format:i.LIST_ITEM,formatQualities:(0,d.vs)(p)}),(0,o.h)(p)&&E.push({format:i.CODE_BLOCK,formatQualities:{}}),(0,a.h$)(p)&&E.push({format:i.QUOTED,formatQualities:{}}),E}c(m,"getBlockFormatsOfLine");function l(p){return p.map(E=>m(E))}c(l,"getBlockFormatsOfLines");var _=e(5783222387);function v(p){var E,g;return p.format===i.CODE_BLOCK?r.MsgFormattingInputFormat.CODE_BLOCK:p.format===i.QUOTED?r.MsgFormattingInputFormat.BLOCKQUOTE:p.format===i.LIST_ITEM&&(!((E=p.formatQualities)===null||E===void 0)&&E.isOrdered)?r.MsgFormattingInputFormat.ORDERED_LIST:p.format===i.LIST_ITEM&&!(!((g=p.formatQualities)===null||g===void 0)&&g.isOrdered)?r.MsgFormattingInputFormat.BULLET_LIST:null}c(v,"getClogBlockFormatFromLineFormat");function u(p){return l(p).map(A=>{const y=[];return A.forEach(T=>{const M=v(T);M&&y.push(M)}),y})}c(u,"getClogBlockFormatsForLines");function h(p){return!p||!(0,t.A)(p)||(p==null?void 0:p.length)===0?[]:(0,n.A)((0,s.A)(u(p)))}c(h,"getDistinctClogBlockFormatsForLines");function f(p,E){if(!p||!E)return[];const g=(0,_.M)(p,E);return h(g)}c(f,"getDistinctClogBlockFormatsForRange")},5783222387:(Q,C,e)=>{"use strict";e.d(C,{M:()=>n});var t=e(6696292586);function n(s,r){const d=r==null?void 0:r.index,o=r==null?void 0:r.length;if(!(0,t.A)(d)||!(0,t.A)(o))return[];if(d<0||o<0)return[];if(o===0){const[a,i]=s.getLine(d);return a?[a]:[]}return o>0?s.getLines(d,o):[]}c(n,"getLinesForRange")},80326605:(Q,C,e)=>{"use strict";e.d(C,{DI:()=>r,K0:()=>t,Kp:()=>d,vs:()=>s});function t(o){var a;return!!((o==null||(a=o.statics)===null||a===void 0?void 0:a.blotName)==="list-item")}c(t,"lineIsListItem");function n(o){return!!((o==null?void 0:o.length)>0&&every(o,i=>t(i)))}c(n,"everyLineIsListItem");function s(o){var a,i;return t(o)?{isOrdered:(o==null||(a=o.parent)===null||a===void 0||(i=a.domNode)===null||i===void 0?void 0:i.tagName)==="OL"}:{}}c(s,"getListQualitiesOfLine");function r(o){if(!t(o))return!1;const a=s(o);return!!(a!=null&&a.isOrdered)}c(r,"lineIsOrderedListItem");function d(o){if(!t(o))return!1;const a=s(o);return!(a!=null&&a.isOrdered)}c(d,"lineIsUnorderedListItem")},5543919295:(Q,C,e)=>{"use strict";e.d(C,{h$:()=>n,mj:()=>s});var t=e(9816084745);function n(d){var o,a,i,m,l,_,v;return!!((d==null||(o=d.statics)===null||o===void 0?void 0:o.blotName)==="blockquote"||(d==null||(a=d.statics)===null||a===void 0?void 0:a.blotName)==="list-item"&&(d==null||(i=d.attributes)===null||i===void 0||(m=i.attributes)===null||m===void 0?void 0:m.border)||(d==null||(l=d.statics)===null||l===void 0?void 0:l.blotName)==="code-block"&&(d==null||(_=d.attributes)===null||_===void 0||(v=_.attributes)===null||v===void 0?void 0:v.border))}c(n,"lineIsQuoted");function s(d){return!!((d==null?void 0:d.length)>0&&(0,t.A)(d,a=>n(a)))}c(s,"everyLineIsQuoted");function r(d){return!!((d==null?void 0:d.length)>0&&some(d,a=>n(a)))}c(r,"someLinesAreQuoted")},4504227813:(Q,C,e)=>{"use strict";e.d(C,{A:()=>l});var t=e(1699044291),n=e(4711108074),s=e.n(n),r=e(3726677001),d=e(4200148118),o=e(2827252833),a=e(8283510982),i=e(9283953805);function m(_){const v=_&&_.ops;if(!v)return[];const u=(0,i.A)(v),h=[];return u.replace(a.u_,(f,p,E,g,A)=>{h.push({index:A+p.length,length:E?E.length:0})}),h}c(m,"findMarkdownCodeBlockRanges");function l(_){if(!(_&&_.ops))return new(s());let u=new(s());const h=m(_);return(0,t.A)(h).forEach(f=>{let{index:p,length:E}=f;const g=new(s());g.retain(p),_.slice(p,p+E).forEach(A=>{(0,d.A)(A)?(g.delete(1),(0,o.Ay)(A)&&g.insert((0,o.Um)(A))):g.retain((0,r.A)(A),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),u=u.compose(g)}),u}c(l,"buildChangeDeltaToFixEmbedsInTripleBackticks")},2048590538:(Q,C,e)=>{"use strict";e.d(C,{K:()=>d,Ru:()=>n,hJ:()=>s,qv:()=>r,zd:()=>o});var t=e(8283510982);const n={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},s={"*":t.wq,_:t.dc,"`":t.q6,"~":t.d9,"\uFF0A":t.H_,"\uFF40":t.j5,"\uFF3F":t.QX},r=/^>>> ?/m,d=/^\uFF1E\uFF1E\uFF1E ?/m,o=/^[>\uFF1E]($| |(?=[^_]))/},9283953805:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(8841789548),n=e(8283510982);function s(r){const d=!(0,t.A)(r).match(n.zI);return(0,t.A)(r,{replaceLinks:d,replaceCode:!0,embedReplacement:"!"})}c(s,"getTextForRegex")},2414816894:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(4897863105);function n(s){return(0,t.c)().indexOf(s)!==-1}c(n,"mentionIdIsKeyword")},1707481146:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(n){return n==="UNVERIFIED"}c(t,"mentionIdIsUnverified")},3849593061:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(571104883);function n(){let{altKey:s,ctrlKey:r,isCursorInPreBlock:d,metaKey:o,shiftKey:a,usePreNewlines:i,enterCreatesNewlinePref:m,followsTripleBackticks:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o?!1:r?(0,t.cX)()?!0:a?!1:!m:m?!0:i&&d?!a:!!(l&&i||a||s)}c(n,"shouldInsertNewline")},5619542846:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(3803027235),n=e.n(t);const s={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function r(d){return d&&d.replace(/&#?[a-z0-9]+;/gi,o=>{if(s[o])return s[o];if(o.match(/^&#x[0-9a-f]+;$/i)){const a=o.substring(3,o.length-1),i=parseInt(a,16);return String.fromCodePoint(i)}if(o.match(/^&#[0-9]+;$/)){const a=o.substring(2,o.length-1),i=parseInt(a,10);return String.fromCodePoint(i)}return o})}c(r,"unescapeEntities")},6764196364:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(6968387112);function n(){return`https://${(0,t.Xk)()}`}c(n,"getSlackRootUrl")},4252064756:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s,D:()=>r});var t=e(8234448831),n=e(6968387112);function s(d){return r((0,t.Ay)(d))}c(s,"isGantryUrl");function r(d){if(d.pathname==="/ssb/signin")return!1;const o=d.hostname,[a]=o.split(".");return a==="app"&&(0,n.Ed)(d)}c(r,"isGantryUrlFromUrlObject")},4204210053:(Q,C,e)=>{"use strict";e.d(C,{A:()=>s});var t=e(6968387112);const n=/^[^.]*\.?(((enterprise\.)?(staging|staging-master|staging-sandbox|dev\d*|qa\d*)|enterprise)\.)?[^.]+\.[^.]+$/;function s(r){return r?(0,t.Ed)(r)&&!!r.match(n):!1}c(s,"isValidSlackPermalinkHostName")},1881693845:(Q,C,e)=>{"use strict";e.d(C,{A:()=>t});function t(){return!0}c(t,"isIaLayoutEnabled")},7489442332:(Q,C,e)=>{"use strict";e.d(C,{_e:()=>j,iR:()=>v,YZ:()=>l,tR:()=>_,j0:()=>G,mu:()=>b,mi:()=>g,x:()=>O,Pc:()=>M,vd:()=>n,hh:()=>t,jG:()=>W,ke:()=>L,ts:()=>k,Xg:()=>B,Lb:()=>R});const t=180,n=600,s=260,r=310,d=1e3,o=24,a=289,i=321,m=385,l=15;var _;(function(N){N.MANUAL="manual",N.AUTO="auto"})(_||(_={}));const v=500,u=140,h=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:310},{minWidth:0,sidebar:200,inspector:310}],f=[{min:t,max:220,className:"p-workspace__sidebar--tiny"},{min:n-50,max:n,className:"p-workspace__sidebar--large"}],p=[{min:s,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:d,className:"p-workspace__secondary_view--large"}],E=[{min:s,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:d,className:"p-workspace__tiles--large"}],g=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],A=260,y=400,T=400,M=8,O=16,I=60,D=44,P=40,L="sidebarWidthIntent",k="sidebarWidthMode",G="inspectorWidthIntent",b="inspectorWidthMode",W="isSidebarVisible",B="isTeamSidebarVisible",R="userPrefersResponsiveSidebar",j="calculatedSidebarWidth",w="LAYOUT"},7383598433:(Q,C,e)=>{"use strict";e.d(C,{J:()=>n});var t=e(6575028637);function n(s){return!!(0,t.ss)(s)}c(n,"isXWSUserGroupsEnabled")},7216810781:(Q,C,e)=>{"use strict";e.d(C,{z:()=>_});var t=e(3134334389),n=e(5255740490),s=e(4173072539),r=e(3694049677),d=e(2408732225),o=e(9874616273),a=e(9892470785),i=e(735940183),m=e(2786906754);const l=new i.Ay("shared_channel_invites"),_=c(v=>{let{invite:u,bottomMargin:h}=v;if(!u)return null;const{inviting_team:f,inviting_user:p,shared_workspace:E}=u,g=!!(0,m.qN)(window.location.search).is_link,A=t.createElement(d.n,{team:f,user:p,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:g}),y=t.createElement(r.A,{invitingUser:p}),T=t.createElement(s.A,{invitingTeam:f}),M=t.createElement(a.A,{id:E.id,team:E,bold:!0});return t.createElement("div",{className:(0,n.A)("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:h})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(o.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},A,t.createElement("span",null,g?l.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:T,sharedWorkspaceName:M}):l.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:T,invitingUserName:y,sharedWorkspaceName:M})))))},"AcceptSlackConnectWorkspaceHeader");_.displayName="AcceptSlackConnectWorkspaceHeader"},1073393277:(Q,C,e)=>{"use strict";e.d(C,{Sp:()=>E,a5:()=>g});var t=e(1729646737),n=e(4509434386),s=e(9733150292),r=e(3245843483),d=e(4923013394),o=e(252204565),a=e(4496040127),i=e(5829624088),m=e(7489442332);const l=".p-client_container_placeholder",_=".p-client_container_placeholder__nav",v=260,u=64,h=76;function f(y){let{name:T,hex:M,iaTheming:O,customTheme:I}=y;const D=(0,t.zK)({hex:M,name:T}),P=(O==null?void 0:O.mode)||"light",L=(O==null?void 0:O.brightness)||n.GK,k=(0,n.XW)({mode:(0,i.Gk)(O,O==null?void 0:O.mode),primary:O==null?void 0:O.primary,highlight1:O==null?void 0:O.highlight1,brightness:L,useCustomHex:I&&(O==null?void 0:O.useCustomHex)});let G;T.includes("Primary")?G=k.primary.shade:G=k.highlight1.shade;const b=n.sC.indexOf(G);return{shade:G,value:P==="light"?D.light[b].value:D.dark[b].value}}c(f,"generateCustomHEXChromeColors");function p(y){let{iaTheming:T,customTheme:M}=y;return!T.primary.custom||!t.$V.test(T.primary.custom)?null:f({name:"bootPrimary",hex:T.primary.custom.startsWith("#")?T.primary.custom:`#${T.primary.custom}`,iaTheming:T,customTheme:M})}c(p,"getBootPrimary");function E(y){let{teamId:T,showTeamSwitcher:M=!1}=y;const O=(0,s._z)(T,"is_unified_user_client_enabled"),I=(0,s._z)(T,"channelSidebarBackground"),D=parseInt((0,s.W6)("viewLayoutLastSidebarWidth"),10)||v,P=(0,s._z)(T,"teamSwitcherBackground"),L=(0,s._z)(T,"textColor"),k=(0,s._z)(T,"topNavBackground")||I,G=(0,s._z)(T,"topNavTextColor")||L,b=document.querySelector(l),W=(0,s._z)(T,"iaTheming"),B=(0,s._z)(T,"customTheme"),R=(0,s._z)(T,"windowGradient"),j=(0,s._z)(T,"isCreatorInSetupFlow"),w=(0,s.W6)("viewLayoutIsWorkspaceSwitcherVisible"),N=w?u:0;if(!b)return;const K=b.querySelector(_);if(!I||j){g();return}if(O){if(K&&L&&I){const H=document.createElement("div");H.classList.add("p-ia4_client_container_placeholder--sidebar"),H.style.width=`${D}px`;const ne=document.createElement("div");ne.classList.add("p-ia4_client_container_placeholder--tab_rail");const te=document.createElement("div");if(te.classList.add("p-ia4_client_container_placeholder--content"),te.style.left=`${N+h+D}px`,b.appendChild(H),w&&(b.appendChild(ne),H.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),W!=null&&W.sidebarInverted&&(H.style.boxShadow="-1px 0px 0px 0px rgba(255, 255, 255, 0.15)"),te.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),b.appendChild(te),b.classList.add("p-ia4_client_container_placeholder--theme-background"),W){let le="#ffffffB3";const he="#1012148c";if(W.mode==="light"&&W.sidebarInverted&&(le="#ffffff1A"),W.mode==="dark"){var J,Y;le=he,(Y=(J=window.document)===null||J===void 0?void 0:J.querySelector("body"))===null||Y===void 0||Y.classList.add(n.RD)}if(H.style.backgroundColor=le,B&&W.useCustomHex){if(W.primary.custom){const Ie="bootPrimary",Ee=p({iaTheming:W,customTheme:B});Ee&&b.style.setProperty(`--dt_color-plt-${Ie}-${Ee.shade}`,Ee.value)}if(W.highlight1.custom){const Ie="bootHighlight1",Ee=f({name:"bootHighlight1",hex:W.highlight1.custom.startsWith("#")?W.highlight1.custom:`#${W.highlight1.custom}`,iaTheming:W,customTheme:B});b.style.setProperty(`--dt_color-plt-${Ie}-${Ee.shade}`,Ee.value)}}if(R){const Ie=(0,n.Lp)({mode:(0,i.Gk)(W,W.mode),primary:W.primary,highlight1:W.highlight1,brightness:W.brightness,useCustomHex:B&&W.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");b.style.background=Ie}else{const Ie="bootPrimary",Ee=p({iaTheming:W,customTheme:!!B}),me=(0,i.Gk)(W,W.mode),ce=(0,n.VS)({mode:me,role:me==="light-inverted-sidebar"?"highlight1":"primary",brightness:(W==null?void 0:W.brightness)||n.GK});b.style.backgroundColor=B&&W.useCustomHex&&Ee?`rgb(var(--dt_color-plt-${Ie}-${Ee.shade}))`:`rgb(var(--dt_color-plt-${W.primary.palette}-${ce}))`}}else if(H.style.backgroundColor=I,k){const le=k,he=(0,o.fl)(k,25);b.style.background=`radial-gradient(
						circle at 50% 50%,
						${le} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${he} 0%,
            ${le} 25%,
            ${he} 50%,
            ${le} 75%,
            ${he} 100%
          )`}K.classList.add("p-ia4_client_container_placeholder--top-nav"),(0,d.ve)()&&k&&r.ea3.isAvailable()&&(0,r.ea3)((0,r.Xgz)(),{color:k,symbolColor:G})}b.style.opacity="1"}else{if((0,a.VA)()&&M&&(b.classList.add("p-client_container_placeholder--with-team-switcher"),P&&(b.style.borderLeftColor=P)),K&&L&&I){const le=(0,o.Lh)(L,I,.1),he=(0,o.Ko)(L,.1);b.style.borderRightColor=le,(0,d.ve)()&&k&&r.ea3.isAvailable()&&(0,r.ea3)((0,r.Xgz)(),{color:k,symbolColor:G}),k&&(K.style.backgroundColor=k),K.style.color=he,(0,a.VA)()&&M&&(b.style.removeProperty("border-left-color"),b.style.boxShadow=`-60px 0px 0px 0px ${I}`,K.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let H=I;var q;const ne=(q=(0,s._z)(T,m._e))!==null&&q!==void 0?q:"",te=parseInt(ne,10);isNaN(te)||(b.style.width=`${ne+1}px`,(0,a.VA)()&&M&&te===0&&(b.style.width="60px",H="none",b.style.borderRight="none")),b.style.backgroundColor=H,b.style.opacity="1"}}c(E,"renderBootPlaceholder");function g(){const y=document.querySelector(l);y&&y.remove()}c(g,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:g},"removeBootPlaceholder",{get:()=>g,set:y=>{g=y}})},6260576033:(Q,C,e)=>{"use strict";var t=e(9706240641),n=e(7031360717),s=e(1535672935),r=e(6533394955);function d(gt,Lt){var Nt,qt,Dn,Vn,xn,zn;const Jn=(0,r.getClientStoreInstance)();if(Jn.dispatch((0,s.setWorkspaceFailedToBoot)(gt)),!(Lt==null||(Nt=Lt.data)===null||Nt===void 0)&&Nt.active_migration){var us,Bs;Jn.dispatch((0,s.setWorkspaceIsMigrating)({teamId:gt,migrationId:Lt==null||(us=Lt.data)===null||us===void 0?void 0:us.migration_id,canViewMigrationStatus:Lt==null||(Bs=Lt.data)===null||Bs===void 0?void 0:Bs.can_view_migration_status})),(0,n.R8)("BOOT",`(${gt}) Workspace boot failed due to active migration`)}if((Lt==null||(qt=Lt.data)===null||qt===void 0?void 0:qt.error)==="accesslimited"&&Jn.dispatch((0,s.setWorkspaceIsAccessLimited)(gt)),(Lt==null||(Dn=Lt.data)===null||Dn===void 0?void 0:Dn.error)==="two_factor_setup_required"&&Jn.dispatch((0,s.setWorkspaceNeeds2FASetup)(gt)),(Lt==null||(Vn=Lt.data)===null||Vn===void 0?void 0:Vn.error)==="user_in_no_workspaces"&&Jn.dispatch((0,s.setUserNotMemberOfAnyWorkspaceInOrg)(gt)),(Lt==null||(xn=Lt.data)===null||xn===void 0?void 0:xn.error)==="mobile_login_required"&&Jn.dispatch((0,s.setUserRequiresMobileLogin)(gt)),(Lt==null||(zn=Lt.data)===null||zn===void 0?void 0:zn.error)==="user_needs_to_accept_custom_tos"){var js;Jn.dispatch((0,s.setWorkspaceNeedsToAcceptCustomTOS)({teamId:gt,url:Lt==null||(js=Lt.data)===null||js===void 0?void 0:js.url}))}}c(d,"markTeamBootFailed");var o=e(6188550760),a=e(7515251865),i=e(9012396182);function m(gt){const Lt=(0,r.getClientStoreInstance)();var Nt;const qt=(Nt=(0,i.getNavigateToUnbootedWorkspace)(Lt.getState()))!==null&&Nt!==void 0?Nt:{},{bootingTeamId:Dn,navigateToRouteProps:Vn}=qt;return Dn===gt?((0,o._U)((Vn==null?void 0:Vn.routeName)||a.o,{teamId:gt,...(Vn==null?void 0:Vn.params)||{}},{reason:"delayed-unbooted-team-switch",...(Vn==null?void 0:Vn.options)||{}}),Lt.dispatch((0,s.setNavigateToUnbootedWorkspace)({})),!0):!1}c(m,"maybeNavigateToUnbootedWorkspace");function l(gt,Lt){if(!gt)throw new Error("Missing team id, cannot thin boot team.");d(gt,Lt),m(gt)}c(l,"thinBootTeam");var _=e(1073393277),v=e(2212859256),u=e(1044468604),h=e(3945243579);const f={[u.F9.API]:p,[u.F9.BOOT_APP]:E,[u.F9.BOOT_TEAM]:g,[u.F9.DEFAULT]:A};function p(gt,Lt,Nt){var qt;const Dn=Nt==null?void 0:Nt.teamId;if(window.isReloading){(0,n.pq)("BOOT",`(${Dn}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}u.XB[u.F9.API](gt,Lt,{...Nt,shouldDisplayErrorView:!1,shouldBeaconError:(gt==null||(qt=gt.data)===null||qt===void 0?void 0:qt.error)!=="user_needs_to_accept_custom_tos"}),l(Dn,gt),Lt!=null&&Lt.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-client-render-client")]).then(e.bind(e,4450671797)).then(Vn=>{let{renderClient:xn}=Vn;(0,_.a5)(),(0,h.A)(),xn()})}c(p,"handleApiError");function E(gt,Lt,Nt){(0,_.a5)(),u.XB[u.F9.BOOT_APP](gt,Lt,Nt)}c(E,"handleBootAppError");function g(gt,Lt,Nt){if(Nt){const{teamId:qt}=Nt;(0,v.y)(qt)}(0,_.a5)(),u.XB[u.F9.BOOT_TEAM](gt,Lt,Nt)}c(g,"handleBootTeamError");function A(gt,Lt,Nt){(0,_.a5)(),u.XB[u.F9.DEFAULT](gt,Lt,Nt)}c(A,"handleDefaultError");const y={handleApiError:p,handleBootAppError:E,handleBootTeamError:g,handleDefaultError:A};var T=e(9113979368),M=e(1197598850),O=e(1092614768),I=e(2325478352),D=e(796111729),P=e(2250002584),L=e(2872463257);const k="cse-api",G="cse-boot-api";function b(gt){return W.apply(this,arguments)}c(b,"fetchBootData");function W(){return W=(0,t.coroutine)(function*(gt){const{teamId:Lt,userId:Nt,isBootingWarm:qt}=gt,Dn=yield qt,Vn=Dn?"deferred-data":"initial-data";let xn=null;(0,I.EZ)()&&Dn&&(xn=yield(0,O.z6)({teamId:Lt,userId:Nt}));const zn=M.V$.bind(null,{...gt,reason:Vn,minChannelUpdated:xn});return B(zn,{teamId:Lt,userId:Nt,reason:Vn})}),W.apply(this,arguments)}c(W,"_fetchBootData");function B(gt){let Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Nt=(0,P.F)(),qt=Nt.createTrace({traceName:k,tags:Lt,samplingOptions:{sampleType:L.nl.ALWAYS}});if(!(qt!=null&&qt.traceFn))return(0,D.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),gt();const Dn=c((xn,zn)=>{if((0,T.A)(zn)){const Jn={state:L.$m.SUCCESS,message:"client_userBoot_empty"};xn==null||xn.addTags(Jn),xn==null||xn.close(),Nt.reportTrace(qt)}else Nt.clearTrace(qt)},"onResolve"),Vn=c((xn,zn)=>{var Jn;const us={state:L.$m.ERROR};zn!=null&&zn.status&&(us.status=zn.status),zn!=null&&zn.message&&(us.message=zn.message),!(zn==null||(Jn=zn.data)===null||Jn===void 0)&&Jn.error&&(us.reason=zn.data.error),xn==null||xn.addTags(us),xn==null||xn.close(),Nt.reportTrace(qt)},"onError");return qt.traceFn({name:G,onError:Vn,onResolve:Dn},gt)}c(B,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:k,CLIENT_BOOT_SPAN_LABEL:G},"fetchBootData",{get:()=>b,set:gt=>{b=gt}});var j=e(3398586081),w=e(6422693406),N=e(9733150292),K=e(6575028637);const J=(0,j.A)(H,gt=>gt.enterpriseId);function Y(gt){return q.apply(this,arguments)}c(Y,"maybeFetchEnterpriseData");function q(){return q=(0,t.coroutine)(function*(gt){return gt.enterpriseId?J(gt):{}}),q.apply(this,arguments)}c(q,"_maybeFetchEnterpriseData");function H(gt){return ne.apply(this,arguments)}c(H,"fetchAllEnterpriseData");function ne(){return ne=(0,t.coroutine)(function*(gt){const{teamId:Lt,enterpriseId:Nt}=gt;var qt;let Dn=(qt=(0,N._z)(Lt??"","enterprise_api_token"))!==null&&qt!==void 0?qt:"";if(Lt&&(0,K.ZN)(Lt)&&!Dn){var Vn;Dn=(Vn=(0,N._z)(Lt,"token"))!==null&&Vn!==void 0?Vn:""}const[xn,zn]=yield w.S.all([(0,M.YH)(gt),(0,M.O5)({...gt,token:Dn})]),Jn={enterprise_id:Nt,page_needs_enterprise:!0,enterprise_api_token:Dn};return{enterpriseData:xn==null?void 0:xn.enterprise,enterprisePrefsData:zn,enterpriseBootData:Jn}}),ne.apply(this,arguments)}c(ne,"_fetchAllEnterpriseData");const te={resetMemoizedFetchEnterpriseDataCache:()=>{J.cache.clear()}};var le=e(1460808057),he=e(8187930033),Ie=e(8414867410),Ee=e(5084575109),me=e(8834730594),ce=e(8040098042),X=e(2960290117);function V(gt){return x.apply(this,arguments)}c(V,"maybeFetchMessagesData");function x(){return x=(0,t.coroutine)(function*(gt){const{bootQueue:Lt,token:Nt,teamId:qt}=gt;if(!Nt)return(0,D.Ay)({teamOrEnterpriseId:qt,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!qt)return(0,D.Ay)({teamOrEnterpriseId:qt,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const Dn=yield(0,le.E)({contextualInfo:gt});return S({bootQueue:Lt,token:Nt,teamId:qt,routeInfo:Dn})}),x.apply(this,arguments)}c(x,"_maybeFetchMessagesData");function S(gt){return U.apply(this,arguments)}c(S,"fetchMessagesDataForRoute");function U(){return U=(0,t.coroutine)(function*(gt){let{bootQueue:Lt,token:Nt,teamId:qt,routeInfo:Dn}=gt;var Vn;const xn=Dn==null||(Vn=Dn.params)===null||Vn===void 0?void 0:Vn.entityId;return xn&&(0,ce.A)(xn)&&!(0,Ee.n)(xn)&&!(0,Ie.bd)(xn)&&!(0,me.A)(xn)&&!(0,X.Ay)(xn)?((0,n.pq)("BOOT",`Booting into channel: ${xn}`),F({bootQueue:Lt,token:Nt,teamId:qt,id:xn})):!(0,Ee.n)(xn)&&!(0,Ie.bd)(xn)&&!(0,me.A)(xn)&&!(0,X.Ay)(xn)?((0,n.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),F({bootQueue:Lt,token:Nt,teamId:qt})):null}),U.apply(this,arguments)}c(U,"_fetchMessagesDataForRoute");function F(gt){let{bootQueue:Lt,token:Nt,teamId:qt,id:Dn}=gt;const Vn={token:Nt,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28};Dn&&(Vn.channel=Dn),Vn.include_free_team_extra_messages=!0;const xn=new he.Ay({method:"conversations.view",args:Vn,teamId:qt});return Lt.q(xn).catch(zn=>((0,D.Ay)({teamOrEnterpriseId:qt,label:"BOOT"}).error(new Error(`unable to fetch messages data ${zn}`)),null))}c(F,"fetchMessagesData");const Z={fetchMessagesData:F};var z=e(4892637646),$=e(6998663753),ee=e(9706702639),de=e(5313493085);function ie(gt){let{params:Lt,routeName:Nt}=gt;const qt=Lt.teamId||Lt.teamOrEnterpriseId,{dispatch:Dn}=(0,r.getStoreInstanceByTeamId)(qt);Dn((0,de.M)({routeName:Nt,routeParams:Lt}))}c(ie,"channelCanvasListener");var ue=e(1881693845),fe=e(2591023465),re=e(3674298388);const _e=c(gt=>{let{prevTeamId:Lt,nextTeamId:Nt}=gt;if(Lt!==Nt)return;const Dn=(0,r.getStoreInstanceByTeamId)(Nt).getState();(0,ue.A)()&&(0,re.r8)(Dn)&&(0,r.dispatchForClientStore)((0,fe.vm)(!1))},"dismiss_floating_sidebar");var Ue=e(9268451279),ye=e(2805462396),Te=e(4386248732),ge=e(7765212398),Ae=e(9460580631);function Re(gt){let{params:Lt,prevRouteInfo:Nt,prevTeamId:qt}=gt;const Dn=Nt==null?void 0:Nt.params;if(!Dn||Dn.entityId!=="composer"||!Dn.draftId||Dn.draftId===(Lt==null?void 0:Lt.draftId))return!0;const{dispatch:Vn,getState:xn}=(0,r.getStoreInstanceByTeamId)(qt),zn=xn(),Jn=(0,Te.di)(Dn.draftId);if(!Jn)return!0;const us=(0,ge.YI)(zn,Jn);return(0,Ue.v7)(us,{trimWhitespace:!0})||(0,ye.A)(zn,us)||Vn((0,Ae.A)({ids:[Jn],reason:"draftsListenerBefore"})),!0}c(Re,"draftsListenerBefore");var Be=e(4446301238),ke=e(9884588328),se=e(1407713935),ve=e(9101533895),Me=e(7053828403);function be(gt,Lt){return xe.apply(this,arguments)}c(be,"ensureChannel");function xe(){return xe=(0,t.coroutine)(function*(gt,Lt){const Nt=gt.getState(),qt=(0,ve.OL)(Nt,Lt,!1);return(0,se.hc)(qt)?qt:gt.dispatch((0,Be.pX)({ids:[Lt],reason:"sonic/route-listeners/ensure-channel",callSource:Be.aI.EnsureChannel})).then(Dn=>{if(!Dn)return;const{channels:Vn,resolved:xn}=Dn;if(!(!xn||!xn.includes(Lt)))return Vn[0]})}),xe.apply(this,arguments)}c(xe,"_ensureChannel");const Le=function(){var gt=(0,t.coroutine)(function*(Lt){let{prevTeamId:Nt,nextTeamId:qt,routeName:Dn,params:Vn={}}=Lt;const xn=(0,r.getStoreInstanceByTeamId)(qt);if(!(0,ce.A)(Vn.entityId))return w.S.resolve(void 0);const zn=Vn.entityId;return be(xn,zn).then(Jn=>{if(Jn&&!(0,ke.lo)(Jn))return w.S.resolve(void 0);if(Nt!==qt){const us=(0,Me.EI)(xn.getState(),{mainView:!0});return us===zn?w.S.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,o._U)(Dn,{...Vn,entityId:us},{shouldReplaceState:!0}),w.S.resolve(!1))}return Jn?w.S.reject(new Error("tried to switch to a channel from another team")):w.S.resolve(!1)})});return function(Lt){return gt.apply(this,arguments)}}();var Ke=e(1530920905);function He(gt){let{nextTeamId:Lt,prevTeamId:Nt}=gt;const{dispatch:qt}=(0,r.getStoreInstanceByTeamId)(Lt);Nt!==Lt&&qt((0,Ke.yh)({teamId:Lt}))}c(He,"permissionsListener");var Ye=e(3614984351),Xe=e(9005797924),et=e(4496040127);const st=c(gt=>{let{prevTeamId:Lt,nextTeamId:Nt}=gt;if(!(0,et.VA)()||Lt===Nt||!Nt)return!0;if((0,Ye.A)(Nt,Lt))return!1;const qt=(0,r.getStateForClientStore)();return(0,i.isWorkspaceExpired)(qt,Nt)||(0,i.isWorkspacePendingAuth)(qt,Nt)?((0,Xe.A)(Nt),!1):!0},"maybe_finish_signin");var ot=e(4992650731);const ct=c(gt=>{let{prevTeamId:Lt,nextTeamId:Nt,routeName:qt,params:Dn}=gt;if((0,et.VA)()||Lt===Nt)return!0;const Vn=(0,o.M5)(qt,{...Dn,teamId:Nt});if(!Nt)return!0;const xn=(0,r.getStateForClientStore)(),zn=(0,i.getWorkspacesMeta)(xn),Jn=zn&&zn[Nt]&&zn[Nt].subdomain,us=(0,et.eb)(Jn)||`_team_${Nt}`;return(0,ot.A)(Vn,us),!1},"maybe_open_other_team_in_browser");var at=e(8959118205),At=e(4588963228),Ct=e(497761763),Tt=e(4327331459),Rt=e(3707193570),It=e(4862221402),Mt=e(6427150145);const nn=/^[\d]{13}$/;function Ot(gt){return gt?nn.test(gt):!1}c(Ot,"looksLikeLastReadTs");var bt=e(1826991857),Jt=e(7174777686),en=e(7752506476);function sn(gt){return(0,Jt.A)(en.M,gt)||gt===""}c(sn,"looksLikeFlexpaneSectionId");var zt=e(6471801899),Yt=e(1233969417);const hn=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function Qe(gt){return hn.some(Lt=>Lt.test(gt))}c(Qe,"looksLikeContactExternalId");var Wt=e(6605261507),gn=e(5587260451);const rn=["received","sent"];function ut(gt){return rn.includes(gt)}c(ut,"looksLikeInvitationsTabRouteParam");var Pt=e(3468466741),Bt=e(8538260492),Ft=e(4425811520),un=e(7770205178),Sn=e(9132066222),Un=e(8237194282),Cn=e(8305125093);function Ln(gt){return!!at.as[gt]}c(Ln,"isEntityRedirectKey");const yn=c(gt=>Object.keys(at.as).includes(gt),"isRedirectRoute"),Xt={entityId:gt=>(0,me.A)(gt)||(0,At.A)(gt)||(0,ce.A)(gt)||(0,Ct.A)(gt)||(0,Tt.A)(gt)||(0,Rt.Ay)(gt)||(0,It.A)(gt)||(0,Ee.n)(gt)||(0,Ie.bd)(gt)||yn(gt)||(0,X.Ay)(gt)||(0,Ft.xL)(gt),appOrServiceId:gt=>(0,At.A)(gt)||(0,me.A)(gt),timestamp:Mt.A,threadId:bt.A,threadPageId:bt.A,replyTs:Mt.A,sectionId:sn,tabId:gt=>(0,Wt.Dl)(gt),viewName:gt=>(0,gn.c)(gt),listsViewName:zt.FO,draftId:Te.ai,invitationsTabId:ut,channelId:ce.A,channelFilesId:gt=>/^files-.+/.test(gt),searchQuery:gt=>/^search-.+/.test(gt),articleId:gt=>(0,Yt.A)(gt),tileEntityId:gt=>(0,ce.A)(gt)||(0,Ee.n)(gt)||(0,Ie.bd)(gt),scTeamOrEnterpriseId:gt=>(0,Rt.Am)(gt),quipDocId:X.Ay,channelCanvasId:X.Ay,contactExternalId:Qe,itemId:Pt.Ny,recordId:zt.pq,focusRecordId:zt.or,listViewId:zt._o,lastReadTs:Ot,canvasOpenedFromId:gt=>(0,ce.A)(gt)||(0,Tt.A)(gt)||gt===Bt.eE.QUIP_FILES,externalWorkspacePage:un.W_,channelTabId:Sn.jK,salesforceRecordId:Un.V,workflowTemplateId:Cn.A},nt={[a.o]:{paths:["/"]},[at._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId"]},[at.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[at.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[at.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[at.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[at.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[at.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[at.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[at.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[at.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[at.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[at.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[at.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[at.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[at.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[at.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[at.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[at.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[at.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[at.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[at.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[at.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[at.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[at.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[at.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[at.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[at.Bh]:{paths:["/:channelId/huddle"]},[at.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[at.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[at.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[at.td]:{paths:["/:entityId/:tabId/:workflowTemplateId"]}};function pt(){(0,o.S2)(Xt,nt)}c(pt,"setRoutes");const Dt=c(gt=>{let{routeName:Lt,params:Nt={}}=gt;const{entityId:qt}=Nt;return qt&&Ln(qt)?((0,o._U)(Lt,{...Nt,entityId:at.as[qt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var Qt=e(8224196674),tn=e(109860581),an=e(3193155968),ht=e(7429662208);function yt(gt){let{prevTeamId:Lt,nextTeamId:Nt}=gt;if(!Nt||Lt===Nt)return;const qt=(0,r.getStoreInstanceByTeamId)(Nt),Dn=qt.getState(),Vn=(0,ht.e6)(Dn),xn=(0,ht.Le)(Dn,{tab:Vn});qt.dispatch((0,Qt.C)({prevViewSet:void 0,prevTab:void 0,nextViewSet:xn,nextTab:Vn,windowId:an.N2,navigateParams:{},triggerType:tn.w.TEAM_SWITCH}))}c(yt,"maybeRunTeamSwitchNavigateListeners");var Ut=e(6555262004),Gt=e(5078290763),mn=e(4656278360),Oe=e(2567914105),we=e(9003400431),Fe=e(8243624171);function qe(gt){let{nextTeamId:Lt,prevTeamId:Nt}=gt;const{dispatch:qt,getState:Dn}=(0,r.getStoreInstanceByTeamId)(Nt),Vn=Dn();return(0,Oe.iS)(Vn)?new w.S((zn,Jn)=>{qt((0,Gt.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{qt((0,mn.U)(!1)),qt((0,we.O)({closeAll:!0})),zn()},onCancelClose:()=>{Jn()}}))}):(Nt&&!(0,Fe.Vq)({teamId:Nt})&&qt(Lt===Nt?(0,we.O)({closeNamed:Ut.N}):(0,we.O)({closeAll:!0})),!0)}c(qe,"modalListenerBefore");var ze=e(6088404775);function Ge(gt){const Lt=(0,ze.h)();return Lt!=null&&Lt.onClose&&(Lt==null||Lt.onClose()),!0}c(Ge,"pinsPopoverListenerAfter");var Ze=e(3982416567),_t=e(1031947056),Et=e(1466694191),je=e(6078549397),oe=e(7307560139),pe=e(6822097892),Se=e(4033441523);const Ne=["comment_thread","activity_history","files","rimeto_profile","thread",at.li,at.lM,at.De,at.Dn,at.Q$],lt=(0,_t.Ay)("Post activity history routing side effects",(gt,Lt,Nt)=>{let{params:qt,prevRouteInfo:Dn,routeName:Vn}=Nt;var xn;const zn=qt==null?void 0:qt.entityId,Jn=Dn==null||(xn=Dn.params)===null||xn===void 0?void 0:xn.entityId,us=an.N2;if(Vn===at._G&&zn&&(0,Et.A)(zn)){const{fileIdOrQuipThreadId:Gn}=(0,je.EX)(zn);Ne.includes(Dn==null?void 0:Dn.routeName)&&gt((0,pe.A)({fileId:Gn,windowId:us,source:Se.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let Bs=zn,js=Jn;(0,X.Ay)(Jn)&&(0,X.Ay)(zn)&&(Bs=(0,je.EX)(Jn).fileIdOrQuipThreadId,js=(0,je.EX)(zn).fileIdOrQuipThreadId),Bs!==js&&gt((0,oe.NA)({windowId:us}))});lt.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function dt(gt){let{params:Lt,prevRouteInfo:Nt,routeName:qt,reason:Dn}=gt;const Vn=Lt.teamId||Lt.teamOrEnterpriseId,{dispatch:xn,getState:zn}=(0,r.getStoreInstanceByTeamId)(Vn);(0,Ze.O4)(zn())&&xn(lt({routeName:qt,params:Lt,prevRouteInfo:Nt,reason:Dn}))}c(dt,"quipActivityHistoryListener");const it=c(gt=>{let{nextTeamId:Lt,routeName:Nt,params:qt}=gt;const Dn={routeName:Nt,params:qt};return Lt&&(0,N.t2)(Lt,"lastRoute",Dn),!0},"save_route_to_local_config");var kt=e(3080748521),$t=e(9488048047),ln=e(532953487),An=e(2939274763),In=e(832411022);const Nn=c(gt=>{let{prevTeamId:Lt,nextTeamId:Nt,params:qt={}}=gt;const{dispatch:Dn,getState:Vn}=(0,r.getStoreInstanceByTeamId)(Nt),xn=Vn();if(Lt!==Nt)return;const zn=(0,kt.MC)(xn),Jn=zn.entityId,us=qt.entityId;Jn===In.d$&&us===In.d$&&qt.searchQuery&&zn.searchQuery!==qt.searchQuery&&(0,ln.$)(xn)!==qt.searchQuery&&Dn((0,$t.z)({encodedSearchString:qt.searchQuery})),Jn!==us&&us===In.d$&&(qt.searchQuery&&Dn((0,$t.z)({encodedSearchString:qt.searchQuery})),Dn((0,An.s)())),Jn!==us&&Jn===In.d$&&Dn((0,An.w)())},"search_page_listener");var kn=e(210422728),Zn=e(9551235052);function _s(gt){let{prevTeamId:Lt}=gt;const Nt=(0,r.getStoreInstanceByTeamId)(Lt);return(0,Zn.J)(Nt.getState())&&(Nt.dispatch((0,kn.T)(!0)),ee.g.delete("setNavigatedDuringWarmBoot")),w.S.resolve()}c(_s,"setNavigatedDuringWarmBoot");var Ts=e(6495946979),Ms=e(8473952534),ls=e(8213251995),Qn=e(3977512448);function ae(gt){let{nextTeamId:Lt,prevRouteInfo:Nt,params:qt}=gt;var Dn;const Vn=(0,r.getStoreInstanceByTeamId)(Lt),xn=Vn.getState(),zn=(0,ls.c8)(xn),Jn=(0,ve.OL)(xn,qt.entityId),us=(Nt==null||(Dn=Nt.params)===null||Dn===void 0?void 0:Dn.entityId)||"";(us===Bt.eE.CHANNELS||us===Qn.b||us===Qn.Z1)&&(qt!=null&&qt.entityId)&&Jn&&!(0,Ts.b)(Jn)&&Vn.dispatch((0,Ms.Tm)({channelId:qt.entityId,prevRoute:us})),zn&&(Nt==null?void 0:Nt.routeName)==="ROUTE_ENTITY"&&(0,ce.A)(us)&&Vn.dispatch((0,Ms.Tm)({channelId:null,prevRoute:null}))}c(ae,"setPreviewingFromChannelBrowserOrLaunchpad");var De=e(1302213854);const $e=c(gt=>{let{prevTeamId:Lt,nextTeamId:Nt}=gt;return Lt!==Nt?(0,r.dispatchForClientStore)((0,De.Mb)(!0)):(0,r.dispatchForClientStore)((0,De.Mb)(!1))},"set_should_log_team_switch_metrics");var St=e(9143148823),Mn=e(8628205589),Pn=e(4529239752),wn=e(9795506498);function cn(gt){let{nextTeamId:Lt,uuid:Nt,shouldReplaceState:qt,reason:Dn}=gt;var Vn;if(!Lt||!Nt)return;if(Dn!==o.GB)if(qt)(0,r.dispatchForClientStore)((0,Mn.HQ)({windowId:an.N2,entry:{id:Nt,ts:Date.now(),teamId:Lt,isIA4:!1}}));else{const us=(0,Pn.XG)((0,r.getStateForClientStore)());us>0&&(0,r.dispatchForClientStore)((0,Mn.$E)({windowId:an.N2,index:us})),(0,r.dispatchForClientStore)((0,Mn.y2)({windowId:an.N2,entry:{id:Nt,ts:Date.now(),teamId:Lt,isIA4:!1}}))}const xn=(0,r.getStoreInstanceByTeamId)(Lt),zn=xn.getState();if(!((Vn=window.history.state)===null||Vn===void 0)&&Vn.isIA4)return;const Jn=(0,ht.Gl)(zn);xn.dispatch((0,wn.A)({windowId:an.N2,entry:Jn}))}c(cn,"updateIA4History");var qn=e(235108050);const ms=c(gt=>{let{prevTeamId:Lt,nextTeamId:Nt}=gt;if(Lt===Nt||!Nt)return;const qt=(0,N.W6)("recentlyUsedTeamIds")||Lt&&[Lt]||[];qt.unshift(Nt),(0,N.q9)("recentlyUsedTeamIds",(0,qn.A)(qt)),(0,N.t2)(Nt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var As=e(9399618736),xs;(function(gt){gt.JA_JP="ja-JP",gt.EN_US="en-US",gt.EN_GB="en-GB",gt.ES_ES="es-ES",gt.ES_LA="es-LA",gt.FR_FR="fr-FR",gt.DE_DE="de-DE",gt.PT_BR="pt-BR",gt.KO_KR="ko-KR",gt.IT_IT="it-IT",gt.ZH_CN="zh-CN",gt.ZH_TW="zh-TW"})(xs||(xs={}));const Rs=xs.EN_US;var gs=e(4423055085),Ls=e(9421999304),dn=e(571104883),tt=e(9907843289),Je=e(2554594353);function Vt(gt){let{nextTeamId:Lt,routeName:Nt,params:qt}=gt;Lt&&((0,r.dispatchForClientStore)((0,Je.b)({teamId:Lt,routeName:Nt,params:qt,fromNavigation:!0})),(0,r.getStoreInstanceByTeamId)(Lt)&&(0,r.dispatchForTeamId)(Lt,(0,kn.w)({routeName:Nt,params:qt})))}c(Vt,"syncRouteStoreWithUrl");function vt(gt){return xt.apply(this,arguments)}c(vt,"navigateToLastSavedRoute");function xt(){return xt=(0,t.coroutine)(function*(gt){let{prevTeamId:Lt,nextTeamId:Nt,navigationTimestamp:qt}=gt;const Dn=(0,r.getStateForClientStore)();if(!Nt||(0,i.hasWorkspaceFailedToBoot)(Dn,Nt)||(0,i.doesWorkspaceNeed2FASetup)(Dn,Nt)||(0,i.isWorkspaceExpired)(Dn,Nt)||(0,i.isWorkspacePendingAuth)(Dn,Nt))return!0;const Vn=(0,r.getStoreInstanceByTeamId)(Nt),xn=Vn&&Vn.getState(),zn=(0,kt.MC)(xn),Jn=(0,kt.D8)(xn)||at._G;if((0,dn.y3)()&&Jn===a.o)return!0;const us=!Lt;return yield(0,o._U)(Jn,{...zn,teamId:Nt},{reason:"navigateToLastSavedRoute",shouldReplaceState:us,navigationTimestamp:qt}),!1}),xt.apply(this,arguments)}c(xt,"_navigateToLastSavedRoute");function wt(gt){let{prevTeamId:Lt,nextTeamId:Nt}=gt;if(!Lt||!Nt||Lt===Nt)return;const qt=Zt(Nt);return w.S.resolve((0,Ls.xS)(qt,Nt)).then(()=>{})}c(wt,"ensureCorrectLocaleForTeam");function Ht(gt){let{prevTeamId:Lt,nextTeamId:Nt}=gt;if(!Lt||!Nt||Lt===Nt)return;const qt=Zt(Nt);if(qt)return(0,Ls.zI)(qt)}c(Ht,"ensureCorrectLocaleForExternalLibs");function Zt(gt){const Lt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),Nt=Lt?Lt[1]:(0,N._z)(gt,"user_locale");return Nt&&(0,tt.YI)(Nt)?Nt:Rs}c(Zt,"getLocaleForTeam");const vn=(0,$.A)(On);function On(){ee.g.set("maybeOpenOtherTeamInBrowser",(0,o.Y8)(ct)),ee.g.set("modalListenerBefore",(0,o.Y8)(qe)),ee.g.set("maybeFinishSignin",(0,o.Y8)(st)),ee.g.set("maybeRedirectEntity",(0,o.Y8)(Dt)),ee.g.set("startTeamSwitchTiming",(0,o.Y8)(St.Ay)),ee.g.set("navigateToLastSavedRoute",(0,o.Y8)(vt,[a.o])),ee.g.set("ensureChannel",(0,o.Y8)(Le,[])),ee.g.set("draftsListenerBefore",(0,o.Y8)(Re)),ee.g.set("ensureCorrectLocaleForExternalLibs",(0,o.Dd)(Ht)),ee.g.set("searchPageListener",(0,o.Dd)(Nn)),ee.g.set("updateIA4History",(0,o.Dd)(cn)),ee.g.set("maybeRunTeamSwitchNavigateListeners",(0,o.Dd)(yt)),ee.g.set("setNavigatedDuringWarmBoot",(0,o.Dd)(_s)),ee.g.set("pinsPopoverListenerAfter",(0,o.Y8)(Ge)),ee.g.set("syncRouteStoreWithUrl",(0,o.Dd)(Vt)),ee.g.set("ensureCorrectLocaleForTeam",(0,o.Dd)(wt)),ee.g.set("setShouldLogTeamSwitchMetrics",(0,o.Dd)($e)),ee.g.set("setLocalConfigForTeamWithKey",(0,o.Dd)(it)),ee.g.set("dismissFloatingSidebar",(0,o.Dd)(_e)),ee.g.set("updateRecentlyUsedTeams",(0,o.Dd)(ms)),ee.g.set("maybeFetchClientPermissions",(0,o.Dd)(He)),ee.g.set("maybeIncrementHistoryLength",(0,o.Dd)(As.Cu)),ee.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,o.Dd)(ae)),ee.g.set("channelCanvasListener",(0,o.Dd)(ie)),ee.g.set("quipActivityHistoryListener",(0,o.Dd)(dt))}c(On,"registerRouteListenersInner"),(0,gs.ul)("router.listeners",()=>[...ee.g.entries()]);const En={syncRouteStoreWithUrl:Vt,navigateToLastSavedRoute:vt,ensureCorrectLocaleForTeam:wt,ensureCorrectLocaleForExternalLibs:Ht,getLocaleForTeam:Zt};Object.defineProperty(En,"syncRouteStoreWithUrl",{get:()=>Vt,set:gt=>{Vt=gt}}),Object.defineProperty(En,"navigateToLastSavedRoute",{get:()=>vt,set:gt=>{vt=gt}}),Object.defineProperty(En,"ensureCorrectLocaleForTeam",{get:()=>wt,set:gt=>{wt=gt}}),Object.defineProperty(En,"ensureCorrectLocaleForExternalLibs",{get:()=>Ht,set:gt=>{Ht=gt}}),Object.defineProperty(En,"getLocaleForTeam",{get:()=>Zt,set:gt=>{Zt=gt}});var on=e(3245843483);const Tn=c(()=>({deviceId:on.iCQ}),"getSharedTracerTags");var jn=e(6338445630);const Wn=function(){var gt=(0,t.coroutine)(function*(){on.goh.isAvailable()&&(0,on.goh)().includes("DisableServiceWorker")&&(yield(0,jn._E)())});return c(function(){return gt.apply(this,arguments)},"disableServiceWorkerForClientConfig")}(),Bn=function(){var gt=(0,t.coroutine)(function*(){(0,dn.X5)()===dn.h5.SAFARI&&(yield(0,jn._E)())});return c(function(){return gt.apply(this,arguments)},"disableServiceWorkerForSafari")}(),Hn=function(){var gt=(0,t.coroutine)(function*(){yield Bn(),yield Wn()});return c(function(){return gt.apply(this,arguments)},"maybeDisableServiceWorker")}();var bn=e(1658558415),pn=e(1427945276),ss=e(6123258136),Xn=e(1319016163);function is(gt){return es.apply(this,arguments)}c(is,"setupOtherTeamsToBoot");function es(){return es=(0,t.coroutine)(function*(gt){let{contextualInfo:Lt}=gt;return{contextualInfo:Lt,otherTeamsToBoot:(0,Xn.gv)()}}),es.apply(this,arguments)}c(es,"_setupOtherTeamsToBoot");var vs=e(5695315324),as=e(8148939499),Yn=e(723189278),hs=e(4148579738),rs=e(4724591729),cs=e(6968387112),Is=e(8445020572),Us=e(504058561),os=e(3803432550),bs=e(2371143272);Hn(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();function Ps(gt){return gt.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,et.VA)()}),gt.registerErrorHandlers(f),gt.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,3052740410)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,3412574599)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,4083282710)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,4097031004))}),gt.registerInitialApiCalls({experimentData:M.dC,featureFlagData:M.BG,clientBootData:b,viewData:V,allEnterpriseData:Y,featureAccessData:M.jH}),hs.e.register(Tn),(0,z.b)(gt),gt.hooks.beforeDynamicImportsStart.tap("Render Placeholder",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return(0,_.Sp)({teamId:qt.teamOrEnterpriseBootId,showTeamSwitcher:(0,as.A)().length>1}),{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Set routes",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return pt(),{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Set up client store",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return(0,os.x)(qt.teamId),{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Register route listeners",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return vn(),{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;const{teamId:Dn}=qt;return Dn?(Dn!==(0,N.W6)("lastActiveTeamId")&&(0,N.q9)("lastActiveTeamId",Dn),{contextualInfo:qt}):{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return window.isReloading?((0,n.pq)("BOOT",`(${qt.teamId}) Ongoing reload detected; Cancelling boot.`),(0,Yn.A)()):{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap("Set tokens",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return(0,ss.L)({contextualInfo:qt})});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",function(){var Lt=(0,t.coroutine)(function*(Nt){let{contextualInfo:qt}=Nt;return(0,I.EZ)()&&(0,O.z6)({teamId:qt.teamId,userId:qt.userId}),{contextualInfo:qt}});return function(Nt){return Lt.apply(this,arguments)}}()),gt.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",is),gt.run()}if(c(Ps,"boot"),!(0,bn.A)()){const gt=(0,pn.z4)(vs.Y.CLIENT_V2);if(!(0,Us.z$)()&&(0,rs.KV)()&&(0,bs.b)()){const Lt=e(8904626639);Lt.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,cs.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,Is.HF)()}`,defaultIntegrations:!1,integrations:[Lt.browserTracingIntegration({enableInp:!0}),Lt.browserProfilingIntegration(),Lt.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}Ps(gt)}const ws={boot:Ps}},879418974:(Q,C,e)=>{"use strict";e.d(C,{d:()=>r});var t=e(9884588328),n=e(8798294025),s=e(6113051341);function r(d){let{channels:o,selfId:a}=d;const i={};return o.some((m,l)=>{const _=m==null?void 0:m.id;return(0,s.N)(m)?(i.general=_,!0):((0,t.Ur)(m)&&(i.slackbot=_),a&&(0,n.e)(m)===a&&(i.self=_),l||(i.first=_),!1)}),i.general||i.slackbot||i.self||i.first}c(r,"getAnyChannelForRouting")},1460808057:(Q,C,e)=>{"use strict";e.d(C,{E:()=>a});var t=e(9706240641),n=e.n(t),s=e(879418974),r=e(8959118205),d=e(1151228631),o=e(6533394955);function a(_){return i.apply(this,arguments)}c(a,"getRouteInfo");function i(){return i=(0,t.coroutine)(function*(_){let{contextualInfo:v,channels:u}=_;const{teamId:h,isForegroundTeam:f}=v,p=(0,o.getStoreInstanceByTeamId)(h),E=(0,d.Gf)({store:p,shouldSetFocus:f});return E||m({contextualInfo:v,channels:u})}),i.apply(this,arguments)}c(i,"_getRouteInfo");function m(_){let{contextualInfo:v,channels:u}=_;const{teamId:h}=v;if(!h)return null;const f=(0,d.lQ)(h);if(f)return f;if(u){const p=v.userId;return l({channels:u,selfId:p})}return null}c(m,"calculateRouteInfo");function l(_){let{channels:v,selfId:u}=_;if(!v.length)return null;const h={routeName:r._G,params:{}},f=(0,s.d)({channels:v,selfId:u});return f&&(h.params.entityId=f),h}c(l,"getRouteFromBootData")},2212859256:(Q,C,e)=>{"use strict";e.d(C,{y:()=>d});var t=e(9706702639),n=e(7031360717),s=e(6533394955),r=e(1314103953);function d(o){if(!o)return;const a=(0,s.getStoreInstanceByTeamId)(o);a&&((0,n.pq)("BOOT",`(${o}) Boot complete`),t.g.delete("setNavigatedDuringWarmBoot"),a.dispatch((0,r.b)(!1)),a.dispatch((0,r.k)(!1)))}c(d,"markTeamBootCompleted")},4892637646:(Q,C,e)=>{"use strict";e.d(C,{b:()=>a,h:()=>d});var t=e(9706240641),n=e.n(t),s=e(7906695911),r=e(2872463257);function d(l){return o.apply(this,arguments)}c(d,"collectInitialPageLoadMetrics");function o(){return o=(0,t.coroutine)(function*(l){let{contextualInfo:_}=l;const{getTraceMeta:v,isBootingWarm:u,appName:h}=_,{getTracer:f,tags:p}=v(),E=(yield u)?s.H.WARM:s.H.COLD,g=f().createTrace({traceName:s.S.BOOT_INITIAL_LOAD,tags:{boot_type:E,app_name:h,...p},autoCreateRootSpan:!1,samplingOptions:{sampleType:r.nl.ALWAYS}});g.startSpan(s.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),g.startSpan(s.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),g.startSpan(s.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),f().reportTrace(g)}),o.apply(this,arguments)}c(o,"_collectInitialPageLoadMetrics");function a(l){l.hooks.beforeDynamicImportsStart.addCallIntercept(_=>i(_)),l.hooks.renderApp.addCallIntercept(_=>m(_))}c(a,"setupBootMetricsTracing");function i(l){return _=>{const{getTracer:v,setTrace:u,rootTrace:h}=_.contextualInfo.getTraceMeta(),p=v().createTrace({traceName:s.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:h.getRootSpanId(),traceId:h.getTraceId()});return p.startSpan(s.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),u(p),l(_)}}c(i,"startTimeToRenderTrace");function m(l){return function(){var _=(0,t.coroutine)(function*(v){const{isBootingWarm:u,getTraceMeta:h,isForegroundTeam:f}=v.contextualInfo,{getTracer:p,getTrace:E,setTrace:g,rootTrace:A}=h(),y=p(),T=E(),M=(yield u)?s.H.WARM:s.H.COLD;return T.addTags({boot_type:M,is_foreground_team:f}),y.reportTrace(T),g(A),l(v)});return function(v){return _.apply(this,arguments)}}()}c(m,"endTimeToRenderTrace")},7906695911:(Q,C,e)=>{"use strict";e.d(C,{H:()=>n,S:()=>t});var t;(function(s){s.BOOT_INITIAL_LOAD="boot:initial_load",s.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",s.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",s.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",s.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var n;(function(s){s.COLD="cold",s.WARM="warm"})(n||(n={}))},9706702639:(Q,C,e)=>{"use strict";e.d(C,{g:()=>t});const t=new Map},537208959:(Q,C,e)=>{"use strict";e.d(C,{TF:()=>r,Vq:()=>d});var t=e(4761125736);const n="fe_activity_thread_v2",s="fe_activity_pillows_and_ux_changes";function r(o){return(0,t._Z)(o,n)==="on"}c(r,"isActivityThreadV2Enabled");function d(o){return(0,t._Z)(o,s)==="on"}c(d,"isActivityPillowsLayoutEnabled")},1609960255:(Q,C,e)=>{"use strict";e.d(C,{A:()=>n});var t=e(7114008777);const n=c(s=>{let{selectedTab:r,unreadsFilterToggleSelected:d,experimentActivityDMsChannelGroupOn:o,experimentIsActivityThreadV2GroupOn:a}=s;return o&&d&&r===t.L.Replies?"chrono_unreads":o&&!d&&r===t.L.Replies?"chrono_reads_and_unreads":a&&d&&r===t.L.Replies?"chrono_threads_unreads_v2":d&&r===t.L.Replies?"chrono_threads_unreads":a&&r===t.L.Replies?"chrono_threads_reads_and_unreads_v2":r===t.L.Replies?"chrono_threads_reads_and_unreads":d&&r===t.L.Vip?"chrono_priority_only_unreads_v1":r===t.L.Vip?"chrono_priority_only_reads_and_unreads_v1":o&&d?"experimental_all_chrono_unreads_v1":o&&r===t.L.All?"experimental_all_chrono_reads_and_unreads_v1":d?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},8641233047:(Q,C,e)=>{"use strict";e.d(C,{W:()=>i});var t=e(3134334389),n=e(4459831283),s=e(4275787242),r=e(735940183),d=e(2562405183);const o=new r.Ay("priority_manage"),a={name:"check-circle"},i=c(m=>{let{memberName:l,isUserVIP:_}=m;return(0,d.d4)(n.FT)?t.createElement(s.A,{svgIconProps:a},t.createElement("span",null,_?o.rt("Removed <b>{memberName}</b> from VIPs",{memberName:l}):o.rt("Added <b>{memberName}</b> to VIPs",{memberName:l}))):null},"PriorityToast");i.displayName="PriorityToast"},4577150972:(Q,C,e)=>{"use strict";e.d(C,{c:()=>i});var t=e(3398586081),n=e(1609960255),s=e(7114008777),r=e(7156540029),d=e(8352634987),o=e(7912281988),a=e(6533394955);const i=(0,t.A)(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.L.All,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new d.Ay({storeKey:"activityIA4",fetch:_=>(0,a.dispatchForTeamId)(_,(0,o.Q)({limit:r.Q1,filter:m,fetchNew:!0,mode:(0,n.A)({selectedTab:m,unreadsFilterToggleSelected:l})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},1247361162:(Q,C,e)=>{"use strict";e.d(C,{$T:()=>A,ES:()=>m,Eg:()=>u,Gt:()=>p,KD:()=>h,cJ:()=>g,f7:()=>E,gW:()=>f,mt:()=>M,om:()=>T,rz:()=>l,sG:()=>_,ut:()=>v,yC:()=>y,yN:()=>O});var t=e(7114008777),n=e(6695353875),s=e(4577150972),r=e(5921578648),d=e(8161242485),o=e(8847766420);const a=c((I,D)=>{var P,L;const k=(0,n.kz)(D),G=(0,r.S)({filter:I,isUnreadMode:!!(!(D==null||(P=D.activityIA4)===null||P===void 0)&&P.filterUnreads),isFilteringRevampToggledOn:k});return(L=D.activityIA4)===null||L===void 0?void 0:L[G]},"getActivityListForFilter"),i=(0,d.Ay)(I=>{var D,P,L;const k=(0,o.ZT)(I),G=(D=I.activityIA4)===null||D===void 0?void 0:D.all;return((I==null||(P=I.activityIA4)===null||P===void 0?void 0:P.selectedTabId)===t.L.All||!(!(I==null||(L=I.activityIA4)===null||L===void 0)&&L.selectedTabId))&&(G!=null&&G.length)&&(0,s.c)(t.L.All,!1).maybeRefetch(k,t.N),I&&I.activityIA4&&G});i.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:I=>{var D,P,L;const k=(0,o.ZT)(I),G=(D=I.activityIA4)===null||D===void 0?void 0:D.all;return((I==null||(P=I.activityIA4)===null||P===void 0?void 0:P.selectedTabId)===t.L.All||!(!(I==null||(L=I.activityIA4)===null||L===void 0)&&L.selectedTabId))&&(G!=null&&G.length)&&(0,s.c)(t.L.All,!1).maybeRefetch(k,t.N),I&&I.activityIA4&&G}};const m=(0,d.Ay)(I=>{var D,P;const L=(0,o.ZT)(I),k=a(t.L.All,I);if(((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.All||!(!(I==null||(P=I.activityIA4)===null||P===void 0)&&P.selectedTabId))&&(k!=null&&k.length)){var G;(0,s.c)(t.L.All,(G=I.activityIA4)===null||G===void 0?void 0:G.filterUnreads).maybeRefetch(L,t.N)}return I&&I.activityIA4&&k});m.meta={name:"createSelector",key:"createSelectorgetActivityList",description:I=>{var D,P;const L=(0,o.ZT)(I),k=a(t.L.All,I);if(((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.All||!(!(I==null||(P=I.activityIA4)===null||P===void 0)&&P.selectedTabId))&&(k!=null&&k.length)){var G;(0,s.c)(t.L.All,(G=I.activityIA4)===null||G===void 0?void 0:G.filterUnreads).maybeRefetch(L,t.N)}return I&&I.activityIA4&&k}};const l=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Mentions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Mentions&&L.length){var k;(0,s.c)(t.L.Mentions,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});l.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Mentions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Mentions&&L.length){var k;(0,s.c)(t.L.Mentions,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const _=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Replies,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Replies&&L.length){var k;(0,s.c)(t.L.Replies,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});_.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Replies,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Replies&&L.length){var k;(0,s.c)(t.L.Replies,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const v=(0,d.Ay)(I=>{var D,P,L;const k=(0,o.ZT)(I),G=a(t.L.Reactions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Reactions&&(!(I==null||(P=I.activityIA4)===null||P===void 0||(L=P.reactions)===null||L===void 0)&&L.length)){var b;(0,s.c)(t.L.Reactions,(b=I.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(k,t.N)}return I&&I.activityIA4&&G});v.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:I=>{var D,P,L;const k=(0,o.ZT)(I),G=a(t.L.Reactions,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Reactions&&(!(I==null||(P=I.activityIA4)===null||P===void 0||(L=P.reactions)===null||L===void 0)&&L.length)){var b;(0,s.c)(t.L.Reactions,(b=I.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(k,t.N)}return I&&I.activityIA4&&G}};const u=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I);if(!(I==null||(D=I.activityIA4)===null||D===void 0)&&D.filterUnreads){var L;(0,s.c)(t.L.Unreads,(L=I.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&I.activityIA4.unreads});u.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:I=>{var D;const P=(0,o.ZT)(I);if(!(I==null||(D=I.activityIA4)===null||D===void 0)&&D.filterUnreads){var L;(0,s.c)(t.L.Unreads,(L=I.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&I.activityIA4.unreads}};const h=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Apps,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Apps&&L.length){var k;(0,s.c)(t.L.Apps,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});h.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Apps,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Apps&&L.length){var k;(0,s.c)(t.L.Apps,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const f=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Channels,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Channels&&L.length){var k;(0,s.c)(t.L.Channels,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});f.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Channels,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Channels&&L.length){var k;(0,s.c)(t.L.Channels,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const p=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Priority,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Priority&&L.length){var k;(0,s.c)(t.L.Priority,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});p.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Priority,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Priority&&L.length){var k;(0,s.c)(t.L.Priority,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const E=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Vip,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Vip&&L.length){var k;(0,s.c)(t.L.Vip,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});E.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Vip,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Vip&&L.length){var k;(0,s.c)(t.L.Vip,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const g=(0,d.Ay)(I=>I&&I.activityIA4&&I.activityIA4.unreadVip);g.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:I=>I&&I.activityIA4&&I.activityIA4.unreadVip};const A=(0,d.Ay)(I=>I&&I.activityIA4&&I.activityIA4.unreadOther);A.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:I=>I&&I.activityIA4&&I.activityIA4.unreadOther};const y=(0,d.Ay)(I=>I&&I.activityIA4&&I.activityIA4.other);y.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:I=>I&&I.activityIA4&&I.activityIA4.other};const T=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.EverythingElse,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.EverythingElse&&L.length){var k;(0,s.c)(t.L.EverythingElse,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});T.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.EverythingElse,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.EverythingElse&&L.length){var k;(0,s.c)(t.L.EverythingElse,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const M=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.DMS,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.DMS&&L.length){var k;(0,s.c)(t.L.DMS,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});M.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.DMS,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.DMS&&L.length){var k;(0,s.c)(t.L.DMS,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}};const O=(0,d.Ay)(I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Invitations,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Invitations&&(L!=null&&L.length)){var k;(0,s.c)(t.L.Invitations,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L});O.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:I=>{var D;const P=(0,o.ZT)(I),L=a(t.L.Invitations,I);if((I==null||(D=I.activityIA4)===null||D===void 0?void 0:D.selectedTabId)===t.L.Invitations&&(L!=null&&L.length)){var k;(0,s.c)(t.L.Invitations,(k=I.activityIA4)===null||k===void 0?void 0:k.filterUnreads).maybeRefetch(P,t.N)}return I&&I.activityIA4&&L}}},5921578648:(Q,C,e)=>{"use strict";e.d(C,{S:()=>s});var t=e(5235917009),n=e(7114008777);const s=c(r=>{let{filter:d,isUnreadMode:o,isFilteringRevampToggledOn:a,mode:i}=r;return i==="chrono_priority_only_unreads_v1"?"unreadVip":i==="chrono_priority_everything_else_reads_and_unreads_v1"?"other":i==="chrono_priority_everything_else_unreads_v1"?"unreadOther":d===n.L.Reactions?d:o&&d===n.L.EverythingElse?`unread${d.charAt(0).toUpperCase()+d.slice(1)}`:o&&a?`unread${(0,t.A)(d)}`:!a&&o?"unreads":d},"getFilterForSelectedMode")},7912281988:(Q,C,e)=>{"use strict";e.d(C,{Q:()=>I});var t=e(3290693121),n=e(537208959),s=e(7114008777),r=e(6422693406),d=e(9694536345),o=e(9648131521),a=e(3622175906),i=e(4798756512),m=e(796111729),l=e(3855029223),_=e(6695353875),v=e(9006747218),u=e(4577150972),h=e(5921578648),f=e(6845763719),p=e(5728184452),E=e(1031947056),g=e(8847766420),A=e(3694676182),y=e(1496122061),T=e(6111266013),M=e(3683482182);const O={"action-items":!0},I=(0,E.Ay)("Fetch user activity",function(D,P){let{limit:L,filter:k,mode:G,fetchNew:b,isUnreadMode:W,isInbox:B,types:R}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:s.L.All,isInbox:!1};D((0,v.G3)(!0));const j=P(),w=(0,g.ZT)(j),N=(0,f.F)(j),K=(0,f.S1)(j),J=(0,f.d5)(j),Y=(0,f.hT)(j),q=(0,_.UU)(j),H=(0,_.kz)(j),ne=(0,t.a)(j),te=(0,_.zu)(j),le=(0,n.TF)(j),he=(0,_.Ts)(j),Ie=(0,h.S)({filter:k,isUnreadMode:W!==void 0?W:Y,isFilteringRevampToggledOn:H,mode:G}),Ee=N==null?void 0:N[Ie],me=R||(0,p.TO)(Ie,{experimentBundleAppsActivityWithBEGroupOn:q,experimentIsActivityThreadV2GroupOn:le,experimentIsVipThreadsEnabledGroupOn:he,isInbox:B,mode:G});return O!=null&&O[k]||!b&&!Ee?(D((0,v.G3)(!1)),r.S.resolve()):((0,u.c)(k,Y).markObjectsAsFresh(w,[s.N]),D((0,o.X)({limit:L,reason:"fetchActivityFeed",types:me,mode:G,cursor:b?void 0:Ee})).then(ce=>{var X;if(!ce.items)return;if(D((0,v.bl)({nextCursor:ce==null||(X=ce.response_metadata)===null||X===void 0?void 0:X.next_cursor,items:ce.items,filter:Ie,refreshItems:(ne||te)&&b})),G==="chrono_unreads"){const x=(0,f.cJ)(P()),S=(0,M.xY)(P());ce.items.length!==x&&D((0,d.O)()).then(U=>{D((0,A.Q7)(U));const F=(0,l.E)({state:j}),Z=(0,m.Ay)({getState:P,label:"ACTIVITY_BADGING"});try{const z=F.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:i.tS.ALWAYS},options:{tags:{num_unread_activity_items:ce.items.length,old_activity_badge_count:x,new_channel_badges:JSON.stringify(U.channelBadges),old_channel_badges:JSON.stringify(S)}}});z.close(),F.reportSpans([z]),Z.info(`Activity badge mismatch. number of unread activity.feed items: ${ce.items.length} activityBadgeCount: ${x}: counts.channelBadges: ${JSON.stringify(U==null?void 0:U.channelBadges)} old channelBadges: ${JSON.stringify(S)}`)}catch{}})}const V="slack-connect-fetch-invites-for-activity-feed";b&&!K&&["all","invitations","unreadAll","unreadInvitations"].includes(k)&&ce.items.some(x=>{let{item:S}=x;return p.Oi.includes(S.type)})&&D((0,T.p)({direction:a.D.Incoming,reason:V})).then(()=>D((0,v.xv)(!0))),b&&!J&&["all","invitations","unreadAll","unreadInvitations"].includes(k)&&D((0,y.d)({reason:V})).then(()=>D((0,v.ae)(!0)))}).finally(()=>D((0,v.G3)(!1))))});I.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},5728184452:(Q,C,e)=>{"use strict";e.d(C,{Oi:()=>n,TO:()=>d,b8:()=>o});var t=e(6626377467);const n=["external_channel_invite","shared_workspace_invite","external_dm_invite"],s=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned"],r=["at_user","at_user_group","at_channel","at_everyone","keyword"],d=c((a,i)=>{let{experimentBundleAppsActivityWithBEGroupOn:m,experimentIsActivityThreadV2GroupOn:l,experimentIsVipThreadsEnabledGroupOn:_,isInbox:v,mode:u}=i;const h=m?"bot_dm_bundle":"bot_dm";let f=[l?"thread_v2":"thread_reply","message_reaction","internal_channel_invite","list_record_edited",h,...s,...n];const p=a.toLowerCase();if(!(u==="experimental_all_chrono_unreads_v1"||u==="experimental_all_chrono_reads_and_unreads_v1"||u==="experimental_priority_unreads_v1"||u==="experimental_everything_else_reads_and_unreads_v1"||u==="experimental_everything_else_unreads_v1"))return(u==="chrono_priority_only_reads_and_unreads_v1"||u==="chrono_priority_only_unreads_v1")&&(f=r,_&&(p.includes("vip")||p.includes("all"))&&(f=[...r,"thread_v2"])),p.includes("mentions")&&(f=s),p.includes("apps")&&(f=[h]),p.includes("replies")&&(f=void 0),v&&p.includes("replies")&&(f=[l?"thread_v2":"experimental_thread"]),p.includes("reactions")&&(f=["message_reaction"]),p.includes("unreads")&&(f=[h,l?"thread_v2":"thread_reply","internal_channel_invite",...s,...n]),p.includes("invitations")&&(f=["internal_channel_invite",...n]),v&&p.includes("channels")&&(f=["experimental_channels"]),v&&p.includes("dms")&&(f=["experimental_dms"]),v&&f&&(p.includes("all")||p.includes("unreads"))&&(f.push("experimental_dms"),f.push("experimental_channels")),f},"getActivityTypes"),o=c(a=>{let{items:i}=a;return(0,t.A)(i,m=>{if((m==null?void 0:m.type)==="non_collapsible_header")return`item-by-feed-key-${m==null?void 0:m.key}`;const{messageTs:l,type:_,threadTs:v,channelId:u,invite:h,key:f}=m;return _==="message_reaction"?`reaction-${l}`:_==="thread_reply"||_==="experimental_thread"||_==="thread_v2"?`thread-${v}`:_==="external_channel_invite"?`external-channel-invite-${h}`:_==="external_dm_invite"?`external-dm-invite-${h}`:_==="shared_workspace_invite"?`shared-workspace-invite-${h}`:_==="im"?`im${u}`:_==="experimental_dms"?`im${u}`:_==="experimental_channels"?`im${u}`:f!==void 0?`item-by-feed-key-${f}`:`mention-${l}`})},"getUniqueActivityItems")},4919185865:(Q,C,e)=>{"use strict";e.d(C,{A:()=>Sl});var t=e(1416482128),n=e(7763652800),s=e(796111729),r=e(4423055085),d=e(4724591729),o=e(8520727613),a=e(2791814261),i=e(1535672935),m=e(1031947056),l=e(6776011876),_=e(6533394955);const v=(0,m.Ay)("maybeDisableDebugger side effect handler",()=>{if((0,d.Yj)()||(0,d.Cu)()||(0,d.$i)())return;const Pe=(0,_.getStateForClientStore)();if((0,a.c)()&&!(0,o.A)(Pe,"disable_tinyspeck_slackdebug_enforcement","treatment")){(0,r.Jb)();return}(0,r.CP)()||(0,r.YF)()});v.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const u=(0,l.kt)([i.setDidBootAllWorkspaces],v);var h=e(3571452446),f=e(3245843483),p;(function(Pe){Pe.DOGFOOD="dogfood",Pe.BETA="beta",Pe.PROD="prod"})(p||(p={}));var E;(function(Pe){Pe.BETA="beta",Pe.PROD="prod"})(E||(E={}));const g=c(Pe=>Pe!==p.PROD,"isPreRelease");var A;(function(Pe){Pe.NIGHTLY="nightly",Pe.ALPHA="alpha",Pe.ETA="eta",Pe.PILOT="pilot",Pe.BETA="beta",Pe.PROD="prod"})(A||(A={}));var y;(function(Pe){Pe.BETA="beta",Pe.PROD="prod"})(y||(y={}));const T=[A.ALPHA,A.ETA,A.BETA,A.PILOT,A.PROD],M=c(Pe=>Pe!==A.PROD,"release_channels_4_31_0_isPreRelease");var O=e(1583163054),I=e(571104883),D=e(4096483543),P=e(9012396182),L=e(3677514771);const k=(0,m.Ay)("maybeSetReleaseChannelOverrideHandler",(Pe,Ce,We)=>{!(0,I.y3)()||!(0,f.g9M)()||W(Ce)});k.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const G=(0,l.kt)([i.setDidBootAllWorkspaces],k),b="nightly-promotion-state";function W(Pe){const Ce=(0,f.oQe)("environment","releaseChannel"),We=(0,f.oQe)("settings","releaseChannelOverride");let Ve=We;if(!Ve&&(Ce==="beta"||Ce==="alpha")&&(Ve=Ce),Ve==="eta"&&(Ve=p.BETA),(0,D.A)()&&(0,I.dY)("4.31.150")){const ft=Pe();if((0,o.A)(ft,"ssb_dogfood_automatic_promotion","on")&&(0,a.c)()&&Ve!==O.zS)try{window.localStorage.getItem(b)!=="2"&&(Ve=O.zS,window.localStorage.setItem(b,"1"))}catch{}Ve==="alpha"&&(Ve=p.BETA)}Ve!==We&&((0,f.cGU)({name:"releaseChannelOverride",value:Ve}),f.NjF.cache&&f.NjF.cache.clear())}c(W,"maybeSetReleaseChannelOverride");const B=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],R=(0,m.Ay)("Sync workspaces state with desktop",(Pe,Ce)=>{if(!(0,I.y3)())return;const We=Ce(),Ve=(0,P.getBootedWorkspaces)(We),ft=(0,P.getAllWorkspaces)(We);var rt;const Kt=(rt=(0,P.getWorkspacesMeta)(We))!==null&&rt!==void 0?rt:{},mt=Ve==null?void 0:Ve.reduce((_n,Fn)=>{const ns=(0,_.getStateByTeamId)(Fn),fn={...(0,L._J)(ns,Fn,!1),...Kt==null?void 0:Kt[Fn]};return _n[Fn]={...(0,h.A)(fn,B),order:ft.indexOf(Fn)},_n},{});(0,f.CIW)(mt)});R.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const j=(0,m.Ay)("Sync workspaces state with desktop when a new team has booted",(Pe,Ce)=>{if(!(0,I.y3)())return;const We=Ce();(0,P.didBootAllWorkspaces)(We)&&Pe(R())});j.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const w=(0,l.kt)([i.setDidBootAllWorkspaces,i.setWorkspaceOrder],R),N=(0,l.kt)([i.setWorkspaceBooted],j);var K=e(4932704503),J=e(1378315125);const Y="DESKTOP-SIDE-EFFECT",q=(0,m.Ay)("logUpdateFromDesktop",(Pe,Ce,We)=>{(0,s.Wo)().info(Y,"Update from desktop for keys ",Object.keys(We.payload))});q.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const H=(0,l.kt)([J.Ez],q),ne=(0,m.Ay)("maybeHandleWindowFocusEvent",(Pe,Ce,We)=>{(0,D.A)()&&We.payload&&We.payload.windows&&Pe((0,K.pz)({isFocused:document.hasFocus()}))});ne.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const te=(0,l.kt)([J.Ez],ne);var le=e(3398586081),he=e(8646192222),Ie=e(8439865561),Ee=e(5105455463);(0,le.A)(()=>{if((0,he.Nu)())try{window.matchMedia(Ee.og).onchange=Pe=>{const Ce=(0,_.getClientStoreInstance)();Ce&&Ce.dispatch((0,Ie.N)(Pe.matches))}}catch(Pe){(0,s.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",Pe)}})();const ce=(0,m.Ay)("maybeUpdateShouldUseHighContrastColors",(Pe,Ce,We)=>{if(!(0,he.Nu)()&&(0,he.hk)()){var Ve,ft;const rt=We==null||(Ve=We.payload)===null||Ve===void 0||(ft=Ve.settings)===null||ft===void 0?void 0:ft.shouldUseHighContrastColors;rt!==void 0&&Pe((0,Ie.N)(rt))}});ce.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const X=(0,l.kt)([J.Ez],ce);var V=e(1703559452),x=e(1658558415),S=e(6917917245),U=e(8170643398),F=e(6839188756),Z=e(3270010894),z=e(6449156268),$=e(7002741921),ee=e(8276911661),de=e(9733150292);const ie="workspace_switcher_awareness_v2",ue=(0,le.A)(()=>(0,x.A)()?"treatment":(0,S.B9)(ie)),fe=(0,le.A)(()=>(0,S.fW)(ie)),re=(0,le.A)(()=>ue()===S.dw.Control),_e=(0,le.A)(()=>{const Pe=Object.values((0,_.getStoreInstanceMap)());let Ce=0;return(0,V.A)(Pe,We=>{if(!We)return!1;const Ve=We.getState();return(0,F.qR)((0,L.H7)(Ve))&&(Ce+=1),Ce>1})}),Ue=(0,le.A)(()=>{const Pe=Object.values((0,_.getStoreInstanceMap)());let Ce=0,We=0;return(0,V.A)(Pe,Ve=>{if(!Ve)return!1;const ft=Ve.getState(),rt=(0,ee.cA)(ft),Kt=(0,U.yF)(rt),mt=Kt&&(0,Z.KR)((0,z.A)().toDate(),z.A.unix(Kt).toDate());return mt&&mt>30&&(We+=1),(0,F.qR)((0,L.H7)(ft))&&(Ce+=1),Ce>1&&We>0})}),ye=c(()=>{(0,de.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),Te=c(()=>(0,de.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),ge=c(Pe=>{let{toggleName:Ce,toggleGroup:We}=Pe;return(0,$.A)(Ce,We,!1)&&!_e()},"isEligibleForWorkspaceSwitcherAwarenessV2"),Ae=c(()=>fe()||Ue(),"isEligibleForWorkspaceSwitcherAwareness"),Re=c(()=>{Te()&&(0,de.q9)("hasSeenWorkspaceSwitcherAwareness",!1)},"workspaceSwitcherAwarenessCleanupCallback");var Be=e(4766735965),ke=e(6290537170);const se=(0,m.Ay)("Opens workspace switcher if the user is part of experiment",(Pe,Ce)=>{const We=Ce();(0,I.y3)()&&!Te()&&!(0,ke.v8)(We)&&Ae()&&(Pe((0,Be.A)()),ye())});se.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const ve=(0,l.kt)([i.setDidBootAllWorkspaces],se);var Me=e(6766954308),be=e(2633701976),xe=e(2047021170);const Le=(0,m.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(Pe,Ce)=>{var We;const Ve=Ce(),ft=(0,P.getFocusedWorkspace)(Ve),rt=(0,_.getStoreInstanceByTeamId)(ft),Kt=rt==null||(We=rt.getState)===null||We===void 0?void 0:We.call(rt);if(!Kt||(0,Me.gR)(Ve)!==void 0)return;const _n=(0,xe.ty)(Kt,"a11y_read_out_incoming_dm");if(_n!==void 0){Pe((0,be.p)(_n));return}Pe((0,be.p)(!0))});Le.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const Ke=(0,l.kt)([i.setDidBootAllWorkspaces],Le);var He=e(2517531287);const Ye=(0,m.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(Pe,Ce)=>{var We;const Ve=Ce(),ft=(0,P.getFocusedWorkspace)(Ve),rt=(0,_.getStoreInstanceByTeamId)(ft),Kt=rt==null||(We=rt.getState)===null||We===void 0?void 0:We.call(rt);if(!Kt)return;if((0,Me.u$)(Ve)===""){const Fn=(0,xe.ty)(Kt,"a11y_play_sound_for_incoming_dm_choice"),ns=Fn??"";Pe((0,He.R)(ns))}if((0,Me.kd)(Ve)===""){const Fn=(0,xe.ty)(Kt,"a11y_play_sound_for_sent_dm_choice"),ns=Fn??"";Pe((0,He.r)(ns))}});Ye.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const Xe=(0,l.kt)([i.setDidBootAllWorkspaces],Ye);var et=e(6422693406),st=e(3297051565),ot=e.n(st),ct=e(9113979368),at=e(5257368278),At=e(1269227002),Ct=e(8161242485);const Tt=(0,Ct.Ay)(Pe=>Pe&&Pe.persistedApiCalls);Tt.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:Pe=>Pe&&Pe.persistedApiCalls};var Rt=e(4294892493),It=e(1874577777);const Mt="OFFLINE",nn=(0,at.A)("Replay persisted API calls",function(Pe,Ce){let We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tt(Ce());const Ve=Ce();if(!(0,It.A)(Ve)||(0,ct.A)(We))return;const ft=(0,s.Ay)({state:Ve});ft.info(Mt,"replayPersistedApiCalls called after workspace booted");const rt=Object.keys(We).sort().map(Kt=>We[Kt]);et.K.each(rt,Kt=>Pe((0,At.apiCall)(Kt)).catch(mt=>{ft.error(Mt,`Error replaying ${Kt.method} (${Kt.persistKey})`,mt)}).finally(()=>{ft.info(Mt,`Clearing persisted payload for ${Kt.method} (${Kt.persistKey})`),Pe((0,Rt.M)(Kt.persistKey))}))});nn.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},nn.propTypes=ot().object;const Ot=(0,m.Ay)("triggerReplayPersistedApiCalls",(Pe,Ce,We)=>{const Ve=We.payload;(0,_.dispatchForTeamId)(Ve,nn())});Ot.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const bt=(0,l.kt)([i.setWorkspaceBooted],Ot);var Jt=e(859310680),en=e(3855029223),sn=e(2872463257);const zt=(0,m.Ay)("recordExperimentGroupsAsTrace side effect handler",(Pe,Ce,We)=>{const Ve=(0,_.getStateForClientStore)(),ft=(0,P.getBootedWorkspaces)(Ve)||[];try{const rt=sn.nl.ALWAYS;ft.forEach(Kt=>{const mt=(0,_.getStateByTeamId)(Kt),_n=(0,Jt.xy)(mt),Fn=JSON.stringify(_n),ns=(0,en.E)({state:mt}),Cs=ns.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:Fn}},samplingOptions:{sampleType:rt}});Cs.close(),ns.reportSpans([Cs])})}catch(rt){(0,s.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",rt)}});zt.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const Yt=(0,l.kt)([i.setDidBootAllWorkspaces],zt);var hn=e(5613323535);const Qe=(0,m.Ay)("setAutoTracerTagProvider side effect handler",(Pe,Ce,We)=>{hn.LI.isEnabled()&&hn.LI.setTagProvider(Ve=>Ve?(0,Jt.go)(Ve):{})});Qe.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const Wt=(0,l.kt)([i.setDidBootAllWorkspaces],Qe);var gn=e(3317091632),rn=e(2763437247),ut=e(6244014364),Pt=e(56548687),Bt=e(268083624),Ft=e(5795074931);const un=(0,m.Ay)("Clog experiment related meta data for session toggles",(Pe,Ce,We)=>{let{experimentNames:Ve}=We;const ft=(0,Bt.v8)(Bt.i$),rt=(0,f.sST)(),Kt=(0,_.getClientStoreInstance)(),mt=(0,P.getFocusedWorkspace)(Kt.getState()),_n=(0,P.getBootedWorkspaces)(Kt.getState()),Fn=_n.join(","),ns=_n.map(Cs=>{var fn;const Rn=(fn=(0,_.getStoreInstanceByTeamId)(Cs))===null||fn===void 0?void 0:fn.getState();return(0,Ft.WR)(Rn)}).join(",");Ve.forEach(Cs=>{const fn=(0,S.B9)(Cs);if(fn===rn.dw.Control||fn===rn.dw.Treatment||fn===rn.dw.On){var Rn;(0,Pt.e)({getState:(Rn=(0,_.getStoreInstanceByTeamId)(mt))===null||Rn===void 0?void 0:Rn.getState}).track(ut.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:Cs,experimentGroup:fn,teamIds:Fn,userIds:ns,visitorCookie:ft,clientId:rt}})}})});un.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var Sn=e(306687250),Un=e(5320724941),Cn=e(9681594967),Ln=e(2325478352),yn=e(9272190578),Xt=e(6209625934),nt=e(4761125736);function pt(Pe,Ce){const We=Object.values((0,_.getStoreInstanceMap)());for(const Ve of We){if(!Ve)continue;const ft=Ve.getState(),rt=(0,nt.KK)(ft,Pe);rt&&rt.log_exposures&&Ce===rt.group&&(0,Xt.K)(Pe,rt,ft)}}c(pt,"logExposuresForSession");function Dt(Pe,Ce){if((0,rn.SC)(Pe),Ce)try{Ce()}catch(We){(0,s.Wo)().error(`caught error from cleanupCallback: ${We}`)}}c(Dt,"rollbackToggle");function Qt(Pe){let{toggleName:Ce,toggleGroup:We}=Pe;return(0,$.A)(Ce,We,!1)}c(Qt,"defaultToggleGroupMatcher");function tn(Pe,Ce){var We;const Ve=(We=Ce==null?void 0:Ce.customToggleGroupMatcher)!==null&&We!==void 0?We:Qt,ft=(0,rn.M_)(Pe),rt=an(Pe,ft,Ve);if(ft===null&&rt!==rn.dw.NoGroup){(0,rn.jc)(Pe,rt);return}rt===rn.dw.NoGroup?ft===rn.dw.Treatment||ft===rn.dw.On?(Dt(Pe,Ce==null?void 0:Ce.cleanupCallback),(0,yn.As)({reason:`Rolling back ${Pe} toggle`,reasonKey:`rollback_${Pe}_toggle`})):(ft===rn.dw.Control||ft===rn.dw.Off)&&Dt(Pe,Ce==null?void 0:Ce.cleanupCallback):rt!==ft?(0,rn.jc)(Pe,rt):rt===ft&&pt(Pe,ft)}c(tn,"setToggleGroupForNextSession");function an(Pe,Ce,We){const Ve=We({toggleName:Pe,toggleGroup:rn.dw.Treatment}),ft=We({toggleName:Pe,toggleGroup:rn.dw.Control}),rt=We({toggleName:Pe,toggleGroup:rn.dw.On}),Kt=We({toggleName:Pe,toggleGroup:rn.dw.Off});return Ve&&ft?Ce===rn.dw.Treatment?rn.dw.Treatment:Ce===rn.dw.Control?rn.dw.Control:Math.random()<.5?rn.dw.Treatment:rn.dw.Control:rt&&Kt?Ce===rn.dw.On?rn.dw.On:Ce===rn.dw.Off?rn.dw.Off:Math.random()<.5?rn.dw.On:rn.dw.Off:Ve?rn.dw.Treatment:ft?rn.dw.Control:rt?rn.dw.On:Kt?rn.dw.Off:rn.dw.NoGroup}c(an,"getCurrentToggleGroup");const ht={getCurrentToggleGroup:an};(0,r.ul)("setToggleGroupForNextSession",Pe=>tn(Pe));var yt=e(6695353875),Ut=e(2371143272);const Gt=c(()=>{try{Cn.qV.deleteDatabase()}catch(Pe){Cn.qV.getLogger().error(`caught error from deleteDatabase: ${Pe}`)}},"objectStoreCallback"),mn={[Ln.Wv]:{cleanupCallback:Gt},[Un.f]:{},[Sn.z]:{},[gn.n]:{},[Ut.i]:{},[yt.q$]:{},[ie]:{cleanupCallback:Re,customToggleGroupMatcher:ge}},Oe=(0,m.Ay)("setToggleGroupsForNextSession",(Pe,Ce,We)=>{Pe(un({experimentNames:Object.keys(mn)})),Object.entries(mn).forEach(Ve=>{let[ft,rt]=Ve;tn(ft,rt)})});Oe.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const we=(0,l.kt)([i.setDidBootAllWorkspaces],Oe);var Fe=e(4250409994),qe=e(2766373332);const ze=(0,m.Ay)("maybeToggleGlobalMuteShortcutHandler",(Pe,Ce,We)=>(0,qe.N$)(We.payload));ze.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const Ge=(0,l.kt)([Fe.Bk],ze);var Ze=e(8365110903),_t=e(25586007);const Et=(0,m.Ay)("Transition the up_to_browse_kb_shortcut user pref to the new client pref",(Pe,Ce)=>{var We;const Ve=Ce(),ft=(0,P.getFocusedWorkspace)(Ve),rt=(0,_.getStoreInstanceByTeamId)(ft),Kt=rt==null||(We=rt.getState)===null||We===void 0?void 0:We.call(rt);if(!Kt||(0,Me.jX)(Ve)!==void 0)return;const _n=(0,xe.ty)(Kt,"up_to_browse_kb_shortcut"),{LIST:Fn,EDIT:ns}=_t.v,Cs=_n?Fn:ns;Pe((0,Ze.T)(Cs))});Et.meta={name:"createThunk",key:"createThunkmaybeTransitionUpToBrowsePreference",description:"Transition the up_to_browse_kb_shortcut user pref to the new client pref"};const je=(0,l.kt)([i.setWorkspaceBooted],Et),oe=(0,m.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(Pe,Ce,We)=>{const Ve=(0,s.Wo)({label:de.o7}),ft=(0,_.getStateForClientStore)(),rt=(0,P.getAllWorkspaces)(ft);(!rt||rt.length===0)&&Ve.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),Ve.info(`Updating orderedTeamIds to ${rt.join(",")}`),(0,de.q9)("orderedTeamIds",rt)});oe.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const pe=(0,l.kt)([i.addWorkspace],oe);var Se=e(2250002584);const Ne=(0,m.Ay)("recordWssRailVisibility side effect handler",(Pe,Ce)=>{const We=(0,Se.F)(),Ve=Ce(),ft=(0,ke.v8)(Ve)?1:0,rt=We.createMetricsTrace({samplingOptions:{sampleType:sn.nl.SESSION}});rt.store({name:"wss_rail:visible",value:ft}),We.reportTrace(rt)});Ne.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const lt=(0,l.kt)([i.setDidBootAllWorkspaces],Ne);var dt=e(3875705815),it=e(4134037340),kt=e(2413251042),$t=e(6303140164);const ln=(0,m.Ay)("Set zoom value for client before starting BBM",(Pe,Ce,We)=>{const{error:Ve}=(0,s.Wo)();(0,it.A)(Ce())||Ve(new Error("you must call setZoom for a client store"));try{(0,de.q9)($t.UY,We)}catch(ft){Ve(new Error(`failed to store zoom in local storage: ${ft}`))}Pe((0,kt.x8)(We))});ln.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};var An=e(6696292586);function In(){let Pe;return Ce=>Ce===Pe?!1:(Pe=Ce,!0)}c(In,"getDidUpdate");const Nn=In(),kn=(0,m.Ay)("updateFromDesktop side effect handler",(Pe,Ce,We)=>{var Ve;const ft=Ce(),rt=P.getFocusedWorkspace===null||P.getFocusedWorkspace===void 0?void 0:(0,P.getFocusedWorkspace)(ft);if(!rt)return;const Kt=(0,_.getStateByTeamId)(rt);if((0,dt.V)(Kt))return;const mt=(Ve=We.payload.settings)===null||Ve===void 0?void 0:Ve.zoomLevel;(0,An.A)(mt)&&Nn(mt)&&(0,_.dispatchForClientStore)(ln(mt))});kn.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const Zn=(0,l.kt)([J.Ez],kn),_s=[u,H,te,bt,Wt,X,we,w,N,Yt,Ge,G,je,Xe,Ke,lt,pe,Zn,ve];var Ts=e(4900557724);const Ms=50,ls="recents";var Qn=e(8628205589),ae=e(2384831516);let De;function $e(Pe){De&&(0,Ts.GP)(De),De=(0,Ts.BB)(()=>{De=void 0,(0,de.q9)(ls,Pe)})}c($e,"persistRecents");function St(){var Pe;return(Pe=(0,de.W6)(ls))!==null&&Pe!==void 0?Pe:[]}c(St,"loadRecents");const Mn=St(),wn=(0,ae.vy)({},Mn,{persistenceEnabled:!1,storeKey:"recents"}).on(Qn.y2,(Pe,Ce)=>{let{entry:We}=Ce;const Ve=[We,...Pe].slice(0,Ms);return $e(Ve),Ve}).on(Qn.HQ,(Pe,Ce)=>{let{entry:We}=Ce;const Ve=[We,...Pe.slice(1)].slice(0,Ms);return $e(Ve),Ve}).on(Qn.TP,Pe=>{const Ce=Pe.slice(0,1);return $e(Ce),Ce});var cn=e(3193155968),qn=e(9936094925);const ms={[cn.N2]:{index:0,previousIndex:null,stack:[]}},As={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Rs=(0,ae.vy)({},ms,As).on(Qn.y2,(Pe,Ce)=>{let{windowId:We,entry:Ve}=Ce;return{...Pe,[We]:(0,qn.wg)({windowState:Pe[We],entry:Ve})}}).on(Qn.jW,()=>ms).on(Qn.cM,(Pe,Ce)=>{let{windowId:We,index:Ve,previousIndex:ft}=Ce;return{...Pe,[We]:(0,qn.ds)({windowState:Pe[We],index:Ve,previousIndex:ft})}}).on(Qn.$E,(Pe,Ce)=>{let{windowId:We,index:Ve}=Ce;return{...Pe,[We]:(0,qn.cB)({windowState:Pe[We],index:Ve})}}).on(Qn.HQ,(Pe,Ce)=>{let{windowId:We,entry:Ve}=Ce;return{...Pe,[We]:(0,qn.w9)({windowState:Pe[We],entry:Ve})}});(0,r.ul)("mainWindowHistory",{getState:()=>(0,_.getStateForClientStore)().mainWindowHistory[cn.N2]});var gs=e(7715417323);function Ls(){let{state:Pe,prevState:Ce,workspaces:We=[],broadcastSelector:Ve=gs.A,broadcastAction:ft=gs.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const rt=Ve(Pe),Kt=Ve(Ce);rt!==Kt&&We.forEach(mt=>{(0,_.dispatchForTeamId)(mt,ft(rt))})}c(Ls,"maybeBroadcastStateToWorkspaces");const dn=Ls;var tt=e(1527536225);const Je=(0,tt.Ay)("Broadcast accessibility state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.VH)(mt),broadcastAction:mt=>(0,Ie.Jq)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.nQ)(mt),broadcastAction:mt=>(0,Ie.N)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.dF)(mt),broadcastAction:mt=>(0,Ie.KQ)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.jX)(mt),broadcastAction:mt=>(0,Ie.Tv)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.gb)(mt),broadcastAction:mt=>(0,Ie.C_)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.zm)(mt),broadcastAction:mt=>(0,Ie.XE)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.K9)(mt),broadcastAction:mt=>(0,Ie.Mq)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.u$)(mt),broadcastAction:mt=>(0,Ie.Sr)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.kd)(mt),broadcastAction:mt=>(0,Ie.mw)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.gR)(mt),broadcastAction:mt=>(0,Ie.Ap)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Me.u)(mt),broadcastAction:mt=>(0,Ie.V_)(mt)}),ft});Je.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const Vt=Je;var vt=e(1004520977),xt=e(9234290540);const wt=(0,tt.Ay)("Broadcast accessibility persistent state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,xt.i)(mt),broadcastAction:mt=>(0,vt.w)(mt)}),ft});wt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const Ht=wt;var Zt=e(3749529250);const vn=(0,tt.Ay)("Broadcast big button mode state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt).filter(mt=>(0,he.mL)((0,_.getStateByTeamId)(mt)));return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,dt.V)(mt),broadcastAction:mt=>mt?(0,Zt.z)():(0,Zt.K)()}),ft});vn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var On=e(2456103428),En=e(6728717861);const on=(0,tt.Ay)("Broadcast connectivity state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,En.Pb)(mt),broadcastAction:mt=>(0,On.p9)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,En.XQ)(mt),broadcastAction:mt=>(0,On.pm)(mt)}),ft});on.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const Tn=on;var jn=e(848813706),Wn=e(5223893135),Bn=e(5095654950);const Hn=(0,tt.Ay)("Broadcast fullscreen state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt).filter(mt=>(0,he.iB)((0,_.getStateByTeamId)(mt)));return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Wn.V)(mt),broadcastAction:mt=>mt?(0,Bn.J)():(0,jn.sM)()}),ft});Hn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var bn=e(4309043566);const pn=(0,ae.Ny)("Broadcasts overlays state from client store to workspace stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>mt.overlays,broadcastAction:bn.l}),ft});pn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var ss=e(9083290776);const Xn=(0,tt.Ay)("Broadcast workspaces state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt),mt=Ve&&(0,P.getBootedWorkspaces)(Ve),_n=(0,P.getAllWorkspaces)(rt),Fn=(0,P.getAllWorkspaces)(Ve),ns=!Fn||_n.some((Rn,Kn)=>Rn!==Fn[Kn]),Cs=(0,P.getRecentlyFocusedWorkspaces)(rt),fn=Ve&&(0,P.getRecentlyFocusedWorkspaces)(Ve);return(mt!==Kt||ns||fn!==Cs)&&is(Kt,Cs),ft});Xn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function is(Pe,Ce){const We=Ce[0];We&&(Pe==null||Pe.forEach(Ve=>{(0,_.dispatchForTeamId)(Ve,(0,ss.K$)(Ce)),(0,_.dispatchForTeamId)(Ve,(0,ss.fw)(Ce))}),(0,f.ny2)(We))}c(is,"broadcastFocusedWorkspaces");const es=Xn;var vs=e(252549317),as=e(9042410435),Yn=e(8736071954),hs=e(1930424451),rs=e(5470425448),cs=e(5071086688),Is=e(6117529990);function Us(Pe){switch((0,nt._Z)(Pe,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}c(Us,"getAllowedTurnTransportTypes");var os=e(5332875232);function bs(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}c(bs,"isHuddlesBackgroundWorkerSupported");const Ps=(0,s.Wo)({label:"HUDDLE-INIT-OPTIONS"}),ws=c((Pe,Ce)=>{let{server:We,isPrejoin:Ve}=Ce;if(!Pe){Ps.error("teamState is not defined. Returning empty init options");return}const ft={};return ft.serverConfig={...We,transportProtocols:Us(Pe)},ft.isPrejoin=Ve,ft.useChimeSdkExp=(0,Is.OV)(Pe),ft.useDevicesExp=(0,os.ZI)(Pe),ft.useVideoUplinkPolicy=(0,os.Jf)(Pe),ft.useH264BaselineScreenshare=(0,Is.OV)(Pe)&&(0,os.RM)(Pe),ft.useH264Baseline=(0,Is.OV)(Pe)&&(0,os.er)(Pe),ft.useAv1Screenshare=(0,os.Cu)(Pe),ft.huddlesJukeboxEnabled=(0,os.lV)(Pe),ft.disableAudioRedundancy=(0,os.JQ)(Pe),ft.useSimulcast=!1,ft.usePriorityDownlinkPolicy=(0,I.gm)()?!1:(0,os.bw)(Pe),ft.useGetMediaAccessCheckForWindows=(0,os.jP)(Pe),ft.enableExperimentalConnectionHealthPolicyConfig=(0,os.bb)(Pe),ft.disableVp9=(0,os.lH)(Pe),ft.useHuddlesFilterWorker=bs()&&(0,os.lz)(Pe),Ps.info("returning init options: ",ft),ft},"getSdkInitOptions");var gt=e(6246464105),Lt=e(8872167513),Nt=e(2709531527),qt=e(164795489),Dn=e(3300324857),Vn=e(4708000837),xn=e(1371073900),zn=e(2457673737),Jn=e(6664301844),us=e(6310192986),Bs=e(7366481123),js=e(5253428843),Gn=e(3065433701),ro=e(5378147939);const Zo=(0,m.Ay)("Resolve a pending huddle",(Pe,Ce,We)=>(0,ro.A)().resolvePendingJoin(We));Zo.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const ta=Zo;var no=e(2778217221),na=e(6694086724),ps=e(5286203919),sa=e(9548972574),oa=e(3474336343),ra=e(3263322402),qo=e(3977512448);const Ro=(0,m.Ay)("update client huddle membership timers join",(Pe,Ce)=>{const We=Ce(),Ve=(0,s.Ay)({state:We}),ft=(0,_.getStateForClientStore)(),rt=(0,ps.Ak)(ft),Kt=(0,oa.Wg)(We,{tip:qo.ml.Huddles});if(!rt){Ve.warn(no.o7,"no active huddle found, cannot update state to together or alone");return}const mt=(0,sa.Sx)(We);if(mt===0){(0,ro.A)().setAloneInHuddle();return}mt>0&&(Kt&&Pe((0,ra._A)(!0)),(0,ro.A)().setOthersInHuddle(),Pe((0,na.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});Ro.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var Lo=e(9706240641),ts=e(3134334389),aa=e(4332857818),ia=e(862210999),la=e(8645544190),ca=e(8921478798),er=e(1641606663),Eo=e(735940183),da=e(8847766420),$n=e(387328355),so=e(6839101721),ua=e(5323669031),go=e(2825968873),_a=e(3094144240),ma=e(9477894139),ko=e(2562405183),bo=e(9391594207),Js=e(5255740490),ha=e(3534324375),tr=e(8869734951);let nr=c(class extends ts.PureComponent{static getDerivedStateFromProps(Ce,We){return Ce.mediaStream!==We.currentMediaStream?Ce.mediaStream&&We.currentMediaStream&&Ce.mediaStream.id===We.currentMediaStream.id?{currentMediaStream:Ce.mediaStream,isFlipped:Ce.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:Ce.mediaStream?We.currentMediaStream:void 0,currentMediaStream:Ce.mediaStream,isFlipped:Ce.isFlipped,wasFlipped:We.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const Ce=this.videoRef.current,We=this.prevVideoRef.current;Ce&&(Ce.removeEventListener("canplay",this.onCanPlay),Ce.removeEventListener("pause",this.onPause),Ce.removeEventListener("resize",this.onResize)),We&&(We.removeEventListener("canplay",this.onCanPlay),We.removeEventListener("pause",this.onPause),We.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:Ce}=this.state,We=Ce&&Ce.getVideoTracks()[0];this.isDataStopped&&We&&We.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(Ce){this.state.currentMediaStream&&Ce.target.srcObject instanceof MediaStream&&Ce.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:Ce,prevMediaStream:We}=this.state,Ve=this.videoRef.current,ft=this.prevVideoRef.current;Ve&&(Ve.muted=!0,Ve.srcObject!==Ce&&(Ve.addEventListener("canplay",this.onCanPlay),Ve.addEventListener("pause",this.onPause),Ve.addEventListener("resize",this.onResize),Ve.srcObject=Ce||null)),ft&&(ft.muted=!0,ft.srcObject!==We&&(ft.removeEventListener("canplay",this.onCanPlay),ft.removeEventListener("pause",this.onPause),ft.removeEventListener("resize",this.onResize),ft.srcObject=We||null))}onResize(){const Ce=this.videoRef.current;Ce&&(this.props.isSharingScreen?Ce.style.objectFit="contain":Ce.style.objectFit=Ce.videoWidth>Ce.videoHeight?"cover":"contain")}render(){const{className:Ce,isFlipped:We,refToForward:Ve}=this.props,{currentMediaStream:ft,prevMediaStream:rt,isCurrentMediaStreamReady:Kt,wasFlipped:mt}=this.state;return ts.createElement(ts.Fragment,null,!Kt&&rt&&ts.createElement("video",{key:rt&&rt.id,className:(0,Js.A)("p-calls_video",Ce,{flipped:mt}),ref:this.prevVideoRef,autoPlay:!0}),ts.createElement("video",{className:(0,Js.A)("p-calls_video",Ce,{flipped:We,hidden:!Kt}),ref:(0,tr.P)(this.videoRef,Ve),autoPlay:!0,key:ft&&ft.id}))}constructor(Ce){super(Ce),this.prevVideoRef=ts.createRef(),this.videoRef=ts.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");nr.displayName="CallsOriginalVideoElement";function xo(){return xo=Object.assign||function(Pe){for(var Ce=1;Ce<arguments.length;Ce++){var We=arguments[Ce];for(var Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&(Pe[Ve]=We[Ve])}return Pe},xo.apply(this,arguments)}c(xo,"_extends");const fa=c((Pe,Ce)=>{const We=(0,$n.JZ)(Pe,Ce.id);return{mediaStream:We.mediaStream,isFlipped:(0,$n.fy)(We)&&!We.isScreenshareEnabled,isSharingScreen:We.isScreenshareEnabled}},"mapStateToProps"),pa=(0,bo.N)(fa)(nr),va=ts.forwardRef((Pe,Ce)=>ts.createElement(pa,xo({},Pe,{refToForward:Ce})));var Ea=e(4775127335),ga=e(6308822),Bo=e(7299481592),Aa=e(5956851410),ya=e(6909784049),Ta=e(8558782493),sr=e(1975685771);function Ca(Pe,Ce){const We=Math.min(Ce.width,Ce.height*Pe),Ve=Math.min(Ce.height,Ce.width/Pe);return{top:Ce.top+(Ce.height-Ve)/2,left:Ce.left+(Ce.width-We)/2,width:We,height:Ve}}c(Ca,"getLargestRectForAspectRatioCenteredWithinRect");let Uo=c(class extends ts.PureComponent{detectDifference(Ce,We){return Math.abs(Ce-We)>1}componentDidMount(){var Ce;(0,go.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,Ta.k)(ut.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(Ce=this.context.windowRef.deref())===null||Ce===void 0||Ce.addEventListener("resize",this.onResize),(0,sr.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(Ce){let{isVideoReady:We}=Ce;!We&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var Ce;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(Ce=this.context.windowRef.deref())===null||Ce===void 0||Ce.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,sr.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const Ce=this.videoRef.current;!Ce||Ce.videoHeight===0||this.setState(()=>({videoRect:Ca(Ce.videoWidth/Ce.videoHeight,Ce.getBoundingClientRect())}))}render(){const Ce=ts.Children.only(this.props.children),We=ts.cloneElement(Ce,{ref:(0,tr.N)(this.videoRef,Ce)});return ts.createElement(ts.Fragment,null,We,this.state.videoRect&&ts.createElement(Aa.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&ts.createElement(ya.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(Ce){super(Ce),this.videoRef=ts.createRef(),this.drawTargetRef=ts.createRef(),this.drawRenderRef=ts.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");Uo.displayName="GuestDraw",Uo.contextType=er.Mn;const Ia=c((Pe,Ce)=>{const We=(0,$n.gl)(Pe);if(!We)throw Error("Guest draw should not be mounted without an active peer");const Ve=(0,$n.JZ)(Pe,We);return{isDrawEnabled:!!Ve.isScreenshareEnabled&&!!Ve.isDrawEnabled,isScreenShareEnabled:!!Ve.isScreenshareEnabled}},"guest_draw_mapStateToProps"),or=(0,bo.N)(Ia)(Uo),Ma={isVideoReady:!1};let rr=c(class extends ts.PureComponent{onVideoReady(Ce){this.setState(We=>({...We,isVideoReady:Ce}))}renderVideo(){const{id:Ce,renderVideo:We,tileId:Ve}=this.props;if(We)return We(this.isVideoEnabledAndReady());if(!Ce){(0,Bo.M)("Cannot render video without a peer id");return}return ts.createElement(or,{isVideoReady:this.state.isVideoReady},ts.createElement(va,{id:Ce,tileId:Ve,onVideoReady:this.onVideoReady,className:(0,Js.A)({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:Ce,prefCompliantUserName:We,member:Ve}=this.props;return ts.createElement("div",{className:(0,Js.A)({hidden:this.state.isVideoReady})},ts.createElement("div",{className:"p-active_speaker__member_image_wrapper"},ts.createElement(Ea.Ay,{className:(0,Js.A)({"p-active_speaker__member_image--spinning":Ce}),size:180,userId:Ve&&Ve.id,isInteractive:!1,tabIndex:-1}),Ce&&ts.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},ts.createElement(ga.A,{color:"white"}))),ts.createElement("div",{className:"p-active_speaker__member_name"},We))}isVideoEnabledAndReady(){const{isVideoEnabled:Ce,isVideoEnabledAndReady:We}=this.props;return We?We(Ce):!!(Ce&&this.state.isVideoReady)}render(){const{isVideoEnabled:Ce}=this.props,We=(0,Js.A)("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return ts.createElement("div",{"data-qa":"active-speaker",className:We},Ce&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(Ce){super(Ce),this.state=Ma,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");rr.displayName="ActiveSpeaker";function Oa(Pe,Ce){const We=(0,ee.nv)(Pe,Ce),Ve=(0,ha.sE)(Pe,We);return{member:We,prefCompliantUserName:Ve}}c(Oa,"mapCommonMemberState");const Da=c((Pe,Ce)=>{const We=(0,$n.JZ)(Pe,Ce.id),Ve=We.isCameraEnabled,ft=We.isScreenshareEnabled,rt=(0,$n.fy)(We)?(0,Ft.WR)(Pe):We.userId;return{tileId:Ce.tileId,isVideoEnabled:Ve||ft,isSpinning:We.isConnected===!1,...Oa(Pe,rt)}},"active_speaker_mapStateToProps"),Pa=(0,bo.N)(Da)(rr);var Sa=e(1429018002);function No(){return No=Object.assign||function(Pe){for(var Ce=1;Ce<arguments.length;Ce++){var We=arguments[Ce];for(var Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&(Pe[Ve]=We[Ve])}return Pe},No.apply(this,arguments)}c(No,"with_free_willy_guest_draw_extends");const ar=c(Pe=>c(class extends ts.PureComponent{addEventListeners(We,Ve,ft){We.current&&(We.current.addEventListener("canplay",Ve),ft&&We.current.addEventListener("resize",Ve))}removeEventListeners(We,Ve,ft){We.current&&(We.current.removeEventListener("canplay",Ve),ft&&We.current.removeEventListener("resize",Ve))}render(){return ts.createElement(Pe,No({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");ar.displayName="withFreeWillyGuestDraw";const Ra=ar;function Wo(){return Wo=Object.assign||function(Pe){for(var Ce=1;Ce<arguments.length;Ce++){var We=arguments[Ce];for(var Ve in We)Object.prototype.hasOwnProperty.call(We,Ve)&&(Pe[Ve]=We[Ve])}return Pe},Wo.apply(this,arguments)}c(Wo,"with_free_willy_active_speaker_extends");const La=Ra(or),ir=c(Pe=>c(class extends ts.PureComponent{isVideoEnabledAndReady(We){return We}renderVideo(We){const{id:Ve,tileId:ft}=this.props;if(!Ve){(0,Bo.M)("Cannot render video without a peer id");return}return ts.createElement(La,{isVideoReady:We},ts.createElement(Sa.A,{id:Ve,tileId:ft,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return ts.createElement(Pe,Wo({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(We){super(We),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");ir.displayName="withFreeWillyActiveSpeaker";const ka=ir;var ba=e(8300007136),xa=e(6084388622),lr=e(1049642794),Ba=e(5043394918);const Ua=new Eo.Ay("huddles"),cr=c(()=>{const Pe=(0,ba.wA)(),Ce=(0,ko.d4)(Ve=>!!(0,$n.WQ)(Ve,"isMicrophoneEnabled")),We=(0,ts.useCallback)(()=>{Pe((0,lr.A)(!Ce))},[Ce,Pe]);return ts.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},ts.createElement(xa.Ay,{className:(0,Js.A)("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":Ce}),onClick:We,type:"outline",role:"switch",size:"large","aria-label":Ua.t("Microphone"),"aria-checked":Ce,disabled:!self},ts.createElement(Ba.A,{peerId:"self",isMicrophoneEnabled:Ce,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");cr.displayName="HuddleScreenViewerMicButton";const Na=cr,Wa=ka(Pa),Fa=new Eo.Ay("huddles");function dr(Pe){const{peerId:Ce,isError:We}=Pe,Ve=(0,ko.d4)($n.vz),ft=(0,ko.d4)(Fn=>Ce?(0,$n.JZ)(Fn,Ce):null);let rt;if(Ve){var Kt,mt;rt=ft!=null&&ft.isScreenshareEnabled?ft==null||(Kt=ft.tileIds)===null||Kt===void 0||(mt=Kt.screenshare)===null||mt===void 0?void 0:mt.tileId:null}const _n=ts.createElement("span",{className:"p-huddle_screen_viewer__error"},Fa.t("The screen share has ended."));return ts.createElement("div",{className:"p-huddle_screen_viewer__container"},Ce&&!We&&ts.createElement(Wa,{id:Ce,tileId:rt}),We?_n:ts.createElement(Na,null))}c(dr,"HuddleScreenViewer"),dr.displayName="HuddleScreenViewer";var Ka=e(4385664584),wa=e(4675837085);const ys={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},Ll=null,ur=new Eo.Ay("huddles"),Ha=c(Pe=>{var Ce;const We=Pe==null||(Ce=Pe.document)===null||Ce===void 0?void 0:Ce.querySelectorAll(".p-huddle_screen_viewer__container"),Ve=We?We.length:0,ft=(0,go.tZ)("SCREENSHARE-VIEWER-APP");Ve>1?ft.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):ft.info(`${Ve} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),Ao=c(()=>{const{container:Pe,childWindow:Ce}=ys;Pe&&(aa.unmountComponentAtNode(Pe),ys.containerTileId=void 0,ys.container=void 0),Ce&&(Ce.removeEventListener("beforeunload",Ao),Ce.close(),ys.childWindow=void 0,ys.childWindowToken=void 0)},"closeScreenShareWindow"),Va=(0,m.Ay)("Launch the window that renders screen share media",function(){var Pe=(0,Lo.coroutine)(function*(Ce,We,Ve){var ft,rt,Kt;const mt=We(),_n=(0,s.Ay)({state:mt}),Fn=Ve!=null&&Ve.screenSharePeerId?Ve.screenSharePeerId:(0,$n.vN)(mt);let ns=!1;const{container:Cs,containerTileId:fn}=ys;Fn||(_n.warn(no.o7,"lastRemoteScreensharePeerId is not found"),ns=!0);const Rn=(0,$n.JZ)(mt,Fn||""),Kn=Rn.userId?(0,ca.I)(mt,Rn.userId):"";let ds=ur.t("Screen share");Kn&&(ds=ur.t("{memberName} screen share",{memberName:(0,Eo.nr)(Kn)}));const fs={..._a.P,backgroundColor:"black",title:ds,type:"huddle-call-screen-share"},Es=(0,_.getStateForClientStore)();(0,ps.Ak)(Es)||(_n.warn(no.o7,"no active huddle found"),ns=!0);const Fs=(Rn==null||(ft=Rn.tileIds)===null||ft===void 0||(rt=ft.screenshare)===null||rt===void 0?void 0:rt.tileId)||0;(0,_.dispatchForClientStore)((0,so.cn)({tileId:Fs}))||(_n.warn(no.o7,"video tile does not have stream"),ns=!0);const Ys=!ys.childWindow||ys.childWindow.closed;if(Ys&&(0,I.y3)()){const{window:eo,windowToken:fo}=yield(0,la.wK)("",fs);ys.childWindow=eo,ys.childWindowToken=fo}else Ys&&(ys.childWindow=window.open("",ds,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!ys.childWindow){_n.warn(no.o7,"No child window available. Exiting screen share window launch");return}const Vs=(0,da.ZT)(mt);ys.childWindow.document&&(ys.childWindow.document.body.style.background="black");const mo={windowRef:(0,wa.O)(ys.childWindow),windowToken:ys.childWindowToken};if(Ys&&(ys.childWindow.addEventListener("beforeunload",Ao),window.addEventListener("beforeunload",Ao)),!(Cs&&fn===Fs)||Ys){ys.containerTileId=Fs;const eo=(0,_.getStoreInstanceByTeamId)(Vs);ys.container=yield(0,ua.s)(ys.childWindow,ts.createElement(Ka.A,{store:eo},ts.createElement(er.Mn.Provider,{value:mo},ts.createElement(ma.A,{shouldStopHuddle:!0},ts.createElement(dr,{peerId:Fn,isError:ns})))),{useContainer:!0})}const ho=(Kt=ys.childWindow)===null||Kt===void 0?void 0:Kt.browserWindowId;ho?(0,f.hN0)(ho):(0,ia.A)(ys.childWindow.focus)&&ys.childWindow.focus(),Ha(ys.childWindow)});return function(Ce,We,Ve){return Pe.apply(this,arguments)}}());Va.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var yo=e(9712681361),ja=e(5761207079);const _r=(0,m.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(Pe,Ce,We)=>{let{userId:Ve}=We;const ft=Ce();(0,ja.a)(ft,Ve)&&Pe((0,Bs.Iw)(Bs.vT.HiddenUserJoinedHuddle))});_r.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var Ss=e(462591818),mr=e(9640070512),hr=e(2527782504),fr=e(5954792826),Ns=e(700984029),To=e(1829947126),Ga=e(9009528296),za=e(1289024643),ao=e(9853754481),pr=e(9372409576);const vr=(0,m.Ay)("Send call analytics to the server",(Pe,Ce,We)=>{const Ve=Ce().activeCall;let ft;if(We&&We.callId?ft=We.callId:Ve&&Ve.id&&(ft=Ve.id),!ft){(0,Bo.M)("There should be an active call in progress in order to send analytics.");return}const rt=$a(new pr.$.calls.analytics.Report(We.stats),Ce()),Kt=pr.$.calls.analytics.Report.encode(rt).finish(),mt=String.fromCharCode(...Kt);return Pe((0,At.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:ft,analytics:btoa(mt)},reason:"calls-analytics"}))});vr.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function $a(Pe,Ce){const We=Pe;return We.recv=Pe.recv.map(Ve=>{if(Ve.peerId){const ft=(0,$n.C1)(Ce,Ve.peerId);if(ft){const rt=Ve;rt.userId=ft.userId}}if(Ve.peerIdString){const ft=(0,$n.C1)(Ce,Ve.peerIdString);if(ft){const rt=Ve;rt.userId=ft.userId}}return Ve}),We.recv=We.recv.filter(Ve=>!!Ve.userId),Pe}c($a,"mapPeerIdsToUserIds");var Qa=e(5046160032),Er=e(8445020572),Ya=e(4914127094),Fo=e(8935621861),io=e(415910655);const Xa=(0,s.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),gr="screenhero.rooms.proxyMeetingEvents",Ar=(0,m.Ay)("Send meeting events to the server",function(){var Pe=(0,Lo.coroutine)(function*(Ce,We,Ve){let ft;try{ft=JSON.stringify(Ve.events)}catch(_n){Xa.error(_n.message);return}const{metrics:rt,teamId:Kt}=Ja();if(Ve.isUnloading){const _n={app:Ve.app,meeting_id:Ve.meetingId,media_region:Ve.mediaRegion,attendee_id:Ve.attendeeId,call_id:Ve.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:ft,preferred_media_region:yield Fo.A.getInstance().getNearestChimeMediaRegion(Kt),audio_connected_time:(rt==null?void 0:rt.audioConnectedTime)||0,first_presence_time:(rt==null?void 0:rt.firstPresenceTime)||0,rooms_join_time:(rt==null?void 0:rt.roomsJoinTime)||0,sdk_initialized_time:(rt==null?void 0:rt.sdkInitializedTime)||0,chime_attendee_presence_time:Ve.attendeePresenceDuration?Ve.attendeePresenceDuration:(rt==null?void 0:rt.attendeePresenceDuration)||0,chime_meeting_start_time:Ve.meetingStartDuration?Ve.meetingStartDuration:(rt==null?void 0:rt.meetingStartDuration)||0,chime_signaling_open_time:Ve.signalingOpenDuration?Ve.signalingOpenDuration:(rt==null?void 0:rt.signalingOpenDuration)||0,chime_ice_gathering_time:Ve.iceGatheringDuration?Ve.iceGatheringDuration:(rt==null?void 0:rt.iceGatheringDuration)||0,voice_focus_init_time:(rt==null?void 0:rt.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(rt==null?void 0:rt.credentialsToVoiceFocusInitializedTime)||0};return(0,Qa.A)({apiUrl:"/api/",method:gr,token:(0,Ya.F)(We()),versionTs:(0,Er.HF)(),versionUid:(0,Er.X3)(),args:_n})?et.S.resolve():et.S.reject(new Error("sendMeetingEvents: beacon failed"))}const mt=Ve.isEnding?{app:Ve.app,meeting_id:Ve.meetingId,media_region:Ve.mediaRegion,attendee_id:Ve.attendeeId,events:ft,call_id:Ve.callId,preferred_media_region:yield Fo.A.getInstance().getNearestChimeMediaRegion(Kt),audio_connected_time:(rt==null?void 0:rt.audioConnectedTime)||0,first_presence_time:(rt==null?void 0:rt.firstPresenceTime)||0,rooms_join_time:(rt==null?void 0:rt.roomsJoinTime)||0,sdk_initialized_time:(rt==null?void 0:rt.sdkInitializedTime)||0,chime_attendee_presence_time:Ve.attendeePresenceDuration?Ve.attendeePresenceDuration:(rt==null?void 0:rt.attendeePresenceDuration)||0,chime_meeting_start_time:Ve.meetingStartDuration?Ve.meetingStartDuration:(rt==null?void 0:rt.meetingStartDuration)||0,chime_signaling_open_time:Ve.signalingOpenDuration?Ve.signalingOpenDuration:(rt==null?void 0:rt.signalingOpenDuration)||0,chime_ice_gathering_time:Ve.iceGatheringDuration?Ve.iceGatheringDuration:(rt==null?void 0:rt.iceGatheringDuration)||0,voice_focus_init_time:(rt==null?void 0:rt.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(rt==null?void 0:rt.credentialsToVoiceFocusInitializedTime)||0}:{app:Ve.app,meeting_id:Ve.meetingId,media_region:Ve.mediaRegion,attendee_id:Ve.attendeeId,events:ft,call_id:Ve.callId};return Ce((0,At.apiCall)({method:gr,args:mt,reason:"calls-chime-events"}))});return function(Ce,We,Ve){return Pe.apply(this,arguments)}}());Ar.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function Ja(){const Pe=(0,_.getStateForClientStore)(),{teamId:Ce}=(0,ps.Qn)(Pe)||{};return{metrics:(0,io.s2)(),teamId:Ce}}c(Ja,"getCallMetricsAndTeamId");const Za=(0,s.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),yr=(0,m.Ay)("Handle Chime meeting events",(Pe,Ce,We)=>{let{events:Ve,callId:ft,meetingId:rt,mediaRegion:Kt,attendeeId:mt,isUnloading:_n,isEnding:Fn}=We;const ns=qa(Ve);!(0,ct.A)(ns)&&!_n&&!Fn&&(0,io.jm)(ns),Pe(Ar({events:Ve,app:"huddles",callId:ft,meetingId:rt,mediaRegion:Kt,attendeeId:mt,isUnloading:_n,isEnding:Fn,attendeePresenceDuration:ns.attendeePresenceDuration,signalingOpenDuration:ns.signalingOpenDuration,iceGatheringDuration:ns.iceGatheringDuration,meetingStartDuration:ns.meetingStartDuration}))});yr.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function qa(Pe){const Ce={};return Pe.forEach(We=>{let{message:Ve}=We;try{const _n=JSON.parse(Ve);switch(_n.name){case"attendeePresenceReceived":var ft;Ce.attendeePresenceDuration=(ft=_n.attributes)===null||ft===void 0?void 0:ft.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var rt,Kt,mt;Ce.signalingOpenDuration=(rt=_n.attributes)===null||rt===void 0?void 0:rt.signalingOpenDurationMs,Ce.iceGatheringDuration=(Kt=_n.attributes)===null||Kt===void 0?void 0:Kt.iceGatheringDurationMs,Ce.meetingStartDuration=(mt=_n.attributes)===null||mt===void 0?void 0:mt.meetingStartDurationMs;break;default:break}}catch(_n){Za.error("Invalid JSON in meeting event",_n)}}),Ce}c(qa,"parseMeetingEventMetrics");const ei=yr;var Hs=e(6758774099),ti=e(4988306802);const Tr=(0,m.Ay)("Process AWS transcript event",(Pe,Ce,We)=>{var Ve;if((0,Jn.VW)(We))return;const ft=We.results[0];if(!(ft!=null&&ft.resultId)||!(0,ti.TP)(Ce()))return;const rt=(Ve=ft.alternatives[0])===null||Ve===void 0?void 0:Ve.items;if(!(rt!=null&&rt.length)){Pe((0,Hs.h2)({resultId:ft.resultId,transcriptions:[]}));return}const Kt=[];rt.forEach(mt=>{var _n;const Fn=Kt[Kt.length-1],ns=(0,fr.l)((_n=mt.attendee)===null||_n===void 0?void 0:_n.externalUserId);ns&&(mt.type===Jn.E9.PUNCTUATION?Fn&&(Fn.content=`${Fn.content}${mt.content}`,Fn.endTimeMs=mt.endTimeMs):Kt.push({memberId:ns,timestampMs:mt.startTimeMs,endTimeMs:mt.endTimeMs||Date.now(),content:mt.content}))}),Pe((0,Hs.h2)({resultId:ft.resultId,transcriptions:Kt}))});Tr.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const ni=Tr;var Zs=e(8783285437),si=e(6155974509);const Cr=(0,m.Ay)("Maybe disable the screen share",function(){var Pe=(0,Lo.coroutine)(function*(Ce,We){const Ve=(0,go.tZ)("CALLS-REDUX");We().peers.self.isScreenshareEnabled&&(Ve.info("Attempted to turn off screen sharing"),Ce((0,$n.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,si.a)()});return function(Ce,We){return Pe.apply(this,arguments)}}());Cr.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var qs=e(9190452268),Os=e(9680914051),Gs=e(1990810649),Ir=e(5145584581),oi=e(9365970888),Co=e(7592559649),ri=e(6251210828),Mr=e(7439555287),ai=e(6470070112);let ii=c(class{onPeerMuted(Ce,We){this.dispatch((0,$n.kT)({id:Ce,isMicrophoneEnabled:!We}))}onPeerJoined(Ce,We){if(this.maybeRecordFirstPresenceTime(),We&&Ce){this.dispatch((0,$n.Uu)({id:Ce,userId:We,isMicrophoneEnabled:!0})),this.dispatch(Ro());const Ve=(0,$n.Ng)(this.store.getState());(0,_.dispatchForClientStore)((0,Fe.Rr)({isDrawEnabled:Ve.isDrawEnabled||!1})),this.dispatch((0,Hs.U$)({type:Zs.v.JOIN,memberId:We,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(We),this.dispatch(_r({userId:We}))}}onPeerLeft(Ce){var We;const Ve=(We=(0,$n.jB)(this.store.getState(),Ce))===null||We===void 0?void 0:We.userId;Ve&&(this.callLogger.info(`Peer left the huddle. userId=${Ve} peerId=${Ce}`),this.dispatch((0,Hs.U$)({type:Zs.v.LEAVE,memberId:Ve,timestampMs:Date.now()}))),this.dispatch((0,$n.xx)(Ce)),this.dispatch(Ro())}onSelfJoined(){const Ce=this.recordTiming(Os.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(ta(Ce))}onSelfLeft(){this.dispatch((0,Bs.LL)(Gn.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(Ce){this.dispatch((0,$n.FX)(Ce))}onPeerReacji(Ce,We,Ve,ft){var rt;this.dispatch((0,$n._x)({peerId:Ce,emoji:We,isEmoji:Ve,reactionType:ft}));const Kt=(rt=(0,$n.jB)(this.store.getState(),Ce))===null||rt===void 0?void 0:rt.userId;Kt&&this.dispatch((0,Hs.U$)({type:Zs.v.SEND_REACTION,memberId:Kt,timestampMs:Date.now(),emoji:We}))}onPeerMuteRequest(Ce,We){We===this.selfAttendeeId&&(this.dispatch((0,lr.A)(!1)),this.dispatch((0,Gn.CE)({alert:Gn.vT.PeerMuteRequest,peerId:Ce})),this.callLogger.info(`Peer muted self microphone : peerId:${Ce}`))}onError(Ce,We){let Ve;We===Jn.b9[Jn.b9.AudioJoinedFromAnotherDevice]?Ve=yo.M6.AudioJoinedFromAnotherDevice:We===Jn.b9[Jn.b9.MeetingEnded]&&(Ve=(0,ai.ew)((0,Mr.KA)().getState())?yo.M6.ChimeMeetingEndedFromTimeLimit:yo.M6.ChimeMeetingEnded),this.dispatch((0,js.A)({terminalState:Ve||Ce})),this.callLogger.info(`tearDown executed: terminalState: ${Ce}, statusCodeName: ${We} tearDownState: ${Ve}`)}onClogError(Ce){}onMeetingSessionInitialized(){this.recordTiming(Os.W_);const Ce=(0,qs.Cy)({state:this.store.getState()}),We=Ce.measure(Os.Bq,Os.CY);Ce.count(Os.CY,We),(0,io.jm)({sdkInitializedTime:We})}onSelfPermissionUpdated(Ce,We){this.callLogger.info(`Received permission update from type:${We}, isDenied: ${Ce}`);let Ve;(0,I.y3)()?Ve=We===Yn.lW.Microphone?Gn.vT.NoSystemAudio:Gn.vT.NoSystemVideo:Ve=We===Yn.lW.Microphone?Gn.vT.NoBrowserAudioPermission:Gn.vT.NoBrowserVideoPermission,Ce?this.dispatch((0,Gn.CE)({alert:Ve})):this.dispatch((0,Gn.Gu)(Ve))}onSelfVideoTileUpdate(Ce){if(!Ce.tileId)return;const We=(0,$n.Ng)(this.getState());if(!Ce.isContent&&!We.isCameraEnabled)return;if(!(0,$n.vz)(this.getState()))this.dispatch((0,Hs.U$)({type:Zs.v.SCREENSHARE_START,memberId:(0,Ft.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,$n.kT)({id:"self",tileId:Ce.tileId,isScreenshareEnabled:!!Ce.isContent}));else if(Ce.isContent){var ft,rt;this.dispatch((0,Hs.U$)({type:Zs.v.SCREENSHARE_START,memberId:(0,Ft.WR)(this.getState()),timestampMs:Date.now()}));const Kt=(0,$n.JC)(this.getState());((ft=We.tileIds)===null||ft===void 0||(rt=ft.screenshare)===null||rt===void 0?void 0:rt.tileId)!==Ce.tileId&&Kt!==Gs.cM.Screenshare&&this.dispatch((0,Ir.x)({peerId:"self",contentViewType:Gs.cM.None,contentViewConfig:{}})),this.dispatch((0,$n.kT)({id:"self",tileId:Ce.tileId,isScreenshareEnabled:!!Ce.isContent}))}else this.dispatch((0,$n.kT)({id:"self",tileId:Ce.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(Ce,We){if(!We.tileId)return;const Ve=We.boundExternalUserId&&(0,fr.l)(We.boundExternalUserId);We.isContent&&Ve&&(this.callLogger.info(`Peer screenshare started: userId=${Ve}`),this.dispatch((0,Hs.U$)({type:Zs.v.SCREENSHARE_START,memberId:Ve,timestampMs:Date.now()}))),this.dispatch((0,$n.BD)({id:Ce,tileId:We.tileId,isContent:We.isContent,isPaused:We.paused}))}onVideoTileRemoved(Ce){var We,Ve;const ft=this.store.getState(),rt=(0,$n.v2)(ft,Ce);rt&&(this.callLogger.info(`Peer screenshare stopped: userId=${rt}`),this.dispatch((0,Hs.U$)({type:Zs.v.SCREENSHARE_STOP,memberId:rt,timestampMs:Date.now()}))),this.dispatch((0,$n.Qr)({tileId:Ce})),Ao();const Kt=(0,$n.Ng)(ft);((We=Kt.tileIds)===null||We===void 0||(Ve=We.screenshare)===null||Ve===void 0?void 0:Ve.tileId)===Ce&&Kt.contentViewType===Gs.cM.Screenshare&&this.dispatch((0,Ir.x)({peerId:"self",contentViewType:Gs.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(Ce){this.dispatch((0,$n.K3)({tileId:Ce}))}onVideoTileWillUnpause(Ce){this.dispatch((0,$n.XS)({tileId:Ce}))}onDeviceAccessApproved(Ce){switch(Ce){case Ss.mT.MICROPHONE:{(0,I.y3)()?(this.dispatch((0,Gn.Gu)(Gn.vT.NoSystemAudio)),this.dispatch((0,Ns.er)())):(this.dispatch((0,Gn.Gu)(Gn.vT.NoBrowserAudioPermission)),this.dispatch((0,Ns.ZY)()));break}case Ss.mT.CAMERA:{(0,I.y3)()?(this.dispatch((0,Gn.Gu)(Gn.vT.NoSystemVideo)),this.dispatch((0,Ns.NH)())):(this.dispatch((0,Gn.Gu)(Gn.vT.NoBrowserVideoPermission)),this.dispatch((0,Ns.in)()));break}default:}}onCheckSystemMediaAccess(Ce){switch(Ce){case Ss.mT.MICROPHONE:{this.dispatch((0,Ns.tG)()),this.dispatch((0,Gn.CE)({alert:Gn.vT.NoSystemAudio}));break}case Ss.mT.CAMERA:{this.dispatch((0,Ns.Yr)()),this.dispatch((0,Gn.CE)({alert:Gn.vT.NoSystemVideo}));break}case Ss.mT.SCREEN:{this.dispatch((0,Ns.J3)()),this.dispatch((0,Gn.CE)({alert:Gn.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(Ce){switch(this.callLogger.error(`Self ${Ce} device access denied`),Ce){case Ss.mT.MICROPHONE:{this.dispatch((0,Ns.cH)()),this.dispatch((0,Gn.CE)({alert:Gn.vT.NoBrowserAudioPermission}));break}case Ss.mT.CAMERA:{this.dispatch((0,Ns.px)()),this.dispatch((0,Gn.CE)({alert:Gn.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(Ce){switch(Ce){case Ss.mT.MICROPHONE:{this.dispatch((0,Gn.CE)({alert:Gn.vT.NoUserAudioStream}));break}case Ss.mT.CAMERA:{const We=(0,oi.ly)(this.getState());if((0,_.dispatchForClientStore)((0,Fe.WM)({setVideoEnabled:!1})),!(0,I.y3)()&&We)break;this.dispatch((0,Gn.CE)({alert:Gn.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(Ce){switch(Ce){case Ss.mT.MICROPHONE:{this.dispatch((0,Gn.Gu)(Gn.vT.NoUserAudioStream));break}case Ss.mT.CAMERA:{this.dispatch((0,Gn.Gu)(Gn.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(Ce){switch(Ce){case Ss.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Gn.CE)({alert:Gn.vT.NoAudioOutputAudioElementError}));break}case Ss.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Gn.CE)({alert:Gn.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(Ce){switch(Ce){case Ss.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Gn.Gu)(Gn.vT.NoAudioOutputAudioElementError));break}case Ss.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Gn.Gu)(Gn.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,$n.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,$n.kT)({id:"self",isConnected:!1})),cs.A.publish({type:rs.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(Ce,We){this.callLogger.info(`${Ce} audio packet loss changed to: ${We}`)}onPeerConnected(Ce){this.dispatch((0,$n.E3)({id:Ce,isConnected:!0}))}onPeerDisconnected(Ce){this.callLogger.info(`peer disconnected from chime media server ${Ce}`),this.dispatch((0,$n.E3)({id:Ce,isConnected:!1}))}onPeerConnectionQualityChanged(Ce,We,Ve){}onSelfMediaStreamChanged(Ce){}onNewPeerMediaStream(Ce,We){}onScreenThumbnails(Ce){}onUpdatedSelfAudioLevel(Ce){To.A.publish("self",Ce/ao.Ep),Ga.A.publish(Ce/ao.Ep);const We=this.store.getState();(0,os.lV)(We)&&To.A.publishAll("self",Ce/ao.Ep)}onUpdatedPeerAudioLevels(Ce){const We=this.store.getState();Object.entries(Ce).forEach(ft=>{let[rt,Kt]=ft;To.A.publish(rt,Kt/ao.Ep)}),(0,os.lV)(We)&&Object.entries(Ce).forEach(ft=>{let[rt,Kt]=ft;To.A.publishAll(rt,Kt/ao.Ep)})}onPeerCameraActive(Ce,We){const Ve=Ce==="self";this.callLogger.info(`${Ve?"Self":`Peer (${Ce})`} camera turned ${We?"on":"off"}`),this.dispatch((0,$n.kT)({id:Ce,isCameraEnabled:We}))}onPeerScreenShareActive(Ce,We){const Ve=Ce==="self";this.callLogger.info(`${Ve?"Self":`Peer (${Ce})`} screenshare ${We?"started":"stopped"}`)}onPeerDrawMessage(Ce,We){Dn.A.publish({id:Ce,...We})}onPeerDrawEnabled(Ce,We){this.dispatch((0,$n.kT)({id:Ce,isDrawEnabled:We}))}onMediaStats(Ce,We){this.dispatch(vr({stats:Ce,callId:We}))}onAppMetrics(Ce){let{appMetrics:We,clientMetricReport:Ve,screenshareRtcStats:ft}=Ce;const rt=(0,us.Ay)({state:this.getState(),appMetrics:We});cs.A.publish({type:rs.lx.AppMetrics,update:{huddleStateSnapshot:rt,clientMetricReport:Ve,screenshareRtcStats:ft}})}onDevicesUpdated(Ce){this.dispatch((0,Ns.Fb)(Ce))}onOutputDeviceChanged(Ce){this.callLogger.info(`Self audio output device changed: device: ${Ce.id}`),this.dispatch((0,Ns.AS)(Ce))}onDeviceTypeBlocked(Ce){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(Cr());const We=(0,_.getClientStoreInstance)().getState(),Ve=(0,ps.Ak)(We);!Ve||(0,ct.A)(Ve)||Ve.huddleState===yo.RJ.ENDING||this.dispatch((0,mr.H)({focusKey:hr.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,mr.H)({focusKey:hr.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){cs.A.publish({type:rs.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){cs.A.publish({type:rs.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){cs.A.publish({type:rs.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){cs.A.publish({type:rs.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(Os.dk)}onStart(){this.recordTiming(Os.Nh)}onAudioVideoDidStart(){this.recordTiming(Os.ck),(0,_.dispatchForClientStore)((0,Fe._U)(Date.now()))}onAudioVideoDidStop(){const Ce=(0,_.getClientStoreInstance)(),We=(0,ps.cN)(Ce==null?void 0:Ce.getState()),Ve=Date.now(),ft=Ve-We;(0,_.dispatchForClientStore)((0,Fe.bV)(Ve)),(0,_.dispatchForClientStore)((0,Fe.qr)(ft))}onMaxTileSizeUpdated(Ce){this.dispatch((0,$n.l$)(Ce))}onInit(){this.recordTiming(Os.cP)}onVoiceFocusLoaded(){const Ce=(0,qs.Cy)({state:this.store.getState()}),We=Ce.measure(Os.aN,Os.pz);Ce.count(Os.pz,We),this.recordTiming(Os.qb)}onVoiceFocusStartLoading(){(0,qs.Cy)({state:this.store.getState()}).mark(Os.aN)}recordTiming(Ce){const We=(0,qs.Cy)({state:this.store.getState()}),Ve=We.measure(Os.qr,Ce);return We.count(Ce,Ve),Ve}onMeetingEvents(Ce,We,Ve,ft,rt,Kt,mt){this.dispatch(ei({events:rt,callId:ft,meetingId:Ce,mediaRegion:We,attendeeId:Ve,isUnloading:Kt,isEnding:mt}))}onMaybeVoiceFocusInitialized(Ce){const Ve=(0,qs.Cy)({state:this.store.getState()}).measure(Os.Bq,Os.bv);(0,io.jm)({voiceFocusInitializedTime:Ce,credentialsToVoiceFocusInitializedTime:Ve})}onScreenShareError(Ce){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${Ce}`),Ce){case Ss.lD.NOT_FOUND_ERROR:{this.dispatch((0,Gn.CE)({alert:Gn.vT.SSNotFoundError}));break}case Ss.lD.NOT_READABLE_ERROR:{this.dispatch((0,Gn.CE)({alert:Gn.vT.SSNotReadableError}));break}case Ss.lD.ERROR:{this.dispatch((0,Gn.CE)({alert:Gn.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,Gn.CE)({alert:Gn.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(Ce){this.dispatch(ni(Ce))}setSelfAttendeeId(Ce){this.selfAttendeeId=Ce}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(Os.dP),(0,io.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,Gn.CE)({alert:Gn.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,Gn.Gu)(Gn.vT.AudioInputTrackMuted))}onJukeboxRequest(Ce){if(!(0,os.lV)(this.getState()))return;const Ve=this.isDj(),rt=(0,ri.Rl)(this.getState())[Ce];!Ve||!rt||((0,_.dispatchForClientStore)((0,Fe.bk)({song:rt})),(0,_.dispatchForClientStore)((0,Fe._u)({song:rt})),(0,_.dispatchForClientStore)((0,Fe.WY)(rt)))}onJukeboxStopRequest(){!(0,os.lV)(this.getState())||!this.isDj()||((0,_.dispatchForClientStore)((0,Fe.JM)()),(0,_.dispatchForClientStore)((0,Fe._u)({song:void 0})))}isDj(){var Ce;const We=(0,Ft.WR)(this.getState()),Ve=(0,_.getClientStoreInstance)(),ft=(Ce=(0,ps.Qn)(Ve==null?void 0:Ve.getState()))===null||Ce===void 0?void 0:Ce.callId,rt=(0,Co.gV)(this.getState(),{callId:ft}),Kt=(0,Co.gV)(this.getState(),{callId:ft,userId:We});return!rt||!!Kt}maybeRemoveUserAsPending(Ce){const We=(0,_.getClientStoreInstance)(),Ve=(0,ps.E9)(We==null?void 0:We.getState());Ve&&this.dispatch((0,za.r_)({callId:Ve,userId:Ce}))}onContentShareDetailsUpdate(Ce,We,Ve){this.dispatch((0,$n.kT)({id:Ce,isDrawEnabled:We,contentShareSource:Ve}))}constructor(Ce){this.firstPresenceTimeMs=0,this.callLogger=(0,go.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=Ce.dispatch,this.getState=Ce.getState,this.store=Ce}},"HuddleActionDispatcher");var li=e(5741354339),lo=e(4066669727),zs=e(8778137680),ci=e(7434063642),Or=e(4156857608);let jt,Ko,$s;const di="HUDDLE-SDK",ui="HUDDLE-CLIENT-MIDDLEWARE",Ws=(0,s.Wo)({label:ui}),Dr=c(Pe=>{Pe.id==="self"&&(jt==null||jt.sendDrawMessage(Pe))},"onPeerDrawPublish");function wo(Pe,Ce,We,Ve){const ft=(0,ps.E9)(Pe),rt=(0,ps.l4)(Pe),Kt=rt?(0,_.getStoreInstanceByTeamId)(rt):void 0,mt=Kt?Kt.getState():void 0,_n=mt?(0,Ft.WR)(mt):void 0;ft&&_n&&(Kt==null||Kt.dispatch(Ce({user:_n,channel:ft,fieldValue:We,experimentHuddlesMultiDeviceGroupOn:Ve})))}c(wo,"maybeDispatchAwarenessUpdate");function co(Pe,Ce,We){const Ve=(0,ps.E9)(Pe),ft=(0,ps.l4)(Pe),rt=ft?(0,_.getStoreInstanceByTeamId)(ft):void 0,Kt=rt?rt.getState():void 0,mt=Kt?(0,Ft.WR)(Kt):void 0;Ve&&mt&&(rt==null||rt.dispatch(Ce({user:mt,channel:Ve,experimentHuddlesMultiDeviceGroupOn:We})))}c(co,"maybeDispatchAwarenessRemove");const Pr=(0,tt.Ay)("dispatches actions to huddles SDK",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=c(()=>{const fn=(0,ps.l4)(Ve),Rn=(0,_.getStoreInstanceByTeamId)(fn);if(!Rn)return{};const Kn=Rn==null?void 0:Rn.getState();if(!Kn)return{};const ds=(0,$n.Ng)(Kn)||{};return{huddlesVideoActive:(0,$n.vz)(Kn),self:ds}},"getIsHuddlesVideoActive");switch(We.type){case Fe.kn.getType():{var rt;const fn=We.payload;Ko=fn==null||(rt=fn.audioOutputRef)===null||rt===void 0?void 0:rt.current,Fo.A.getInstance().init();break}case Fe.Sd.getType():{const{huddlesVideoActive:fn,self:Rn}=ft();jt&&jt.hasSession()&&(fn?jt.selfVideoEnabled(!0,!!(Rn!=null&&Rn.isScreenshareEnabled)):jt.selfVideoEnabled(!0,!1));break}case Fe._I.getType():{const{huddlesVideoActive:fn,self:Rn}=ft();jt&&jt.hasSession()&&(fn?jt.selfVideoEnabled(!1,!!(Rn!=null&&Rn.isScreenshareEnabled)):jt.selfVideoEnabled(!1,!1));break}case Fe.qW.getType():{Ws.info("BOOT","user agent:",navigator.userAgent);const fn=We.payload;let Rn=fn.isStartMuted;if(!Ko){Ws.error("Missing audio output element");return}const{server:Kn,roomId:ds}=fn.callResult,fs=Kn.attendee.AttendeeId,Es=fn.waitForHuddleStart,Ds=fn.isPrejoin;(0,_.dispatchForClientStore)((0,Fe.og)(Ds));const Fs=Ds?(0,ps.Qn)(Ve):(0,ps.Ak)(Ve),{teamId:Qo}=Fs||{},Ys=(0,P.getFocusedWorkspace)(Ve),Vs=(0,_.getStoreInstanceByTeamId)(Qo||Ys),mo=Vs?Vs.getState():void 0;if(!mo){Ws.error("team state not available while initializing huddlesSdk. Returning early");return}Ws.info("client-huddles-middleware: Dispatching resetPeersStore"),Vs.dispatch((0,$n.VL)({huddlesVideoActive:!0})),Vs.dispatch((0,ci.X6)()),Rn=Rn||(0,xe.ty)(mo,"huddles_mute_by_default"),Rn&&(Ws.info("Start huddle as muted as specified in user prefs"),Vs.dispatch((0,$n.kT)({id:"self",isMicrophoneEnabled:!1}))),$s&&$s.stop(!0),(0,Mr.Gc)(Ys),$s=new qt.w,$s.start(ds);const Yo=(0,li.u)();Yo.then(Xs=>{Xs&&(Ws.info("Log reporter stopped"),$s==null||$s.stop(!0,!1),$s=void 0)});const ho=new ii(Vs),{ttiTrace:eo}=(0,Lt.A)().getAllTraceHandlers();jt=new hs.Y(ho,Ko,di),(0,gt.Y)({name:gt.R1.HuddlesSdk,ref:jt});const fo=(0,Vn.Y)(Kn.attendee.ExternalUserId),Yr=ws(mo,{server:Kn,isPrejoin:Ds});if(!Yr){Ws.error("sdk options not available. Returning early");return}const Xo=[],So=Qo||Ys;if(fo&&So){const Xs=new lo.SV({teamId:So,peerId:fs,topicId:fo,isHuddlesAwarenessTimestampEnabled:(0,os.gG)(Vs.getState())});Xo.push(Xs);const Xr=new lo.MC({teamId:So});Xo.push(Xr),lo.PL.watch(So,fo,Xs),(0,gt.Y)({name:gt.R1.ChimeChannelListener,ref:Xr}),(0,gt.Y)({name:gt.R1.ChimeChannelBroadcaster,ref:Xs})}jt.initialize(Yr,[Ss.mT.MICROPHONE],!!Rn,Es,Yo,Xo).then(()=>{const Xs=jt==null?void 0:jt.getMeetingMediaRegion();eo==null||eo.setMediaRegionTag(Xs),cs.A.publish({type:rs.lx.SelectedMediaRegion,update:{mediaRegionSelected:Xs}}),jt&&!Ds&&(jt==null||jt.maybeBindAudioOutputElement(),jt==null||jt.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),ho.setSelfAttendeeId(fs),Dn.A.subscribe(Dr),Ws.info("User started huddle");break}case Fe.pl.getType():{const fn=We.payload;if(jt){const{waitForHuddleEnd:Rn}=fn;jt.shutdown(()=>{Rn.resolve()});const Kn=(0,P.getFocusedWorkspace)(Ve),ds=(0,_.getStoreInstanceByTeamId)(Kn);ds==null||ds.dispatch((0,Bs.LL)(Bs.vT.SpeakingWhenMuted));const fs=(0,os.pL)(ds==null?void 0:ds.getState()),Es=(0,ps.E9)(Ve);Es&&(co(Ve,zs.RZ,fs),co(Ve,zs.Lm,fs),lo.PL.unwatch(Es)),Dn.A.unsubscribe(Dr),Ws.info("User left huddle")}jt=void 0,lo.PL.unwatchAll(),(0,gt.N5)();break}case Fe.I9.getType():{const fn=We.payload;if(jt&&jt.hasSession()&&(jt.selfMicrophoneEnabled(fn),fn)){const Rn=(0,P.getFocusedWorkspace)(Ve),Kn=(0,_.getStoreInstanceByTeamId)(Rn);Kn==null||Kn.dispatch((0,Bs.LL)(Bs.vT.SpeakingWhenMuted))}break}case Fe.nU.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.sendReacji(fn.emoji,fn.reactionType);break}case Fe.M4.getType():{const fn=We.payload;if(jt&&jt.hasSession()){const Rn=(0,ps.l4)(Ve),Kn=(0,_.getStoreInstanceByTeamId)(Rn);if(!Kn)return;const ds=(0,os.pL)(Kn.getState()),fs=(0,ps.E9)(Ve),Es=(0,Ft.WR)(Kn.getState());if(fs){var Kt;if(((Kt=(0,Co.Fb)(Kn.getState(),fs,Es,ds?"self":void 0))===null||Kt===void 0?void 0:Kt.field_value)===fn)co(Ve,zs.RZ,ds),(0,ps.Rv)(Ve)&&fn!=="speaker"&&(Kn==null||Kn.dispatch((0,Or.a)({emoji:"speaker",reactionType:Gs.o.Sticker})));else{wo(Ve,zs.z7,fn,ds);const{huddleEventsTrace:Fs}=(0,Lt.A)().getAllTraceHandlers();Fs==null||Fs.update({name:Nt.p.REACTION,type:Nt.G.ONCE,tags:{reactionType:Gs.o.Sticker}})}}}break}case Fe.so.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.sendMuteRequest(fn);break}case Fe.ol.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.setAGC(fn);break}case Fe.HC.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.setNewPreferredDevice(fn==null?void 0:fn.id,fn==null?void 0:fn.type);break}case Fe.yR.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.setNoiseSuppression(fn);break}case Fe.Rb.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.setVideoBackgroundEffect(fn);break}case Fe.YA.getType():{const{huddlesVideoActive:fn,self:Rn}=ft(),Kn=We.payload,ds=!!(Rn!=null&&Rn.isCameraEnabled);if(jt&&jt.hasSession()){var mt,_n;const fs=(0,ps.l4)(Ve),Es=(0,_.getStoreInstanceByTeamId)(fs);fn?jt.selfVideoEnabled(ds,!0,Kn==null?void 0:Kn.mediaSourceId,Kn):jt.selfVideoEnabled(!1,!0,Kn==null?void 0:Kn.mediaSourceId,Kn);let Ds=(Kn==null||(mt=Kn.mediaSourceId)===null||mt===void 0?void 0:mt.startsWith("screen:"))||!1;!(Kn==null||(_n=Kn.mediaSourceId)===null||_n===void 0)&&_n.startsWith("window:")&&(0,vs.LD)()&&(Ds=!0),jt.selfDrawEnabled((0,xn.A)()&&Ds);const Fs=(0,vs.k0)((Kn==null?void 0:Kn.mediaSourceId)||"");jt.sendContentShareDetails(Fs),Es==null||Es.dispatch((0,$n.kT)({id:"self",isDrawEnabled:Ds,isCameraEnabled:ds,contentShareSource:Fs}))}break}case Fe.QZ.getType():{const{huddlesVideoActive:fn,self:Rn}=ft(),Kn=fn?Rn.isCameraEnabled:!1;if(jt&&jt.hasSession()){const ds=(0,ps.l4)(Ve),fs=(0,_.getStoreInstanceByTeamId)(ds);jt.selfVideoEnabled(!!Kn,!1),fs==null||fs.dispatch((0,$n.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case Ns.Oh.getType():return jt&&jt.hasSession()?jt.getScreenThumbnails():et.S.resolve(null);case Fe.nI.getType():{const fn=We.payload;if(jt&&jt.hasSession()){var Fn;const Rn=(0,ps.l4)(Ve),Kn=(0,_.getStoreInstanceByTeamId)(Rn);if(!Kn)return;const ds=(0,os.pL)(Kn.getState()),fs=(0,ps.E9)(Ve),Es=(0,Ft.WR)(Kn.getState());if(!fs)return;const Ds=(Fn=(0,Co.Fb)(Kn.getState(),fs,Es,ds?"self":void 0))===null||Fn===void 0?void 0:Fn.field_value;return(fn||Ds==="speaker")&&(0,_.dispatchForClientStore)((0,Or.a)({emoji:"speaker",reactionType:Gs.o.Sticker})),jt.toggleAllIncomingVideo(fn)}return et.S.resolve(null)}case Fe.WY.getType():{const fn=We.payload;if(jt&&jt.hasSession()){const Rn=(0,ps.l4)(Ve);if(!(0,_.getStoreInstanceByTeamId)(Rn))return;(0,ps.E9)(Ve)&&wo(Ve,zs.yT,fn.key)}break}case Fe.Lx.getType():{const fn=We.payload;jt&&jt.hasSession()&&jt.sendJukeboxRequest(fn.key);break}case Fe.OA.getType():{jt&&jt.hasSession()&&jt.sendJukeboxStopRequest();break}case Fe.Db.getType():{jt&&jt.hasSession()&&jt.sendRecordingStartNotification();break}case Fe.bk.getType():{const fn=We.payload;if(jt&&jt.hasSession()){const Rn=(0,ps.l4)(Ve),Kn=(0,_.getStoreInstanceByTeamId)(Rn);if(!(0,os.lV)(Kn.getState()))return;jt.startContentShareJukebox({song:fn.song})}break}case Fe.JM.getType():{if(jt&&jt.hasSession()){const fn=(0,ps.l4)(Ve),Rn=(0,_.getStoreInstanceByTeamId)(fn);if(!Rn||!(0,os.lV)(Rn.getState()))return;jt.selfStopJukebox(),co(Ve,zs.S)}break}case Ns.e$.getType():{if(jt&&jt.hasSession()){const fn=We.payload.mediaResourceType;return jt.maybeCheckSystemMediaAccess(fn)}return et.S.resolve(null)}case so.d2.getType():{if(jt&&jt.hasSession()){const{payload:{tileId:fn,videoRef:Rn,shouldAttachStream:Kn}}=We;jt.bindVideo(fn,Rn.current,Kn)}break}case so.gJ.getType():{if(jt&&jt.hasSession()){const{payload:{tileId:fn,videoRef:Rn,shouldDetachStream:Kn}}=We;jt.unbindVideo(fn,Rn.current,Kn)}break}case so.WY.getType():{if(jt&&jt.hasSession()){const{payload:{tileId:fn}}=We;jt.pauseVideo(fn)}break}case so.D8.getType():{if(jt&&jt.hasSession()){const{payload:{tileId:fn}}=We;jt.unpauseVideo(fn)}break}case Fe.WM.getType():{const fn=We.payload;if(jt&&jt.hasSession()){const Rn=(0,ps.l4)(Ve),Kn=(0,_.getStoreInstanceByTeamId)(Rn),ds=Kn==null?void 0:Kn.getState();if(!Kn){Ws.info("client-huddles-middleware","no team store found when user toggles video");return}if(!ds){Ws.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:fs}=ft(),Es=(0,$n.Ng)(ds);let Ds;(fn==null?void 0:fn.setVideoEnabled)!==void 0?Ds=fn.setVideoEnabled:Ds=!(Es!=null&&Es.isCameraEnabled),Ds?(Ws.info("client-huddles-middleware","user toggling ON video"),jt.setCameraQuality(...(0,zn.cg)()),fs?jt.maybeEnableSelfCamera({isScreenshareEnabled:Es.isScreenshareEnabled}):jt.maybeEnableSelfCamera()):(Ws.info("client-huddles-middleware","user toggling OFF video"),fs?jt.selfVideoEnabled(!1,!!(Es!=null&&Es.isScreenshareEnabled)):jt.selfVideoEnabled(!1,!1),Kn.dispatch((0,$n.kT)({id:"self",isCameraEnabled:!1})))}break}case so.cn.getType():{if(jt&&jt.hasSession()){const{payload:{tileId:fn}}=We;return(jt==null?void 0:jt.videoTileHasStream(fn))||!1}return et.S.resolve(!1)}case $n.xz.getType():{const{huddlesVideoActive:fn,self:Rn}=ft();jt&&We.payload.isContent&&(fn?jt.selfVideoEnabled(!!(Rn!=null&&Rn.isCameraEnabled),!1):jt.selfVideoEnabled(!1,!1));break}case Fe.Dj.getType():{jt!=null&&jt.hasSession()&&(jt==null||jt.initVideoPermission());break}case Fe._H.getType():{if(jt!=null&&jt.hasSession()){const{videoElement:fn,deviceId:Rn}=We.payload;jt.stopVideoPreviewForVideoInput(fn),jt.setCameraQuality(...(0,zn.cg)()),jt.requestPreviewStreamForDeviceId(Rn,Yn.lW.Camera,fn)}break}case Fe.yi.getType():{if(jt!=null&&jt.hasSession()){const fn=We.payload;jt.stopVideoPreviewForVideoInput(fn)}break}case Fe.Rr.getType():{const{self:fn}=ft();if(jt&&jt.hasSession()){const Rn=(fn==null?void 0:fn.contentShareSource)||as.R.Unknown;if(Rn!==as.R.Unknown){const Kn=(fn==null?void 0:fn.isDrawEnabled)||!1;jt.selfDrawEnabled((0,xn.A)()&&Kn),jt.sendContentShareDetails(Rn);const ds=(0,_.getStoreInstanceByTeamId)(We.payload.teamId);ds==null||ds.dispatch((0,$n.kT)({id:"self",isDrawEnabled:Kn}))}}break}case Fe.HF.getType():{const fn=We.payload.isHostDrawEnabled,Rn=(0,_.getStoreInstanceByTeamId)(We.payload.teamId);Rn==null||Rn.dispatch((0,$n.kT)({id:"self",isHostDrawEnabled:fn}));break}case Fe.B5.getType():{jt==null||jt.handleClientOffline();break}case Fe.f2.getType():{const fn=We.payload,{isStartMuted:Rn}=fn,{teamId:Kn}=(0,ps.Ak)(Ve)||{},ds=(0,P.getFocusedWorkspace)(Ve),fs=(0,_.getStoreInstanceByTeamId)(Kn||ds),{ttiTrace:Es}=(0,Lt.A)().getAllTraceHandlers();if(Es==null||Es.setMediaRegionTag(jt==null?void 0:jt.getMeetingMediaRegion()),fs&&Rn&&jt)return jt.completePrejoin(fn).then(()=>{fs.dispatch((0,$n.kT)({id:"self",isMicrophoneEnabled:!1}))});if(jt)return jt.completePrejoin({});break}case Fe.xq.getType():{const fn=We.payload.contentViewType,Rn=We.payload.contentViewConfig;if(jt&&jt.hasSession()&&(0,ps.E9)(Ve)){var ns;const ds=(0,ps.l4)(Ve),fs=(0,_.getStoreInstanceByTeamId)(ds);if(!fs)return;const Es=(0,os.pL)(fs.getState());if(fn!==Gs.cM.Screenshare)co(Ve,zs.Lm,Es);else if(!(Rn==null||(ns=Rn.item)===null||ns===void 0)&&ns.id){let Ds;if(Rn.item.id==="self")Ds=(0,Ft.WR)(fs.getState());else{var Cs;Ds=(Cs=(0,$n.jB)(fs.getState(),Rn.item.id))===null||Cs===void 0?void 0:Cs.userId}wo(Ve,zs.fv,Ds,Es)}}break}default:return Ce(We)}return null});Pr.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const _i=Pr;Object.defineProperty({huddlesSdk:jt},"huddlesSdk",{get:()=>jt,set:Pe=>{jt=Pe}});var Io=e(4653418008),Mo=e(3328068409);const Sr=(0,tt.Ay)("Broadcast client theme state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Mo.to)(mt),broadcastAction:mt=>(0,Io.yg)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Mo.FW)(mt),broadcastAction:mt=>(0,Io.kl)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Mo.VD)(mt),broadcastAction:mt=>(0,Io.LA)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Mo.pg)(mt),broadcastAction:mt=>(0,Io.Th)(mt)}),ft});Sr.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const mi=Sr;var hi=e(1201539379),fi=e(4172221507),pi=e(7331033739),vi=e(8707579690),Ei=e(2779520532),gi=e(7128275929),Ai=e(9341298);const Rr=(0,tt.Ay)("Broadcast view layout state across all teams",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>{var _n,Fn;return`${mt==null||(_n=mt.viewLayout)===null||_n===void 0?void 0:_n.sidebarWidthIntent}-${mt==null||(Fn=mt.viewLayout)===null||Fn===void 0?void 0:Fn.sidebarWidthMode}`},broadcastAction:mt=>{const _n=mt.split("-");return(0,Ei.R)({sidebarWidthIntent:Number(_n[0]),sidebarWidthMode:_n[1]})}}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>{var _n,Fn;return`${mt==null||(_n=mt.viewLayout)===null||_n===void 0?void 0:_n.sidebarWideWidthIntent}-${mt==null||(Fn=mt.viewLayout)===null||Fn===void 0?void 0:Fn.sidebarWideWidthMode}`},broadcastAction:mt=>{const _n=mt.split("-");return(0,Ai.q)({sidebarWideWidthIntent:Number(_n[0]),sidebarWideWidthMode:_n[1]})}}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>{var _n,Fn;return`${mt==null||(_n=mt.viewLayout)===null||_n===void 0?void 0:_n.sidebarExtraWideWidthIntent}-${mt==null||(Fn=mt.viewLayout)===null||Fn===void 0?void 0:Fn.sidebarExtraWideWidthMode}`},broadcastAction:mt=>{const _n=mt.split("-");return(0,gi.a)({sidebarExtraWideWidthIntent:Number(_n[0]),sidebarExtraWideWidthMode:_n[1]})}}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,ke.Vo)(mt),broadcastAction:mt=>(0,fi.F)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,ke.v8)(mt),broadcastAction:mt=>(0,hi.mV)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,ke.r8)(mt),broadcastAction:mt=>(0,pi.v)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>{var _n,Fn;return`${mt==null||(_n=mt.viewLayout)===null||_n===void 0?void 0:_n.secondaryWidthIntent}-${mt==null||(Fn=mt.viewLayout)===null||Fn===void 0?void 0:Fn.secondaryWidthMode}`},broadcastAction:mt=>{const _n=mt.split("-");return(0,vi.J)({secondaryWidthIntent:Number(_n[0]),secondaryWidthMode:_n[1]})}}),ft});Rr.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const yi=Rr;var uo=e(2591023465),Ho=e(3674298388),oo=e(7489442332);const Lr=(0,m.Ay)("Set the user-specified sidebar width and mode",(Pe,Ce,We)=>{let{inspectorWidthIntent:Ve,inspectorWidthMode:ft}=We;(0,de.q9)(oo.j0,Ve),(0,de.q9)(oo.mu,ft),Pe((0,uo.lT)({inspectorWidthIntent:Ve,inspectorWidthMode:ft}))});Lr.meta={name:"createThunk",key:"createThunksetInspectorColumn",description:"Set the user-specified sidebar width and mode"};const kr=(0,m.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(Pe,Ce,We)=>{(0,de.q9)(oo.jG,We),Pe((0,uo.KY)(We))});kr.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"};const br=(0,m.Ay)("Set the user-specified sidebar width and mode",(Pe,Ce,We)=>{let{sidebarWidthIntent:Ve,sidebarWidthMode:ft}=We;(0,de.q9)(oo.ke,Ve),(0,de.q9)(oo.ts,ft),Pe((0,uo.SP)({sidebarWidthIntent:Ve,sidebarWidthMode:ft}))});br.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"};const xr=(0,m.Ay)("Sets whether or not the user prefers a responsive sidebar",(Pe,Ce,We)=>{(0,it.A)(Ce())&&(0,de.q9)(oo.Lb,We),Pe((0,uo.iJ)(We))});xr.meta={name:"createThunk",key:"createThunksetUserPrefersResponsiveSidebar",description:"Sets whether or not the user prefers a responsive sidebar"};const Br=(0,tt.Ay)("Broadcast client theme state to other stores",(Pe,Ce,We)=>{const Ve=Pe.getState(),ft=Ce(We),rt=Pe.getState(),Kt=(0,P.getBootedWorkspaces)(rt);return dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>{var _n,Fn;return`${mt==null||(_n=mt.workspaceLayout)===null||_n===void 0?void 0:_n.sidebarWidthIntent}-${mt==null||(Fn=mt.workspaceLayout)===null||Fn===void 0?void 0:Fn.sidebarWidthMode}`},broadcastAction:mt=>{const _n=mt.split("-");return br({sidebarWidthIntent:Number(_n[0]),sidebarWidthMode:_n[1]})}}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Ho.Vo)(mt),broadcastAction:mt=>kr(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Ho.r8)(mt),broadcastAction:mt=>(0,uo.vm)(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>(0,Ho.xx)(mt),broadcastAction:mt=>xr(mt)}),dn({state:rt,prevState:Ve,workspaces:Kt,broadcastSelector:mt=>{var _n,Fn;return`${mt==null||(_n=mt.workspaceLayout)===null||_n===void 0?void 0:_n.inspectorWidthIntent}-${mt==null||(Fn=mt.workspaceLayout)===null||Fn===void 0?void 0:Fn.inspectorWidthMode}`},broadcastAction:mt=>{const _n=mt.split("-");return Lr({inspectorWidthIntent:Number(_n[0]),inspectorWidthMode:_n[1]})}}),ft});Br.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspaceLayoutMiddleware",description:"Broadcast client theme state to other stores"};const Ti=Br;var Ci=e(9524650809),Ur=e(1649982175),Nr=e(352142497),_o=e(2870224675),Ii=e(9932860381),Wr=e(3034856104);const Mi=50;function Fr(){return(0,Ci.A)("tabSoda_")}c(Fr,"generateTabSodaTabId");function Oi(){return{activeTab:void 0,tabs:{},tabOrder:[]}}c(Oi,"getInitialState");function Di(Pe,Ce){if(Pe&&Ce){var We,Ve,ft,rt;const _n=(We=Pe[Pe[cn.jf]])===null||We===void 0?void 0:We.primary,Fn=(Ve=Pe[Pe[cn.jf]])===null||Ve===void 0?void 0:Ve.secondary,ns=(ft=Ce[Ce[cn.jf]])===null||ft===void 0?void 0:ft.primary,Cs=(rt=Ce[Ce[cn.jf]])===null||rt===void 0?void 0:rt.secondary;if(Pe.teamId===Ce.teamId&&Pe[cn.jf]===Ce[cn.jf]&&(_n==null?void 0:_n.id)===(ns==null?void 0:ns.id)&&(Fn==null?void 0:Fn.id)===(Cs==null?void 0:Cs.id)){var Kt,mt;return!((_n==null?void 0:_n.viewType)===Nr.D.Thread&&(ns==null?void 0:ns.viewType)===Nr.D.Thread&&(_n==null||(Kt=_n.params)===null||Kt===void 0?void 0:Kt.threadId)!==(ns==null||(mt=ns.params)===null||mt===void 0?void 0:mt.threadId))}}return!1}c(Di,"areViewsSame");function Kr(Pe){let{reducerState:Ce,entry:We,eventType:Ve}=Pe,ft=Ce.activeTab,rt=[...Ce.tabOrder];ft||(ft=Fr(),rt.push(ft));const Kt=Ce.tabs[ft]||[];let mt={...Ce.tabs};if(mt[ft]=[We,...Ve==="replace"?Kt.slice(1):Kt].slice(0,Mi),!Kt.length){const _n=Ce.tabOrder.find(Fn=>{var ns;return Di(We,(ns=Ce.tabs[Fn])===null||ns===void 0?void 0:ns[0])});_n&&ft!==_n&&(rt=Ce.tabOrder.filter(Fn=>Fn!==ft),mt=(0,Ur.A)(Ce.tabs,ft),ft=_n)}return{activeTab:ft,tabs:mt,tabOrder:rt}}c(Kr,"getTabSodaStateFromWindowHistoryEvent");const Pi=Oi(),Si=(0,ae.vy)({},Pi,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(_o.nz,(Pe,Ce)=>{let{setAsActive:We}=Ce;const Ve=Fr(),ft={...Pe.tabs,[Ve]:[]},rt=[...Pe.tabOrder],Kt=Pe.activeTab?rt.indexOf(Pe.activeTab):-1;return rt.splice(Kt+1,0,Ve),{activeTab:We?Ve:Pe.activeTab,tabs:ft,tabOrder:rt}}).on(_o.yw,(Pe,Ce)=>({...Pe,activeTab:Ce})).on(_o.oT,(Pe,Ce)=>{const{activeTab:We,tabs:Ve,tabOrder:ft}=Pe;let rt=We;Ce===We&&(rt=(0,Ii.fe)(We,ft));const Kt=[...ft],mt=ft.indexOf(Ce);Kt.splice(mt,1);const _n={...Ve};return delete _n[Ce],{tabs:_n,tabOrder:Kt,activeTab:rt}}).on(_o.ez,(Pe,Ce)=>{const We=Pe.tabs[Ce]||[],Ve={...Pe.tabs,[Ce]:[...We.slice(1)]};return{...Pe,tabs:Ve}}).on(_o.Uz,(Pe,Ce)=>({...Pe,tabOrder:Ce})).on(Qn.y2,(Pe,Ce)=>{let{entry:We}=Ce;return(0,Wr.H)(We)?Kr({eventType:"push",reducerState:Pe,entry:We}):Pe}).on(Qn.HQ,(Pe,Ce)=>{let{entry:We}=Ce;return(0,Wr.H)(We)?Kr({eventType:"replace",reducerState:Pe,entry:We}):Pe});var Ri=e(6027162153),Li=e(9087248458),ki=e(5503876160),Qs=e(9139930183);const bi={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},xi="WORKSPACES",wr=16,Bi=(0,Qs.Ay)({},bi,{storeKey:"workspaces",persistenceEnabled:!0}).on(i.initialize,(Pe,Ce)=>Ui(Pe,Ce)).on(i.setDidBootAllWorkspaces,Pe=>({...Pe,didBootAllWorkspaces:!0})).on(i.setWorkspaceOrder,(Pe,Ce)=>Ni(Pe,Ce)).on(i.setWorkspaceBooted,(Pe,Ce)=>Wi(Pe,Ce)).on(i.setWorkspaceFailedToBoot,(Pe,Ce)=>Fi(Pe,Ce)).on(i.setWorkspaceNeeds2FASetup,(Pe,Ce)=>Ki(Pe,Ce)).on(i.setWorkspaceNeedsToAcceptCustomTOS,(Pe,Ce)=>wi(Pe,Ce)).on(i.setNavigateToUnbootedWorkspace,(Pe,Ce)=>({...Pe,navigateToUnbootedWorkspace:Ce})).on(i.setWorkspaceIsMigrating,(Pe,Ce)=>Hi(Pe,Ce)).on(i.setWorkspaceMigrationIsComplete,(Pe,Ce)=>Vi(Pe,Ce)).on(i.setWorkspaceIsAccessLimited,(Pe,Ce)=>ji(Pe,Ce)).on(i.setUserNotMemberOfAnyWorkspaceInOrg,(Pe,Ce)=>Gi(Pe,Ce)).on(i.setUserRequiresMobileLogin,(Pe,Ce)=>zi(Pe,Ce)).on(i.addWorkspace,function(Pe){let{id:Ce,meta:We}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ce||!We)throw new Error("'id' and 'meta' are both required when adding a workspace");if(Pe.allWorkspaces.includes(Ce))return(0,s.Wo)({label:xi}).warn(`Cannot add workspace; it is already present: ${Ce}`),Pe;const{allWorkspaces:Ve,workspacesMeta:ft}=Pe;return{...Pe,allWorkspaces:[...Ve,Ce],workspacesMeta:{...ft,[Ce]:We}}}).on(i.updateWorkspaceMeta,function(Pe){let{id:Ce,meta:We}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:Ve}=Pe;if(!Ve[Ce])throw new Error(`Cannot update workspace meta for ${Ce}; no such team`);return{...Pe,workspacesMeta:{...Ve,[Ce]:We}}}).on(i.internalSetFocusedWorkspaceType,(Pe,Ce)=>({...Pe,focusedWorkspace:Ce,recentlyFocusedWorkspaces:$i(Pe.recentlyFocusedWorkspaces,Ce)})).on(i.internalRemoveWorkspaceType,(Pe,Ce)=>({...Pe,allWorkspaces:(0,Ri.A)(Pe.allWorkspaces,Ce)})).on(i.addRemovedWorkspace,(Pe,Ce)=>Qi(Pe,Ce));function Ui(Pe){let{focusedWorkspace:Ce,allWorkspaces:We,workspacesMeta:Ve}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pe.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!Ce)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!We)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(We.indexOf(Ce)<0)throw new Error(`workspaces-store:initialize ${Ce} is not one of the valid workspaces: ${We}`);return{...Pe,focusedWorkspace:Ce,allWorkspaces:We,workspacesMeta:Ve,recentlyFocusedWorkspaces:[Ce]}}c(Ui,"initializeWorkspacesState");function Ni(Pe,Ce){const We=Pe.allWorkspaces;if((0,Li.A)(We,Ce).length!==We.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,de.q9)("orderedTeamIds",Ce),{...Pe,allWorkspaces:Ce}}c(Ni,"updateWorkspaceOrder");function Wi(Pe,Ce){const We=Pe.bootedWorkspaces.includes(Ce)?Pe.bootedWorkspaces:[...Pe.bootedWorkspaces,Ce];return{...Pe,bootedWorkspaces:We}}c(Wi,"updateWorkspaceBooted");function Fi(Pe,Ce){if(!Ce)return Pe;const We=Pe.failedToBootWorkspaces.includes(Ce)?Pe.failedToBootWorkspaces:[...Pe.failedToBootWorkspaces,Ce];return{...Pe,failedToBootWorkspaces:We}}c(Fi,"updateWorkspaceFailedToBoot");function Ki(Pe,Ce){if(!Ce)return Pe;const We=Pe.needs2FASetup.includes(Ce)?Pe.needs2FASetup:[...Pe.needs2FASetup,Ce];return{...Pe,needs2FASetup:We}}c(Ki,"updateWorkspaceNeeds2FASetup");function wi(Pe,Ce){if(!Ce)return Pe;const We=Pe.needsToAcceptCustomTOS.find(Ve=>{let{teamId:ft}=Ve;return Ce.teamId===ft})?Pe.needsToAcceptCustomTOS:[...Pe.needsToAcceptCustomTOS,Ce];return{...Pe,needsToAcceptCustomTOS:We}}c(wi,"updateWorkspaceNeedsToAcceptCustomTOS");function Hi(Pe,Ce){let{teamId:We,migrationId:Ve,canViewMigrationStatus:ft}=Ce;if(!We)return Pe;const{migratingWorkspaces:rt}=Pe;return{...Pe,migratingWorkspaces:{...rt,[We]:{migrationId:Ve,canViewMigrationStatus:ft}}}}c(Hi,"updateWorkspaceIsMigrating");function Vi(Pe,Ce){if(!Ce)return Pe;const We=Pe.completedMigrationWorkspaces.includes(Ce)?Pe.completedMigrationWorkspaces:[...Pe.completedMigrationWorkspaces,Ce];return{...Pe,completedMigrationWorkspaces:We}}c(Vi,"updateWorkspaceMigrationIsComplete");function ji(Pe,Ce){if(!Ce)return Pe;const We=Pe.accessLimitedWorkspaces.includes(Ce)?Pe.accessLimitedWorkspaces:[...Pe.accessLimitedWorkspaces,Ce];return{...Pe,accessLimitedWorkspaces:We}}c(ji,"updateWorkspaceIsAccessLimited");function Gi(Pe,Ce){if(!Ce)return Pe;const We=Pe.userNotMemberOfAnyWorkspaceInOrg.includes(Ce)?Pe.userNotMemberOfAnyWorkspaceInOrg:[...Pe.userNotMemberOfAnyWorkspaceInOrg,Ce];return{...Pe,userNotMemberOfAnyWorkspaceInOrg:We}}c(Gi,"updateUserNotMemberOfAnyWorkspaceInOrg");function zi(Pe,Ce){if(!Ce)return Pe;const We=Pe.userRequiresMobileLogin.includes(Ce)?Pe.userRequiresMobileLogin:[...Pe.userRequiresMobileLogin,Ce];return{...Pe,userRequiresMobileLogin:We}}c(zi,"updateUserRequiresMobileLogin");function $i(Pe,Ce){const We=[Ce,...Pe.filter(Ve=>Ve!==Ce)];return We.length>wr?(0,ki.A)(We,wr):We}c($i,"updateRecentlyFocusedWorkspaces");function Qi(Pe,Ce){if(!Ce)return Pe;const We=Pe.removedWorkspaces.includes(Ce)?Pe.removedWorkspaces:[...Pe.removedWorkspaces,Ce];return{...Pe,removedWorkspaces:We}}c(Qi,"updateRemovedWorkspaces");var Yi=e(7798793495),Xi=e(8749931423),Ji=e(7206394193),Zi=e(773865333),qi=e(7156104699),el=e(8333842125),tl=e(582577127),nl=e(2732935554),sl=e(3034787354),ol=e(4614661813),rl=e(2140362605);const Vo=(0,rl.Ay)("sets the client side effect map on the store");Vo.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const al={clientSideEffectsMap:{}},il=(0,Qs.Ay)({},al,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(Vo,(Pe,Ce)=>({...Pe,clientSideEffectsMap:Ce}));var ll=e(5923036663),cl=e(6168781067),dl=e(7902571278),ul=e(56562029);const _l={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[]},ml=(0,Qs.Ay)({},_l,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(Fe.VU,(Pe,Ce)=>Pe.isHuddlesEnabled?Pe:{...Pe,isHuddlesEnabled:Ce}).on(Fe.xf,(Pe,Ce)=>({...Pe,mostRecentHuddle:Ce})).on(Fe.Rh,(Pe,Ce)=>{const{mostRecentHuddle:We}=Pe;if(!We||Ce.teamId&&Ce.teamId!==We.teamId||Ce.channelId&&Ce.channelId!==We.channelId)return Pe;const Ve={...Pe,mostRecentHuddle:{...We,...Ce}},ft=Ve.mostRecentHuddle;return ft&&(0,s.Wo)().info(no.o7,`updateActiveHuddleReference huddleState ${ft.huddleState}, substate ${ft.huddleSubState}, optimisticState ${ft.optimisticHuddleState}`),Ve}).on(Fe.Jc,(Pe,Ce)=>{const{mostRecentHuddle:We}=Pe;return!We||Ce===We.channelId?Pe:{...Pe,mostRecentHuddle:{...We,channelId:Ce}}}).on(Fe.hB,(Pe,Ce)=>({...Pe,activeInvite:Ce,unreadInvites:[...Pe.unreadInvites,{invite:Ce,receivedTimestampMs:Date.now()}]})).on(Fe.fP,(Pe,Ce)=>{let{teamId:We,markBeforeMs:Ve}=Ce;const ft=Pe.unreadInvites.filter(rt=>rt.invite.teamId!==We||rt.receivedTimestampMs>Ve);return Pe.unreadInvites.length===ft.length?Pe:{...Pe,unreadInvites:ft}}).on(Fe.u8,(Pe,Ce)=>{var We;return{...Pe,unreadInvites:Pe.unreadInvites.filter(Ve=>Ve.invite.channelId!==Ce),activeInvite:((We=Pe.activeInvite)===null||We===void 0?void 0:We.channelId)!==Ce?Pe.activeInvite:void 0}}).on(Fe.Ko,(Pe,Ce)=>Pe.forceMiniPanelVisible===Ce?Pe:{...Pe,forceMiniPanelVisible:Ce}).on(Fe.Yi,(Pe,Ce)=>{let{channelId:We,joinCredentials:Ve,expiry:ft,fromInvite:rt}=Ce;var Kt;if(!We||!Ve)return Pe;const mt=Pe.channelToJoinCredentials;mt[We]={credentials:Ve,expiry:ft,fromInvite:rt};const _n=(Kt=Pe.activeInvite)===null||Kt===void 0?void 0:Kt.teamId;return _n&&(0,qs.Cy)({state:(0,_.getStateByTeamId)(_n)}).count(Os.ir),{...Pe,channelToJoinCredentials:mt}}).on(Fe.WB,(Pe,Ce)=>{let{channelId:We}=Ce;if(!We)return Pe;if(Pe.channelToJoinCredentials[We]){var Ve;const ft=(Ve=Pe.activeInvite)===null||Ve===void 0?void 0:Ve.teamId;ft&&(0,qs.Cy)({state:(0,_.getStateByTeamId)(ft)}).count(Os.sQ)}return{...Pe,channelToJoinCredentials:(0,Ur.A)(Pe.channelToJoinCredentials,[We])}}).on(Fe.aO,(Pe,Ce)=>Pe.showDiscoveryBanner===Ce?Pe:{...Pe,showDiscoveryBanner:Ce}).on(Fe.Ag,(Pe,Ce)=>Pe.isLoungeMusicPlaying===Ce?Pe:{...Pe,isLoungeMusicPlaying:!!Ce}).on(Fe._U,(Pe,Ce)=>Pe.lastStartTs===Ce?Pe:{...Pe,lastStartTs:Ce}).on(Fe.bV,(Pe,Ce)=>Pe.lastEndTs===Ce?Pe:{...Pe,lastEndTs:Ce}).on(Fe.qr,(Pe,Ce)=>Pe.lastDurationTs===Ce?Pe:{...Pe,lastDurationTs:Ce}).on(Fe.Gx,(Pe,Ce)=>Pe.screenshareActivePanel===Ce?Pe:{...Pe,screenshareActivePanel:Ce}).on(Fe.cx,Pe=>({...Pe,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1})).on(Fe._u,(Pe,Ce)=>{let{song:We}=Ce;return Pe.songPlaying===(We==null?void 0:We.key)?Pe:{...Pe,songPlaying:We==null?void 0:We.key}}).on(Fe.nw,(Pe,Ce)=>Pe.canRenderActiveInviteCardInSidebar===Ce?Pe:{...Pe,canRenderActiveInviteCardInSidebar:Ce}).on(Fe.o9,(Pe,Ce)=>Pe.isHuddleWindowFocused===Ce?Pe:{...Pe,isHuddleWindowFocused:Ce}).on(Fe.TK,(Pe,Ce)=>Pe.isHuddleWindowOpen===Ce?Pe:{...Pe,isHuddleWindowOpen:Ce}).on(Fe.kg,(Pe,Ce)=>Pe.isAudioOnlyModeEnabled===Ce?Pe:{...Pe,isAudioOnlyModeEnabled:Ce}).on(Fe.Hg,(Pe,Ce)=>Pe.wasCameraEnabledWhenAudioOnlyModeWasActivated===Ce?Pe:{...Pe,wasCameraEnabledWhenAudioOnlyModeWasActivated:Ce}).on(Fe.t2,(Pe,Ce)=>Pe.isHuddleMiniPlayerHidden===Ce?Pe:{...Pe,isHuddleMiniPlayerHidden:!!Ce}).on(Fe.og,(Pe,Ce)=>Pe.wasJoinedFromPrejoin===Ce?Pe:{...Pe,wasJoinedFromPrejoin:!!Ce}),Nl=100,Hr="client-ia-history",hl=[...Object.values(qo.mH)||[]];var Oo=e(1521690892);const fl=c(()=>{try{const Pe=localStorage.getItem(Hr);return Pe?JSON.parse(Pe):[]}catch(Pe){return(0,s.Wo)().error("Failed to read IA history from storage",Pe),[]}},"readStackFromStorage"),Do=c(Pe=>{try{localStorage.setItem(Hr,JSON.stringify(Pe))}catch(Ce){(0,s.Wo)().error("Failed to write IA history to storage",Ce)}},"writeStackToStorage"),pl=(0,Qs.Ay)({},{stack:fl()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Oo.nb,(Pe,Ce)=>{if(!Ce||hl.includes(Ce==null?void 0:Ce.primaryView))return Pe;const We=1e3,Ve=[Ce].concat(Pe.stack).slice(0,We);return window.setTimeout(()=>Do(Ve),0),{stack:Ve}}).on(Oo.JG,(Pe,Ce)=>{const We=Pe.stack.indexOf(Ce);if(We===-1)return Pe;const Ve=Pe.stack.slice();return Ve.splice(We,1),window.setTimeout(()=>Do(Ve),0),{stack:Ve}}).on(Oo.Si,Pe=>{if(!Pe.stack)return Pe;const Ce=Pe.stack.slice(0,1);return window.setTimeout(()=>Do(Ce),0),{stack:Ce}}).on(Oo.kM,()=>{const Pe=[];return Do(Pe),{stack:Pe}}),vl=!0,Vr=(0,Qs.Ay)({},vl,{storeKey:"isClient",persistenceEnabled:!1});Vr.meta={name:"createReducer",key:"createReducerisClientReducer"};const El=Vr;let jr;try{var jo;jr=(jo=(0,de.W6)($t.Vb))!==null&&jo!==void 0?jo:void 0}catch{}let Gr;try{var Go;Gr=(Go=(0,de.W6)($t._J))!==null&&Go!==void 0?Go:void 0}catch{}let zr;try{var zo;zr=(zo=(0,de.W6)($t.UY))!==null&&zo!==void 0?zo:void 0}catch{}const gl={invertedSidebar:jr,peeksEnabledOnMouseEnter:Gr,zoom:zr},Al=(0,Qs.Ay)({},gl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(kt.p$,(Pe,Ce)=>({...Pe,invertedSidebar:Ce})).on(kt.rB,(Pe,Ce)=>({...Pe,peeksEnabledOnMouseEnter:Ce})).on(kt.x8,(Pe,Ce)=>({...Pe,zoom:Ce}));var yl=e(1838435986),Tl=e(3180420025),Po=e(1302213854);const Cl={shouldLogAppBootMetrics:!0,shouldLogTeamSwitchMetrics:!1,shouldLogTTVMetrics:!0,shouldLogTTUMetrics:!0},Il=(0,Qs.Ay)({},Cl,{storeKey:"telemetry",persistenceEnabled:!0}).on(Po.C7,(Pe,Ce)=>({...Pe,shouldLogAppBootMetrics:Ce})).on(Po.Mb,(Pe,Ce)=>({...Pe,shouldLogTeamSwitchMetrics:Ce})).on(Po.Ln,(Pe,Ce)=>({...Pe,shouldLogTTVMetrics:Ce})).on(Po.UM,(Pe,Ce)=>({...Pe,shouldLogTTUMetrics:Ce}));var $o=e(2696160384);const $r={isDocked:!1,miniPlayerConfig:{fileId:""}},Ml=(0,Qs.Ay)({},$r,{storeKey:"videoClips",persistenceEnabled:!1}).on($o.FI,(Pe,Ce)=>({...Pe,isDocked:Ce})).on($o.D_,(Pe,Ce)=>{let{fileId:We,teamId:Ve,mediaId:ft,channelId:rt,threadTs:Kt,timeElapsed:mt,isPlaying:_n}=Ce;return{...Pe,miniPlayerConfig:{fileId:We,teamId:Ve,mediaId:ft,channelId:rt,threadTs:Kt,timeElapsed:mt,isPlaying:_n}}}).on($o.Sr,Pe=>({...Pe,...$r}));var Ol=e(9813790040),Dl=e(4256476552),Pl=e(894072650);function Qr(){let{extraMiddlewares:Pe=[],customEnhancers:Ce=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const We=(0,el.A)({teamOrEnterpriseId:"client",middlewares:[...Pe,Ji.A,n.P,Zi.A,es,Tn,mi,Ti,yi,Vt,Ht,pn,Hn,vn,qi.N,_i],customEnhancers:Ce}),Ve=(0,Xi.A)({workspaces:Bi,window:Dl.A,telemetry:Il,connectivity:cl.A,accessibility:sl.A,accessibilityPersistent:nl.A,desktop:dl.A,clientTheme:ll.A,iaHistory:pl,mainWindowHistory:Rs,isClient:El,isState:Yi.G,workspaceLayout:Pl.A,viewLayout:Ol.A,noop:yl.A,clientHuddles:ml,clientSideEffects:il,recents:wn,overlays:Tl.y,tabSoda:Si,fullscreen:ul.G,bbm:ol.Y,videoClips:Ml,nonBBMSettings:Al});return(0,t.Yl)(Ve,We)}c(Qr,"createClientStore");function Sl(){const Pe=(0,_.getClientStoreInstance)();if(Pe)return(0,s.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),Pe;const Ce=Qr();(0,_.setClientStoreInstance)(Ce);const{clientSideEffectsMap:We,sideEffectsMap:Ve}=(0,tl.g)(_s);if(Object.keys(Ve).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return Ce.dispatch(Vo(We)),Ce}c(Sl,"configureClientStore");const wl={createClientStore:Qr}},3803432550:(Q,C,e)=>{"use strict";e.d(C,{x:()=>m});var t=e(8148939499),n=e(6508028729),s=e(4423055085),r=e(4496040127),d=e(4919185865),o=e(1535672935),a=e(9012396182),i=e(6533394955);function m(_){if(!_||(0,i.getClientStoreInstance)())return;const v=(0,d.A)(),u=(0,r.VA)()?(0,t.A)():[_],h=(0,n.A)();v.dispatch((0,o.initialize)({focusedWorkspace:_,allWorkspaces:u,workspacesMeta:h})),l(v)}c(m,"initializeClientStore");function l(_){(0,s.ul)("clientStore",_),(0,s.zv)("teamIds",()=>{const u=_.getState();return a.getAllWorkspaces(u)}),(0,s.zv)("activeTeam",()=>{const u=_.getState(),h=a.getFocusedWorkspace(u);return window.slackDebug[h]}),(0,s.zv)("activeTeamId",()=>{const u=_.getState();return a.getFocusedWorkspace(u)}),(0,s.zv)("activeEnterprise",()=>{var u,h;const f=_.getState(),p=(u=a.getWorkspacesMeta(f))===null||u===void 0||(h=u[a.getFocusedWorkspace(f)])===null||h===void 0?void 0:h.enterprise_id;return window.slackDebug[p]});const v={};Object.keys(o).forEach(u=>{v[u]=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];return _.dispatch(o[u](...f))}}),Object.keys(a).forEach(u=>{v[u]=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];return a[u](_.getState(),...f)}}),(0,s.ul)("clientStore.workspaces",v)}c(l,"setupClientStoreDebugger")},4460213392:(Q,C,e)=>{"use strict";e.d(C,{BY:()=>r,Cy:()=>n,DU:()=>o,RA:()=>i,es:()=>d,nR:()=>s,uM:()=>a});var t=e(2140362605);const n=(0,t.Ay)("Priority prototype: Set sidebar priority toggle state");n.meta={name:"createAction",key:"createActionsetPrioritySidebarToggleSelected",description:"Priority prototype: Set sidebar priority toggle state"};const s=(0,t.Ay)("Priority prototype: Upserts strings from conversations.recommend to priority store");s.meta={name:"createAction",key:"createActionupsertPriorityChannelIds",description:"Priority prototype: Upserts strings from conversations.recommend to priority store"};const r=(0,t.Ay)("Priority prototype: Upserts strings from users.recommend to priority store");r.meta={name:"createAction",key:"createActionupsertPriorityUserIds",description:"Priority prototype: Upserts strings from users.recommend to priority store"};const d=(0,t.Ay)("Priority prototype: Removes user ids from priority store");d.meta={name:"createAction",key:"createActionremovePriorityUserIds",description:"Priority prototype: Removes user ids from priority store"};const o=(0,t.Ay)("Priority prototype: Resets priority user ids with data from vip_users pref");o.meta={name:"createAction",key:"createActionsetPriorityUserIdsFromPref",description:"Priority prototype: Resets priority user ids with data from vip_users pref"};const a=(0,t.Ay)("Priority prototype: reset priority store");a.meta={name:"createAction",key:"createActionresetPriority",description:"Priority prototype: reset priority store"};const i=(0,t.Ay)("Priority prototype: sets loading state for Priority");i.meta={name:"createAction",key:"createActionsetPriorityLoading",description:"Priority prototype: sets loading state for Priority"}},2499661372:(Q,C,e)=>{"use strict";e.d(C,{C:()=>i});var t=e(9706240641),n=e.n(t),s=e(5980399196),r=e(4460213392),d=e(6795500641),o=e(1031947056),a=e(387484329);const i=(0,o.Ay)("Add/remove user from priority status",function(){var m=(0,t.coroutine)(function*(l,_,v){if(!v)return;const u=_();let h=(0,d.MY)(u)||[];return(0,d.mF)(u,v)?(l((0,r.es)({userIds:[v]})),h=(0,s.A)(h,[v])):(l((0,r.BY)({userIds:[v]})),h.push(v)),l((0,a.AZ)({pref:"vip_users",value:h.join(",")}))});return function(l,_,v){return m.apply(this,arguments)}}());i.meta={name:"createThunk",key:"createThunktogglePriorityUserById",description:"Add/remove user from priority status"}},2870224675:(Q,C,e)=>{"use strict";e.d(C,{Uz:()=>o,ez:()=>s,nz:()=>n,oT:()=>d,yw:()=>r});var t=e(2140362605);const n=(0,t.Ay)("Adds a new emtpy tab-soda tab");n.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const s=(0,t.Ay)("Removes the recent history entry from a tab soda tab");s.meta={name:"createAction",key:"createActiontabSodaPopHistoryForTab",description:"Removes the recent history entry from a tab soda tab"};const r=(0,t.Ay)("Select a tab by id");r.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const d=(0,t.Ay)("Remove a tab soda tab");d.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const o=(0,t.Ay)("Re-order tab soda tabs");o.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},9932860381:(Q,C,e)=>{"use strict";e.d(C,{Fp:()=>o,Xy:()=>d,fe:()=>r});var t=e(6471801899),n=e(8040098042),s=e(2960290117);function r(a,i){const m=i.indexOf(a),l=m<i.length-1?m+1:m-1;return l>=0?i[l]:void 0}c(r,"tabSodaGetNextActiveTab");function d(a){return(0,n.A)(a)||a==="thread"}c(d,"canOpenInTabSodaTab");function o(a){return(0,s.Ay)(a)||(0,t.pI)(a)||(0,t.or)(a)||(0,n.A)(a)||a==="thread"||a==="comment_thread"}c(o,"tabSodaCanViewBeEjected")},7176966205:(Q,C,e)=>{"use strict";e.d(C,{$:()=>u});var t=e(5267010247),n=e(8822892075),s=e(395285811),r=e(8393662842),d=e(3634593162),o=e(3110884894),a=e(2823938397),i=e(8040098042),m=e(2870224675),l=e(1031947056),_=e(6533394955),v=e(937317117);const u=(0,l.Ay)("Opens a view in a new tab",function(h,f){let{viewId:p,params:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=f(),A=(0,m.nz)({setAsActive:!0});if(!p)return(0,_.dispatchForClientStore)(A);if(p&&(0,i.A)(p))return(0,_.dispatchForClientStore)(A),h((0,t.o)((0,n.pr)(p)));if(p==="thread"&&(E!=null&&E.threadId)){const{channelId:y,threadTs:T}=(0,o.Sb)(E==null?void 0:E.threadId);if(y&&T){if((0,_.dispatchForClientStore)(A),(0,s.OR)(g,y)){const P=(0,d.l)(y),L=(0,v.Lp)(g,P);if(L&&(0,a.uz)(L)&&(0,r.DQ)(L))return h((0,t.o)((0,n.m3)({channelId:y,threadTs:T})))}const{replyTs:O,highlightRoot:I,dangerouslyOverrideRouting:D}=E;return h((0,t.o)((0,n.UX)({channelId:y,threadTs:T,replyTs:O,highlightRoot:I,dangerouslyOverrideRouting:D})))}}});u.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4326266690:(Q,C,e)=>{"use strict";e.d(C,{B:()=>d,fK:()=>r,lw:()=>a,ud:()=>o});var t=e(9932860381),n=e(2384831516),s=e(3193155968);const r=(0,n.Mz)(i=>i.tabSoda);r.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:i=>i.tabSoda};const d=(0,n.Mz)(i=>{const m=r(i);return m.activeTab?m.tabs[m.activeTab]:[]});d.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:i=>{const m=r(i);return m.activeTab?m.tabs[m.activeTab]:[]}};const o=(0,n.Mz)(i=>{const m=r(i);return m.activeTab?m.tabs[m.activeTab].length<2:!1});o.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:i=>{const m=r(i);return m.activeTab?m.tabs[m.activeTab].length<2:!1}};const a=(0,n.Mz)((i,m)=>{var l,_,v;const h=(l=r(i).tabs[m])===null||l===void 0?void 0:l[0],f=h==null?void 0:h.teamId;if(!h||!f)return!1;const p=h==null?void 0:h[s.jf],E=h==null||(_=h[p])===null||_===void 0||(v=_[s.mq.Primary])===null||v===void 0?void 0:v.id;return!!E&&(0,t.Fp)(E)});a.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(i,m)=>{var l,_,v;const h=(l=r(i).tabs[m])===null||l===void 0?void 0:l[0],f=h==null?void 0:h.teamId;if(!h||!f)return!1;const p=h==null?void 0:h[s.jf],E=h==null||(_=h[p])===null||_===void 0||(v=_[s.mq.Primary])===null||v===void 0?void 0:v.id;return!!E&&(0,t.Fp)(E)}}},8620339321:(Q,C,e)=>{"use strict";e.d(C,{UN:()=>v,oX:()=>h,wm:()=>u});var t=e(8224196674),n=e(109860581),s=e(2870224675),r=e(9932860381),d=e(1031947056),o=e(6533394955),a=e(9108490430),i=e(3193155968),m=e(9012396182),l=e(2554594353);const _=(0,d.Ay)("Update currently visible viewset as part of TabSoda tab switching",(f,p,E)=>{(0,o.dispatchForTeamId)(E.teamId,(0,a.cQ)(E)),m.getFocusedWorkspace&&l.b&&(0,m.getFocusedWorkspace)(p())!==E.teamId&&f((0,l.b)({teamId:E.teamId,fromNavigation:!0}));const{tabSoda:g}=p(),A=g.activeTab;if(A){const y=g.tabs[A][0],T=y[i.jf],M=y[T],O=E[i.jf],I=E[O];if(!I)return;(0,o.dispatchForTeamId)(E.teamId,(0,t.C)({prevViewSet:M,prevTab:T,nextViewSet:I,nextTab:O,windowId:i.N2,navigateParams:{},triggerType:n.w.HISTORY_NAVIGATION}))}});_.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const v=(0,d.Ay)("Switch current TabSoda tab",(f,p,E)=>{let{tabId:g}=E;const{tabSoda:A}=p();if(A.activeTab===g)return;const y=A.tabs[g][0];f(_(y)),f((0,s.yw)(g))});v.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const u=(0,d.Ay)("Close active TabSoda tab and switch to the nearest open tab",(f,p,E)=>{let{tabId:g}=E;const{tabSoda:A}=p(),y=A.activeTab,T=(0,r.fe)(y,A.tabOrder);if(g===y&&T){const M=A.tabs[T][0];f(_(M))}f((0,s.oT)(g))});u.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const h=(0,d.Ay)("Go back in history in a currently active TabSoda tab",(f,p)=>{const{tabSoda:E}=p(),g=E.activeTab;if(E.tabs[g].length<2)return;const A=E.tabs[g][1];f(_(A)),f((0,s.ez)(g))});h.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"}},4766735965:(Q,C,e)=>{"use strict";e.d(C,{A:()=>E});var t=e(2664504268),n=e(9121100949),s=e(2527782504),r=e(2495064448),d=e(2689960678),o=e(735940183),a=e(4496040127),i=e(9012396182),m=e(1031947056),l=e(6533394955),_=e(8439865561),v=e(1201539379),u=e(6290537170),h=e(9733150292);const f=new o.Ay("team_picker"),p=(0,m.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(g,A){let{shouldTransitionFocus:y=!1,shouldAnnounceStateChange:T=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3?arguments[3]:void 0;const O=A();if(!(0,a.VA)())return;const I=(0,l.getClientStoreInstance)().getState();var D;if(((D=(0,i.getAllWorkspaces)(I))!==null&&D!==void 0?D:d.Ml).length<=1)return;const L=(0,u.v8)(O),k=!L;(0,h.q9)(n.WU,k),g((0,v.mV)(k)),(0,l.dispatchForClientStore)((0,v.mV)(k));const G=f.t("Workspaces tablist expanded"),b=f.t("Workspaces tablist collapsed");if(T&&g((0,_.rl)({message:L?b:G,uuid:(0,t.A)()})),!y)return;const{transitionFocusTo:W}=(0,r.$P)(A(),M),B=L?s.Ay.WORKSPACE_SWITCHER_MENU_BUTTON:s.Ay.WORKSPACE_SWITCHER_TAB_LIST;W({focusKey:B})});p.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const E=p},9143148823:(Q,C,e)=>{"use strict";e.d(C,{Ay:()=>r,c:()=>s});var t=e(6422693406);let n=null;function s(){return n}c(s,"getLastTeamSwitchTimestamp");const r=c(o=>{let{prevTeamId:a,nextTeamId:i,navigationTimestamp:m}=o;return a===i||!m||(n=m),t.S.resolve()},"__WEBPACK_DEFAULT_EXPORT__");Object.defineProperty({lastTeamSwitchTimestamp:null},"lastTeamSwitchTimestamp",{get:()=>n,set:o=>{n=o}})},859310680:(Q,C,e)=>{"use strict";e.d(C,{go:()=>q,xy:()=>N});var t=e(3317091632),n=e(8426925643),s=e(9733150292),r=e(4588514760),d=e(4423055085),o=e(9421999304),a=e(9681594967),i=e(2325478352),m=e(6917917245),l=e(7770551414),_=e(6470070112),v=e(604956646),u=e(796111729),h=e(2250002584),f=e(5057176955),p=e(264208541),E=e(9012396182),g=e(8847766420),A=e(5583430912),y=e(6533394955),T=e(9101533895),M=e(7765212398),O=e(4761125736),I=e(8276911661),D=e(7115106069),P=e(8233775522);function L(){var H,ne;return{hardware_concurrency:(H=window.navigator)===null||H===void 0?void 0:H.hardwareConcurrency,device_memory:(ne=window.navigator)===null||ne===void 0?void 0:ne.deviceMemory}}c(L,"getDeviceStats");function k(){const H=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),ne=(0,p.Hn)(),te=(0,p.Ey)(),le=ne&&te?(ne/te).toPrecision(4):null;return{total_client_redux_size:H,js_heap_used:ne,js_heap_total:te,js_heap_used_percentage:le}}c(k,"getPerfMemoryStats");function G(){const H=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!H)return{};try{return JSON.parse(H)}catch(ne){return(0,u.Wo)().warn("Error parsing appStats in localStorage:",H,ne),{}}}c(G,"getDesktopAppStats");function b(){return{...(0,n.JP)(),num_started_sockets:(0,l.eK)(),frontend_build_type:(0,v.JS)(),object_store_redux_group:(0,m.B9)(i.Wv)}}c(b,"getClientStateTags");function W(H,ne){const te=ne.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),le=Object.values((0,T.DM)(H)).length,he=Object.values((0,T.h3)(H)).length,Ie=Object.values((0,T._B)(H)).length,Ee=Object.values((0,T.FS)(H)).length;return te.close(),{num_channels_in_redux:le,num_all_channels_user_is_in:he,num_dms_user_is_in:Ie,num_group_dms_user_is_in:Ee}}c(W,"getChannelInfoTags");function B(H,ne){const te=ne.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),le=Object.keys((0,M.Hw)(H)||{}).length,he=(0,f.sZ)((0,M.my)(H));return te.close(),{num_drafts:le,drafts_store_size:he}}c(B,"getDraftsInfoTags");function R(H){return{user_locale:(0,o.JK)({teamOrEnterpriseId:(0,g.JY)(H)})}}c(R,"getLocaleTags");function j(H){return{active_collab_instance_count:(0,A.Ui)(),open_quip_embed_instance_count:(0,D.oj)(H).length,canvas_child_window_count:(0,r.CJ)()}}c(j,"getCanvasTags");const w=c(H=>{const ne=["selector_memo"],te={};return ne.forEach(he=>{const Ie=(0,O._Z)(H,he,!1);Ie&&(te[he]=Ie)}),[t.n].forEach(he=>{const Ie=(0,m.B9)(he);Ie!==m.dw.NoGroup&&(te[he]=Ie)}),te},"getExperimentTagsForTraces"),N=c((H,ne)=>{const te=ne??["desktop_flannel_emoji"],le={},he=(0,O.Vs)(H),Ie=Date.now()/1e3,Ee=60*60*24*7*4;for(const[me,ce]of Object.entries(he)){const{trigger:X,schedule_ts:V}=ce;(te.includes(me)||X&&V&&X!=="finished"&&X!=="force_debug"&&V>Ie-Ee)&&(le[me]=ce.group)}return le},"getExperimentTags");function K(H){return{num_members_in_redux:(0,I.I_)(H).length}}c(K,"getMembersTags");function J(H){const ne=(0,s.W6)("lastColdBootTs"),te=(0,P.pp)(H);return{last_cold_boot_ts:ne,boot_type:te}}c(J,"getConfigTags");function Y(){return{is_in_active_huddle:(0,_.NZ)()}}c(Y,"getHuddleTags");function q(H){const ne=(0,y.getStateForClientStore)();if(!ne)return{};const te=H??(0,E.getFocusedWorkspace)(ne),le=(0,y.getStateByTeamId)(te),he=(0,h.F)(),Ie=he.createTrace({traceName:"add_tags:performance_tracing_tags"}),Ee=(0,n.Kh)(te),me=b(),ce=W(le,Ie),X=B(le,Ie),V=L(),x=k(),S=G(),U=R(le),F=K(le),Z=J(le),z=a.qV.getTraceTags(),$=w(le),ee=j(le),de=Y(),ie={...Ee,...me,...ce,...X,...V,...x,...S,...U,...F,...Z,...z,...$,...ee,...de};return he.reportTrace(Ie),ie}c(q,"getPerformanceTracingTags"),(0,d.zv)("performanceTracingTags",q)},3614984351:(Q,C,e)=>{"use strict";e.d(C,{A:()=>ve});var t=e(3134334389),n=e(6422693406),s=e(9733150292),r=e(4979734995),d=e(348699080),o=e(581167618),a=e(9539184071),i=e(2308565927),m=e(6084388622),l=e(735940183);const _=new l.Ay("sign_in");function v(Me){const{isSSB:be,isSSBSignIn:xe,hasPromoOffer:Le,shouldRedirect:Ke,redirectURL:He,loggedInTeams:Ye,entryPoint:Xe=""}=Me;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Le&&!be&&t.createElement("p",{className:"small_bottom_margin"},_.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:Ye})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},Ye.map((et,st)=>t.createElement(m.z9,{key:et.id,"data-qa":`signedin_workspace_link_${st+1}`,className:"team-signin-link small_margin","data-team-id":et.id,autoClogProps:{elementName:"team_domain",elementValue:et.id.toString(),entryPoint:Xe,onClick:{enableClogAction:!0}},href:xe?`${et.url}ssb/signin_redirect`:`${et.url}${Ke?`?redir=${He}`:""}`,"aria-label":_.t("Go to {teamName} on Slack",{teamName:et.name}),type:"outline"},et.name))))}c(v,"SignedInWorkspaces");var u=e(6244014364),h=e(4481313819),f=e(8739505998),p=e(1610251172),E=e(6968387112),g;(function(Me){Me.INVALID_CODE="invalid_pin",Me.RATE_LIMITED="ratelimited",Me.SMS_RATE_LIMITED="two_factor_sms_rate_limited",Me.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",Me.INTERNAL_ERROR="internal_error"})(g||(g={}));var A;(function(Me){Me.SMS="sms",Me.APP="app",Me.EMAIL="email",Me.EMERGENCY="emergency"})(A||(A={}));var y;(function(Me){Me.REQUEST_CODE="request_primary",Me.REQUEST_BACKUP="request_backup",Me.SUBMIT_PRIMARY="submit_primary",Me.SUBMIT_BACKUP="submit_backup",Me.SUBMIT_EMERGENCY="submit_emergency"})(y||(y={}));const T=new l.Ay("sign_in"),M={elementName:"help_button",onClick:{enableClogAction:!0}},O=c(Me=>{const be=Me.action===y.REQUEST_BACKUP||Me.action===y.SUBMIT_BACKUP;return be&&Me.twoFactorBackupType===A.APP||!be&&Me.twoFactorType===A.APP},"currentMethodIsApp"),I=c(Me=>O(Me)?T.t("Problems with your authentication app?"):T.t("Problems with your code?"),"renderProblemsString"),D=c(Me=>O(Me)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},T.t("Check your authentication app for your code.")),t.createElement("p",null,T.rt("<a>Having trouble finding your code?</a>",null,be=>{let{tag:xe,text:Le}=be;return xe==="a"?t.createElement(f.A,{href:`https://${(0,E.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Le):null})),t.createElement("p",null,T.rt("If your app is unavailable, use a <a>backup code</a>.",null,be=>{let{tag:xe,text:Le}=be;return xe==="a"?t.createElement(f.A,{href:`https://${(0,E.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Le):null}))):t.createElement("p",{className:"align_left subtle_silver small"},T.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,be=>{let{tag:xe,text:Le}=be;return xe==="a"?t.createElement(f.A,{href:`https://${(0,E.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Le):null})),"renderProblems");D.displayName="renderProblems";const P=c(Me=>{const[be,xe]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(f.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>xe(!be),autoClogProps:M},t.createElement(p.A,{type:"question-circle"})," ",I(Me)),be&&t.createElement("div",{className:"send_code_block"},Me.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),D(Me))))},"GetHelpButton");P.displayName="GetHelpButton";var L=e(9867500491),k=e(5255740490),G=e(4505564445),b=e(219228829),W=e(3700949338);function B(){return B=Object.assign||function(Me){for(var be=1;be<arguments.length;be++){var xe=arguments[be];for(var Le in xe)Object.prototype.hasOwnProperty.call(xe,Le)&&(Me[Le]=xe[Le])}return Me},B.apply(this,arguments)}c(B,"_extends");let R=c(class extends t.Component{render(){const{ariaDescribedBy:be}=this.props;return t.createElement("div",{className:(0,k.A)("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":be}))}constructor(...be){super(...be),this.onKeyDown=xe=>{switch(xe.keyCode){case G.G_:{xe.currentTarget.value||this.props.moveLeft();return}case G.UQ:return xe.preventDefault(),this.props.moveLeft();case G.LE:return xe.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=xe=>{!(0,W.A)(xe.which)&&xe.charCode&&!(0,b.A)(xe)&&xe.preventDefault()},this.onChange=xe=>{const Le=xe.target.value;(/^[0-9]$/.test(Le)||Le==="")&&this.props.onChange(Le)},this.onPaste=xe=>{xe.preventDefault();const Le=window.clipboardData||xe.clipboardData,Ke=Le.getData("text")||Le.getData("text/plain"),He=/\D/g,Ye=Ke.replace(He,"");this.props.onPaste(Ye)}}},"TwoFactorDigitInput");R.displayName="TwoFactorDigitInput";const j=t.forwardRef((Me,be)=>t.createElement(R,B({},Me,{refToForward:be}))),w=new l.Ay("team_creation");let N=c(class extends t.Component{focusInput(be){const xe=this.inputRefs[be];xe!=null&&xe.current&&xe.current.focus()}moveLeft(be){be<=0||this.focusInput(be-1)}moveRight(be){be>=this.state.values.length-1||this.focusInput(be+1)}isComplete(be){return!be.some(xe=>!xe)}clear(){this.setState(be=>({values:be.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(be,xe){const Le=this.state.values.slice();Le[be]=xe,this.setState(()=>({values:Le}),()=>{xe&&!this.isComplete(this.state.values)&&this.moveRight(be)})}componentDidUpdate(be,xe){var Le;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Le=this.inputRefs[this.state.focusedInputIndex])===null||Le===void 0?void 0:Le.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==be.codeLength&&this.onCodeLengthChange(xe),!this.isComplete(xe.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&xe.values.join("")!==this.state.values.join("")){const Ke=this.state.values.join("");this.props.onFillCode(Ke)}else xe.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(be,xe){return this.state.values.slice(be,xe).map((Le,Ke)=>{const He=Ke+be;return t.createElement(j,{autocomplete:He===0?"one-time-password":"off",key:He,ref:this.inputRefs[He],moveLeft:()=>this.moveLeft(He),moveRight:()=>this.moveRight(He),onChange:Ye=>this.onChange(He,Ye),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:He}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===He,value:this.state.values[He],ariaLabel:w.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:He+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(be){super(be),this.onPaste=xe=>{const Le=this.state.focusedInputIndex;if(Le===-1)return;const Ke=this.state.values.length-Le,He=xe.substring(0,Ke).split(""),Ye=this.state.values.slice();He.forEach((Xe,et)=>{const st=et+Le;Ye[st]=Xe}),this.setState(()=>({values:Ye}),()=>{this.focusInput(Math.min(this.state.values.length-1,Le+He.length))})},this.onCodeLengthChange=xe=>{const Le=(0,L.A)(this.props.codeLength,()=>"");xe.values.forEach((Ke,He)=>{He<Le.length&&(Le[He]=Ke)}),this.setState(()=>({values:Le})),this.inputRefs=Le.map(()=>t.createRef())},this.state={values:(0,L.A)(be.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");N.displayName="TwoFactorCodeInput",N.defaultProps={isNumbersOnly:!0};const K=new l.Ay("sign_in");function J(Me){let be=null;return Me.error===g.SMS_RATE_LIMITED?be=K.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):Me.error===g.INVALID_CODE?be=K.rt("Your two-factor authentication code was incorrect. Please try again."):Me.error===g.RATE_LIMITED?be=K.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):Me.error===g.TOO_MANY_ATTEMPTS?be=K.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):be=K.rt("An unknown error occurred."),t.createElement(o.Ay,{className:"p-enter-code-error__alert",type:o.QE.boxed,icon:"lock-o",level:o.A_.error,align:o.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,be))}c(J,"EnterCodeError");var Y=e(2562405183),q=e(3328068409),H=e(1236965385);function ne(){return ne=Object.assign||function(Me){for(var be=1;be<arguments.length;be++){var xe=arguments[be];for(var Le in xe)Object.prototype.hasOwnProperty.call(xe,Le)&&(Me[Le]=xe[Le])}return Me},ne.apply(this,arguments)}c(ne,"enter_code_root_extends");const te=new l.Ay("sign_in"),le=5*60*1e3,he={elementName:"resend_button",onClick:{enableClogAction:!0}},Ie={elementName:"backup_button",onClick:{enableClogAction:!0}},Ee={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},me="two_factor_form",ce="enter-code",X=6;var V;(function(Me){Me.Request="request_primary",Me.RequestBackup="request_backup",Me.SubmitPrimary="submit_primary",Me.SubmitBackup="submit_backup",Me.SubmitEmergency="submit_emergency",Me.None="none"})(V||(V={}));function x(Me){const[be,xe]=(0,t.useState)(Me.twoFactorType),[Le,Ke]=(0,t.useState)("");var He;const[Ye,Xe]=(0,t.useState)((He=Me.action)!==null&&He!==void 0?He:V.None),[et,st]=(0,t.useState)(!1),[ot,ct]=(0,t.useState)(X),[at,At]=(0,t.useState)(!1),Ct=t.useRef(null),Tt=t.createRef(),Rt=Me.submitOverride,{trackClogAuthRef:It,clogAuthLoginClick:Mt,trackClog:nn}=(0,H.$A)(),Ot=It({eventId:u.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:ce});(0,t.useEffect)(()=>{if(et){var Bt,Ft;if((Bt=nn.current)===null||Bt===void 0||(Ft=Bt.track)===null||Ft===void 0||Ft.call(Bt,{elementName:me,elementValue:Ye}),Mt({eventId:u.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:me,uiPage:ce,elementValue:Ye})(),Rt&&Tt.current)st(!1),At(!0),Rt(Le,Ye,Me.magicLogin).then(()=>{var Sn;(Sn=Ct.current)===null||Sn===void 0||Sn.clear(),At(!1)});else{var un;(un=Tt.current)===null||un===void 0||un.submit()}}},[Ye,et,Tt,nn,Le,Rt,Me.magicLogin,Mt]),(0,t.useEffect)(()=>{(Me.error===g.RATE_LIMITED||Me.error===g.TOO_MANY_ATTEMPTS)&&At(!0),Me.error===g.RATE_LIMITED&&setTimeout(()=>{At(!1)},le)},[Me.error]);const bt=be===A.EMERGENCY,Jt=Ye===V.RequestBackup||Ye===V.SubmitBackup,en=!bt&&(Jt&&Me.twoFactorBackupType===A.SMS||!Jt&&Me.twoFactorType===A.SMS||Me.twoFactorType===A.EMAIL),sn=Me.twoFactorType===A.EMAIL,zt=Me.twoFactorType===A.SMS?te.rt("Send Code to Primary Phone"):te.rt("Use Authentication App"),Yt=Me.twoFactorBackupType===A.SMS?te.rt("Send Code to Backup Phone"):te.rt("Use Backup Authentication App"),hn=c(()=>t.createElement(m.$n,{type:"outline",onClick:()=>{Xe(Jt?V.RequestBackup:V.Request),st(!0)},autoClogProps:he},Jt?te.rt("Resend Code to Backup Phone"):te.rt("Resend Code")),"ResendButton"),Qe=c(()=>t.createElement(m.$n,{type:"outline",onClick:()=>{Xe(Jt?V.Request:V.RequestBackup),st(!0)},autoClogProps:Ie},Jt?zt:Yt),"BackupButton");Qe.displayName="BackupButton";const Wt=c(()=>{let Bt;return bt?Bt=Jt?Yt:zt:Bt=te.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(m.$n,{type:"outline",onClick:()=>{bt?(xe(Me.twoFactorType),ct(X)):(xe(A.EMERGENCY),ct(Me.emergencyCodeLength))},autoClogProps:Ee},Bt)},"EmergencyButton");Wt.displayName="EmergencyButton";const gn=c(()=>Me.twoFactorType===A.EMAIL?Me.isClientApp?te.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):te.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):te.rt("Enter your authentication code"),"GetHeader"),rn=c(()=>{if(bt)return te.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(Jt)return Me.twoFactorBackupType===A.APP?te.rt("Check your authentication app for your code."):te.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName});switch(Me.twoFactorType){case A.APP:return te.rt("Check your authentication app for your code.");case A.EMAIL:return te.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:Me.teamName,emailAddress:Me.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return te.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName})}},"GetSubheader"),ut=c(Bt=>{let Ft;bt?Ft=V.SubmitEmergency:Ft=Jt?V.SubmitBackup:V.SubmitPrimary,Ke(Bt),Xe(Ft),st(!0)},"onFillCode"),Pt=(0,Y.d4)(q.to);return t.createElement(h.A,{eventId:u.EventId.TWO_FACTOR_AUTH,uiPage:ce,trackClogRef:Ot},t.createElement(a.A,{clientTheme:Pt},t.createElement(i.A,{heading:gn(),subHeading:rn(),subHeadingClassName:"p-enter_code_app__view_sub_header"},Me.codeResent&&t.createElement(o.Ay,{className:"p-enter-code-error__alert",type:o.QE.boxed,icon:"paper-plane",level:o.A_.info,align:o.AO.left,"data-qa":"2fa_code_resent_alert"},sn?te.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName,emailAddress:Me.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):te.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName})),Me.error&&t.createElement(J,{error:Me.error}),t.createElement("form",{ref:Tt,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},te.rt("{codeLength}-digit confirmation code",{codeLength:ot,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(N,{ref:Ct,onFillCode:ut,onChange:()=>{},hideDash:!0,error:Me.error,disabled:at,codeLength:ot}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:Me.magicLogin}),Me.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:Me.redir}),t.createElement("input",{type:"hidden",name:"remember",value:Me.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:Me.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:Le}),t.createElement("input",{type:"hidden",name:"2fa_action",value:Ye})))),t.createElement(P,ne({},Me),t.createElement("div",{className:"p-enter-code__button"},en&&t.createElement(hn,null),Me.twoFactorBackupType&&!bt&&t.createElement(Qe,null),!sn&&t.createElement(Wt,null))),Me.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(v,ne({},Me))))))}c(x,"EnterCodeRoot");var S=e(7515251865),U=e(4979382452),F=e(3602521375),Z=e(4636370173),z=e(2465132699),$=e(8523371695),ee=e(3606117573),de=e(8029613601),ie=e(4947127560),ue=e(9310872914),fe=e(6533394955),re=e(3051824855);function _e(){return _e=Object.assign||function(Me){for(var be=1;be<arguments.length;be++){var xe=arguments[be];for(var Le in xe)Object.prototype.hasOwnProperty.call(xe,Le)&&(Me[Le]=xe[Le])}return Me},_e.apply(this,arguments)}c(_e,"enter_2fa_code_modal_extends");const Ue=new l.Ay("2fa_modal"),ye={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},Te={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function ge(Me,be){const xe=(0,s.vS)();if(Me!==void 0){const Ke=xe[Me].two_factor_magic_login;Ke!==void 0&&Ke.token&&(Ke.token=be),(0,s.q9)("pendingAuthTeams",xe)}}c(ge,"updateLocalConfig2fa");function Ae(Me){const be=(0,s.vS)();if(Me!==void 0){const xe=be[Me];xe.two_factor_magic_login=void 0,(0,s.q9)("pendingAuthTeams",be)}}c(Ae,"clearLocalConfig2faMagicLogin");function Re(Me){let{magicLogin:be,teamId:xe,type:Le,backupType:Ke,emergencyLength:He,emailAddress:Ye,teamName:Xe,currentTeamId:et,isOpen:st,closeModal:ot}=Me;const[ct,at]=(0,t.useState)(be),[At,Ct]=(0,t.useState)(null),[Tt,Rt]=(0,t.useState)(!1),It=et?(0,fe.getStoreInstanceByTeamId)(et):void 0,Mt=(0,t.useCallback)((Ot,bt,Jt)=>{const en={magic_token:Jt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:Ot,two_factor_is_backup:bt===y.REQUEST_BACKUP||bt===y.SUBMIT_BACKUP};return bt===y.REQUEST_CODE||bt===y.REQUEST_BACKUP?(en.two_factor_pin="",Rt(!0)):Rt(!1),new n.S(sn=>{(0,r.j)("auth.loginMagic",en,(zt,Yt)=>{if(zt&&Yt.refreshed_magic_login){var hn;at(Yt.refreshed_magic_login),ge(xe,Yt.refreshed_magic_login),!((hn=Yt.reason)===null||hn===void 0)&&hn.match(/^missing_/)||Ct(Yt.reason),sn(zt)}else zt&&Yt.team?(0,ue.A)({currentTeamStore:It,newWorkspaceId:xe,navigateToRouteProps:{routeName:S.o},shouldAutoSignIn:!0}).then(()=>{ot(),sn(zt)}):(Ae(xe),(0,ue.A)({currentTeamStore:It,newWorkspaceId:xe,navigateToRouteProps:{routeName:S.o}}).then(()=>{ot(),sn(zt)}))})})},[xe,It,ot]);(0,d.A)(()=>{Mt("",y.SUBMIT_PRIMARY,ct??"")},[]);const nn=Ue.t("Finish signing into {teamName}",{teamName:Xe,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(U.A,{isOpen:st,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:ot,dataQa:ye.enter2faCodeModal},t.createElement(de.A,null,t.createElement(ie.A,{title:nn})),t.createElement(Z.A,null,t.createElement(z.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(x,_e({},Te,{teamName:Xe,error:At,action:null,magicLogin:ct||"",twoFactorType:Le,twoFactorBackupType:Ke,emailAddress:Ye,codeResent:Tt,redir:"",emergencyCodeLength:He,isClientApp:!0,submitOverride:Mt}))))),t.createElement($.A,null,t.createElement(ee.A,null,t.createElement(F.A,{type:"outline","data-qa":ye.cancelButton},Ue.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"admin"})))))}c(Re,"TwoFAModal"),Re.displayName="TwoFAModal";const Be=(0,re.e)(Re);var ke=e(796111729),se=e(9012396182);function ve(Me,be){const xe=(0,fe.getStateForClientStore)();if(!(0,se.isWorkspacePendingTwoFactor)(xe,Me))return!1;const Le=(0,se.getWorkspacesMeta)(xe),Ke=Le==null?void 0:Le[Me],{two_factor_magic_login:He,name:Ye}=Ke,{token:Xe,user_2fa_type:et,user_2fa_backup_type:st,user_emergency_code_length:ot,email:ct}=He;let at;return be?at=(0,fe.getStoreInstanceByTeamId)(be):at=(0,fe.getStoreInstanceByTeamId)((0,se.getFocusedWorkspace)(xe)),at?(at.dispatch(Be({magicLogin:Xe,teamId:Me,type:et,backupType:st,emergencyLength:ot,teamName:Ye,currentTeamId:be,emailAddress:ct})),!0):((0,ke.Wo)().error("TWO_FACTOR_SSB",`${Me} is pending 2fa, but no store for ${be}, falling back to openSignIn()`),!1)}c(ve,"maybeRenderTwoFactorModal")},4626613428:(Q,C,e)=>{"use strict";e.d(C,{S4:()=>f,Ty:()=>G,ez:()=>h,lf:()=>k});var t=e(6839188756),n=e(2689960678),s=e(1247361162),r=e(8161242485),d=e(9186462665),o=e(2047021170),a=e(7268021173),i=e(4658834077),m=e(6827180593),l=e(772817784),_=e(117899263),v=e(3265910753),u=e(3677514771),h;(function(b){b.HAS_MENTIONS="has_mentions",b.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",b.HAS_THREADS="has_threads",b.IS_ENTERPRISE="is_enterprise",b.IS_EXISTING_JOINER="is_existing_joiner",b.IS_IN_REVERSE_TRIAL="is_in_reverse_trial",b.IS_IN_SOLUTIONS_ONBOARDING_TRIAL="is_in_solutions_onboarding_trial",b.IS_IN_TRIAL="is_in_trial",b.IS_ONBOARDING_COMPLETED="is_onboarding_completed",b.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",b.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(h||(h={}));const f="should_show_ia4_tabs",p={reason:h.IS_ENTERPRISE,shouldShowTabs:!0},E={reason:h.IS_EXISTING_JOINER,shouldShowTabs:!0},g={reason:h.IS_USER_PREF_ENABLED,shouldShowTabs:!0},A={reason:h.HAS_MENTIONS,shouldShowTabs:!0},y={reason:h.HAS_THREADS,shouldShowTabs:!0},T={reason:h.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},M={reason:h.IS_IN_TRIAL,shouldShowTabs:!0},O={reason:h.IS_IN_SOLUTIONS_ONBOARDING_TRIAL,shouldShowTabs:!0},I={reason:h.IS_IN_REVERSE_TRIAL,shouldShowTabs:!0},D={reason:h.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},P={shouldShowTabs:!0,reason:h.IS_OVER_TWO_WEEKS_OLD},L={shouldShowTabs:!1},k=(0,r.Ay)(b=>{const W=(0,u.H7)(b);if((0,t.r7)(W))return p;const R=(0,l.w)(b);if(!(0,_._)(b)&&R)return E;if((0,o.ty)(b,f))return g;var N;if(((N=(0,s.rz)(b))!==null&&N!==void 0?N:n.Ml).length>0)return A;var J;return((J=(0,s.sG)(b))!==null&&J!==void 0?J:n.Ml).length>0?y:(0,d.RU)(b)?T:(0,a.iH)(b)?(0,v.Pz)(b)?O:(0,i.j9)(b)?I:M:(0,o.ty)(b,"onboarding_complete")?D:(0,m.H)(b)>=14?P:L});k.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:b=>{const W=(0,u.H7)(b);if((0,t.r7)(W))return p;const R=(0,l.w)(b);if(!(0,_._)(b)&&R)return E;if((0,o.ty)(b,f))return g;var N;if(((N=(0,s.rz)(b))!==null&&N!==void 0?N:n.Ml).length>0)return A;var J;return((J=(0,s.sG)(b))!==null&&J!==void 0?J:n.Ml).length>0?y:(0,d.RU)(b)?T:(0,a.iH)(b)?(0,v.Pz)(b)?O:(0,i.j9)(b)?I:M:(0,o.ty)(b,"onboarding_complete")?D:(0,m.H)(b)>=14?P:L}};const G=(0,r.Ay)(b=>k(b).shouldShowTabs);G.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:b=>k(b).shouldShowTabs}},3937614491:(Q,C,e)=>{"use strict";e.d(C,{J5:()=>n,ib:()=>t,p8:()=>s});var t;(function(r){r.USER_ENTERED="user-entered",r.ALL="all",r.ALLOW_EMPTY_STRINGS="allow-empty-strings"})(t||(t={}));var n;(function(r){r.String="string",r.Integer="integer",r.Number="number",r.Boolean="boolean",r.Date="slack#/types/date",r.TimeStamp="slack#/types/timestamp",r.UserId="slack#/types/user_id",r.ChannelId="slack#/types/channel_id",r.CanvasId="slack#/types/canvas_id",r.ListId="slack#/types/list_id"})(n||(n={}));var s;(function(r){r.NONE="none",r.SINGLE_SELECT="single-select",r.MULTI_SELECT="multi-select",r.BASIC_MULTI_SELECT="basic-multi-select",r.ATTACHMENT="attachment"})(s||(s={}))},2742325982:(Q,C,e)=>{"use strict";e.d(C,{Bp:()=>Y,DU:()=>v,If:()=>u,JF:()=>E,Lm:()=>J,RT:()=>q,SA:()=>_,WL:()=>I,XZ:()=>h,kv:()=>k,p0:()=>T,qO:()=>m,qk:()=>g,rf:()=>K,uK:()=>H,wP:()=>r,xY:()=>w,yH:()=>R});var t=e(3937614491),n=e(2508519639),s=e(2547625647);const r=[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesBlocks,n.TE.SlackTypesChannelId,n.TE.SlackTypesCanvasId,n.TE.SlackTypesListId,n.TE.SlackTypesDate,n.TE.SlackTypesDynamicPair,n.TE.SlackTypesInteractivity,n.TE.SlackTypesMessageContext,n.TE.SlackTypesTimestamp,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesUsergroupId,n.TE.SlackUserPermission,n.TE.SlackTypesCredentialOauth2,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],d={[n.TE.String]:[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesCanvasId,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesFileId],[n.TE.SlackTypesRichText]:[s.GA,s.aL,s.sD,s.Jt,s.VX,n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesCanvasId,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],[n.TE.SlackTypesExpandedRichText]:[s.GA,s.aL,s.sD,s.Jt,s.VX,n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesRichText,n.TE.SlackTypesExpandedRichText,n.TE.SlackTypesCanvasId,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],[n.TE.SlackTypesBlocks]:[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesChannelId,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTimestamp,n.TE.SlackTypesDate,n.TE.SlackTypesTeamId,n.TE.SlackTypesCurrency],[n.TE.Integer]:[n.TE.Integer,n.TE.Number],[n.TE.Number]:[n.TE.Integer,n.TE.Number],[n.TE.Boolean]:[n.TE.Boolean],[n.TE.SlackTypesChannelId]:[n.TE.SlackTypesChannelId],[n.TE.SlackTypesDate]:[n.TE.SlackTypesDate],[n.TE.SlackTypesDynamicPair]:[n.TE.SlackTypesDynamicPair],[n.TE.SlackTypesInteractivity]:[n.TE.SlackTypesInteractivity],[n.TE.SlackTypesMessageContext]:[n.TE.SlackTypesMessageContext],[n.TE.SlackTypesTimestamp]:[n.TE.SlackTypesTimestamp],[n.TE.SlackTypesUserId]:[n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail],[n.TE.SlackTypesUserEmail]:[n.TE.SlackTypesUserEmail,n.TE.SlackTypesUserId],[n.TE.SlackTypesUsergroupId]:[n.TE.SlackTypesUsergroupId],[n.TE.SlackUserPermission]:[n.TE.SlackUserPermission],[n.TE.SlackTypesCredentialOauth2]:[n.TE.SlackTypesCredentialOauth2],[n.TE.SlackTypesCanvasId]:[n.TE.SlackTypesCanvasId],[n.TE.SlackTypesListId]:[n.TE.SlackTypesListId],[n.TE.SlackTypesTeamId]:[n.TE.SlackTypesTeamId],[n.TE.SlackTypesCurrency]:[n.TE.SlackTypesCurrency]},o=[n.TE.String,n.TE.Integer,n.TE.Number,n.TE.Boolean,n.TE.SlackTypesTimestamp,n.TE.SlackTypesUserId,n.TE.SlackTypesUserEmail,n.TE.SlackTypesMessageContext,n.TE.SlackTypesChannelId,n.TE.SlackTypesCanvasId,n.TE.SlackTypesUsergroupId,n.TE.SlackTypesTeamId,n.TE.SlackTypesFileId],a=[n.TE.String,n.TE.SlackTypesUserId,n.TE.SlackTypesChannelId,n.TE.SlackTypesFileId],i={[n.TE.SlackTypesMessageContext]:["canvas_create","canvas_update_content","channel_canvas_create"]},m=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.String];return!le&&he.includes(te)},"isValidStringInputVariable"),l=c(ne=>{let{type:te,isHidden:le,items:he}=ne;return le?!1:te===RenderedSlackFunctionParameterType.Array?(he==null?void 0:he.type)===RenderedSlackFunctionParameterType.String:d[RenderedSlackFunctionParameterType.String].includes(te)},"isValidDynamicInputVariable"),_=c((ne,te)=>{let{type:le,items:he,isHidden:Ie}=ne;const Ee=d[n.TE.SlackTypesRichText];return Ie||te&&i[le]&&!i[le].includes(te)?!1:le===n.TE.Array&&he?o.includes(he.type):Ee.includes(le)},"isValidRichTextInputVariable"),v=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.Integer];return!le&&he.includes(te)},"isValidIntegerInputVariable"),u=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.Number];return!le&&he.includes(te)},"isValidNumberInputVariable"),h=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.Boolean},"isValidBooleanInputVariable"),f=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesChannelId},"isValidChannelIdInputVariable"),p=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesDynamicPair},"isValidDynamicPairInputVariable"),E=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesDate},"isValidDateInputVariable"),g=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesChannelId},"isValidChannelInputVariable"),A=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesInteractivity},"isValidInteractivityInputVariable"),y=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesMessageContext},"isValidMessageContextInputVariable"),T=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesTimestamp},"isValidTimestampInputVariable"),M=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesUserId];return!le&&he.includes(te)},"isValidUserIdInputVariable"),O=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesUserEmail];return!le&&he.includes(te)},"isValidUserEmailInputVariable"),I=c(ne=>O(ne)||M(ne),"isValidUserTypeVariable"),D=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesCanvasId];return!le&&he.includes(te)},"isValidCanvasTypeVariable"),P=c(ne=>{let{type:te,isHidden:le}=ne;const he=d[n.TE.SlackTypesListId];return!le&&he.includes(te)},"isValidListTypeVariable"),L=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesCurrency},"isValidCurrencyVariable"),k=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesUsergroupId},"isValidUserGroupIdInputVariable"),G=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackUserPermission},"isValidUserPermissionInputVariable"),b=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesCredentialOauth2},"isValidCredentialOauth2Variable"),W=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesTeamId},"isValidTeamIdInputVariable"),B=c(ne=>{let{type:te,isHidden:le}=ne;return!le&&te===n.TE.SlackTypesFileId},"isValidFileIdInputVariable"),R=c((ne,te)=>{var le;return ne.isHidden?!1:((le=te.items)===null||le===void 0?void 0:le.type)==="slack#/types/mixed"?ne.type==="array":ne.type==="array"?!ne.items||ne.items.type==="slack#/types/mixed"?!0:J(ne.items,te.items):J(ne,te.items)},"isValidArrayInputVariable"),j=c((ne,te)=>ne.type!==RenderedSlackFunctionParameterType.Object||ne.isHidden?!1:(te.required||[]).every(he=>{var Ie;const Ee=(Ie=te.properties)===null||Ie===void 0?void 0:Ie[he];return!ne.objectProperties||!Ee?!1:ne.objectProperties.some(me=>{const ce=me.name===he,X=me.type===Ee.type;return ce&&X})}),"isValidObjectInputVariable"),w=c((ne,te)=>{var le;return ne.type!==n.TE.Object||ne.isHidden?!1:Boolean((le=ne.objectProperties)===null||le===void 0?void 0:le.some(he=>te.type===n.TE.Array?R(he,te):J(he,te)))},"isObjectVariableWithValidProperties"),N=c((ne,te)=>ne.isHidden||ne.type!==n.TE.Array||!ne.items||te.selection_type!==t.p8.MULTI_SELECT?!1:ne.items.type===te.type&&a.includes(ne.items.type),"isValidArrayVariableWithMultiSelectType"),K=c(ne=>{let{type:te,isHidden:le,items:he}=ne;return le||te!==n.TE.Array||!he?!1:a.includes(he.type)},"isArrayVariableWithItemTypeCoercibleToString");function J(ne,te){if(ne.isHidden)return!1;switch(te.type){case n.TE.Boolean:return h(ne);case n.TE.Integer:return v(ne);case n.TE.Number:return u(ne);case n.TE.String:return m(ne);case n.TE.SlackTypesBlocks:case n.TE.SlackTypesRichText:case n.TE.SlackTypesExpandedRichText:return _(ne);case n.TE.SlackTypesChannelId:return f(ne);case n.TE.SlackTypesDate:return E(ne);case n.TE.SlackTypesDynamicPair:return p(ne);case n.TE.SlackTypesCredentialOauth2:return b(ne);case n.TE.SlackTypesInteractivity:return A(ne);case n.TE.SlackTypesMessageContext:return y(ne);case n.TE.SlackTypesTimestamp:return T(ne);case n.TE.SlackTypesUserEmail:case n.TE.SlackTypesUserId:return I(ne);case n.TE.SlackTypesCurrency:return L(ne);case n.TE.SlackTypesUsergroupId:return k(ne);case n.TE.SlackUserPermission:return G(ne);case n.TE.SlackTypesTeamId:return W(ne);case n.TE.SlackTypesFileId:return B(ne);default:return ne.type===te.type}}c(J,"isValidVariableForInputParameter");const Y=c(ne=>{let{type:te,isHidden:le,source:he,sourceReference:Ie}=ne;return g({type:te,isHidden:le})&&he==="trigger"&&Ie==="{{data.channel_id}}"},"isChannelWhereWorkflowRanVariable"),q=c((ne,te)=>{if(ne.isHidden||!(te!=null&&te.type))return!1;switch(te.type){case n.TE.Integer:return v(ne);case n.TE.Number:return u(ne);case n.TE.Boolean:return h(ne);case n.TE.SlackTypesUserId:return I(ne)||N(ne,te);case n.TE.SlackTypesChannelId:return f(ne)||N(ne,te);case n.TE.SlackTypesCanvasId:return D(ne)||N(ne,te);case n.TE.SlackTypesListId:return P(ne)||N(ne,te);case n.TE.String:return m(ne)||K(ne);case n.TE.SlackTypesDate:return E(ne);case n.TE.SlackTypesTimestamp:return T(ne);case n.TE.SlackTypesRichText:return _(ne);default:return ne.type===te.type}},"isValidDynamicInputKeyValueOptionVariable"),H=c((ne,te)=>ne.type!==n.TE.Object||ne.isHidden||!ne.objectProperties?!1:Boolean(ne.objectProperties.some(le=>le.type===n.TE.Array?N(le,te):q(le,te))),"isObjectVariableWithValidDynamicOptionType")},4459152581:(Q,C,e)=>{"use strict";e.d(C,{$:()=>t});const t={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created"}},3126601217:(Q,C,e)=>{"use strict";e.d(C,{A4:()=>a,BI:()=>s,O4:()=>i,QW:()=>d,cS:()=>o,uS:()=>r,vh:()=>n});var t=e(9552526132);const n={...t.M,HermesWebhook:"hermes_webhook",HermesScheduled:"hermes_scheduled"},s=c(m=>m.type===n.Shortcut,"isShortcutTrigger"),r=c(m=>m.type===n.Scheduled||m.type===n.HermesScheduled,"isScheduledTrigger"),d=c(m=>m.type===n.Event,"isNativeEventTrigger"),o=c(m=>m.type===n.Webhook||m.type===n.HermesWebhook,"isWebhookTrigger"),a=c(m=>m.type===n.External,"isExternalEventTrigger"),i=c(m=>m.type===n.Service,"isServiceTrigger")},2814678982:(Q,C,e)=>{"use strict";e.d(C,{A:()=>_});var t=e(3134334389),n=e(4332857818),s=e(6087439017),r=e(2664504268);const d=(0,s.A)(),o=d.import("blots/block/embed"),a={},i=c((v,u)=>{a[v]=u},"addEmbedElement"),m=c(v=>a[v]||null,"getEmbedElementById");let l=c(class vo extends o{static create(u,h){const f=super.create(),p={...u};if(!p.embedId){const g=(0,r.A)();p.embedId=`doc-embed-${g}`}const E=t.createElement(h,p);return n.render(E,f),vo.setPropsOnDOM(f,p),i(p.embedId,E),f}static value(u){return vo.getPropsFromDOM(u)}index(u,h){return this.domNode.contains(u)?h:-1}static formats(u){return vo.getPropsFromDOM(u)}static updateComponent(u,h){const f=u.dataset,p=f&&f.embedId,E=typeof p=="string"&&m(p);if(E&&E){const g=t.cloneElement(E,h);n.render(g,u),vo.setPropsOnDOM(u,h)}}static getPropsFromDOM(u){return{...u.dataset}}static setPropsOnDOM(u,h){var f,p;Object.keys(h).forEach(E=>{E!=="store"&&(u.dataset[E]=h[E])}),!((f=u==null?void 0:u.firstChild)===null||f===void 0||(p=f.dataset)===null||p===void 0)&&p.isPrivate&&(u.dataset.isPrivate=!0)}static addClassesToContainer(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];u.classList.add(...f)}static registerEmbeds(u){Array.isArray(u)?u.forEach(h=>d.register(h)):typeof u=="function"&&d.register(u)}constructor(u){super(u)}},"DocsBlockEmbed");l.tagName="docsblockembed";const _=l},7757435370:(Q,C,e)=>{"use strict";e.d(C,{A:()=>i,U:()=>a});var t=e(6087439017),n=e(4505564445),s=e(2814678982);const r=(0,t.A)(),d=r.import("parchment"),o=r.import("core/module");function a(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const l=Array.from(document.querySelectorAll('docsblockembed[data-is-selected="true"]'));for(let _=0,v=l.length;_<v;_++){const u=r.find(l[_]);s.A.updateComponent(u.domNode,{isSelected:!1})}m&&(m!=null&&m.domNode)&&m.domNode.tagName&&m.domNode.tagName==="DOCSBLOCKEMBED"&&s.A.updateComponent(m.domNode,{isSelected:!0})}c(a,"handleSelectedStates");let i=c(class extends o{listen(){this.quill.keyboard.addBinding({key:n.n6},this.handleImageSelectOnDown),this.quill.keyboard.addBinding({key:n.i7},this.handleImageSelectOnUp),this.quill.keyboard.addBinding({key:n.UQ},this.handleImageSelectOnLeft),this.quill.keyboard.addBinding({key:n.LE},this.handleImageSelectOnRight),(document.querySelector(".p-client_container")||this.quill.root).addEventListener("click",this.onImageClick),document.addEventListener("keydown",this.muteKeyEventsOnImageEmbed)}muteKeyEventsOnImageEmbed(l){const _=this.quill.getSelection();if(_){const v=this.quill.getFormat(_),u=!!document.querySelector('docsblockembed[data-is-selected="true"]');if(v&&v.imageSrc||u){if(l.keyCode===n.n6||l.keyCode===n.i7||l.keyCode===n.UQ||l.keyCode===n.LE||l.keyCode===n._f)return l.keyCode===n._f&&(a(),this.quill.setSelection(0,0)),!0;l.preventDefault()}}return!0}handleImageSelectOnDown(){return setTimeout(()=>{const l=this.quill.getSelection(),[_]=this.quill.getLine(l.index);_&&_.domNode&&_.domNode.tagName&&_.domNode.tagName==="DOCSBLOCKEMBED"?a(_):a()},0),!0}handleImageSelectOnUp(){return setTimeout(()=>{const l=this.quill.getSelection(),[_]=l?this.quill.getLine(l.index):[];_&&_.domNode&&_.domNode.tagName&&_.domNode.tagName==="DOCSBLOCKEMBED"?a(_):a()},0),!0}handleImageSelectOnLeft(l){return setTimeout(()=>{const _=this.quill.getSelection();let[v]=this.quill.getLeaf(_.index);l.index===_.index&&([v]=this.quill.getLeaf(_.index-1)),v&&v.prev&&v.prev.domNode&&v.prev.domNode.tagName&&v.prev.domNode.tagName==="DOCSBLOCKEMBED"&&([v]=this.quill.getLeaf(_.index-1)),v&&v.domNode&&v.domNode.tagName&&v.domNode.tagName==="DOCSBLOCKEMBED"?a(v):a()},0),!0}handleImageSelectOnRight(l){return setTimeout(()=>{const _=this.quill.getSelection();let[v]=this.quill.getLeaf(_.index);v&&v.next&&v.next.domNode&&v.next.domNode.tagName&&v.next.domNode.tagName==="DOCSBLOCKEMBED"?[v]=this.quill.getLeaf(_.index):this.quill.setSelection(_.index),v&&v.parent&&v.parent.next&&v.parent.next.domNode&&v.parent.next.domNode.tagName&&v.parent.next.domNode.tagName!=="DOCSBLOCKEMBED"&&([v]=this.quill.getLeaf(_.index),this.quill.setSelection(_.index)),_.index===l.index&&v&&v.domNode&&v.domNode.tagName&&v.domNode.tagName==="DOCSBLOCKEMBED"&&([v]=this.quill.getLeaf(_.index+1),this.quill.setSelection(_.index+1)),v&&v.domNode&&v.domNode.tagName&&v.domNode.tagName==="DOCSBLOCKEMBED"?a(v):a()},0),!0}onImageClick(l){if(l.target.classList.contains("p-docs_image--selected")||l.target.dataset.isSelected==="true")return!0;if(Array.from(document.querySelectorAll(".p-docs_image")).forEach(v=>{const u=d.find(v.parentNode);u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"&&s.A.updateComponent(u.domNode,{isSelected:!1})}),l.target.classList.contains("p-docs_image_container")||l.target.classList.contains("p-docs_image")){const v=l.target.classList.contains("p-docs_image_container")?l.target:l.target.parentNode,u=d.find(v),h=this.quill.getIndex(u);return this.quill.setSelection(h,0),u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"&&s.A.updateComponent(u.domNode,{isSelected:!0}),!0}return!0}constructor(l,_){super(l,_),this.quill=l,this.onImageClick=this.onImageClick.bind(this),this.muteKeyEventsOnImageEmbed=this.muteKeyEventsOnImageEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"DocsImageModule")},7968796288:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(2664504268),n=e(8481284327);const r=c(()=>(0,n.A)(()=>(0,t.A)()),"useUniqueId")},7798793495:(Q,C,e)=>{"use strict";e.d(C,{G:()=>n});var t=e(9139930183);const n=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});n.meta={name:"createReducer",key:"createReducerisStateReducer"}},6087439017:(Q,C,e)=>{"use strict";e.d(C,{A:()=>r});var t=e(6857395710),n=e.n(t);const r=c(()=>n(),"getQuill")},9121100949:(Q,C,e)=>{"use strict";e.d(C,{$D:()=>l,OR:()=>o,RC:()=>u,Ts:()=>i,WU:()=>v,gN:()=>a,jG:()=>_,jr:()=>h,jt:()=>d,ke:()=>t,qD:()=>m,r1:()=>r,ts:()=>n,u1:()=>s});const t="viewLayoutSidebarWidthIntent",n="viewLayoutSidebarWidthMode",s="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",d="viewLayoutSidebarExtraWideWidthIntent",o="viewLayoutSidebarExtraWideWidthMode",a="viewLayoutSecondaryWidthIntent",i="viewLayoutSecondaryWidthMode",m="viewLayoutSplitWidthIntent",l="viewLayoutSplitWidthMode",_="viewLayoutIsSidebarVisible",v="viewLayoutIsWorkspaceSwitcherVisible",u="viewLayoutCompactModeEnabled",h="viewLayoutLastSidebarWidth"}},Q=>{var C=c(t=>Q(Q.s=t),"__webpack_exec__");Q.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>C(6260576033));var e=Q.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.bc55c01a21c15fdcf978.min.js.map